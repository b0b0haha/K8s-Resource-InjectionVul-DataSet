From 06052ec3642500ba05291ff866fbbebdb17d5f28 Mon Sep 17 00:00:00 2001
From: romain <rtribotte@users.noreply.github.com>
Date: Wed, 16 Apr 2025 10:48:04 +0200
Subject: [PATCH] review: wording

---
 integration/simple_test.go               | 2 +-
 pkg/server/server_entrypoint_tcp.go      | 8 ++++----
 pkg/server/server_entrypoint_tcp_test.go | 4 ++--
 3 files changed, 7 insertions(+), 7 deletions(-)

diff --git a/integration/simple_test.go b/integration/simple_test.go
index 1c627d508c..b48e410810 100644
--- a/integration/simple_test.go
+++ b/integration/simple_test.go
@@ -1386,7 +1386,7 @@ func (s *SimpleSuite) TestDenyFragment() {
 	assert.Equal(s.T(), http.StatusBadRequest, resp.StatusCode)
 }
 
-func (s *SimpleSuite) TestCleanPath() {
+func (s *SimpleSuite) TestSanitizePath() {
 	s.createComposeProject("base")
 
 	s.composeUp()
diff --git a/pkg/server/server_entrypoint_tcp.go b/pkg/server/server_entrypoint_tcp.go
index 964a46bbda..b3b42edb75 100644
--- a/pkg/server/server_entrypoint_tcp.go
+++ b/pkg/server/server_entrypoint_tcp.go
@@ -572,9 +572,9 @@ func createHTTPServer(ctx context.Context, ln net.Listener, configuration *stati
 	}
 
 	if configuration.HTTP.SanitizePath != nil && *configuration.HTTP.SanitizePath {
-		// cleanPath is used to clean the URL path by removing /../, /./ and duplicate slash sequences,
+		// sanitizePath is used to clean the URL path by removing /../, /./ and duplicate slash sequences,
 		// to make sure the path is interpreted by the backends as it is evaluated inside rule matchers.
-		handler = cleanPath(handler)
+		handler = sanitizePath(handler)
 	}
 
 	if configuration.HTTP.EncodeQuerySemicolons {
@@ -721,9 +721,9 @@ func denyFragment(h http.Handler) http.Handler {
 	})
 }
 
-// cleanPath removes the "..", "." and duplicate slash segments from the URL.
+// sanitizePath removes the "..", "." and duplicate slash segments from the URL.
 // It cleans the request URL Path and RawPath, and updates the request URI.
-func cleanPath(h http.Handler) http.Handler {
+func sanitizePath(h http.Handler) http.Handler {
 	return http.HandlerFunc(func(rw http.ResponseWriter, req *http.Request) {
 		r2 := new(http.Request)
 		*r2 = *req
diff --git a/pkg/server/server_entrypoint_tcp_test.go b/pkg/server/server_entrypoint_tcp_test.go
index f845479f04..98066a4ca4 100644
--- a/pkg/server/server_entrypoint_tcp_test.go
+++ b/pkg/server/server_entrypoint_tcp_test.go
@@ -384,7 +384,7 @@ func TestKeepAliveH2c(t *testing.T) {
 	require.Contains(t, err.Error(), "use of closed network connection")
 }
 
-func TestCleanPath(t *testing.T) {
+func TestSanitizePath(t *testing.T) {
 	tests := []struct {
 		path     string
 		expected string
@@ -412,7 +412,7 @@ func TestCleanPath(t *testing.T) {
 			t.Parallel()
 
 			var callCount int
-			clean := cleanPath(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
+			clean := sanitizePath(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
 				callCount++
 				assert.Equal(t, test.expected, r.URL.Path)
 			}))
