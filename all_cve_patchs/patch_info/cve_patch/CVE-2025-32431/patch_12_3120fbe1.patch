From 3120fbe1d5b64f93bd6319f66fcc3adbaf8c5e27 Mon Sep 17 00:00:00 2001
From: Romain <rtribotte@users.noreply.github.com>
Date: Thu, 17 Apr 2025 09:13:37 +0200
Subject: [PATCH] Apply suggestions from code review

Co-authored-by: Emile Vauge <6207234+emilevauge@users.noreply.github.com>
---
 docs/content/migration/v2.md        | 7 +++++--
 docs/content/routing/entrypoints.md | 4 ++--
 2 files changed, 7 insertions(+), 4 deletions(-)

diff --git a/docs/content/migration/v2.md b/docs/content/migration/v2.md
index 6a723c5717..0d00079fa2 100644
--- a/docs/content/migration/v2.md
+++ b/docs/content/migration/v2.md
@@ -661,8 +661,11 @@ Please refer to the Forwarded headers [documentation](../routing/entrypoints.md#
 
 ### Request Path Sanitization
 
-In `v2.11.23`, the incoming request path is now cleaned before being used to match the router rules and sent to the backends.
+Since `v2.11.23`, the incoming request path is now cleaned before being used to match the router rules and sent to the backends.
 Any `/../`, `/./` or duplicate slash segments in the request path is interpreted and/or collapsed.
 
 If you want to disable this behavior, you can set the [`sanitizePath` option](../routing/entrypoints.md#sanitizepath) to `false` in the entryPoint HTTP configuration.
-This can be useful when dealing with legacy clients that are not url encoding data in the request path.
+This can be useful when dealing with legacy clients that are not url-encoding data in the request path. For example, as base64 uses the “/” character internally, if it's not url encoded, it can lead to unsafe routing when the `sanitizePath` option is set to `false`.
+
+!!! warning "Security"
+Setting the `sanitizePath` option to `false` is not safe. Ensure every request is properly url encoded instead.
diff --git a/docs/content/routing/entrypoints.md b/docs/content/routing/entrypoints.md
index a49b320fb2..c8d7ed0ecf 100644
--- a/docs/content/routing/entrypoints.md
+++ b/docs/content/routing/entrypoints.md
@@ -1000,14 +1000,14 @@ _Optional, Default=true_
 
 The `sanitizePath` option defines whether to enable the request path sanitization.
 When disabled, the incoming request path is passed to the backend as is.
-This can be useful when dealing with legacy clients that are not url-encoding data in the request path.
+This can be useful when dealing with legacy clients that are not url-encoding data in the request path. For example, as base64 uses the “/” character internally, if it's not url encoded, it can lead to unsafe routing when the `sanitizePath` option is set to `false`.
 
 !!! warning "Security"
 
     When disabling path sanitization, it is then possible that the path interpretation, 
     notably within the match evaluation of the router rules,
     differs from the backend server evaluation.
-    However, this option is safe to use if no path matchers are involved in the router rules.
+    Setting the sanitizePath option to false is not safe. Ensure every request is properly url encoded instead.
 
 ```yaml tab="File (YAML)"
 entryPoints:
