From a457da364a6d237427a366400641acb354d50856 Mon Sep 17 00:00:00 2001
From: Alex Collins <alexec@users.noreply.github.com>
Date: Mon, 2 Aug 2021 15:19:21 -0700
Subject: [PATCH 001/137] docs: Document running at massive scale. Fixes #6443
 (#6459)

* docs: Document running at massive scale. Fixes #6443

Signed-off-by: Alex Collins <alex_collins@intuit.com>

* Update docs/running-at-massive-scale.md

Co-authored-by: Michael Crenshaw <michael@crenshaw.dev>

* Update docs/running-at-massive-scale.md

Co-authored-by: Yuan Tang <terrytangyuan@gmail.com>

* Update running-at-massive-scale.md

Co-authored-by: Michael Crenshaw <michael@crenshaw.dev>
Co-authored-by: Yuan Tang <terrytangyuan@gmail.com>
---
 docs/running-at-massive-scale.md | 38 ++++++++++++++++++++++++++++++++
 mkdocs.yml                       |  1 +
 2 files changed, 39 insertions(+)
 create mode 100644 docs/running-at-massive-scale.md

diff --git a/docs/running-at-massive-scale.md b/docs/running-at-massive-scale.md
new file mode 100644
index 000000000000..6bdf4861d358
--- /dev/null
+++ b/docs/running-at-massive-scale.md
@@ -0,0 +1,38 @@
+# Running At Massive Scale
+
+Argo Workflows is capable of running 1,000s of workflows a day, each with 10,000s of nodes. But you'll need to do some
+work to achieve this.
+
+## Run The Latest Version
+
+You must be running at least v3.1 for several recommendations to work. Upgrade to the very latest patch. Performance
+fixes often come in patches.
+
+## Test Your Cluster Before You Install Argo Workflows
+
+You'll need a big cluster, with a big Kubernetes master.
+
+Users often encounter problems with Kubernetes needing to be configured for the scale. E.g. Kubernetes API server being
+too small. We recommend you test your cluster to make sure it can run the number of pods they need, even before
+installing Argo. Create pods at the rate you expect that it'll be created in production. Make sure Kubernetes can keep
+up with requests to delete pods at the same rate.
+
+You'll need to GC data quickly. The less data that Kubernetes and Argo deal with, the less work they need to do. Use
+pod GC and workflow GC to achieve this.
+
+## Overwhelmed Kubernetes API
+
+Where Argo has a lot of work to do, the Kubernetes API can be overwhelmed. There are several strategies to reduce this:
+
+* Use the Emissary executor (>= v3.1). This does not make any Kubernetes API requests (except for resources template).
+* Limit the number of concurrent workflows using parallelism.
+* Rate-limit pod creation [configuration](workflow-controller-configmap.yaml) (>= v3.1).
+* Set `DEFAULT_REQUEUE_TIME=1m` (see [docs](https://github.com/argoproj/argo-workflows/blob/master/docs/environment-variables.md)).
+
+## Overwhelmed Database
+
+If you're running workflows with many nodes, you'll probably be offloading data to a database. Offloaded data is kept
+for 5m. You can reduce the number of records create by setting `DEFAULT_REQUEUE_TIME=1m`. This will slow reconciliation,
+but will suit workflows where nodes run for over 1m.
+
+
diff --git a/mkdocs.yml b/mkdocs.yml
index ef227d407362..d26e235c6ebb 100644
--- a/mkdocs.yml
+++ b/mkdocs.yml
@@ -73,6 +73,7 @@ nav:
           - resuming-workflow-via-automation.md
           - async-pattern.md
           - security.md
+          - running-at-massive-scale.md
       - ide-setup.md
       - Examples: examples/README.md
       - Field Reference: fields.md

From 94244243ce07693317abdb250868d6a089111fa9 Mon Sep 17 00:00:00 2001
From: Geoffrey Huntley <ghuntley@ghuntley.com>
Date: Tue, 3 Aug 2021 08:21:57 +1000
Subject: [PATCH 002/137] docs(users): add gitpod (#6466)

* docs(users): add gitpod

Signed-off-by: Geoffrey Huntley <ghuntley@ghuntley.com>

* Update USERS.md

Co-authored-by: Alex Collins <alexec@users.noreply.github.com>
---
 USERS.md | 1 +
 1 file changed, 1 insertion(+)

diff --git a/USERS.md b/USERS.md
index 3502679bcabb..7de81b1d3abf 100644
--- a/USERS.md
+++ b/USERS.md
@@ -60,6 +60,7 @@ Currently, the following organizations are **officially** using Argo Workflows:
 1. [Galixir](https://www.galixir.com/)
 1. [Gardener](https://gardener.cloud/)
 1. [GitHub](https://github.com/)
+1. [Gitpod](https://www.gitpod.io/)
 1. [Gladly](https://gladly.com/)
 1. [Glovo](https://www.glovoapp.com)
 1. [Google](https://www.google.com/intl/en/about/our-company/)

From 7f2c58972177c5b7cfdfb6bc8d9ba4189a9f45d0 Mon Sep 17 00:00:00 2001
From: Alex Collins <alexec@users.noreply.github.com>
Date: Mon, 2 Aug 2021 21:13:00 -0700
Subject: [PATCH 003/137] feat!: Upgrade to Golang 1.16. Fixes #5563 (#6471)

* feat!: Upgrade to Golang 1.16. Fixes #5563

Signed-off-by: Alex Collins <alex_collins@intuit.com>

* make lint

Signed-off-by: Alex Collins <alex_collins@intuit.com>
---
 .github/workflows/ci-build.yaml | 6 +++---
 .github/workflows/gh-pages.yaml | 2 +-
 .github/workflows/release.yaml  | 2 +-
 Dockerfile                      | 2 +-
 Dockerfile.windows              | 2 +-
 Makefile                        | 2 +-
 go.mod                          | 2 +-
 go.sum                          | 2 --
 8 files changed, 9 insertions(+), 11 deletions(-)

diff --git a/.github/workflows/ci-build.yaml b/.github/workflows/ci-build.yaml
index a8d4b7e50742..9875a75618dd 100644
--- a/.github/workflows/ci-build.yaml
+++ b/.github/workflows/ci-build.yaml
@@ -19,7 +19,7 @@ jobs:
       - uses: actions/checkout@v2
       - uses: actions/setup-go@v2
         with:
-          go-version: "1.15.7"
+          go-version: "1.16"
       - uses: actions/cache@v2
         with:
           path: /home/runner/.cache/go-build
@@ -75,7 +75,7 @@ jobs:
       - uses: actions/checkout@v2
       - uses: actions/setup-go@v2
         with:
-          go-version: "1.15.7"
+          go-version: "1.16"
       - uses: actions/cache@v2
         with:
           path: /home/runner/.cache/go-build
@@ -133,7 +133,7 @@ jobs:
       - uses: actions/checkout@v2
       - uses: actions/setup-go@v2
         with:
-          go-version: "1.15.7"
+          go-version: "1.16"
       - uses: actions/cache@v2
         with:
           path: /home/runner/.cache/go-build
diff --git a/.github/workflows/gh-pages.yaml b/.github/workflows/gh-pages.yaml
index 4fd8e87ecda6..14ff964d6cbb 100644
--- a/.github/workflows/gh-pages.yaml
+++ b/.github/workflows/gh-pages.yaml
@@ -17,7 +17,7 @@ jobs:
       - name: Setup Golang
         uses: actions/setup-go@v1
         with:
-          go-version: '1.15.7'
+          go-version: '1.16'
       - name: build
         run: |
           pip install mkdocs==1.0.4 mkdocs_material==4.1.1
diff --git a/.github/workflows/release.yaml b/.github/workflows/release.yaml
index 0d4a283f0cef..95756d1f3f3a 100644
--- a/.github/workflows/release.yaml
+++ b/.github/workflows/release.yaml
@@ -364,7 +364,7 @@ jobs:
           key: ${{ runner.os }}-node-dep-v1-${{ hashFiles('**/yarn.lock') }}
       - uses: actions/setup-go@v2
         with:
-          go-version: "1.15.7"
+          go-version: "1.16"
       - uses: actions/cache@v2
         with:
           path: /home/runner/.cache/go-build
diff --git a/Dockerfile b/Dockerfile
index a3fcf13cf427..ad2866e0a570 100644
--- a/Dockerfile
+++ b/Dockerfile
@@ -6,7 +6,7 @@ ARG DOCKER_VERSION=18.09.1
 ARG KUBECTL_VERSION=1.19.6
 ARG JQ_VERSION=1.6
 
-FROM docker.io/library/golang:1.15.7 as builder
+FROM docker.io/library/golang:1.16 as builder
 
 RUN apt-get update && apt-get --no-install-recommends install -y \
     git \
diff --git a/Dockerfile.windows b/Dockerfile.windows
index f3d793d596bf..d4facccaf425 100644
--- a/Dockerfile.windows
+++ b/Dockerfile.windows
@@ -8,7 +8,7 @@ ARG IMAGE_OS_VERSION=1809
 
 # had issues with official golange image for windows so I'm using plain servercore
 FROM mcr.microsoft.com/windows/servercore:${IMAGE_OS_VERSION} as builder
-ENV GOLANG_VERSION=1.15.7
+ENV GOLANG_VERSION=1.16
 SHELL ["powershell", "-Command"]
 
 # install chocolatey package manager
diff --git a/Makefile b/Makefile
index be34314cf008..0b1a6a0aee0f 100644
--- a/Makefile
+++ b/Makefile
@@ -444,7 +444,7 @@ dist/argosay:
 
 .PHONY: pull-images
 pull-images:
-	docker pull golang:1.15.7
+	docker pull golang:1.16
 	docker pull debian:10.7-slim
 	docker pull mysql:8
 	docker pull argoproj/argosay:v1
diff --git a/go.mod b/go.mod
index 0f3d07cbde92..d88d3a24643d 100644
--- a/go.mod
+++ b/go.mod
@@ -1,6 +1,6 @@
 module github.com/argoproj/argo-workflows/v3
 
-go 1.15
+go 1.16
 
 require (
 	cloud.google.com/go v0.55.0 // indirect
diff --git a/go.sum b/go.sum
index c5344c9023ff..ff9eba297bfd 100644
--- a/go.sum
+++ b/go.sum
@@ -286,7 +286,6 @@ github.com/fatih/structs v1.1.0 h1:Q7juDM0QtcnhCpeyLGQKyg4TOIghuNXrkL32pHAUMxo=
 github.com/fatih/structs v1.1.0/go.mod h1:9NiDSp5zOcgEDl+j00MP/WkGVPOlPRLejGD8Ga6PJ7M=
 github.com/felixge/httpsnoop v1.0.1 h1:lvB5Jl89CsZtGIWuTcDM1E/vkVs49/Ml7JJe07l8SPQ=
 github.com/felixge/httpsnoop v1.0.1/go.mod h1:m8KPJKqk1gH5J9DgRY2ASl2lWCfGKXixSwevea8zH2U=
-github.com/flynn/go-shlex v0.0.0-20150515145356-3f9db97f8568 h1:BHsljHzVlRcyQhjrss6TZTdY2VfCqZPbv5k3iBFa2ZQ=
 github.com/flynn/go-shlex v0.0.0-20150515145356-3f9db97f8568/go.mod h1:xEzjJPgXI435gkrCt3MPfRiAkVrwSbHsst4LCFVfpJc=
 github.com/form3tech-oss/jwt-go v3.2.2+incompatible h1:TcekIExNqud5crz4xD2pavyTgWiPvpYe4Xau31I0PRk=
 github.com/form3tech-oss/jwt-go v3.2.2+incompatible/go.mod h1:pbq4aXjuKjdthFRnoDwaVPLA+WlJuPGy+QneDUgJi2k=
@@ -643,7 +642,6 @@ github.com/jtolds/gls v4.20.0+incompatible h1:xdiiI2gbIgH/gLH7ADydsJ1uDOEzR8yvV7
 github.com/jtolds/gls v4.20.0+incompatible/go.mod h1:QJZ7F/aHp+rZTRtaJ1ow/lLfFfVYBRgL+9YlvaHOwJU=
 github.com/julienschmidt/httprouter v1.2.0/go.mod h1:SYymIcj16QtmaHHD7aYtjjsJG7VTCxuUUipMqKk8s4w=
 github.com/julienschmidt/httprouter v1.3.0/go.mod h1:JR6WtHb+2LUe8TCKY3cZOxFyyO8IZAc4RVcycCCAKdM=
-github.com/k0kubun/colorstring v0.0.0-20150214042306-9440f1994b88 h1:uC1QfSlInpQF+M0ao65imhwqKnz3Q2z/d8PWZRMQvDM=
 github.com/k0kubun/colorstring v0.0.0-20150214042306-9440f1994b88/go.mod h1:3w7q1U84EfirKl04SVQ/s7nPm1ZPhiXd34z40TNz36k=
 github.com/karrick/godirwalk v1.7.8/go.mod h1:2c9FRhkDxdIbgkOnCEvnSWs71Bhugbl46shStcFDJ34=
 github.com/karrick/godirwalk v1.8.0/go.mod h1:H5KPZjojv4lE+QYImBI8xVtrBRgYrIVsaRPx4tDPEn4=

From 7ef0f4750d7da4bb326fb0dab25f176db412993b Mon Sep 17 00:00:00 2001
From: Simon Behar <simbeh7@gmail.com>
Date: Tue, 3 Aug 2021 08:45:06 -0700
Subject: [PATCH 004/137] fix: Consider onExit children of Retry nodes (#6451)

Signed-off-by: Simon Behar <simbeh7@gmail.com>
---
 workflow/controller/dag.go               |   6 +-
 workflow/controller/exit_handler_test.go | 196 +++++++++++++++++++++++
 workflow/controller/operator.go          |  18 +++
 3 files changed, 215 insertions(+), 5 deletions(-)

diff --git a/workflow/controller/dag.go b/workflow/controller/dag.go
index 94000f9d408a..a3d467013707 100644
--- a/workflow/controller/dag.go
+++ b/workflow/controller/dag.go
@@ -165,11 +165,7 @@ func (d *dagContext) assessDAGPhase(targetTasks []string, nodes wfv1.Nodes) wfv1
 		}
 
 		if node.Type == wfv1.NodeTypeRetry {
-			// A fulfilled Retry node will always reflect the status of its last child node, so its individual attempts don't interest us.
-			// To resume the traversal, we look at the children of the last child node.
-			if childNode := getChildNodeIndex(&node, nodes, -1); childNode != nil {
-				uniqueQueue.add(generatePhaseNodes(childNode.Children, branchPhase)...)
-			}
+			uniqueQueue.add(generatePhaseNodes(getRetryNodeChildrenIds(&node, nodes), branchPhase)...)
 		} else {
 			uniqueQueue.add(generatePhaseNodes(node.Children, branchPhase)...)
 		}
diff --git a/workflow/controller/exit_handler_test.go b/workflow/controller/exit_handler_test.go
index 05877593977d..9e39042dbaa2 100644
--- a/workflow/controller/exit_handler_test.go
+++ b/workflow/controller/exit_handler_test.go
@@ -491,3 +491,199 @@ func TestDAGOnExit(t *testing.T) {
 	}
 	assert.True(t, onExitNodeIsPresent)
 }
+
+var dagOnExitAndRetryStrategy = `
+apiVersion: argoproj.io/v1alpha1
+kind: Workflow
+metadata:
+  name: test-workflow-with-retry-strategy8h899
+spec:
+  entrypoint: WORKFLOW
+  templates:
+  - name: WORKFLOW
+    steps:
+    - - name: Execute
+        template: DAG
+  - container:
+      args:
+      - -c
+      - set -xe && ls -ltr /
+      command:
+      - sh
+      image: alpine:latest
+    inputs:
+      parameters:
+      - name: IMAGE
+    name: LinuxExitHandler
+  - container:
+      args:
+      - -c
+      - set -xe && ls -ltr /
+      command:
+      - sh
+      image: alpine:latest
+    name: LinuxJobBase
+    retryStrategy:
+      limit: "3"
+      retryPolicy: OnError
+  - dag:
+      tasks:
+      - hooks:
+          exit:
+            arguments:
+              parameters:
+              - name: IMAGE
+                value: alpine:latest
+            template: LinuxExitHandler
+        name: Python2Compile
+        template: LinuxJobBase
+      - depends: Python2Compile.Succeeded
+        hooks:
+          exit:
+            arguments:
+              parameters:
+              - name: IMAGE
+                value: alpine:latest
+            template: LinuxExitHandler
+        name: DependencyTesting
+        template: LinuxJobBase
+    name: DAG
+status:
+  nodes:
+    test-workflow-with-retry-strategy8h899:
+      children:
+      - test-workflow-with-retry-strategy8h899-1555287363
+      displayName: test-workflow-with-retry-strategy8h899
+      finishedAt: "2021-07-29T16:16:47Z"
+      id: test-workflow-with-retry-strategy8h899
+      name: test-workflow-with-retry-strategy8h899
+      outboundNodes:
+      - test-workflow-with-retry-strategy8h899-4242067666
+      phase: Running
+      startedAt: "2021-07-29T16:16:07Z"
+      templateName: WORKFLOW
+      templateScope: local/test-workflow-with-retry-strategy8h899
+      type: Steps
+    test-workflow-with-retry-strategy8h899-379180998:
+      boundaryID: test-workflow-with-retry-strategy8h899-3078096906
+      displayName: DependencyTesting(0)
+      finishedAt: "2021-07-29T16:16:23Z"
+      id: test-workflow-with-retry-strategy8h899-379180998
+      name: test-workflow-with-retry-strategy8h899[0].Execute.DependencyTesting(0)
+      phase: Succeeded
+      startedAt: "2021-07-29T16:16:17Z"
+      templateName: LinuxJobBase
+      templateScope: local/test-workflow-with-retry-strategy8h899
+      type: Pod
+    test-workflow-with-retry-strategy8h899-961031240:
+      boundaryID: test-workflow-with-retry-strategy8h899-3078096906
+      children:
+      - test-workflow-with-retry-strategy8h899-3783705931
+      displayName: Python2Compile(0)
+      finishedAt: "2021-07-29T16:16:13Z"
+      id: test-workflow-with-retry-strategy8h899-961031240
+      name: test-workflow-with-retry-strategy8h899[0].Execute.Python2Compile(0)
+      phase: Succeeded
+      startedAt: "2021-07-29T16:16:07Z"
+      templateName: LinuxJobBase
+      templateScope: local/test-workflow-with-retry-strategy8h899
+      type: Pod
+    test-workflow-with-retry-strategy8h899-1555287363:
+      boundaryID: test-workflow-with-retry-strategy8h899
+      children:
+      - test-workflow-with-retry-strategy8h899-3078096906
+      displayName: '[0]'
+      id: test-workflow-with-retry-strategy8h899-1555287363
+      name: test-workflow-with-retry-strategy8h899[0]
+      phase: Running
+      startedAt: "2021-07-29T16:16:07Z"
+      templateScope: local/test-workflow-with-retry-strategy8h899
+      type: StepGroup
+    test-workflow-with-retry-strategy8h899-3078096906:
+      boundaryID: test-workflow-with-retry-strategy8h899
+      children:
+      - test-workflow-with-retry-strategy8h899-3585476721
+      displayName: Execute
+      id: test-workflow-with-retry-strategy8h899-3078096906
+      name: test-workflow-with-retry-strategy8h899[0].Execute
+      outboundNodes:
+      - test-workflow-with-retry-strategy8h899-4242067666
+      phase: Running
+      startedAt: "2021-07-29T16:16:07Z"
+      templateName: DAG
+      templateScope: local/test-workflow-with-retry-strategy8h899
+      type: DAG
+    test-workflow-with-retry-strategy8h899-3585476721:
+      boundaryID: test-workflow-with-retry-strategy8h899-3078096906
+      children:
+      - test-workflow-with-retry-strategy8h899-961031240
+      - test-workflow-with-retry-strategy8h899-3756356520
+      displayName: Python2Compile
+      finishedAt: "2021-07-29T16:16:17Z"
+      id: test-workflow-with-retry-strategy8h899-3585476721
+      name: test-workflow-with-retry-strategy8h899[0].Execute.Python2Compile
+      phase: Succeeded
+      startedAt: "2021-07-29T16:16:07Z"
+      templateName: LinuxJobBase
+      templateScope: local/test-workflow-with-retry-strategy8h899
+      type: Retry
+    test-workflow-with-retry-strategy8h899-3756356520:
+      boundaryID: test-workflow-with-retry-strategy8h899-3078096906
+      displayName: Python2Compile.onExit
+      finishedAt: "2021-07-29T16:16:33Z"
+      id: test-workflow-with-retry-strategy8h899-3756356520
+      inputs:
+        parameters:
+        - name: IMAGE
+          value: alpine:latest
+      name: test-workflow-with-retry-strategy8h899[0].Execute.Python2Compile.onExit
+      phase: Succeeded
+      startedAt: "2021-07-29T16:16:27Z"
+      templateName: LinuxExitHandler
+      templateScope: local/test-workflow-with-retry-strategy8h899
+      type: Pod
+    test-workflow-with-retry-strategy8h899-3783705931:
+      boundaryID: test-workflow-with-retry-strategy8h899-3078096906
+      children:
+      - test-workflow-with-retry-strategy8h899-379180998
+      - test-workflow-with-retry-strategy8h899-4242067666
+      displayName: DependencyTesting
+      finishedAt: "2021-07-29T16:16:27Z"
+      id: test-workflow-with-retry-strategy8h899-3783705931
+      name: test-workflow-with-retry-strategy8h899[0].Execute.DependencyTesting
+      phase: Succeeded
+      startedAt: "2021-07-29T16:16:17Z"
+      templateName: LinuxJobBase
+      templateScope: local/test-workflow-with-retry-strategy8h899
+      type: Retry
+    test-workflow-with-retry-strategy8h899-4242067666:
+      boundaryID: test-workflow-with-retry-strategy8h899-3078096906
+      displayName: DependencyTesting.onExit
+      finishedAt: "2021-07-29T16:16:43Z"
+      id: test-workflow-with-retry-strategy8h899-4242067666
+      inputs:
+        parameters:
+        - name: IMAGE
+          value: alpine:latest
+      name: test-workflow-with-retry-strategy8h899[0].Execute.DependencyTesting.onExit
+      phase: Succeeded
+      startedAt: "2021-07-29T16:16:27Z"
+      templateName: LinuxExitHandler
+      templateScope: local/test-workflow-with-retry-strategy8h899
+      type: Pod
+  phase: Running
+  startedAt: "2021-07-29T16:16:07Z"
+`
+
+func TestDagOnExitAndRetryStrategy(t *testing.T) {
+	wf := wfv1.MustUnmarshalWorkflow(dagOnExitAndRetryStrategy)
+	cancel, controller := newController(wf)
+	defer cancel()
+
+	ctx := context.Background()
+	woc := newWorkflowOperationCtx(wf, controller)
+
+	woc.operate(ctx)
+
+	assert.Equal(t, wfv1.WorkflowSucceeded, woc.wf.Status.Phase)
+}
diff --git a/workflow/controller/operator.go b/workflow/controller/operator.go
index 67c3a1833528..589b3b51527c 100644
--- a/workflow/controller/operator.go
+++ b/workflow/controller/operator.go
@@ -1529,6 +1529,24 @@ func getChildNodeIndex(node *wfv1.NodeStatus, nodes wfv1.Nodes, index int) *wfv1
 	return &lastChildNode
 }
 
+func getRetryNodeChildrenIds(node *wfv1.NodeStatus, nodes wfv1.Nodes) []string {
+	// A fulfilled Retry node will always reflect the status of its last child node, so its individual attempts don't interest us.
+	// To resume the traversal, we look at the children of the last child node and of any on exit nodes.
+	var childrenIds []string
+	for i := -1; i >= -len(node.Children); i-- {
+		node := getChildNodeIndex(node, nodes, i)
+		if node == nil {
+			continue
+		}
+		if strings.HasSuffix(node.Name, ".onExit") {
+			childrenIds = append(childrenIds, node.ID)
+		} else if len(node.Children) > 0 {
+			childrenIds = append(childrenIds, node.Children...)
+		}
+	}
+	return childrenIds
+}
+
 func buildRetryStrategyLocalScope(node *wfv1.NodeStatus, nodes wfv1.Nodes) map[string]interface{} {
 	localScope := make(map[string]interface{})
 

From ec9641531c8283a4e6fcd684c8aecce92c6e14b7 Mon Sep 17 00:00:00 2001
From: Alex Collins <alexec@users.noreply.github.com>
Date: Tue, 3 Aug 2021 08:48:47 -0700
Subject: [PATCH 005/137] feat(controller): Inline templates. Closes #5105
 (#5749)

---
 api/jsonschema/schema.json                    |    8 +
 api/openapi-spec/swagger.json                 |    8 +
 docs/fields.md                                |   88 ++
 docs/templates.md                             |   23 +
 .../dag-inline-clusterworkflowtemplate.yaml   |   18 +
 examples/dag-inline-cronworkflow.yaml         |   13 +
 examples/dag-inline-workflow.yaml             |   22 +
 examples/dag-inline-workflowtemplate.yaml     |   18 +
 examples/steps-inline-workflow.yaml           |   21 +
 .../argoproj.io_clusterworkflowtemplates.yaml |    2 +
 .../crds/full/argoproj.io_cronworkflows.yaml  |    2 +
 .../base/crds/full/argoproj.io_workflows.yaml |    5 +
 .../full/argoproj.io_workflowtasksets.yaml    |    1 +
 .../full/argoproj.io_workflowtemplates.yaml   |    2 +
 mkdocs.yml                                    |    2 +
 pkg/apis/workflow/v1alpha1/common.go          |    6 +-
 pkg/apis/workflow/v1alpha1/generated.pb.go    | 1194 +++++++++--------
 pkg/apis/workflow/v1alpha1/generated.proto    |    6 +
 .../workflow/v1alpha1/openapi_generated.go    |   16 +-
 pkg/apis/workflow/v1alpha1/workflow_types.go  |   18 +
 .../v1alpha1/zz_generated.deepcopy.go         |   10 +
 workflow/common/util.go                       |   12 +-
 workflow/common/util_test.go                  |   15 +
 workflow/templateresolution/context.go        |   15 +-
 24 files changed, 966 insertions(+), 559 deletions(-)
 create mode 100644 docs/templates.md
 create mode 100644 examples/dag-inline-clusterworkflowtemplate.yaml
 create mode 100644 examples/dag-inline-cronworkflow.yaml
 create mode 100644 examples/dag-inline-workflow.yaml
 create mode 100644 examples/dag-inline-workflowtemplate.yaml
 create mode 100644 examples/steps-inline-workflow.yaml

diff --git a/api/jsonschema/schema.json b/api/jsonschema/schema.json
index 7b7d87a7255e..117fb32d5ed9 100644
--- a/api/jsonschema/schema.json
+++ b/api/jsonschema/schema.json
@@ -3826,6 +3826,10 @@
           "description": "Hooks hold the lifecycle hook which is invoked at lifecycle of task, irrespective of the success, failure, or error status of the primary task",
           "type": "object"
         },
+        "inline": {
+          "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.Template",
+          "description": "Inline is the template. Template must be empty if this is declared (and vice-versa)."
+        },
         "name": {
           "description": "Name is the name of the target",
           "type": "string"
@@ -6425,6 +6429,10 @@
           "description": "Hooks holds the lifecycle hook which is invoked at lifecycle of step, irrespective of the success, failure, or error status of the primary step",
           "type": "object"
         },
+        "inline": {
+          "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.Template",
+          "description": "Inline is the template. Template must be empty if this is declared (and vice-versa)."
+        },
         "name": {
           "description": "Name of the step",
           "type": "string"
diff --git a/api/openapi-spec/swagger.json b/api/openapi-spec/swagger.json
index b19e882335ea..fa847a9d4a13 100644
--- a/api/openapi-spec/swagger.json
+++ b/api/openapi-spec/swagger.json
@@ -7259,6 +7259,10 @@
             "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.LifecycleHook"
           }
         },
+        "inline": {
+          "description": "Inline is the template. Template must be empty if this is declared (and vice-versa).",
+          "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.Template"
+        },
         "name": {
           "description": "Name is the name of the target",
           "type": "string"
@@ -9851,6 +9855,10 @@
             "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.LifecycleHook"
           }
         },
+        "inline": {
+          "description": "Inline is the template. Template must be empty if this is declared (and vice-versa).",
+          "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.Template"
+        },
         "name": {
           "description": "Name of the step",
           "type": "string"
diff --git a/docs/fields.md b/docs/fields.md
index 47fdd7885453..0eb8d36ad86b 100644
--- a/docs/fields.md
+++ b/docs/fields.md
@@ -94,6 +94,8 @@ Workflow is the definition of a workflow resource
 
 - [`dag-enhanced-depends.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-enhanced-depends.yaml)
 
+- [`dag-inline-workflow.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-inline-workflow.yaml)
+
 - [`dag-multiroot.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-multiroot.yaml)
 
 - [`dag-nested.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-nested.yaml)
@@ -282,6 +284,8 @@ Workflow is the definition of a workflow resource
 
 - [`step-level-timeout.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/step-level-timeout.yaml)
 
+- [`steps-inline-workflow.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/steps-inline-workflow.yaml)
+
 - [`steps.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/steps.yaml)
 
 - [`suspend-template-outputs.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/suspend-template-outputs.yaml)
@@ -347,6 +351,8 @@ CronWorkflow is the definition of a scheduled workflow resource
 - [`cron-backfill.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/cron-backfill.yaml)
 
 - [`cron-workflow.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/cron-workflow.yaml)
+
+- [`dag-inline-cronworkflow.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-inline-cronworkflow.yaml)
 </details>
 
 ### Fields
@@ -370,6 +376,8 @@ WorkflowTemplate is the definition of a workflow template resource
 
 - [`cron-backfill.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/cron-backfill.yaml)
 
+- [`dag-inline-workflowtemplate.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-inline-workflowtemplate.yaml)
+
 - [`event-consumer-workflowtemplate.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/workflow-event-binding/event-consumer-workflowtemplate.yaml)
 
 - [`templates.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/workflow-template/templates.yaml)
@@ -483,6 +491,14 @@ WorkflowSpec is the specification of a Workflow.
 
 - [`dag-enhanced-depends.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-enhanced-depends.yaml)
 
+- [`dag-inline-clusterworkflowtemplate.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-inline-clusterworkflowtemplate.yaml)
+
+- [`dag-inline-cronworkflow.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-inline-cronworkflow.yaml)
+
+- [`dag-inline-workflow.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-inline-workflow.yaml)
+
+- [`dag-inline-workflowtemplate.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-inline-workflowtemplate.yaml)
+
 - [`dag-multiroot.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-multiroot.yaml)
 
 - [`dag-nested.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-nested.yaml)
@@ -671,6 +687,8 @@ WorkflowSpec is the specification of a Workflow.
 
 - [`step-level-timeout.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/step-level-timeout.yaml)
 
+- [`steps-inline-workflow.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/steps-inline-workflow.yaml)
+
 - [`steps.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/steps.yaml)
 
 - [`suspend-template-outputs.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/suspend-template-outputs.yaml)
@@ -893,6 +911,14 @@ CronWorkflowSpec is the specification of a CronWorkflow
 
 - [`dag-enhanced-depends.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-enhanced-depends.yaml)
 
+- [`dag-inline-clusterworkflowtemplate.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-inline-clusterworkflowtemplate.yaml)
+
+- [`dag-inline-cronworkflow.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-inline-cronworkflow.yaml)
+
+- [`dag-inline-workflow.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-inline-workflow.yaml)
+
+- [`dag-inline-workflowtemplate.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-inline-workflowtemplate.yaml)
+
 - [`dag-multiroot.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-multiroot.yaml)
 
 - [`dag-nested.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-nested.yaml)
@@ -1081,6 +1107,8 @@ CronWorkflowSpec is the specification of a CronWorkflow
 
 - [`step-level-timeout.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/step-level-timeout.yaml)
 
+- [`steps-inline-workflow.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/steps-inline-workflow.yaml)
+
 - [`steps.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/steps.yaml)
 
 - [`suspend-template-outputs.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/suspend-template-outputs.yaml)
@@ -1260,6 +1288,14 @@ WorkflowTemplateSpec is a spec of WorkflowTemplate.
 
 - [`dag-enhanced-depends.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-enhanced-depends.yaml)
 
+- [`dag-inline-clusterworkflowtemplate.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-inline-clusterworkflowtemplate.yaml)
+
+- [`dag-inline-cronworkflow.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-inline-cronworkflow.yaml)
+
+- [`dag-inline-workflow.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-inline-workflow.yaml)
+
+- [`dag-inline-workflowtemplate.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-inline-workflowtemplate.yaml)
+
 - [`dag-multiroot.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-multiroot.yaml)
 
 - [`dag-nested.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-nested.yaml)
@@ -1448,6 +1484,8 @@ WorkflowTemplateSpec is a spec of WorkflowTemplate.
 
 - [`step-level-timeout.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/step-level-timeout.yaml)
 
+- [`steps-inline-workflow.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/steps-inline-workflow.yaml)
+
 - [`steps.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/steps.yaml)
 
 - [`suspend-template-outputs.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/suspend-template-outputs.yaml)
@@ -1987,6 +2025,8 @@ WorkflowTemplateRef is a reference to a WorkflowTemplate resource.
 
 - [`cron-backfill.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/cron-backfill.yaml)
 
+- [`dag-inline-cronworkflow.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-inline-cronworkflow.yaml)
+
 - [`event-consumer-workfloweventbinding.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/workflow-event-binding/event-consumer-workfloweventbinding.yaml)
 
 - [`workflow-of-workflows.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/workflow-of-workflows.yaml)
@@ -2638,6 +2678,12 @@ DAGTemplate is a template subtype for directed acyclic graph templates
 
 - [`dag-enhanced-depends.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-enhanced-depends.yaml)
 
+- [`dag-inline-clusterworkflowtemplate.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-inline-clusterworkflowtemplate.yaml)
+
+- [`dag-inline-workflow.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-inline-workflow.yaml)
+
+- [`dag-inline-workflowtemplate.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-inline-workflowtemplate.yaml)
+
 - [`dag-multiroot.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-multiroot.yaml)
 
 - [`dag-nested.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-nested.yaml)
@@ -3254,6 +3300,8 @@ WorkflowStep is a reference to a template to execute in a series of step
 
 - [`step-level-timeout.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/step-level-timeout.yaml)
 
+- [`steps-inline-workflow.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/steps-inline-workflow.yaml)
+
 - [`steps.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/steps.yaml)
 
 - [`suspend-template-outputs.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/suspend-template-outputs.yaml)
@@ -3295,6 +3343,7 @@ WorkflowStep is a reference to a template to execute in a series of step
 |`arguments`|[`Arguments`](#arguments)|Arguments hold arguments to the template|
 |`continueOn`|[`ContinueOn`](#continueon)|ContinueOn makes argo to proceed with the following step even if this step fails. Errors and Failed states can be specified|
 |`hooks`|[`LifecycleHook`](#lifecyclehook)|Hooks holds the lifecycle hook which is invoked at lifecycle of step, irrespective of the success, failure, or error status of the primary step|
+|`inline`|[`Template`](#template)|Inline is the template. Template must be empty if this is declared (and vice-versa).|
 |`name`|`string`|Name of the step|
 |~`onExit`~|~`string`~|~OnExit is a template reference which is invoked at the end of the template, irrespective of the success, failure, or error of the primary template.~ DEPRECATED: Use Hooks[exit].Template instead.|
 |`template`|`string`|Template is the name of the template to execute as the step|
@@ -3798,6 +3847,8 @@ MetricLabel is a single label for a prometheus metric
 
 - [`dag-custom-metrics.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-custom-metrics.yaml)
 
+- [`dag-inline-workflow.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-inline-workflow.yaml)
+
 - [`data-transformations.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/data-transformations.yaml)
 
 - [`exit-handler-with-artifacts.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/exit-handler-with-artifacts.yaml)
@@ -3826,6 +3877,8 @@ MetricLabel is a single label for a prometheus metric
 
 - [`selected-executor-workflow.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/selected-executor-workflow.yaml)
 
+- [`steps-inline-workflow.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/steps-inline-workflow.yaml)
+
 - [`template-defaults.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/template-defaults.yaml)
 </details>
 
@@ -3931,6 +3984,12 @@ DAGTask represents a node in the graph during DAG execution
 
 - [`dag-enhanced-depends.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-enhanced-depends.yaml)
 
+- [`dag-inline-clusterworkflowtemplate.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-inline-clusterworkflowtemplate.yaml)
+
+- [`dag-inline-workflow.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-inline-workflow.yaml)
+
+- [`dag-inline-workflowtemplate.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-inline-workflowtemplate.yaml)
+
 - [`dag-multiroot.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-multiroot.yaml)
 
 - [`dag-nested.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-nested.yaml)
@@ -3970,6 +4029,7 @@ DAGTask represents a node in the graph during DAG execution
 |`dependencies`|`Array< string >`|Dependencies are name of other targets which this depends on|
 |`depends`|`string`|Depends are name of other targets which this depends on|
 |`hooks`|[`LifecycleHook`](#lifecyclehook)|Hooks hold the lifecycle hook which is invoked at lifecycle of task, irrespective of the success, failure, or error status of the primary task|
+|`inline`|[`Template`](#template)|Inline is the template. Template must be empty if this is declared (and vice-versa).|
 |`name`|`string`|Name is the name of the target|
 |~`onExit`~|~`string`~|~OnExit is a template reference which is invoked at the end of the template, irrespective of the success, failure, or error of the primary template.~ DEPRECATED: Use Hooks[exit].Template instead.|
 |`template`|`string`|Name of template to execute|
@@ -4612,6 +4672,14 @@ ObjectMeta is metadata that all persisted resources must have, which includes al
 
 - [`dag-enhanced-depends.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-enhanced-depends.yaml)
 
+- [`dag-inline-clusterworkflowtemplate.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-inline-clusterworkflowtemplate.yaml)
+
+- [`dag-inline-cronworkflow.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-inline-cronworkflow.yaml)
+
+- [`dag-inline-workflow.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-inline-workflow.yaml)
+
+- [`dag-inline-workflowtemplate.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-inline-workflowtemplate.yaml)
+
 - [`dag-multiroot.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-multiroot.yaml)
 
 - [`dag-nested.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-nested.yaml)
@@ -4800,6 +4868,8 @@ ObjectMeta is metadata that all persisted resources must have, which includes al
 
 - [`step-level-timeout.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/step-level-timeout.yaml)
 
+- [`steps-inline-workflow.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/steps-inline-workflow.yaml)
+
 - [`steps.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/steps.yaml)
 
 - [`suspend-template-outputs.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/suspend-template-outputs.yaml)
@@ -5210,6 +5280,12 @@ A single application container that you want to run within a pod.
 
 - [`dag-enhanced-depends.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-enhanced-depends.yaml)
 
+- [`dag-inline-clusterworkflowtemplate.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-inline-clusterworkflowtemplate.yaml)
+
+- [`dag-inline-workflow.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-inline-workflow.yaml)
+
+- [`dag-inline-workflowtemplate.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-inline-workflowtemplate.yaml)
+
 - [`dag-multiroot.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-multiroot.yaml)
 
 - [`dag-nested.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-nested.yaml)
@@ -5370,6 +5446,8 @@ A single application container that you want to run within a pod.
 
 - [`step-level-timeout.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/step-level-timeout.yaml)
 
+- [`steps-inline-workflow.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/steps-inline-workflow.yaml)
+
 - [`steps.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/steps.yaml)
 
 - [`suspend-template-outputs.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/suspend-template-outputs.yaml)
@@ -5875,6 +5953,14 @@ PersistentVolumeClaimSpec describes the common attributes of storage devices and
 
 - [`dag-enhanced-depends.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-enhanced-depends.yaml)
 
+- [`dag-inline-clusterworkflowtemplate.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-inline-clusterworkflowtemplate.yaml)
+
+- [`dag-inline-cronworkflow.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-inline-cronworkflow.yaml)
+
+- [`dag-inline-workflow.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-inline-workflow.yaml)
+
+- [`dag-inline-workflowtemplate.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-inline-workflowtemplate.yaml)
+
 - [`dag-multiroot.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-multiroot.yaml)
 
 - [`dag-nested.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-nested.yaml)
@@ -6063,6 +6149,8 @@ PersistentVolumeClaimSpec describes the common attributes of storage devices and
 
 - [`step-level-timeout.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/step-level-timeout.yaml)
 
+- [`steps-inline-workflow.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/steps-inline-workflow.yaml)
+
 - [`steps.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/steps.yaml)
 
 - [`suspend-template-outputs.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/suspend-template-outputs.yaml)
diff --git a/docs/templates.md b/docs/templates.md
new file mode 100644
index 000000000000..8286ed5fb140
--- /dev/null
+++ b/docs/templates.md
@@ -0,0 +1,23 @@
+# Templates
+
+See [core concepts](core-concepts.md) for DAG, steps, container templates. 
+
+## Container Set Template
+
+See [container set template](container-set-template.md).
+
+## Inline Templates
+
+![alpha](assets/alpha.svg)
+
+> v3.2 and after
+
+You can inline other templates within DAG and steps.
+
+Examples:
+
+* [DAG](examples/dag-inline-workflow.yaml)
+* [Steps](examples/steps-inline-workflow.yaml)
+
+!!! Warning
+    You can only inline once. Inlining a DAG within a DAG will not work.
diff --git a/examples/dag-inline-clusterworkflowtemplate.yaml b/examples/dag-inline-clusterworkflowtemplate.yaml
new file mode 100644
index 000000000000..fa0a10a23d90
--- /dev/null
+++ b/examples/dag-inline-clusterworkflowtemplate.yaml
@@ -0,0 +1,18 @@
+apiVersion: argoproj.io/v1alpha1
+kind: ClusterWorkflowTemplate
+metadata:
+  name: dag-inline
+  annotations:
+    workflows.argoproj.io/description: |
+      This examples demonstrates running a DAG with inline templates.
+    workflows.argoproj.io/version: ">= 3.2.0"
+spec:
+  entrypoint: main
+  templates:
+    - name: main
+      dag:
+        tasks:
+          - name: a
+            inline:
+              container:
+                image: argoproj/argosay:v2
\ No newline at end of file
diff --git a/examples/dag-inline-cronworkflow.yaml b/examples/dag-inline-cronworkflow.yaml
new file mode 100644
index 000000000000..4bd0e3710b81
--- /dev/null
+++ b/examples/dag-inline-cronworkflow.yaml
@@ -0,0 +1,13 @@
+apiVersion: argoproj.io/v1alpha1
+kind: CronWorkflow
+metadata:
+  name: dag-inline
+  annotations:
+    workflows.argoproj.io/description: |
+      This example demonstrates running cron workflow that has a DAG with inline templates.
+    workflows.argoproj.io/version: ">= 3.2.0"
+spec:
+  schedule: "*/5 * * * *"
+  workflowSpec:
+    workflowTemplateRef:
+      name: dag-inline
\ No newline at end of file
diff --git a/examples/dag-inline-workflow.yaml b/examples/dag-inline-workflow.yaml
new file mode 100644
index 000000000000..332d3bb980f9
--- /dev/null
+++ b/examples/dag-inline-workflow.yaml
@@ -0,0 +1,22 @@
+apiVersion: argoproj.io/v1alpha1
+kind: Workflow
+metadata:
+  generateName: dag-inline-
+  labels:
+    workflows.argoproj.io/test: "true"
+  annotations:
+    workflows.argoproj.io/description: |
+      This example demonstrates running a DAG with inline templates.
+    workflows.argoproj.io/version: ">= 3.2.0"
+    workflows.argoproj.io/verify.py: |
+      assert status["phase"] == "Succeeded"
+spec:
+  entrypoint: main
+  templates:
+    - name: main
+      dag:
+        tasks:
+          - name: a
+            inline:
+              container:
+                image: argoproj/argosay:v2
\ No newline at end of file
diff --git a/examples/dag-inline-workflowtemplate.yaml b/examples/dag-inline-workflowtemplate.yaml
new file mode 100644
index 000000000000..95f3e9c10e5f
--- /dev/null
+++ b/examples/dag-inline-workflowtemplate.yaml
@@ -0,0 +1,18 @@
+apiVersion: argoproj.io/v1alpha1
+kind: WorkflowTemplate
+metadata:
+  name: dag-inline
+  annotations:
+    workflows.argoproj.io/description: |
+      This example demonstrates running a DAG with inline templates.
+    workflows.argoproj.io/version: ">= 3.2.0"
+spec:
+  entrypoint: main
+  templates:
+    - name: main
+      dag:
+        tasks:
+          - name: a
+            inline:
+              container:
+                image: argoproj/argosay:v2
\ No newline at end of file
diff --git a/examples/steps-inline-workflow.yaml b/examples/steps-inline-workflow.yaml
new file mode 100644
index 000000000000..ce3b8c8da22c
--- /dev/null
+++ b/examples/steps-inline-workflow.yaml
@@ -0,0 +1,21 @@
+apiVersion: argoproj.io/v1alpha1
+kind: Workflow
+metadata:
+  generateName: steps-inline-
+  labels:
+    workflows.argoproj.io/test: "true"
+  annotations:
+    workflows.argoproj.io/description: |
+      This workflow demonstrates running a steps with inline templates.
+    workflows.argoproj.io/version: ">= 3.2.0"
+    workflows.argoproj.io/verify.py: |
+      assert status["phase"] == "Succeeded"
+spec:
+  entrypoint: main
+  templates:
+    - name: main
+      steps:
+        - - name: a
+            inline:
+              container:
+                image: argoproj/argosay:v2
\ No newline at end of file
diff --git a/manifests/base/crds/full/argoproj.io_clusterworkflowtemplates.yaml b/manifests/base/crds/full/argoproj.io_clusterworkflowtemplates.yaml
index df8150a5ecd6..58caa4b31879 100644
--- a/manifests/base/crds/full/argoproj.io_clusterworkflowtemplates.yaml
+++ b/manifests/base/crds/full/argoproj.io_clusterworkflowtemplates.yaml
@@ -3387,6 +3387,7 @@ spec:
                                 - template
                                 type: object
                               type: object
+                            inline: {}
                             name:
                               type: string
                             onExit:
@@ -9538,6 +9539,7 @@ spec:
                                   - template
                                   type: object
                                 type: object
+                              inline: {}
                               name:
                                 type: string
                               onExit:
diff --git a/manifests/base/crds/full/argoproj.io_cronworkflows.yaml b/manifests/base/crds/full/argoproj.io_cronworkflows.yaml
index 7b6f02c9eaca..3664c55f9575 100644
--- a/manifests/base/crds/full/argoproj.io_cronworkflows.yaml
+++ b/manifests/base/crds/full/argoproj.io_cronworkflows.yaml
@@ -3408,6 +3408,7 @@ spec:
                                     - template
                                     type: object
                                   type: object
+                                inline: {}
                                 name:
                                   type: string
                                 onExit:
@@ -9559,6 +9560,7 @@ spec:
                                       - template
                                       type: object
                                     type: object
+                                  inline: {}
                                   name:
                                     type: string
                                   onExit:
diff --git a/manifests/base/crds/full/argoproj.io_workflows.yaml b/manifests/base/crds/full/argoproj.io_workflows.yaml
index 6b949599a23d..6fd921301a23 100644
--- a/manifests/base/crds/full/argoproj.io_workflows.yaml
+++ b/manifests/base/crds/full/argoproj.io_workflows.yaml
@@ -3396,6 +3396,7 @@ spec:
                                 - template
                                 type: object
                               type: object
+                            inline: {}
                             name:
                               type: string
                             onExit:
@@ -9547,6 +9548,7 @@ spec:
                                   - template
                                   type: object
                                 type: object
+                              inline: {}
                               name:
                                 type: string
                               onExit:
@@ -18589,6 +18591,7 @@ spec:
                                   - template
                                   type: object
                                 type: object
+                              inline: {}
                               name:
                                 type: string
                               onExit:
@@ -25694,6 +25697,7 @@ spec:
                                     - template
                                     type: object
                                   type: object
+                                inline: {}
                                 name:
                                   type: string
                                 onExit:
@@ -31845,6 +31849,7 @@ spec:
                                       - template
                                       type: object
                                     type: object
+                                  inline: {}
                                   name:
                                     type: string
                                   onExit:
diff --git a/manifests/base/crds/full/argoproj.io_workflowtasksets.yaml b/manifests/base/crds/full/argoproj.io_workflowtasksets.yaml
index 696231dbf704..234b9e54dbd5 100644
--- a/manifests/base/crds/full/argoproj.io_workflowtasksets.yaml
+++ b/manifests/base/crds/full/argoproj.io_workflowtasksets.yaml
@@ -2435,6 +2435,7 @@ spec:
                                   - template
                                   type: object
                                 type: object
+                              inline: {}
                               name:
                                 type: string
                               onExit:
diff --git a/manifests/base/crds/full/argoproj.io_workflowtemplates.yaml b/manifests/base/crds/full/argoproj.io_workflowtemplates.yaml
index 73dade7b6e20..01960e97aaef 100644
--- a/manifests/base/crds/full/argoproj.io_workflowtemplates.yaml
+++ b/manifests/base/crds/full/argoproj.io_workflowtemplates.yaml
@@ -3386,6 +3386,7 @@ spec:
                                 - template
                                 type: object
                               type: object
+                            inline: {}
                             name:
                               type: string
                             onExit:
@@ -9537,6 +9538,7 @@ spec:
                                   - template
                                   type: object
                                 type: object
+                              inline: {}
                               name:
                                 type: string
                               onExit:
diff --git a/mkdocs.yml b/mkdocs.yml
index d26e235c6ebb..aac0cb5e2477 100644
--- a/mkdocs.yml
+++ b/mkdocs.yml
@@ -40,7 +40,9 @@ nav:
           - cluster-workflow-templates.md
           - cron-workflows.md
           - cron-backfill.md
+          - templates.md
           - container-set-template.md
+          - template-defaults.md
           - work-avoidance.md
           - enhanced-depends-logic.md
           - data-sourcing-and-transformation.md
diff --git a/pkg/apis/workflow/v1alpha1/common.go b/pkg/apis/workflow/v1alpha1/common.go
index d861797cfd68..a128f5487d2a 100644
--- a/pkg/apis/workflow/v1alpha1/common.go
+++ b/pkg/apis/workflow/v1alpha1/common.go
@@ -31,8 +31,12 @@ type WorkflowSpecHolder interface {
 
 // TemplateReferenceHolder is an object that holds a reference to other templates; e.g. WorkflowStep, DAGTask, and NodeStatus
 type TemplateReferenceHolder interface {
-	GetTemplateName() string
+	// GetTemplate returns the template. This maybe nil. This is first precedence.
+	GetTemplate() *Template
+	// GetTemplateRef returns the template ref. This maybe nil. This is second precedence.
 	GetTemplateRef() *TemplateRef
+	// GetTemplateName returns the template name. This maybe empty. This is last precedence.
+	GetTemplateName() string
 }
 
 // SubmitOpts are workflow submission options
diff --git a/pkg/apis/workflow/v1alpha1/generated.pb.go b/pkg/apis/workflow/v1alpha1/generated.pb.go
index c51cdb8b7d25..6436c042cb65 100644
--- a/pkg/apis/workflow/v1alpha1/generated.pb.go
+++ b/pkg/apis/workflow/v1alpha1/generated.pb.go
@@ -3449,551 +3449,553 @@ func init() {
 }
 
 var fileDescriptor_724696e352c3df5f = []byte{
-	// 8701 bytes of a gzipped FileDescriptorProto
-	0x1f, 0x8b, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0xff, 0xec, 0xbd, 0x6b, 0x6c, 0x24, 0xd9,
-	0x75, 0x18, 0xbc, 0xd5, 0x64, 0x93, 0xdd, 0x87, 0xe4, 0x90, 0x73, 0xe7, 0xd5, 0xcb, 0x9d, 0x19,
-	0x8e, 0x6b, 0xbd, 0xfb, 0xed, 0xf8, 0x5b, 0x91, 0xde, 0x19, 0x6d, 0xb2, 0x91, 0x10, 0x59, 0x6c,
-	0x72, 0x48, 0xce, 0xf2, 0xb9, 0xb7, 0x39, 0x33, 0xd9, 0x47, 0x64, 0x15, 0xbb, 0x2f, 0xbb, 0x6b,
-	0xd9, 0x5d, 0xd5, 0x5b, 0x55, 0xcd, 0x87, 0x76, 0x57, 0x52, 0x64, 0xcb, 0xd2, 0xc6, 0x72, 0x9c,
-	0x87, 0x62, 0xcb, 0x4e, 0x02, 0x08, 0x8e, 0x15, 0x07, 0x8e, 0x11, 0xc0, 0x40, 0x7e, 0xd9, 0x7f,
-	0x03, 0x43, 0x41, 0x7e, 0xc4, 0x81, 0x95, 0x58, 0x40, 0x1c, 0x2a, 0x62, 0x1e, 0x08, 0x12, 0x38,
-	0x3f, 0x82, 0x48, 0x36, 0x26, 0xfe, 0x11, 0xdc, 0x67, 0xdd, 0x5b, 0x5d, 0xcd, 0x69, 0xce, 0x14,
-	0x39, 0x42, 0x9c, 0x7f, 0xdd, 0xe7, 0x9e, 0x7b, 0xce, 0x7d, 0x9e, 0x7b, 0xee, 0x39, 0xe7, 0x9e,
-	0x82, 0x8d, 0xba, 0x1b, 0x35, 0x3a, 0x5b, 0xd3, 0x55, 0xbf, 0x35, 0xe3, 0x04, 0x75, 0xbf, 0x1d,
-	0xf8, 0xef, 0xb2, 0x1f, 0x1f, 0xdb, 0xf3, 0x83, 0x9d, 0xed, 0xa6, 0xbf, 0x17, 0xce, 0xec, 0xde,
-	0x9e, 0x69, 0xef, 0xd4, 0x67, 0x9c, 0xb6, 0x1b, 0xce, 0x48, 0xe8, 0xcc, 0xee, 0x2b, 0x4e, 0xb3,
-	0xdd, 0x70, 0x5e, 0x99, 0xa9, 0x13, 0x8f, 0x04, 0x4e, 0x44, 0x6a, 0xd3, 0xed, 0xc0, 0x8f, 0x7c,
-	0xf4, 0xe9, 0x98, 0xe2, 0xb4, 0xa4, 0xc8, 0x7e, 0xfc, 0xb4, 0xa2, 0x38, 0xbd, 0x7b, 0x7b, 0xba,
-	0xbd, 0x53, 0x9f, 0xa6, 0x14, 0xa7, 0x25, 0x74, 0x5a, 0x52, 0x9c, 0xfc, 0x98, 0xd6, 0xa6, 0xba,
-	0x5f, 0xf7, 0x67, 0x18, 0xe1, 0xad, 0xce, 0x36, 0xfb, 0xc7, 0xfe, 0xb0, 0x5f, 0x9c, 0xe1, 0xa4,
-	0xbd, 0xf3, 0x5a, 0x38, 0xed, 0xfa, 0xb4, 0x7d, 0x33, 0x55, 0x3f, 0x20, 0x33, 0xbb, 0x5d, 0x8d,
-	0x9a, 0xbc, 0xa9, 0xe1, 0xb4, 0xfd, 0xa6, 0x5b, 0x3d, 0x98, 0xd9, 0x7d, 0x65, 0x8b, 0x44, 0xdd,
-	0xed, 0x9f, 0xfc, 0x78, 0x8c, 0xda, 0x72, 0xaa, 0x0d, 0xd7, 0x23, 0xc1, 0x41, 0xdc, 0xff, 0x16,
-	0x89, 0x9c, 0x34, 0x06, 0x33, 0xbd, 0x6a, 0x05, 0x1d, 0x2f, 0x72, 0x5b, 0xa4, 0xab, 0xc2, 0x5f,
-	0x78, 0x54, 0x85, 0xb0, 0xda, 0x20, 0x2d, 0xa7, 0xab, 0xde, 0xed, 0x5e, 0xf5, 0x3a, 0x91, 0xdb,
-	0x9c, 0x71, 0xbd, 0x28, 0x8c, 0x82, 0x64, 0x25, 0xfb, 0x0e, 0x0c, 0xcd, 0xb6, 0xfc, 0x8e, 0x17,
-	0xa1, 0x4f, 0x42, 0x7e, 0xd7, 0x69, 0x76, 0x48, 0xc9, 0xba, 0x61, 0xbd, 0x54, 0x2c, 0xbf, 0xf0,
-	0xed, 0xc3, 0xa9, 0x67, 0x8e, 0x0e, 0xa7, 0xf2, 0xf7, 0x29, 0xf0, 0xe1, 0xe1, 0xd4, 0x45, 0xe2,
-	0x55, 0xfd, 0x9a, 0xeb, 0xd5, 0x67, 0xde, 0x0d, 0x7d, 0x6f, 0x7a, 0xad, 0xd3, 0xda, 0x22, 0x01,
-	0xe6, 0x75, 0xec, 0x3f, 0xc8, 0xc1, 0xf8, 0x6c, 0x50, 0x6d, 0xb8, 0xbb, 0xa4, 0x12, 0x51, 0xfa,
-	0xf5, 0x03, 0xd4, 0x80, 0x81, 0xc8, 0x09, 0x18, 0xb9, 0x91, 0x5b, 0xab, 0xd3, 0x4f, 0x3a, 0xf9,
-	0xd3, 0x9b, 0x4e, 0x20, 0x69, 0x97, 0x87, 0x8f, 0x0e, 0xa7, 0x06, 0x36, 0x9d, 0x00, 0x53, 0x16,
-	0xa8, 0x09, 0x83, 0x9e, 0xef, 0x91, 0x52, 0x8e, 0xb1, 0x5a, 0x7b, 0x72, 0x56, 0x6b, 0xbe, 0xa7,
-	0xfa, 0x51, 0x2e, 0x1c, 0x1d, 0x4e, 0x0d, 0x52, 0x08, 0x66, 0x5c, 0x68, 0xbf, 0x3e, 0xe7, 0xb6,
-	0x4b, 0x03, 0x59, 0xf5, 0xeb, 0x2d, 0xb7, 0x6d, 0xf6, 0xeb, 0x2d, 0xb7, 0x8d, 0x29, 0x0b, 0xfb,
-	0xa3, 0x1c, 0x14, 0x67, 0x83, 0x7a, 0xa7, 0x45, 0xbc, 0x28, 0x44, 0x5f, 0x00, 0x68, 0x3b, 0x81,
-	0xd3, 0x22, 0x11, 0x09, 0xc2, 0x92, 0x75, 0x63, 0xe0, 0xa5, 0x91, 0x5b, 0xcb, 0x4f, 0xce, 0x7e,
-	0x43, 0xd2, 0x2c, 0x23, 0x31, 0xe5, 0xa0, 0x40, 0x21, 0xd6, 0x58, 0xa2, 0xf7, 0xa1, 0xe8, 0x04,
-	0x91, 0xbb, 0xed, 0x54, 0xa3, 0xb0, 0x94, 0x63, 0xfc, 0x5f, 0x7f, 0x72, 0xfe, 0xb3, 0x82, 0x64,
-	0xf9, 0xbc, 0x60, 0x5f, 0x94, 0x90, 0x10, 0xc7, 0xfc, 0xec, 0xdf, 0xc8, 0x43, 0x41, 0x16, 0xa0,
-	0x1b, 0x30, 0xe8, 0x39, 0x2d, 0xb9, 0x54, 0x47, 0x45, 0xc5, 0xc1, 0x35, 0xa7, 0x45, 0x27, 0xc9,
-	0x69, 0x11, 0x8a, 0xd1, 0x76, 0xa2, 0x06, 0x5b, 0x12, 0x1a, 0xc6, 0x86, 0x13, 0x35, 0x30, 0x2b,
-	0x41, 0x57, 0x61, 0xb0, 0xe5, 0xd7, 0x08, 0x9b, 0xc7, 0x3c, 0x9f, 0xe4, 0x55, 0xbf, 0x46, 0x30,
+	// 8728 bytes of a gzipped FileDescriptorProto
+	0x1f, 0x8b, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0xff, 0xec, 0x7d, 0x6d, 0x6c, 0x24, 0xc9,
+	0x75, 0xd8, 0xf5, 0x90, 0x43, 0xce, 0x3c, 0x92, 0x4b, 0x6e, 0xed, 0xd7, 0x1c, 0x6f, 0x77, 0xb9,
+	0xee, 0xf3, 0x5d, 0x6e, 0x9d, 0x13, 0xe9, 0xdb, 0xd5, 0x25, 0x17, 0x09, 0x91, 0xc5, 0x21, 0x97,
+	0xe4, 0x1e, 0x3f, 0xaf, 0x86, 0xbb, 0x9b, 0xfb, 0x88, 0xac, 0xe6, 0x4c, 0x71, 0xa6, 0x8f, 0x33,
+	0xdd, 0x73, 0xdd, 0x3d, 0xfc, 0xd0, 0xdd, 0x49, 0x8a, 0xfc, 0x21, 0x5d, 0x2c, 0xc7, 0xf9, 0x50,
+	0x6c, 0xd9, 0x49, 0x00, 0xc1, 0xb1, 0xe2, 0xc0, 0x31, 0x02, 0x18, 0xc8, 0x2f, 0xfb, 0x6f, 0x60,
+	0x28, 0x48, 0x80, 0x38, 0xb0, 0x12, 0x0b, 0x48, 0x42, 0x45, 0xcc, 0x07, 0x82, 0x04, 0xce, 0x8f,
+	0x20, 0x92, 0x8d, 0x8d, 0x7f, 0x04, 0xf5, 0xd9, 0x55, 0x3d, 0x3d, 0xdc, 0xe1, 0x6e, 0x93, 0x2b,
+	0xc4, 0xfe, 0x37, 0xf3, 0xea, 0xd5, 0x7b, 0x55, 0xd5, 0x55, 0xaf, 0x5e, 0xbd, 0xf7, 0xea, 0x15,
+	0x6c, 0xd4, 0xdd, 0xa8, 0xd1, 0xd9, 0x9a, 0xae, 0xfa, 0xad, 0x19, 0x27, 0xa8, 0xfb, 0xed, 0xc0,
+	0x7f, 0x97, 0xfd, 0xf8, 0xd8, 0x9e, 0x1f, 0xec, 0x6c, 0x37, 0xfd, 0xbd, 0x70, 0x66, 0xf7, 0xf6,
+	0x4c, 0x7b, 0xa7, 0x3e, 0xe3, 0xb4, 0xdd, 0x70, 0x46, 0x42, 0x67, 0x76, 0x5f, 0x71, 0x9a, 0xed,
+	0x86, 0xf3, 0xca, 0x4c, 0x9d, 0x78, 0x24, 0x70, 0x22, 0x52, 0x9b, 0x6e, 0x07, 0x7e, 0xe4, 0xa3,
+	0x4f, 0xc7, 0x14, 0xa7, 0x25, 0x45, 0xf6, 0xe3, 0x27, 0x15, 0xc5, 0xe9, 0xdd, 0xdb, 0xd3, 0xed,
+	0x9d, 0xfa, 0x34, 0xa5, 0x38, 0x2d, 0xa1, 0xd3, 0x92, 0xe2, 0xe4, 0xc7, 0xb4, 0x36, 0xd5, 0xfd,
+	0xba, 0x3f, 0xc3, 0x08, 0x6f, 0x75, 0xb6, 0xd9, 0x3f, 0xf6, 0x87, 0xfd, 0xe2, 0x0c, 0x27, 0xed,
+	0x9d, 0xd7, 0xc2, 0x69, 0xd7, 0xa7, 0xed, 0x9b, 0xa9, 0xfa, 0x01, 0x99, 0xd9, 0xed, 0x6a, 0xd4,
+	0xe4, 0x4d, 0x0d, 0xa7, 0xed, 0x37, 0xdd, 0xea, 0xc1, 0xcc, 0xee, 0x2b, 0x5b, 0x24, 0xea, 0x6e,
+	0xff, 0xe4, 0xc7, 0x63, 0xd4, 0x96, 0x53, 0x6d, 0xb8, 0x1e, 0x09, 0x0e, 0xe2, 0xfe, 0xb7, 0x48,
+	0xe4, 0xa4, 0x31, 0x98, 0xe9, 0x55, 0x2b, 0xe8, 0x78, 0x91, 0xdb, 0x22, 0x5d, 0x15, 0xfe, 0xc2,
+	0xa3, 0x2a, 0x84, 0xd5, 0x06, 0x69, 0x39, 0x5d, 0xf5, 0x6e, 0xf7, 0xaa, 0xd7, 0x89, 0xdc, 0xe6,
+	0x8c, 0xeb, 0x45, 0x61, 0x14, 0x24, 0x2b, 0xd9, 0x77, 0x60, 0x68, 0xb6, 0xe5, 0x77, 0xbc, 0x08,
+	0x7d, 0x12, 0xf2, 0xbb, 0x4e, 0xb3, 0x43, 0x4a, 0xd6, 0x0d, 0xeb, 0xa5, 0x62, 0xf9, 0x85, 0x6f,
+	0x1d, 0x4e, 0x3d, 0x73, 0x74, 0x38, 0x95, 0xbf, 0x4f, 0x81, 0x0f, 0x0f, 0xa7, 0x2e, 0x12, 0xaf,
+	0xea, 0xd7, 0x5c, 0xaf, 0x3e, 0xf3, 0x6e, 0xe8, 0x7b, 0xd3, 0x6b, 0x9d, 0xd6, 0x16, 0x09, 0x30,
+	0xaf, 0x63, 0xff, 0x7e, 0x0e, 0xc6, 0x67, 0x83, 0x6a, 0xc3, 0xdd, 0x25, 0x95, 0x88, 0xd2, 0xaf,
+	0x1f, 0xa0, 0x06, 0x0c, 0x44, 0x4e, 0xc0, 0xc8, 0x8d, 0xdc, 0x5a, 0x9d, 0x7e, 0xd2, 0x8f, 0x3f,
+	0xbd, 0xe9, 0x04, 0x92, 0x76, 0x79, 0xf8, 0xe8, 0x70, 0x6a, 0x60, 0xd3, 0x09, 0x30, 0x65, 0x81,
+	0x9a, 0x30, 0xe8, 0xf9, 0x1e, 0x29, 0xe5, 0x18, 0xab, 0xb5, 0x27, 0x67, 0xb5, 0xe6, 0x7b, 0xaa,
+	0x1f, 0xe5, 0xc2, 0xd1, 0xe1, 0xd4, 0x20, 0x85, 0x60, 0xc6, 0x85, 0xf6, 0xeb, 0x73, 0x6e, 0xbb,
+	0x34, 0x90, 0x55, 0xbf, 0xde, 0x72, 0xdb, 0x66, 0xbf, 0xde, 0x72, 0xdb, 0x98, 0xb2, 0xb0, 0x3f,
+	0xca, 0x41, 0x71, 0x36, 0xa8, 0x77, 0x5a, 0xc4, 0x8b, 0x42, 0xf4, 0x05, 0x80, 0xb6, 0x13, 0x38,
+	0x2d, 0x12, 0x91, 0x20, 0x2c, 0x59, 0x37, 0x06, 0x5e, 0x1a, 0xb9, 0xb5, 0xfc, 0xe4, 0xec, 0x37,
+	0x24, 0xcd, 0x32, 0x12, 0x9f, 0x1c, 0x14, 0x28, 0xc4, 0x1a, 0x4b, 0xf4, 0x3e, 0x14, 0x9d, 0x20,
+	0x72, 0xb7, 0x9d, 0x6a, 0x14, 0x96, 0x72, 0x8c, 0xff, 0xeb, 0x4f, 0xce, 0x7f, 0x56, 0x90, 0x2c,
+	0x9f, 0x17, 0xec, 0x8b, 0x12, 0x12, 0xe2, 0x98, 0x9f, 0xfd, 0xeb, 0x79, 0x28, 0xc8, 0x02, 0x74,
+	0x03, 0x06, 0x3d, 0xa7, 0x25, 0xa7, 0xea, 0xa8, 0xa8, 0x38, 0xb8, 0xe6, 0xb4, 0xe8, 0x47, 0x72,
+	0x5a, 0x84, 0x62, 0xb4, 0x9d, 0xa8, 0xc1, 0xa6, 0x84, 0x86, 0xb1, 0xe1, 0x44, 0x0d, 0xcc, 0x4a,
+	0xd0, 0x55, 0x18, 0x6c, 0xf9, 0x35, 0xc2, 0xbe, 0x63, 0x9e, 0x7f, 0xe4, 0x55, 0xbf, 0x46, 0x30,
 	0x83, 0xd2, 0xfa, 0xdb, 0x81, 0xdf, 0x2a, 0x0d, 0x9a, 0xf5, 0x17, 0x02, 0xbf, 0x85, 0x59, 0x09,
-	0xfa, 0x86, 0x05, 0x13, 0xb2, 0x79, 0x2b, 0x7e, 0xd5, 0x89, 0x5c, 0xdf, 0x2b, 0xe5, 0xd9, 0xa2,
+	0xfa, 0xba, 0x05, 0x13, 0xb2, 0x79, 0x2b, 0x7e, 0xd5, 0x89, 0x5c, 0xdf, 0x2b, 0xe5, 0xd9, 0xa4,
 	0xc0, 0xd9, 0x8d, 0x8a, 0xa4, 0x5c, 0x2e, 0x89, 0x26, 0x4c, 0x24, 0x4b, 0x70, 0x57, 0x2b, 0xd0,
-	0x2d, 0x80, 0x7a, 0xd3, 0xdf, 0x72, 0x9a, 0x74, 0x40, 0x4a, 0x43, 0xac, 0x0b, 0x6a, 0x72, 0x17,
-	0x55, 0x09, 0xd6, 0xb0, 0xd0, 0x3e, 0x0c, 0x3b, 0x7c, 0x03, 0x97, 0x86, 0x59, 0x27, 0xde, 0xc8,
-	0xa2, 0x13, 0x86, 0x44, 0x28, 0x8f, 0x1c, 0x1d, 0x4e, 0x0d, 0x0b, 0x20, 0x96, 0xec, 0xd0, 0xcb,
-	0x50, 0xf0, 0xdb, 0xb4, 0xdd, 0x4e, 0xb3, 0x54, 0xb8, 0x61, 0xbd, 0x54, 0x28, 0x4f, 0x88, 0xb6,
-	0x16, 0xd6, 0x05, 0x1c, 0x2b, 0x0c, 0x74, 0x13, 0x86, 0xc3, 0xce, 0x16, 0x9d, 0xc7, 0x52, 0x91,
-	0x75, 0x6c, 0x5c, 0x20, 0x0f, 0x57, 0x38, 0x18, 0xcb, 0x72, 0xf4, 0x2a, 0x8c, 0x04, 0xa4, 0xda,
-	0x09, 0x42, 0x42, 0x27, 0xb6, 0x04, 0x8c, 0xf6, 0x05, 0x81, 0x3e, 0x82, 0xe3, 0x22, 0xac, 0xe3,
-	0xa1, 0x4f, 0xc1, 0x39, 0x3a, 0xc1, 0x77, 0xf6, 0xdb, 0x01, 0x09, 0x43, 0x3a, 0xab, 0x23, 0x8c,
-	0xd1, 0x65, 0x51, 0xf3, 0xdc, 0x82, 0x51, 0x8a, 0x13, 0xd8, 0xf6, 0xef, 0x0c, 0x43, 0xd7, 0x24,
-	0xa1, 0x57, 0x60, 0x44, 0xf4, 0x77, 0xc5, 0xaf, 0x87, 0x6c, 0xe1, 0x16, 0xca, 0xe3, 0xb4, 0x1d,
-	0xb3, 0x31, 0x18, 0xeb, 0x38, 0xa8, 0x06, 0xb9, 0xf0, 0xb6, 0x90, 0x69, 0x2b, 0x4f, 0x3e, 0x19,
-	0x95, 0xdb, 0x6a, 0xa7, 0x0d, 0x1d, 0x1d, 0x4e, 0xe5, 0x2a, 0xb7, 0x71, 0x2e, 0xbc, 0x4d, 0xa5,
-	0x59, 0xdd, 0x8d, 0xb2, 0x93, 0x66, 0x8b, 0x6e, 0xa4, 0xf8, 0x30, 0x69, 0xb6, 0xe8, 0x46, 0x98,
-	0xb2, 0xa0, 0x52, 0xba, 0x11, 0x45, 0x6d, 0xb6, 0xa5, 0x32, 0x91, 0xd2, 0x4b, 0x9b, 0x9b, 0x1b,
-	0x8a, 0x17, 0xdb, 0xc0, 0x14, 0x82, 0x19, 0x17, 0xf4, 0x55, 0x8b, 0x8e, 0x38, 0x2f, 0xf4, 0x83,
-	0x03, 0xb1, 0x33, 0xef, 0x65, 0xb7, 0x33, 0xfd, 0xe0, 0x40, 0x31, 0x17, 0x13, 0xa9, 0x0a, 0xb0,
-	0xce, 0x9a, 0x75, 0xbc, 0xb6, 0x1d, 0xb2, 0x8d, 0x98, 0x4d, 0xc7, 0xe7, 0x17, 0x2a, 0x89, 0x8e,
-	0xcf, 0x2f, 0x54, 0x30, 0xe3, 0x42, 0x27, 0x34, 0x70, 0xf6, 0xc4, 0x26, 0xce, 0x60, 0x42, 0xb1,
-	0xb3, 0x67, 0x4e, 0x28, 0x76, 0xf6, 0x30, 0x65, 0x41, 0x39, 0xf9, 0x61, 0xc8, 0xf6, 0x6c, 0x26,
-	0x9c, 0xd6, 0x2b, 0x15, 0x93, 0xd3, 0x7a, 0xa5, 0x82, 0x29, 0x0b, 0xb6, 0x48, 0xab, 0x21, 0xdb,
-	0xf0, 0xd9, 0x2c, 0xd2, 0xb9, 0x04, 0xa7, 0xc5, 0xb9, 0x0a, 0xa6, 0x2c, 0xec, 0x8f, 0x2c, 0x18,
-	0x93, 0x45, 0x54, 0x88, 0x84, 0x68, 0x1f, 0x0a, 0x72, 0x32, 0x85, 0x2e, 0x93, 0xe5, 0xa1, 0xa7,
-	0x44, 0x9d, 0x84, 0x60, 0xc5, 0xcd, 0xfe, 0xad, 0x3c, 0x20, 0x05, 0x26, 0x6d, 0x3f, 0x74, 0xd9,
-	0x72, 0x7a, 0x0c, 0x51, 0xe2, 0x69, 0xa2, 0xe4, 0x7e, 0x96, 0xa2, 0x24, 0x6e, 0x96, 0x21, 0x54,
-	0xfe, 0x76, 0x62, 0xf3, 0x71, 0xe9, 0xf2, 0xd3, 0xa7, 0xb2, 0xf9, 0xb4, 0x26, 0x1c, 0xbf, 0x0d,
-	0x77, 0xc5, 0x36, 0xe4, 0xf2, 0xe7, 0xaf, 0x64, 0xbb, 0x0d, 0xb5, 0x56, 0x24, 0x37, 0x64, 0xc0,
-	0xb7, 0x09, 0x17, 0x40, 0x0f, 0x32, 0xdd, 0x26, 0x1a, 0x57, 0x73, 0xc3, 0x04, 0x7c, 0xc3, 0x0c,
-	0x65, 0xc5, 0x53, 0xdb, 0x30, 0x49, 0x9e, 0x6a, 0xeb, 0xbc, 0x07, 0x97, 0xba, 0x71, 0x30, 0xd9,
-	0x46, 0x33, 0x50, 0xac, 0xfa, 0xde, 0xb6, 0x5b, 0x5f, 0x75, 0xda, 0x42, 0x65, 0x53, 0xba, 0xde,
-	0x9c, 0x2c, 0xc0, 0x31, 0x0e, 0xba, 0x06, 0x03, 0x3b, 0xe4, 0x40, 0xe8, 0x6e, 0x23, 0x02, 0x75,
-	0x60, 0x99, 0x1c, 0x60, 0x0a, 0xff, 0x44, 0xe1, 0x1b, 0xdf, 0x9c, 0x7a, 0xe6, 0x8b, 0x7f, 0x74,
-	0xe3, 0x19, 0xfb, 0x5f, 0x0f, 0xc0, 0x73, 0xa9, 0x3c, 0x2b, 0x91, 0x13, 0x75, 0x42, 0xf4, 0x5b,
-	0x16, 0x5c, 0x72, 0xd2, 0xca, 0xc5, 0x4e, 0x7e, 0x90, 0xdd, 0x8a, 0x34, 0xc8, 0x97, 0xaf, 0x89,
-	0x46, 0xa7, 0x8f, 0x08, 0x4e, 0x6f, 0x14, 0x1d, 0x28, 0xaa, 0xbc, 0x86, 0x6d, 0xa7, 0x4a, 0x44,
-	0xef, 0xd5, 0x40, 0xad, 0xc9, 0x02, 0x1c, 0xe3, 0x50, 0x65, 0xa8, 0x46, 0xb6, 0x9d, 0x4e, 0x93,
-	0x1f, 0xe0, 0x85, 0x58, 0x19, 0x9a, 0xe7, 0x60, 0x2c, 0xcb, 0xd1, 0xdf, 0xb7, 0x00, 0x75, 0x73,
-	0x15, 0x9b, 0x61, 0xf3, 0x34, 0xc6, 0xa1, 0x7c, 0xf9, 0xe8, 0x70, 0x2a, 0x45, 0x80, 0xe1, 0x94,
-	0x76, 0x68, 0x73, 0xfa, 0x2f, 0x2d, 0xb8, 0x90, 0xb2, 0xcd, 0xe9, 0xa2, 0xe8, 0x04, 0x4d, 0xb1,
-	0x7e, 0xd4, 0xa2, 0xb8, 0x87, 0x57, 0x30, 0x85, 0xa3, 0xaf, 0x5b, 0x30, 0xae, 0xed, 0xf6, 0xd9,
-	0x8e, 0x50, 0xfe, 0x33, 0x52, 0x64, 0x0d, 0xc2, 0xe5, 0x2b, 0x82, 0xfd, 0x78, 0xa2, 0x00, 0x27,
-	0x9b, 0x60, 0x7f, 0xdf, 0x82, 0x6b, 0xc7, 0x0a, 0xad, 0xd4, 0x86, 0x5b, 0x4f, 0xbd, 0xe1, 0x74,
-	0x69, 0x05, 0xa4, 0xed, 0xdf, 0xc3, 0x2b, 0x62, 0x25, 0xaa, 0xa5, 0x85, 0x39, 0x18, 0xcb, 0x72,
-	0xfb, 0x0f, 0x2d, 0x48, 0xd2, 0x43, 0x0e, 0x9c, 0xeb, 0x84, 0x24, 0xa0, 0x4b, 0xb5, 0x42, 0xaa,
-	0x01, 0x91, 0x67, 0xe7, 0x0b, 0xd3, 0xdc, 0x4a, 0x41, 0x1b, 0x3c, 0x5d, 0xf5, 0x03, 0x32, 0xbd,
-	0xfb, 0xca, 0x34, 0xc7, 0x58, 0x26, 0x07, 0x15, 0xd2, 0x24, 0x94, 0x46, 0x19, 0x51, 0x3d, 0xfb,
-	0x9e, 0x41, 0x00, 0x27, 0x08, 0x52, 0x16, 0x6d, 0x27, 0x0c, 0xf7, 0xfc, 0xa0, 0x26, 0x58, 0xe4,
-	0x4e, 0xcc, 0x62, 0xc3, 0x20, 0x80, 0x13, 0x04, 0xed, 0x7f, 0x6e, 0xc1, 0x70, 0xd9, 0xa9, 0xee,
-	0xf8, 0xdb, 0xdb, 0xf4, 0x9a, 0x52, 0xeb, 0x04, 0xfc, 0x9a, 0xc7, 0x17, 0xa1, 0x3a, 0xbb, 0xe7,
-	0x05, 0x1c, 0x2b, 0x0c, 0xb4, 0x09, 0x43, 0x7c, 0x38, 0x44, 0xa3, 0x7e, 0x52, 0x6b, 0x94, 0xb2,
-	0xce, 0xb0, 0x99, 0xeb, 0x44, 0x6e, 0x73, 0x9a, 0x5b, 0x67, 0xa6, 0xef, 0x7a, 0xd1, 0x7a, 0x50,
-	0x89, 0x02, 0xd7, 0xab, 0x97, 0xe1, 0xe8, 0x70, 0x6a, 0x68, 0x81, 0xd1, 0xc0, 0x82, 0x16, 0xbd,
-	0xd1, 0xb4, 0x9c, 0x7d, 0xc9, 0x8e, 0xed, 0xf9, 0x62, 0x7c, 0xa3, 0x59, 0x8d, 0x8b, 0xb0, 0x8e,
-	0x67, 0x7f, 0x06, 0xf2, 0x73, 0x4e, 0xb5, 0x41, 0xd0, 0xbd, 0xa4, 0x24, 0x1e, 0xb9, 0xf5, 0x52,
-	0xda, 0x68, 0x29, 0xa9, 0xac, 0x0f, 0xd8, 0x58, 0x2f, 0x79, 0x6d, 0xff, 0xc0, 0x82, 0x2b, 0x73,
-	0xcd, 0x4e, 0x18, 0x91, 0xe0, 0x81, 0x58, 0x82, 0x9b, 0xa4, 0xd5, 0x6e, 0x3a, 0x11, 0x41, 0x9f,
-	0x85, 0x42, 0x8b, 0x44, 0x4e, 0xcd, 0x89, 0x1c, 0xc1, 0xb1, 0xf7, 0x50, 0xb0, 0x45, 0x4c, 0xb1,
-	0x69, 0x1b, 0xd6, 0xb7, 0xde, 0x25, 0xd5, 0x68, 0x95, 0x44, 0x4e, 0x7c, 0x77, 0x8d, 0x61, 0x58,
-	0x51, 0x45, 0xfb, 0x30, 0x18, 0xb6, 0x49, 0x35, 0x3b, 0xf5, 0x26, 0xd9, 0x87, 0x4a, 0x9b, 0x54,
-	0x63, 0x13, 0x00, 0xfd, 0x87, 0x19, 0x47, 0xfb, 0x7f, 0x5b, 0xf0, 0x5c, 0x8f, 0x7e, 0xaf, 0xb8,
-	0x61, 0x84, 0xde, 0xe9, 0xea, 0xfb, 0x74, 0x7f, 0x7d, 0xa7, 0xb5, 0x59, 0xcf, 0xd5, 0x12, 0x93,
-	0x10, 0xad, 0xdf, 0x9f, 0x87, 0xbc, 0x1b, 0x91, 0x96, 0x34, 0xc5, 0xbc, 0xf9, 0xe4, 0x1d, 0xef,
-	0xd1, 0x97, 0xf2, 0x98, 0xb4, 0x05, 0xde, 0xa5, 0xfc, 0x30, 0x67, 0x6b, 0xff, 0x0b, 0x0b, 0xe8,
-	0x72, 0xa8, 0xb9, 0xe2, 0x82, 0x3b, 0x18, 0x1d, 0xb4, 0xa5, 0x49, 0x46, 0x9e, 0x7f, 0x83, 0x9b,
-	0x07, 0x6d, 0xf2, 0xf0, 0x70, 0x6a, 0x4c, 0x21, 0x52, 0x00, 0x66, 0xa8, 0xe8, 0x33, 0x30, 0x14,
-	0xb2, 0x73, 0x5a, 0x48, 0x98, 0x05, 0x51, 0x69, 0x88, 0x9f, 0xde, 0x0f, 0x0f, 0xa7, 0xfa, 0xb2,
-	0xb8, 0x4e, 0x2b, 0xda, 0xbc, 0x1e, 0x16, 0x54, 0xa9, 0x08, 0x6b, 0x91, 0x30, 0x74, 0xea, 0x44,
-	0xec, 0x14, 0x25, 0xc2, 0x56, 0x39, 0x18, 0xcb, 0x72, 0xfb, 0xef, 0x5a, 0x40, 0x9b, 0x18, 0x39,
-	0x94, 0xc5, 0x9a, 0x5f, 0x23, 0x68, 0x8d, 0x6d, 0x15, 0x0e, 0x10, 0x93, 0x77, 0xad, 0xc7, 0x56,
-	0xe1, 0x48, 0x86, 0x4e, 0xc3, 0x41, 0x38, 0x26, 0x81, 0x3e, 0x0e, 0xa3, 0x35, 0xd2, 0x26, 0x5e,
-	0x8d, 0x78, 0x55, 0x97, 0xf0, 0x49, 0x2b, 0x96, 0x27, 0x8e, 0x0e, 0xa7, 0x46, 0xe7, 0x35, 0x38,
-	0x36, 0xb0, 0xec, 0x3f, 0xb1, 0xe0, 0xa2, 0x22, 0x57, 0x21, 0x91, 0xda, 0x56, 0x3f, 0x63, 0x01,
-	0x28, 0xe2, 0x54, 0xa7, 0xa5, 0x4b, 0x60, 0x3d, 0x83, 0x25, 0xa0, 0x0f, 0x42, 0xbc, 0xf1, 0x14,
-	0x38, 0xc4, 0x1a, 0x5b, 0xf4, 0x26, 0x8c, 0xee, 0xfa, 0xcd, 0x4e, 0x8b, 0xac, 0xfa, 0x1d, 0x2f,
-	0x0a, 0x4b, 0x03, 0xac, 0x19, 0x53, 0x69, 0xe3, 0x74, 0x3f, 0xc6, 0x2b, 0x5f, 0x14, 0x64, 0x47,
-	0x35, 0x60, 0x88, 0x0d, 0x52, 0xf6, 0x9b, 0xc0, 0x98, 0xba, 0x5e, 0x87, 0xac, 0x7b, 0xe8, 0x79,
-	0xc8, 0x93, 0x20, 0xf0, 0x03, 0x71, 0xdb, 0x51, 0x0b, 0xf2, 0x0e, 0x05, 0x62, 0x5e, 0x86, 0x5e,
-	0xa4, 0x32, 0xd7, 0x6d, 0x92, 0x1a, 0x5b, 0x4f, 0x85, 0xf2, 0x39, 0xb9, 0x9e, 0x16, 0x18, 0x14,
-	0x8b, 0x52, 0x7b, 0x1a, 0x86, 0xe7, 0x28, 0x13, 0x12, 0x50, 0xba, 0xba, 0xd1, 0x7b, 0xcc, 0x30,
-	0x7a, 0x4b, 0xe3, 0xf6, 0x26, 0x5c, 0x9a, 0x0b, 0x08, 0x15, 0x04, 0xb7, 0xcb, 0x9d, 0xea, 0x0e,
-	0x89, 0xb8, 0x59, 0x2a, 0x44, 0x9f, 0x84, 0x31, 0x9f, 0x49, 0xa4, 0x15, 0xbf, 0xba, 0xe3, 0x7a,
-	0x75, 0xa1, 0x84, 0x5d, 0x12, 0x54, 0xc6, 0xd6, 0xf5, 0x42, 0x6c, 0xe2, 0xda, 0xff, 0x29, 0x07,
-	0xa3, 0x73, 0x81, 0xef, 0xc9, 0xdd, 0x76, 0x06, 0x92, 0x32, 0x32, 0x24, 0x65, 0x06, 0x56, 0x4a,
-	0xbd, 0xfd, 0xbd, 0xa4, 0x24, 0xfa, 0x40, 0x6d, 0xf3, 0x81, 0xac, 0x94, 0x4d, 0x83, 0x2f, 0xa3,
-	0x1d, 0x4f, 0xb6, 0x29, 0x04, 0xec, 0xff, 0x6c, 0xc1, 0x84, 0x8e, 0x7e, 0x06, 0x82, 0x39, 0x34,
-	0x05, 0xf3, 0x5a, 0xb6, 0xfd, 0xed, 0x21, 0x8d, 0x3f, 0x1a, 0x32, 0xfb, 0x49, 0x27, 0x00, 0x7d,
-	0xc3, 0x82, 0xd1, 0x3d, 0x0d, 0x20, 0x3a, 0xbb, 0x96, 0xdd, 0x19, 0xc9, 0x66, 0xfd, 0xc7, 0xe5,
-	0x7e, 0xd6, 0xa1, 0x0f, 0x13, 0xff, 0xb1, 0xd1, 0x12, 0xaa, 0x4e, 0x85, 0xd5, 0x06, 0xa9, 0x75,
-	0x9a, 0xf2, 0xaa, 0xa3, 0x86, 0xb4, 0x22, 0xe0, 0x58, 0x61, 0xa0, 0x77, 0xe0, 0x7c, 0xd5, 0xf7,
-	0xaa, 0x9d, 0x20, 0x20, 0x5e, 0xf5, 0x60, 0x83, 0xf9, 0xe9, 0x84, 0x50, 0x9f, 0x16, 0xd5, 0xce,
-	0xcf, 0x25, 0x11, 0x1e, 0xa6, 0x01, 0x71, 0x37, 0x21, 0x6e, 0x53, 0x0e, 0xa9, 0xd8, 0x65, 0xf7,
-	0xa1, 0x82, 0x6e, 0x53, 0x66, 0x60, 0x2c, 0xcb, 0xd1, 0x3d, 0xb8, 0x12, 0x46, 0x54, 0x57, 0xf6,
-	0xea, 0xf3, 0xc4, 0xa9, 0x35, 0x5d, 0x8f, 0xaa, 0xa3, 0xbe, 0x57, 0xe3, 0x17, 0xfc, 0x81, 0xf2,
-	0x73, 0x47, 0x87, 0x53, 0x57, 0x2a, 0xe9, 0x28, 0xb8, 0x57, 0x5d, 0xf4, 0x19, 0x98, 0x0c, 0x3b,
-	0xd5, 0x2a, 0x09, 0xc3, 0xed, 0x4e, 0xf3, 0x75, 0x7f, 0x2b, 0x5c, 0x72, 0x43, 0xaa, 0x4b, 0xaf,
-	0xb8, 0x2d, 0x37, 0x62, 0xd7, 0xf8, 0x7c, 0xf9, 0xfa, 0xd1, 0xe1, 0xd4, 0x64, 0xa5, 0x27, 0x16,
-	0x3e, 0x86, 0x02, 0xc2, 0x70, 0x99, 0x0b, 0xbf, 0x2e, 0xda, 0xc3, 0x8c, 0xf6, 0xe4, 0xd1, 0xe1,
-	0xd4, 0xe5, 0x85, 0x54, 0x0c, 0xdc, 0xa3, 0x26, 0x9d, 0xc1, 0xc8, 0x6d, 0x91, 0xcf, 0xf9, 0x1e,
-	0x61, 0x36, 0x40, 0x6d, 0x06, 0x37, 0x05, 0x1c, 0x2b, 0x0c, 0xf4, 0x6e, 0xbc, 0x12, 0xe9, 0x76,
-	0x11, 0xb6, 0xbc, 0x93, 0x4b, 0xb8, 0x8b, 0x47, 0x87, 0x53, 0x13, 0x0f, 0x34, 0x4a, 0x74, 0xcb,
-	0x61, 0x83, 0xb6, 0xfd, 0x07, 0x39, 0x40, 0xdd, 0x22, 0x02, 0x2d, 0xc3, 0x90, 0x53, 0x8d, 0xdc,
-	0x5d, 0x22, 0x9c, 0x67, 0xcf, 0xa7, 0x9d, 0x53, 0x9c, 0x15, 0x26, 0xdb, 0x84, 0xae, 0x10, 0x12,
-	0xcb, 0x95, 0x59, 0x56, 0x15, 0x0b, 0x12, 0xc8, 0x87, 0xf3, 0x4d, 0x27, 0x8c, 0xe4, 0x5a, 0xad,
-	0xd1, 0x2e, 0x0b, 0xc1, 0xfa, 0x13, 0xfd, 0x75, 0x8a, 0xd6, 0x28, 0x5f, 0xa2, 0x2b, 0x77, 0x25,
-	0x49, 0x08, 0x77, 0xd3, 0x46, 0x5f, 0x60, 0x07, 0x3e, 0x57, 0x74, 0xe4, 0x49, 0xbb, 0x9c, 0xc9,
-	0x81, 0xcf, 0x69, 0x1a, 0x87, 0xbd, 0x60, 0x83, 0x35, 0x96, 0xf6, 0x1f, 0x15, 0x61, 0x78, 0x7e,
-	0x76, 0x71, 0xd3, 0x09, 0x77, 0xfa, 0x70, 0xc0, 0xd1, 0xd5, 0x21, 0x94, 0x95, 0xe4, 0xfe, 0x96,
-	0x4a, 0x0c, 0x56, 0x18, 0xe8, 0x03, 0x28, 0x3a, 0xd2, 0xd1, 0x29, 0x8e, 0x89, 0xe5, 0x2c, 0x6e,
-	0xbf, 0x82, 0xa4, 0xee, 0x5b, 0x14, 0x20, 0x1c, 0x33, 0x44, 0x5f, 0xb4, 0x60, 0x44, 0x36, 0x05,
-	0x93, 0x6d, 0x61, 0x14, 0xc9, 0xc2, 0x65, 0x1d, 0x13, 0xe5, 0xc6, 0x49, 0x0d, 0x80, 0x75, 0x96,
-	0x5d, 0xea, 0x61, 0xbe, 0x1f, 0xf5, 0x10, 0xed, 0x41, 0x71, 0xcf, 0x8d, 0x1a, 0xec, 0x20, 0x28,
-	0x0d, 0xb1, 0x25, 0xb1, 0xf0, 0xe4, 0xad, 0xa6, 0xe4, 0xe2, 0x11, 0x7b, 0x20, 0x19, 0xe0, 0x98,
-	0x17, 0x9a, 0xe1, 0x8c, 0x99, 0xa3, 0x98, 0x89, 0x90, 0xa2, 0x59, 0x81, 0x15, 0xe0, 0x18, 0x87,
-	0x0e, 0xf1, 0x28, 0xfd, 0x57, 0x21, 0xef, 0x75, 0xe8, 0xbe, 0x12, 0x5e, 0x83, 0x0c, 0x4c, 0xe9,
-	0x92, 0x22, 0x1f, 0xac, 0x07, 0x1a, 0x0f, 0x6c, 0x70, 0xa4, 0x6b, 0x76, 0xaf, 0x41, 0x3c, 0xe1,
-	0x36, 0x54, 0x6b, 0xf6, 0x41, 0x83, 0x78, 0x98, 0x95, 0xa0, 0x0f, 0xb8, 0x4e, 0xcd, 0x75, 0x4e,
-	0xe6, 0x2f, 0xcc, 0xc4, 0xf3, 0x16, 0xeb, 0xb1, 0xe5, 0x73, 0x52, 0x99, 0xe6, 0xff, 0xb1, 0xc6,
-	0x8f, 0xaa, 0xaf, 0xbe, 0x77, 0x67, 0xdf, 0x8d, 0x84, 0xbf, 0x51, 0x49, 0x9e, 0x75, 0x06, 0xc5,
-	0xa2, 0x94, 0x1b, 0xfd, 0xe8, 0x22, 0x08, 0x4b, 0xa3, 0xe6, 0xb5, 0x86, 0xaf, 0x94, 0x10, 0xcb,
-	0x72, 0xf4, 0x0f, 0x2c, 0xc8, 0x37, 0x7c, 0x7f, 0x27, 0x2c, 0x8d, 0xb1, 0xc5, 0x91, 0x81, 0xea,
-	0x25, 0x24, 0xc0, 0xf4, 0x12, 0x25, 0x7b, 0xc7, 0x8b, 0x82, 0x83, 0xf2, 0x2b, 0x52, 0x21, 0x61,
-	0xb0, 0x87, 0x87, 0x53, 0xe7, 0x56, 0xdc, 0x6d, 0x52, 0x3d, 0xa8, 0x36, 0x09, 0x83, 0x7c, 0xe9,
-	0x7b, 0x1a, 0xe4, 0xce, 0x2e, 0xf1, 0x22, 0xcc, 0x5b, 0x35, 0xf9, 0x91, 0x05, 0x10, 0x13, 0x42,
-	0x13, 0xdc, 0xee, 0xcb, 0x84, 0x0a, 0x33, 0xf5, 0x22, 0x22, 0xf5, 0x73, 0x2e, 0x59, 0x33, 0xb8,
-	0xe0, 0x18, 0x4d, 0x13, 0x1a, 0xfe, 0x27, 0x72, 0xaf, 0x59, 0xf6, 0xbf, 0xb2, 0x60, 0x84, 0x76,
-	0x4e, 0x8a, 0xa4, 0x17, 0x61, 0x28, 0x72, 0x82, 0xba, 0xb0, 0x5c, 0x69, 0xd3, 0xb1, 0xc9, 0xa0,
-	0x58, 0x94, 0x22, 0x0f, 0xf2, 0x91, 0x13, 0xee, 0x48, 0x6d, 0xef, 0x6e, 0x66, 0x43, 0x1c, 0x2b,
-	0x7a, 0xf4, 0x5f, 0x88, 0x39, 0x1b, 0xf4, 0x12, 0x14, 0xe8, 0x81, 0xbc, 0xe0, 0x84, 0xd2, 0xe8,
-	0x3b, 0x4a, 0x85, 0xea, 0x82, 0x80, 0x61, 0x55, 0x6a, 0xff, 0x9d, 0x1c, 0x0c, 0xce, 0x73, 0xbd,
-	0x7f, 0x28, 0xf4, 0x3b, 0x41, 0x95, 0x08, 0xfd, 0x2f, 0x83, 0x35, 0x4d, 0xe9, 0x56, 0x18, 0x4d,
-	0x4d, 0xf3, 0x66, 0xff, 0xb1, 0xe0, 0x85, 0xbe, 0x6e, 0xc1, 0xb9, 0x28, 0x70, 0xbc, 0x70, 0xdb,
-	0x0f, 0x5a, 0xdc, 0x60, 0x95, 0xcb, 0x6a, 0x15, 0x6e, 0x1a, 0x74, 0x2b, 0x11, 0x69, 0xc7, 0xee,
-	0x79, 0xb3, 0x0c, 0x27, 0xda, 0x60, 0xff, 0xb2, 0x05, 0x10, 0xb7, 0x1e, 0x7d, 0xd5, 0x82, 0x31,
-	0x47, 0x77, 0xf8, 0x89, 0x31, 0x5a, 0xcf, 0xce, 0xf8, 0xca, 0xc8, 0x96, 0xcf, 0xd3, 0x1b, 0xa1,
-	0x01, 0xc2, 0x26, 0x63, 0xfb, 0x55, 0xc8, 0xb3, 0xdd, 0xc1, 0x74, 0x63, 0x61, 0x75, 0x4b, 0x9a,
-	0x1a, 0xa5, 0x35, 0x0e, 0x2b, 0x0c, 0xfb, 0x1d, 0x38, 0x77, 0x67, 0x9f, 0x54, 0x3b, 0x91, 0x1f,
-	0x70, 0xeb, 0x1c, 0x7a, 0x1d, 0x50, 0x48, 0x82, 0x5d, 0xb7, 0x4a, 0x66, 0xab, 0x55, 0x7a, 0xd3,
-	0x5d, 0x8b, 0xcf, 0xea, 0x49, 0x41, 0x09, 0x55, 0xba, 0x30, 0x70, 0x4a, 0x2d, 0xfb, 0x37, 0x2d,
-	0x18, 0xd1, 0xbc, 0x3f, 0xf4, 0xa4, 0xae, 0xcf, 0x55, 0xf8, 0x3d, 0x58, 0x0c, 0xd5, 0x72, 0x26,
-	0xfe, 0x25, 0x4e, 0x32, 0x3e, 0x46, 0x14, 0x08, 0xc7, 0x0c, 0x1f, 0xe1, 0x19, 0xb2, 0x7f, 0xcf,
-	0x82, 0x4b, 0xa9, 0xae, 0xaa, 0xa7, 0xdc, 0xec, 0x19, 0x28, 0xee, 0x90, 0x83, 0x05, 0xb6, 0x06,
-	0x93, 0x8e, 0x9d, 0x65, 0x59, 0x80, 0x63, 0x1c, 0xfb, 0xb7, 0x2d, 0x88, 0x29, 0x51, 0x51, 0xb4,
-	0x15, 0xb7, 0x5c, 0x13, 0x45, 0x82, 0x93, 0x28, 0x45, 0x1f, 0xc0, 0x15, 0x73, 0x06, 0x99, 0xf9,
-	0xf6, 0xe4, 0xa6, 0x71, 0x7e, 0x87, 0x49, 0xa7, 0x84, 0x7b, 0xb1, 0xb0, 0xef, 0x43, 0x7e, 0xd1,
-	0xe9, 0xd4, 0x49, 0x5f, 0x46, 0x15, 0x2a, 0xc6, 0x02, 0xe2, 0x34, 0x23, 0xa9, 0x36, 0x0b, 0x31,
-	0x86, 0x05, 0x0c, 0xab, 0x52, 0xfb, 0x07, 0x83, 0x30, 0xa2, 0x45, 0x95, 0xd0, 0x73, 0x3c, 0x20,
-	0x6d, 0x3f, 0xa9, 0x7b, 0xd2, 0xc9, 0xc6, 0xac, 0x84, 0xee, 0x9f, 0x80, 0xec, 0xba, 0x21, 0x17,
-	0x39, 0xc6, 0xfe, 0xc1, 0x02, 0x8e, 0x15, 0x06, 0x9a, 0x82, 0x7c, 0x8d, 0xb4, 0xa3, 0x06, 0x93,
-	0xa6, 0x83, 0xe5, 0x22, 0x6d, 0xea, 0x3c, 0x05, 0x60, 0x0e, 0xa7, 0x08, 0xdb, 0x24, 0xaa, 0x36,
-	0x98, 0x95, 0xad, 0xc8, 0x11, 0x16, 0x28, 0x00, 0x73, 0x78, 0x8a, 0xb3, 0x23, 0x7f, 0xfa, 0xce,
-	0x8e, 0xa1, 0x8c, 0x9d, 0x1d, 0xa8, 0x0d, 0x17, 0xc2, 0xb0, 0xb1, 0x11, 0xb8, 0xbb, 0x4e, 0x44,
-	0xe2, 0x95, 0x33, 0x7c, 0x12, 0x3e, 0x57, 0x8e, 0x0e, 0xa7, 0x2e, 0x54, 0x2a, 0x4b, 0x49, 0x2a,
-	0x38, 0x8d, 0x34, 0xaa, 0xc0, 0x25, 0xd7, 0x0b, 0x49, 0xb5, 0x13, 0x90, 0xbb, 0x75, 0xcf, 0x0f,
-	0xc8, 0x92, 0x1f, 0x52, 0x72, 0x22, 0x0c, 0x4c, 0x39, 0x51, 0xef, 0xa6, 0x21, 0xe1, 0xf4, 0xba,
-	0x68, 0x11, 0xce, 0xd7, 0xdc, 0xd0, 0xd9, 0x6a, 0x92, 0x4a, 0x67, 0xab, 0xe5, 0xd3, 0x0b, 0x14,
-	0x8f, 0x1c, 0x29, 0x94, 0x9f, 0x95, 0xa6, 0x82, 0xf9, 0x24, 0x02, 0xee, 0xae, 0x63, 0x7f, 0xd7,
-	0x82, 0x51, 0xdd, 0xc5, 0x4f, 0x75, 0x58, 0x68, 0xcc, 0x2f, 0x54, 0xb8, 0x94, 0xcd, 0xee, 0x2c,
-	0x5d, 0x52, 0x34, 0xe3, 0x3b, 0x58, 0x0c, 0xc3, 0x1a, 0xcf, 0x3e, 0xc2, 0x1a, 0x9f, 0x87, 0xfc,
-	0xb6, 0x4f, 0x8f, 0xfa, 0x01, 0xd3, 0x52, 0xba, 0x40, 0x81, 0x98, 0x97, 0xd9, 0xff, 0xcb, 0x82,
-	0xcb, 0xe9, 0xd1, 0x0b, 0x3f, 0x0a, 0x9d, 0xbc, 0x05, 0x40, 0xbb, 0x62, 0x88, 0x4b, 0x2d, 0x36,
-	0x55, 0x96, 0x60, 0x0d, 0xab, 0xbf, 0x6e, 0xff, 0x90, 0xaa, 0x9b, 0x31, 0x9f, 0xaf, 0x59, 0x30,
-	0x46, 0xd9, 0x2e, 0x07, 0x5b, 0x46, 0x6f, 0xd7, 0xb3, 0xe9, 0xad, 0x22, 0x1b, 0x1b, 0x84, 0x0d,
-	0x30, 0x36, 0x99, 0xa3, 0xff, 0x1f, 0x8a, 0x4e, 0xad, 0x16, 0x90, 0x30, 0x54, 0xee, 0x01, 0xe6,
-	0x72, 0x9b, 0x95, 0x40, 0x1c, 0x97, 0x53, 0x11, 0xd7, 0xa8, 0x6d, 0x87, 0x54, 0x6a, 0x08, 0x3b,
-	0x98, 0x12, 0x71, 0x94, 0x09, 0x85, 0x63, 0x85, 0x61, 0xff, 0xc2, 0x20, 0x98, 0xbc, 0x51, 0x0d,
-	0xc6, 0x77, 0x82, 0xad, 0x39, 0xe6, 0x16, 0x7c, 0x1c, 0x07, 0xed, 0x85, 0xa3, 0xc3, 0xa9, 0xf1,
-	0x65, 0x93, 0x02, 0x4e, 0x92, 0x14, 0x5c, 0x96, 0xc9, 0x41, 0xe4, 0x6c, 0x3d, 0xce, 0x41, 0x24,
-	0xb9, 0xe8, 0x14, 0x70, 0x92, 0x24, 0x7a, 0x15, 0x46, 0x76, 0x82, 0x2d, 0x29, 0x40, 0x93, 0x5e,
-	0xd1, 0xe5, 0xb8, 0x08, 0xeb, 0x78, 0x74, 0x08, 0x77, 0x82, 0x2d, 0x7a, 0xe0, 0xc8, 0x30, 0x5f,
-	0x35, 0x84, 0xcb, 0x02, 0x8e, 0x15, 0x06, 0x6a, 0x03, 0xda, 0x91, 0xa3, 0xa7, 0x9c, 0xa0, 0x42,
-	0xce, 0xf7, 0xef, 0x43, 0x65, 0x21, 0x11, 0xcb, 0x5d, 0x74, 0x70, 0x0a, 0x6d, 0xf4, 0x26, 0x5c,
-	0xd9, 0x09, 0xb6, 0xc4, 0x31, 0xbc, 0x11, 0xb8, 0x5e, 0xd5, 0x6d, 0x1b, 0x21, 0xbd, 0x53, 0xa2,
-	0xb9, 0x57, 0x96, 0xd3, 0xd1, 0x70, 0xaf, 0xfa, 0xf6, 0x37, 0x73, 0xc0, 0x62, 0x25, 0xa9, 0x66,
-	0xd1, 0x22, 0x51, 0xc3, 0xaf, 0x25, 0x35, 0x8b, 0x55, 0x06, 0xc5, 0xa2, 0x54, 0x06, 0x5f, 0xe4,
-	0x7a, 0x04, 0x5f, 0xec, 0xc1, 0x70, 0x83, 0x38, 0x35, 0x12, 0x48, 0xc3, 0xd4, 0x4a, 0x36, 0xd1,
-	0x9d, 0x4b, 0x8c, 0x68, 0x7c, 0xc1, 0xe5, 0xff, 0x43, 0x2c, 0xb9, 0xa1, 0x4f, 0xc0, 0x39, 0xaa,
-	0x23, 0xf8, 0x9d, 0x48, 0x5a, 0x61, 0x07, 0x99, 0x15, 0x96, 0x9d, 0x77, 0x9b, 0x46, 0x09, 0x4e,
-	0x60, 0xa2, 0xab, 0x30, 0xb8, 0xe5, 0xd7, 0x78, 0x64, 0xe8, 0x28, 0x8f, 0xda, 0x2a, 0xfb, 0xb5,
-	0x03, 0xcc, 0xa0, 0xf6, 0xaf, 0x51, 0xe9, 0xaf, 0x05, 0x98, 0x3e, 0x2a, 0xfe, 0x24, 0x8c, 0x87,
-	0x80, 0xdf, 0x72, 0x96, 0x32, 0x18, 0x82, 0x47, 0x74, 0xdf, 0xfe, 0x0e, 0x15, 0x68, 0x6a, 0x9c,
-	0xfa, 0xb0, 0xca, 0x3d, 0xaf, 0xdf, 0xa7, 0x7b, 0xa9, 0x66, 0x5f, 0x80, 0x22, 0xfb, 0xb1, 0x10,
-	0xf8, 0x2d, 0x61, 0x8c, 0xc3, 0x59, 0xce, 0xa7, 0xb8, 0x37, 0x32, 0xe1, 0x76, 0x5f, 0x32, 0xc2,
-	0x31, 0x4f, 0xdb, 0x87, 0x89, 0x24, 0x36, 0x7a, 0x1b, 0x46, 0x43, 0x29, 0x1f, 0xe2, 0x00, 0xae,
-	0x3e, 0xe5, 0x08, 0x33, 0x0d, 0x55, 0xb4, 0xea, 0xd8, 0x20, 0x66, 0xaf, 0xc3, 0x50, 0xa6, 0x43,
-	0x68, 0x7f, 0xcb, 0x82, 0x22, 0x33, 0x96, 0xd7, 0x03, 0xa7, 0x15, 0x57, 0x19, 0x38, 0x66, 0xd4,
-	0x43, 0x18, 0xe6, 0x6a, 0xbc, 0xf4, 0xe6, 0x66, 0xb0, 0x80, 0xf8, 0xd3, 0x9e, 0x78, 0x01, 0xf1,
-	0xfb, 0x42, 0x88, 0x25, 0x27, 0xfb, 0xe7, 0x72, 0x30, 0x74, 0xd7, 0x6b, 0x77, 0xfe, 0xdc, 0x3f,
-	0x2f, 0x59, 0x85, 0xc1, 0xbb, 0x11, 0x69, 0x99, 0xaf, 0xa0, 0x46, 0xcb, 0x2f, 0xe8, 0x2f, 0xa0,
-	0x4a, 0xe6, 0x0b, 0x28, 0xec, 0xec, 0xc9, 0x38, 0x02, 0x61, 0x46, 0x8a, 0x83, 0xd8, 0x7e, 0xd7,
-	0x82, 0x31, 0xc3, 0xd2, 0x64, 0xd8, 0xc3, 0xad, 0x93, 0xd9, 0xc3, 0x73, 0x67, 0x6c, 0x0f, 0xb7,
-	0x9b, 0x30, 0xb8, 0xe2, 0x7a, 0x3b, 0xfd, 0x6d, 0x86, 0xb0, 0xea, 0xb7, 0xbb, 0x36, 0x43, 0x85,
-	0x02, 0x31, 0x2f, 0x93, 0x92, 0x73, 0x20, 0x5d, 0x72, 0xda, 0x5f, 0xb2, 0xe0, 0xfc, 0x2a, 0x69,
-	0xf9, 0xee, 0xe7, 0x9c, 0x38, 0x88, 0x83, 0x56, 0x6a, 0xb8, 0x91, 0xf0, 0xf7, 0xab, 0x4a, 0x4b,
-	0x6e, 0x84, 0x29, 0xfc, 0x11, 0x86, 0x00, 0x16, 0x72, 0x4a, 0xf5, 0x90, 0xb5, 0x58, 0x21, 0x88,
-	0xc3, 0x33, 0x64, 0x01, 0x8e, 0x71, 0xec, 0xdf, 0xb1, 0x60, 0x98, 0x37, 0x82, 0x48, 0xda, 0x56,
-	0x0f, 0xda, 0x0d, 0xc8, 0xb3, 0x7a, 0x62, 0x5e, 0x16, 0x33, 0x30, 0x10, 0x53, 0x72, 0xfc, 0x5e,
-	0xc9, 0x7e, 0x62, 0xce, 0x80, 0x9d, 0xce, 0xce, 0xfe, 0xac, 0x8a, 0x5f, 0x89, 0x4f, 0x67, 0x06,
-	0xc5, 0xa2, 0xd4, 0xfe, 0xd5, 0x01, 0x28, 0x48, 0x57, 0x18, 0x8f, 0xbd, 0xf6, 0x3c, 0x3f, 0x72,
-	0xb8, 0xa7, 0x88, 0xef, 0xe4, 0xb7, 0x9f, 0xbc, 0x95, 0x92, 0xc3, 0xf4, 0x6c, 0x4c, 0x9d, 0x1b,
-	0x80, 0x95, 0xae, 0xa5, 0x95, 0x60, 0xbd, 0x11, 0xe8, 0xf3, 0x30, 0xd4, 0x74, 0xb6, 0x48, 0x53,
-	0x6e, 0xec, 0xfb, 0x19, 0x36, 0x67, 0x85, 0x11, 0xe6, 0x2d, 0x51, 0x23, 0xc4, 0x81, 0x58, 0x70,
-	0x9d, 0xfc, 0x14, 0x4c, 0x24, 0x5b, 0x9d, 0x62, 0x6d, 0xbe, 0x68, 0x88, 0x76, 0xcd, 0x38, 0x3c,
-	0xf9, 0x97, 0x60, 0x44, 0x63, 0x73, 0x92, 0xaa, 0xf6, 0x1b, 0x30, 0xb2, 0x4a, 0xa2, 0xc0, 0xad,
-	0x32, 0x02, 0x8f, 0x5a, 0x5c, 0x7d, 0x9d, 0x2e, 0x5f, 0x61, 0x8b, 0x95, 0xd2, 0x0c, 0xd1, 0x07,
-	0x00, 0xed, 0xc0, 0xa7, 0x6a, 0x1a, 0xe9, 0xc8, 0xc9, 0xce, 0x40, 0xfb, 0xda, 0x50, 0x34, 0xb9,
-	0xcf, 0x22, 0xfe, 0x8f, 0x35, 0x7e, 0xf6, 0x4d, 0xc8, 0xaf, 0x76, 0x22, 0xb2, 0xff, 0x68, 0x51,
-	0x61, 0xbf, 0x0d, 0xa3, 0x0c, 0x75, 0xc9, 0x6f, 0x52, 0x19, 0x4a, 0x7b, 0xda, 0xa2, 0xff, 0x93,
-	0x56, 0x22, 0x86, 0x84, 0x79, 0x19, 0xdd, 0x01, 0x0d, 0xbf, 0x59, 0x23, 0x81, 0x18, 0x0f, 0x35,
-	0xbf, 0x4b, 0x0c, 0x8a, 0x45, 0xa9, 0xfd, 0x33, 0x39, 0x18, 0x61, 0x15, 0x85, 0xf4, 0x38, 0x80,
-	0xe1, 0x06, 0xe7, 0x23, 0x86, 0x24, 0x83, 0x90, 0x07, 0xbd, 0xf5, 0x9a, 0x4e, 0xc6, 0x01, 0x58,
-	0xf2, 0xa3, 0xac, 0xf7, 0x1c, 0x37, 0xa2, 0xac, 0x73, 0xa7, 0xcb, 0xfa, 0x01, 0x67, 0x83, 0x25,
-	0x3f, 0xfb, 0xdf, 0x59, 0x00, 0x6b, 0x7e, 0x8d, 0x60, 0x12, 0x76, 0x9a, 0x11, 0xfa, 0x49, 0xc8,
-	0xb7, 0x1b, 0x4e, 0x98, 0xb4, 0xfc, 0xe6, 0x37, 0x28, 0xf0, 0xe1, 0xe1, 0x54, 0x91, 0xe2, 0xb2,
-	0x3f, 0x98, 0x23, 0xea, 0x11, 0x73, 0xb9, 0xe3, 0x23, 0xe6, 0x50, 0x1b, 0x86, 0xfd, 0x4e, 0x44,
-	0x35, 0x07, 0xa1, 0x22, 0x66, 0xe0, 0xf8, 0x58, 0xe7, 0x04, 0xf9, 0x3b, 0x41, 0xf1, 0x07, 0x4b,
-	0x36, 0xf6, 0x7f, 0x19, 0xe7, 0xbd, 0x13, 0x53, 0x3c, 0x09, 0x39, 0x57, 0x5e, 0x5b, 0x40, 0x34,
-	0x33, 0x77, 0x77, 0x1e, 0xe7, 0xdc, 0x9a, 0x5a, 0x8d, 0xb9, 0x9e, 0x07, 0xd7, 0xab, 0x30, 0x52,
-	0x73, 0xc3, 0x76, 0xd3, 0x39, 0x58, 0x4b, 0xb9, 0x33, 0xce, 0xc7, 0x45, 0x58, 0xc7, 0x43, 0x2f,
-	0x8b, 0x28, 0x47, 0x7e, 0x5f, 0x2c, 0x25, 0xa2, 0x1c, 0x0b, 0xb4, 0x79, 0x5a, 0x80, 0xe3, 0x6b,
-	0x30, 0x2a, 0x4f, 0x74, 0xc6, 0x25, 0xcf, 0x6a, 0xa9, 0xe8, 0xb7, 0x4d, 0xad, 0x0c, 0x1b, 0x98,
-	0x5d, 0x1e, 0xe9, 0xa1, 0xb3, 0xf7, 0x48, 0x7f, 0x12, 0xc6, 0xe4, 0x5f, 0x76, 0x9a, 0x97, 0x2e,
-	0xb2, 0xd6, 0x2b, 0x5b, 0xc6, 0xa6, 0x5e, 0x88, 0x4d, 0xdc, 0x78, 0xe9, 0x0d, 0xf7, 0xbb, 0xf4,
-	0x6e, 0x01, 0x6c, 0xf9, 0x1d, 0xaf, 0xe6, 0x04, 0x07, 0x77, 0xe7, 0x45, 0x3c, 0x89, 0xd2, 0x18,
-	0xcb, 0xaa, 0x04, 0x6b, 0x58, 0xfa, 0x72, 0x2d, 0x3e, 0x62, 0xb9, 0xbe, 0x0d, 0x45, 0x16, 0x7b,
-	0x43, 0x6a, 0xb3, 0x91, 0xf0, 0xec, 0x9e, 0x24, 0x4c, 0x43, 0x29, 0x0f, 0x15, 0x49, 0x04, 0xc7,
-	0xf4, 0xd0, 0x67, 0x00, 0xb6, 0x5d, 0xcf, 0x0d, 0x1b, 0x8c, 0xfa, 0xc8, 0x89, 0xa9, 0xab, 0x7e,
-	0x2e, 0x28, 0x2a, 0x58, 0xa3, 0x88, 0xde, 0x81, 0xf3, 0x24, 0x8c, 0xdc, 0x96, 0x13, 0x91, 0x9a,
-	0x0a, 0xfe, 0x2e, 0xb1, 0x8b, 0xae, 0x8a, 0x7e, 0xba, 0x93, 0x44, 0x78, 0x98, 0x06, 0xc4, 0xdd,
-	0x84, 0xd0, 0x6b, 0x50, 0x68, 0x07, 0x7e, 0x3d, 0x20, 0x61, 0x58, 0x9a, 0x64, 0xc3, 0x78, 0x55,
-	0x6a, 0xa6, 0x1b, 0x02, 0xfe, 0x50, 0xfb, 0x8d, 0x15, 0x36, 0xfa, 0x53, 0x0b, 0xce, 0x07, 0x84,
-	0xbb, 0xfb, 0x42, 0xd5, 0xb0, 0x4b, 0x4c, 0xea, 0x55, 0xb3, 0x78, 0x85, 0x2f, 0x37, 0xfb, 0x34,
-	0x4e, 0x72, 0xe1, 0xc7, 0x3d, 0x91, 0xbd, 0xef, 0x2a, 0x7f, 0x98, 0x06, 0xfc, 0xd2, 0xf7, 0xa6,
-	0xa6, 0xba, 0x53, 0x42, 0x28, 0xe2, 0x74, 0xe7, 0xfd, 0xf5, 0xef, 0x4d, 0x4d, 0xc8, 0xff, 0xf1,
-	0xa0, 0x75, 0x75, 0x92, 0x9e, 0x5e, 0x6d, 0xbf, 0x76, 0x77, 0x43, 0xb8, 0xe0, 0xd5, 0xe9, 0xb5,
-	0x41, 0x81, 0x98, 0x97, 0xa1, 0x97, 0xa0, 0x50, 0x73, 0x48, 0xcb, 0xf7, 0x48, 0xad, 0x34, 0x16,
-	0xfb, 0x38, 0xe6, 0x05, 0x0c, 0xab, 0x52, 0xd4, 0x84, 0x21, 0x97, 0x5d, 0xc3, 0x4a, 0xe7, 0xd8,
-	0xea, 0xc9, 0xe0, 0xee, 0xc7, 0xaf, 0x75, 0xfc, 0x19, 0x01, 0xff, 0x8d, 0x05, 0x0f, 0x5d, 0x76,
-	0x8f, 0x9f, 0x89, 0xec, 0xa6, 0x23, 0x51, 0x6d, 0xb8, 0xcd, 0x5a, 0x40, 0xbc, 0xd2, 0x04, 0x33,
-	0x6d, 0xb2, 0x91, 0x98, 0x13, 0x30, 0xac, 0x4a, 0xd1, 0x5f, 0x84, 0x31, 0xbf, 0x13, 0xb1, 0x4d,
-	0x4e, 0xe7, 0x3f, 0x2c, 0x9d, 0x67, 0xe8, 0xcc, 0x7b, 0xba, 0xae, 0x17, 0x60, 0x13, 0x8f, 0x0a,
-	0xdb, 0x86, 0x1f, 0x46, 0xf4, 0x0f, 0x13, 0xb6, 0x97, 0x4d, 0x61, 0xbb, 0xa4, 0x95, 0x61, 0x03,
-	0x13, 0x7d, 0xc3, 0x82, 0xf3, 0xad, 0xe4, 0x05, 0xa4, 0x74, 0x85, 0x8d, 0x4c, 0x25, 0x0b, 0x45,
-	0x35, 0x41, 0x9a, 0x07, 0x7d, 0x75, 0x81, 0x71, 0x77, 0x23, 0xd8, 0x03, 0xb6, 0xf0, 0xc0, 0xab,
-	0x36, 0x02, 0xdf, 0x33, 0x9b, 0xf7, 0x2c, 0x6b, 0xde, 0xdb, 0x19, 0xed, 0xb2, 0x34, 0x16, 0xe5,
-	0x67, 0x8f, 0x0e, 0xa7, 0x2e, 0xa5, 0x16, 0xe1, 0xf4, 0x46, 0x4d, 0xce, 0xc3, 0xe5, 0xf4, 0x9d,
-	0xfa, 0x28, 0x8d, 0x79, 0x40, 0xd7, 0x98, 0x17, 0xe0, 0xd9, 0x9e, 0x8d, 0xa2, 0x32, 0x5f, 0xaa,
-	0x57, 0x96, 0x29, 0xf3, 0xbb, 0xd4, 0xa1, 0x73, 0x30, 0xaa, 0x27, 0xf2, 0x60, 0xae, 0x6c, 0xed,
-	0xf1, 0x24, 0xbd, 0x64, 0xfb, 0x95, 0xcc, 0x7d, 0xc2, 0xeb, 0x95, 0x2e, 0x9f, 0xb0, 0x02, 0xe1,
-	0x98, 0x61, 0x3f, 0xae, 0xec, 0xd4, 0x97, 0x9e, 0x4f, 0xb9, 0xd9, 0x27, 0x76, 0x65, 0xff, 0xdb,
-	0x41, 0x88, 0x29, 0xa1, 0x97, 0xa1, 0x40, 0xbc, 0x5a, 0xdb, 0x77, 0xbd, 0x28, 0x69, 0x06, 0xb9,
-	0x23, 0xe0, 0x58, 0x61, 0x68, 0x8e, 0xef, 0xdc, 0xb1, 0x8e, 0xef, 0x1a, 0x8c, 0x3b, 0x2c, 0xf6,
-	0x35, 0x76, 0x5b, 0x0e, 0x9c, 0xd8, 0xcf, 0x30, 0x6b, 0x52, 0xc0, 0x49, 0x92, 0x94, 0x4b, 0x18,
-	0x57, 0x65, 0x5c, 0x06, 0x4f, 0xcc, 0xa5, 0x62, 0x52, 0xc0, 0x49, 0x92, 0xe8, 0x1d, 0x28, 0x55,
-	0xd9, 0x6b, 0x03, 0xde, 0xc7, 0xbb, 0xdb, 0x6b, 0x7e, 0xb4, 0x11, 0x90, 0x90, 0x78, 0xdc, 0xad,
-	0x5c, 0x28, 0xdf, 0x10, 0xa3, 0x50, 0x9a, 0xeb, 0x81, 0x87, 0x7b, 0x52, 0xa0, 0x5a, 0x1d, 0x73,
-	0x9a, 0xba, 0xd1, 0xc1, 0xa6, 0xbf, 0x43, 0x3c, 0xe1, 0x4a, 0x50, 0x5a, 0x5d, 0x45, 0x2f, 0xc4,
-	0x26, 0x2e, 0xfa, 0x79, 0x0b, 0xc6, 0x9a, 0xd2, 0xaa, 0x85, 0x3b, 0x4d, 0x99, 0x2a, 0x04, 0x67,
-	0xb2, 0xfc, 0x56, 0x74, 0xca, 0x5c, 0xe0, 0x1b, 0x20, 0x6c, 0xf2, 0xb6, 0xbf, 0x63, 0xc1, 0x44,
-	0xb2, 0x1a, 0xda, 0x81, 0x6b, 0x2d, 0x27, 0xd8, 0xb9, 0xeb, 0x6d, 0x07, 0x2c, 0xee, 0x2f, 0xe2,
-	0xb3, 0x3a, 0xbb, 0x1d, 0x91, 0x60, 0xde, 0x39, 0xe0, 0xd1, 0x3d, 0x79, 0x95, 0xdd, 0xe8, 0xda,
-	0xea, 0x71, 0xc8, 0xf8, 0x78, 0x5a, 0xa8, 0x02, 0x97, 0x28, 0xc2, 0x3c, 0x69, 0x12, 0x2a, 0xa1,
-	0x62, 0x26, 0x39, 0xc6, 0x44, 0xf9, 0xaf, 0x57, 0xd3, 0x90, 0x70, 0x7a, 0x5d, 0xfb, 0xdf, 0xe4,
-	0x40, 0x9e, 0x9f, 0x7f, 0xbe, 0x6d, 0xb2, 0xc8, 0x86, 0xa1, 0x80, 0xdd, 0x64, 0xc5, 0xf5, 0x8c,
-	0xa9, 0x32, 0xfc, 0x6e, 0x8b, 0x45, 0x09, 0x55, 0x2c, 0xc8, 0xbe, 0x1b, 0xcd, 0xf9, 0x35, 0x79,
-	0x29, 0x63, 0x8a, 0xc5, 0x1d, 0x01, 0xc3, 0xaa, 0xd4, 0xfe, 0x59, 0x0b, 0xc6, 0x68, 0x2f, 0x9b,
-	0x4d, 0xd2, 0xac, 0x44, 0xa4, 0x1d, 0xa2, 0x10, 0xf2, 0x21, 0xfd, 0x91, 0x9d, 0x89, 0x20, 0x0e,
-	0x38, 0x27, 0x6d, 0xcd, 0x18, 0x4a, 0x99, 0x60, 0xce, 0xcb, 0xfe, 0xaf, 0x39, 0x28, 0xaa, 0xc1,
-	0xee, 0xc3, 0xc2, 0x7a, 0x2b, 0x7e, 0xe2, 0xcd, 0x65, 0x60, 0x49, 0x7b, 0xde, 0x4d, 0x6f, 0x52,
-	0xb3, 0xde, 0x01, 0x7f, 0x31, 0x1a, 0xbf, 0xf5, 0x7e, 0xd9, 0xf4, 0x37, 0x5c, 0xd6, 0x8d, 0xd8,
-	0x1a, 0xbe, 0x70, 0x3c, 0xec, 0xeb, 0xee, 0x9e, 0xc1, 0xac, 0xce, 0x13, 0xe5, 0xd8, 0xe9, 0xed,
-	0xe7, 0x49, 0xe4, 0x29, 0xca, 0xf7, 0x95, 0xa7, 0xe8, 0x26, 0x0c, 0x12, 0xaf, 0xd3, 0x62, 0xd1,
-	0xce, 0x45, 0xa6, 0x49, 0x0d, 0xde, 0xf1, 0x3a, 0x2d, 0xb3, 0x67, 0x0c, 0xc5, 0xfe, 0x67, 0x16,
-	0x50, 0x7d, 0x7c, 0x71, 0x0e, 0xfd, 0x65, 0x28, 0x84, 0x42, 0x0b, 0x10, 0x43, 0xfd, 0x63, 0x2a,
-	0xa0, 0x4e, 0xc0, 0x1f, 0x1e, 0x4e, 0x8d, 0x31, 0x64, 0x09, 0xc0, 0xaa, 0x0a, 0x6a, 0xc2, 0x18,
-	0xb3, 0x23, 0x4a, 0x49, 0x2e, 0x2c, 0xbf, 0xb7, 0xfb, 0x7c, 0x33, 0xa4, 0x57, 0x15, 0x72, 0x4d,
-	0x07, 0x61, 0x93, 0xb8, 0xfd, 0xbb, 0x83, 0xa0, 0x99, 0xdb, 0xfa, 0x58, 0x22, 0xef, 0x25, 0x8c,
-	0xab, 0xab, 0x99, 0x18, 0x57, 0xa5, 0xc5, 0x92, 0x6f, 0x3b, 0xd3, 0x9e, 0x4a, 0x1b, 0xd5, 0x20,
-	0xcd, 0xb6, 0x58, 0x60, 0xaa, 0x51, 0x4b, 0xa4, 0xd9, 0xc6, 0xac, 0x44, 0x45, 0x5b, 0x0f, 0xf6,
-	0x8c, 0xb6, 0x6e, 0x40, 0xbe, 0xee, 0x74, 0xea, 0x44, 0x38, 0xd1, 0x33, 0xb0, 0xa3, 0xb3, 0xf0,
-	0x33, 0x6e, 0x47, 0x67, 0x3f, 0x31, 0x67, 0x40, 0x57, 0x78, 0x43, 0x3a, 0xe3, 0x84, 0x29, 0x25,
-	0x83, 0x15, 0xae, 0xfc, 0x7b, 0x7c, 0x85, 0xab, 0xbf, 0x38, 0x66, 0x46, 0x6f, 0x5a, 0x55, 0xfe,
-	0xd4, 0x50, 0x1c, 0x95, 0x77, 0xb3, 0x08, 0x27, 0x67, 0x04, 0xf9, 0x4d, 0x4b, 0xfc, 0xc1, 0x92,
-	0x8d, 0x3d, 0x03, 0x23, 0x5a, 0xc6, 0x1e, 0x3a, 0x0d, 0xea, 0x95, 0x9b, 0x36, 0x0d, 0xf3, 0x4e,
-	0xe4, 0x60, 0x56, 0x62, 0xff, 0xbd, 0x01, 0x50, 0x37, 0x5e, 0x3d, 0xf8, 0xd9, 0xa9, 0x6a, 0x4f,
-	0xdd, 0x8d, 0x57, 0x30, 0xbe, 0x87, 0x45, 0x29, 0x55, 0x27, 0x5a, 0x24, 0xa8, 0x2b, 0x1d, 0x5b,
-	0xc8, 0x28, 0xa5, 0x4e, 0xac, 0xea, 0x85, 0xd8, 0xc4, 0xa5, 0xba, 0x60, 0xcb, 0xf1, 0xdc, 0x6d,
-	0x12, 0x46, 0xc9, 0x18, 0x96, 0x55, 0x01, 0xc7, 0x0a, 0x03, 0x2d, 0xc2, 0xf9, 0x90, 0x44, 0xeb,
-	0x7b, 0x1e, 0x09, 0xd4, 0xeb, 0x1c, 0xf1, 0x5c, 0x4b, 0xc5, 0x75, 0x55, 0x92, 0x08, 0xb8, 0xbb,
-	0x0e, 0x9a, 0x87, 0x09, 0xf1, 0x52, 0x4a, 0x3d, 0x74, 0x11, 0xb2, 0x47, 0xe5, 0x58, 0xab, 0x24,
-	0xca, 0x71, 0x57, 0x0d, 0x4a, 0x65, 0xdb, 0x71, 0x9b, 0x9d, 0x80, 0xc4, 0x54, 0x86, 0x4c, 0x2a,
-	0x0b, 0x89, 0x72, 0xdc, 0x55, 0x83, 0x85, 0x16, 0x36, 0x9d, 0x7a, 0x58, 0x1a, 0xd6, 0x42, 0x0b,
-	0x29, 0x00, 0x73, 0xb8, 0xfd, 0x4f, 0x2c, 0x18, 0xc3, 0x24, 0x0a, 0x0e, 0x66, 0xb7, 0xb7, 0x5d,
-	0xcf, 0x8d, 0x0e, 0xd0, 0xaf, 0x58, 0x30, 0xe1, 0xf9, 0x35, 0x32, 0xeb, 0x45, 0xae, 0x04, 0x66,
-	0x97, 0xce, 0x84, 0xf1, 0x5a, 0x4b, 0x90, 0xe7, 0x8f, 0xae, 0x92, 0x50, 0xdc, 0xd5, 0x0c, 0xfb,
-	0x0a, 0x5c, 0x4a, 0x25, 0x60, 0x7f, 0x67, 0x40, 0x74, 0x43, 0x4d, 0xfe, 0x1b, 0x90, 0x6f, 0xb2,
-	0x07, 0x68, 0xd6, 0x63, 0xe6, 0x47, 0x60, 0x63, 0xc5, 0x5f, 0xa8, 0x71, 0x4a, 0x68, 0x1e, 0x46,
-	0x02, 0xca, 0x43, 0x3c, 0x0f, 0xe4, 0x4b, 0xd1, 0x8e, 0xf3, 0xbd, 0xa9, 0xa2, 0x87, 0xe6, 0x5f,
-	0xac, 0x57, 0x43, 0xef, 0xc3, 0xf0, 0x16, 0x4f, 0xf9, 0x90, 0x9d, 0x61, 0x5b, 0xe4, 0x90, 0x60,
-	0x27, 0xb1, 0x4c, 0x28, 0xf1, 0x30, 0xfe, 0x89, 0x25, 0x47, 0x74, 0x00, 0x05, 0x47, 0xce, 0xe9,
-	0x60, 0x56, 0xc1, 0x68, 0xc6, 0xfa, 0xe1, 0xfa, 0x91, 0x9a, 0x43, 0xc5, 0x8e, 0x1e, 0xc6, 0x24,
-	0x4e, 0x79, 0x97, 0x38, 0x8c, 0xb5, 0x74, 0x77, 0x1a, 0x96, 0xfd, 0x2d, 0x0b, 0x20, 0x4e, 0x06,
-	0x85, 0xf6, 0xa1, 0x10, 0xde, 0x36, 0x2e, 0xa6, 0x59, 0xbc, 0xef, 0x11, 0x14, 0xb5, 0x18, 0x78,
-	0x01, 0xc1, 0x8a, 0xdb, 0xa3, 0x2e, 0xd3, 0xff, 0xd3, 0x82, 0x8b, 0x69, 0x49, 0xab, 0x9e, 0x62,
-	0x8b, 0x4f, 0x7a, 0x8f, 0x16, 0x15, 0x36, 0x02, 0xb2, 0xed, 0xee, 0x27, 0x5d, 0xda, 0xcb, 0xb2,
-	0x00, 0xc7, 0x38, 0xf6, 0xd7, 0xf3, 0xa0, 0x18, 0x9f, 0xd2, 0xbd, 0xfb, 0x45, 0xaa, 0xa1, 0xd7,
-	0xe3, 0x54, 0x24, 0x0a, 0x0f, 0x33, 0x28, 0x16, 0xa5, 0x54, 0x4b, 0x97, 0xc1, 0xba, 0x42, 0x64,
-	0xb3, 0x55, 0x28, 0xe3, 0x7a, 0xb1, 0x2a, 0x4d, 0xbb, 0xc9, 0xe7, 0xcf, 0xe4, 0x26, 0x3f, 0x94,
-	0xfd, 0x4d, 0xfe, 0x26, 0x0c, 0x07, 0x7e, 0x93, 0xcc, 0xe2, 0x35, 0xe1, 0x06, 0x89, 0x53, 0xe8,
-	0x70, 0x30, 0x96, 0xe5, 0xe8, 0x55, 0x18, 0xe9, 0x84, 0xa4, 0x32, 0xbf, 0x3c, 0x17, 0x90, 0x5a,
-	0x28, 0xe2, 0x9f, 0x95, 0x3b, 0xea, 0x5e, 0x5c, 0x84, 0x75, 0x3c, 0xf4, 0xdb, 0xd6, 0x31, 0xc6,
-	0x82, 0x62, 0x56, 0x67, 0x42, 0x6a, 0xf2, 0x83, 0xf2, 0xd5, 0xc7, 0xb3, 0x40, 0xd8, 0x5f, 0xb5,
-	0xe0, 0x5c, 0xa5, 0x1a, 0xb8, 0xed, 0x38, 0x99, 0x45, 0xd6, 0xb9, 0x36, 0x5e, 0x54, 0xef, 0x9d,
-	0x12, 0xcb, 0xd7, 0x7c, 0xa1, 0x64, 0xbf, 0x0b, 0x13, 0x15, 0xd2, 0x72, 0xda, 0x0d, 0x16, 0x3e,
-	0xce, 0xdd, 0xb7, 0x33, 0x50, 0x0c, 0x25, 0x2c, 0x99, 0xac, 0x4c, 0x21, 0xe3, 0x18, 0x07, 0xbd,
-	0xc0, 0x5d, 0xcd, 0x32, 0xf0, 0xaf, 0xc8, 0xf5, 0x32, 0xee, 0x9f, 0x0e, 0xb1, 0x2c, 0xb3, 0xf7,
-	0x60, 0x34, 0xae, 0x4e, 0xb6, 0x51, 0x1d, 0xc6, 0xab, 0x5a, 0x84, 0x68, 0x1c, 0xd2, 0xd6, 0x7f,
-	0x30, 0x29, 0x5b, 0x85, 0x73, 0x26, 0x11, 0x9c, 0xa4, 0x6a, 0xff, 0x62, 0x0e, 0xc6, 0x15, 0x67,
-	0x61, 0x44, 0xfd, 0x30, 0xe9, 0x1e, 0xc7, 0x59, 0xbc, 0xc3, 0x34, 0x47, 0xf2, 0x18, 0x17, 0xf9,
-	0x87, 0x49, 0x17, 0xf9, 0xa9, 0xb2, 0xef, 0xb2, 0x0b, 0x7f, 0x2b, 0x07, 0x05, 0xf5, 0x2a, 0xf4,
-	0x0d, 0xc8, 0x33, 0xd5, 0xf9, 0xc9, 0xf4, 0x10, 0xa6, 0x86, 0x63, 0x4e, 0x89, 0x92, 0x64, 0xbe,
-	0xc1, 0xc7, 0x4e, 0xfd, 0x54, 0xe4, 0x56, 0x03, 0x27, 0x88, 0x30, 0xa7, 0x84, 0x96, 0x61, 0x80,
-	0x78, 0x35, 0xa1, 0x90, 0x9c, 0x9c, 0x20, 0x4b, 0xd4, 0x77, 0xc7, 0xab, 0x61, 0x4a, 0x85, 0xe5,
-	0x49, 0xe1, 0xe7, 0xce, 0xa0, 0xb9, 0x3d, 0xc4, 0xa1, 0x23, 0x4a, 0xed, 0x9f, 0x1f, 0x80, 0xa1,
-	0x4a, 0x67, 0x8b, 0xaa, 0x56, 0xbf, 0x6e, 0xc1, 0x85, 0xbd, 0x44, 0x5a, 0xa0, 0x78, 0xc9, 0xde,
-	0xcb, 0x3e, 0xe7, 0x12, 0x26, 0xdb, 0xe5, 0xe7, 0x44, 0xbb, 0x2e, 0xa4, 0x14, 0xe2, 0xb4, 0xe6,
-	0x18, 0x29, 0x54, 0x06, 0x4e, 0x29, 0xd9, 0xd4, 0xe9, 0x06, 0xe6, 0x8d, 0xf5, 0x0c, 0xca, 0xfb,
-	0xb3, 0x41, 0x00, 0x3e, 0x1b, 0xeb, 0xed, 0xa8, 0x1f, 0xb3, 0xc0, 0x6b, 0x30, 0x2a, 0xb3, 0xbd,
-	0xaf, 0xc5, 0xc1, 0x10, 0xca, 0x21, 0xb6, 0xa8, 0x95, 0x61, 0x03, 0x93, 0xa9, 0x82, 0x5e, 0x14,
-	0x1c, 0x70, 0x75, 0x61, 0x30, 0xa1, 0x0a, 0xaa, 0x12, 0xac, 0x61, 0xa1, 0x69, 0xc3, 0x54, 0xc9,
-	0x9f, 0xaf, 0x9f, 0x3b, 0xc6, 0xb2, 0xf8, 0x49, 0x18, 0x53, 0xff, 0x16, 0xdc, 0x26, 0x49, 0x1a,
-	0xa2, 0x37, 0xf4, 0x42, 0x6c, 0xe2, 0xa2, 0x4f, 0xc1, 0x39, 0xf3, 0x15, 0x9a, 0x38, 0x60, 0xd5,
-	0x1b, 0x50, 0xf3, 0xf1, 0x1a, 0x4e, 0x60, 0xd3, 0x1d, 0x50, 0x0b, 0x0e, 0x70, 0xc7, 0x13, 0x27,
-	0xad, 0xda, 0x01, 0xf3, 0x0c, 0x8a, 0x45, 0x29, 0x1d, 0x42, 0x5a, 0x93, 0x04, 0x1c, 0x2e, 0x9e,
-	0x11, 0xa9, 0x21, 0xac, 0x68, 0x65, 0xd8, 0xc0, 0xa4, 0x1c, 0x84, 0x4d, 0x06, 0xcc, 0x3d, 0x96,
-	0x30, 0xa4, 0xb4, 0xe1, 0x9c, 0x6f, 0x5e, 0x69, 0x79, 0xf8, 0xc0, 0xc7, 0xfb, 0x5c, 0xb7, 0x46,
-	0x5d, 0x1e, 0xf6, 0x9e, 0xb8, 0x01, 0x27, 0xe8, 0x53, 0x55, 0x43, 0x0f, 0x0f, 0x1c, 0x35, 0x23,
-	0x5f, 0x7a, 0x45, 0xf0, 0xd9, 0x17, 0xe0, 0x7c, 0xa5, 0xd3, 0x6e, 0x37, 0x5d, 0x52, 0x53, 0xb6,
-	0x3c, 0xfb, 0xa7, 0x60, 0x5c, 0x64, 0x48, 0x51, 0x67, 0xf9, 0x89, 0xd2, 0xe4, 0xd9, 0x7f, 0x6a,
-	0xc1, 0x78, 0xc2, 0xcf, 0x87, 0xde, 0x4f, 0x9e, 0xc0, 0x99, 0x98, 0x66, 0xf5, 0xc3, 0x97, 0xef,
-	0xb2, 0xd4, 0xd3, 0xbc, 0x21, 0xa3, 0xd2, 0x32, 0x0b, 0xee, 0x64, 0xb1, 0x5b, 0x5c, 0xa4, 0xeb,
-	0xa1, 0x6d, 0xf6, 0x57, 0x72, 0x90, 0xee, 0x5c, 0x45, 0x9f, 0xef, 0x1e, 0x80, 0x37, 0x32, 0x1c,
-	0x00, 0xe1, 0xdd, 0xed, 0x3d, 0x06, 0x9e, 0x39, 0x06, 0xab, 0x19, 0x8d, 0x81, 0xe0, 0xdb, 0x3d,
-	0x12, 0x7f, 0x62, 0xc1, 0xc8, 0xe6, 0xe6, 0x8a, 0x32, 0x0d, 0x60, 0xb8, 0x1c, 0xf2, 0x37, 0x1a,
-	0xcc, 0x2b, 0x32, 0xe7, 0xb7, 0xda, 0xdc, 0x49, 0x22, 0x9c, 0x37, 0x2c, 0x59, 0x4d, 0x25, 0x15,
-	0x03, 0xf7, 0xa8, 0x89, 0xee, 0xc2, 0x05, 0xbd, 0x44, 0x18, 0x78, 0x84, 0xa3, 0x86, 0xbf, 0x5a,
-	0xec, 0x2e, 0xc6, 0x69, 0x75, 0x92, 0xa4, 0x84, 0x95, 0x47, 0x7c, 0x47, 0xa0, 0x8b, 0x94, 0x28,
-	0xc6, 0x69, 0x75, 0xec, 0x75, 0x18, 0xd1, 0xbe, 0x6a, 0x81, 0x3e, 0x0d, 0x13, 0x55, 0xbf, 0x25,
-	0x6f, 0xd7, 0x2b, 0x64, 0x97, 0x34, 0x45, 0x97, 0x99, 0x01, 0x66, 0x2e, 0x51, 0x86, 0xbb, 0xb0,
-	0xed, 0x2f, 0x5d, 0x07, 0x15, 0x4e, 0xde, 0xc7, 0x11, 0xd1, 0x56, 0x61, 0x27, 0xf9, 0x8c, 0xc3,
-	0x4e, 0x94, 0xbc, 0x4b, 0x84, 0x9e, 0x44, 0x71, 0xe8, 0xc9, 0x50, 0xd6, 0xa1, 0x27, 0x4a, 0xe3,
-	0xeb, 0x0a, 0x3f, 0xf9, 0x25, 0x0b, 0x46, 0x3d, 0xbf, 0x46, 0x94, 0x01, 0x7f, 0x98, 0xa9, 0x9d,
-	0xef, 0x64, 0x17, 0x4f, 0xc7, 0xc3, 0x28, 0x04, 0x79, 0x1e, 0x9c, 0xa4, 0x8e, 0x09, 0xbd, 0x08,
-	0x1b, 0xed, 0x40, 0x0b, 0x9a, 0xbd, 0x87, 0x67, 0x44, 0xb9, 0x9a, 0xa6, 0xfe, 0x3f, 0xd2, 0x78,
-	0xb3, 0xaf, 0x29, 0x3e, 0xc5, 0xac, 0xec, 0x18, 0x32, 0xc2, 0x5a, 0x33, 0xcb, 0xca, 0x7c, 0x4b,
-	0xb1, 0x42, 0x64, 0xc3, 0x10, 0x8f, 0x62, 0x12, 0xdf, 0x57, 0x60, 0xde, 0x02, 0x1e, 0xe1, 0x84,
-	0x45, 0x09, 0x8a, 0xa4, 0xa3, 0x6d, 0x24, 0xab, 0x34, 0x85, 0x86, 0x23, 0x2f, 0xdd, 0xd3, 0x86,
-	0x5e, 0xd7, 0x6f, 0x95, 0xa3, 0xfd, 0xdc, 0x2a, 0xc7, 0x7a, 0xde, 0x28, 0xbf, 0x66, 0xc1, 0x68,
-	0x55, 0xcb, 0xc3, 0x58, 0x7a, 0x29, 0xab, 0x64, 0xa3, 0x69, 0xd9, 0x1d, 0xf9, 0x7b, 0x25, 0xbd,
-	0x04, 0x1b, 0xdc, 0x59, 0x42, 0x0f, 0x76, 0x85, 0x66, 0x61, 0x65, 0x23, 0xb7, 0x36, 0x32, 0x38,
-	0x1e, 0x8c, 0x2b, 0x39, 0x9f, 0x46, 0x0e, 0xc3, 0x82, 0x17, 0xfa, 0x00, 0x0a, 0x32, 0x10, 0x4e,
-	0x84, 0xa9, 0xe1, 0x2c, 0x8c, 0x93, 0xa6, 0xeb, 0x41, 0xa6, 0x01, 0xe0, 0x50, 0xac, 0x38, 0xa2,
-	0x06, 0x0c, 0xd4, 0x9c, 0xba, 0x08, 0x58, 0x5b, 0xcd, 0x26, 0xcb, 0x8a, 0xe4, 0xc9, 0xee, 0x47,
-	0xf3, 0xb3, 0x8b, 0x98, 0xb2, 0x40, 0xfb, 0x71, 0x3a, 0xb8, 0x89, 0xcc, 0x4e, 0x5f, 0x53, 0x4d,
-	0xe2, 0x46, 0x82, 0xae, 0xec, 0x72, 0x35, 0xe1, 0xad, 0xf9, 0xff, 0x18, 0xdb, 0x85, 0x6c, 0xd2,
-	0xb4, 0xf0, 0xa7, 0x8d, 0xb1, 0xc7, 0x87, 0x72, 0x61, 0x1f, 0xe2, 0xf8, 0x89, 0xac, 0xb8, 0x2c,
-	0x6d, 0x6e, 0x6e, 0x74, 0x7d, 0x80, 0xe3, 0x0e, 0x0c, 0xf3, 0x84, 0x9e, 0x3c, 0x84, 0x6f, 0xe4,
-	0xd6, 0x64, 0xef, 0xb4, 0xa0, 0xb1, 0xe8, 0xe6, 0xff, 0x43, 0x2c, 0xeb, 0xa2, 0x5f, 0xb4, 0xe0,
-	0x1c, 0x95, 0x71, 0x71, 0x06, 0xd2, 0x12, 0xca, 0x4a, 0x8a, 0xdc, 0x0b, 0xa9, 0x8e, 0x20, 0x77,
-	0xbf, 0xba, 0x3c, 0xdc, 0x35, 0xd8, 0xe1, 0x04, 0x7b, 0xf4, 0x21, 0x14, 0x42, 0xb7, 0x46, 0xaa,
-	0x4e, 0x10, 0x96, 0x2e, 0x9c, 0x4e, 0x53, 0x62, 0xc3, 0xb1, 0x60, 0x84, 0x15, 0x4b, 0xf4, 0xb7,
-	0x58, 0xbe, 0x70, 0xf1, 0x6d, 0x07, 0xf1, 0xd9, 0xa1, 0x8b, 0xa7, 0xf6, 0xd9, 0x21, 0x6e, 0x4f,
-	0x35, 0xd9, 0xe1, 0x24, 0x7f, 0xf4, 0xd7, 0x2c, 0xb8, 0xc4, 0xf3, 0xe2, 0x25, 0x93, 0x22, 0x5e,
-	0x7a, 0x4c, 0x8b, 0x05, 0x8b, 0x3d, 0x9c, 0x4d, 0x23, 0x89, 0xd3, 0x39, 0xb1, 0x44, 0x3e, 0x81,
-	0xee, 0x62, 0x62, 0x11, 0xa0, 0xd9, 0x39, 0x50, 0xd4, 0x57, 0x8c, 0x98, 0x07, 0xdf, 0x00, 0x61,
-	0x93, 0x31, 0x7a, 0x05, 0x46, 0xda, 0xe2, 0x80, 0x72, 0xc3, 0x16, 0x8b, 0x24, 0x1d, 0xe0, 0xd1,
-	0xf6, 0x1b, 0x31, 0x18, 0xeb, 0x38, 0x46, 0x56, 0xa7, 0x9b, 0xc7, 0x65, 0x75, 0x42, 0xf7, 0x60,
-	0x24, 0xf2, 0x9b, 0x24, 0x10, 0xf7, 0xb7, 0x12, 0x5b, 0x81, 0xd7, 0xd3, 0xf6, 0xd6, 0xa6, 0x42,
-	0x8b, 0xef, 0x77, 0x31, 0x2c, 0xc4, 0x3a, 0x1d, 0x16, 0x18, 0x26, 0xf2, 0x0d, 0x06, 0xcc, 0x5c,
-	0xf0, 0x6c, 0x22, 0x30, 0x4c, 0x2f, 0xc4, 0x26, 0x2e, 0x5a, 0x84, 0xf3, 0xed, 0xc0, 0xf5, 0x03,
-	0x37, 0x3a, 0x98, 0x6b, 0x3a, 0x61, 0xc8, 0x08, 0xf0, 0x58, 0x72, 0xe5, 0x9b, 0xdd, 0x48, 0x22,
-	0xe0, 0xee, 0x3a, 0x74, 0x18, 0x24, 0xb0, 0xf4, 0x1c, 0xd3, 0x7c, 0x47, 0x79, 0x1c, 0x3a, 0x87,
-	0x61, 0x55, 0xda, 0x23, 0xc7, 0xd1, 0xd5, 0xc7, 0xc9, 0x71, 0x84, 0x6a, 0x70, 0xd5, 0xe9, 0x44,
-	0x3e, 0x7b, 0x2c, 0x6b, 0x56, 0xe1, 0x31, 0x72, 0x37, 0x78, 0xd8, 0xdd, 0xd1, 0xe1, 0xd4, 0xd5,
-	0xd9, 0x63, 0xf0, 0xf0, 0xb1, 0x54, 0xd0, 0xe7, 0xa0, 0x40, 0x44, 0x9e, 0xa6, 0xd2, 0x8f, 0x65,
-	0x75, 0x6c, 0x9b, 0x99, 0x9f, 0x64, 0xf0, 0x13, 0x87, 0x61, 0xc5, 0x0f, 0x6d, 0xc2, 0x48, 0xc3,
-	0x0f, 0xa3, 0xd9, 0xa6, 0xeb, 0x84, 0x24, 0x2c, 0x5d, 0x63, 0x8b, 0x26, 0x55, 0x1b, 0x5a, 0x92,
-	0x68, 0xf1, 0x9a, 0x59, 0x8a, 0x6b, 0x62, 0x9d, 0x0c, 0x22, 0xcc, 0x8d, 0xc2, 0x02, 0x04, 0xa9,
-	0xec, 0x22, 0xfb, 0x51, 0xe9, 0x3a, 0xeb, 0xd8, 0x8b, 0x69, 0x94, 0x37, 0xfc, 0x5a, 0xc5, 0xc4,
-	0x56, 0x7e, 0x14, 0x1d, 0x88, 0x93, 0x34, 0xd1, 0x6b, 0x30, 0xda, 0xf6, 0x6b, 0x95, 0x36, 0xa9,
-	0x6e, 0x38, 0x51, 0xb5, 0x51, 0x9a, 0x32, 0x0d, 0x59, 0x1b, 0x5a, 0x19, 0x36, 0x30, 0x51, 0x1b,
-	0x86, 0x5b, 0xfc, 0x9d, 0x5c, 0xe9, 0xf9, 0xac, 0x6e, 0x1b, 0xe2, 0xe1, 0x1d, 0x3f, 0xc1, 0xc5,
-	0x1f, 0x2c, 0xd9, 0xa0, 0x7f, 0x68, 0xc1, 0x78, 0x22, 0x36, 0xba, 0xf4, 0xe3, 0x99, 0x29, 0x11,
-	0x26, 0xe1, 0xf2, 0x8b, 0x6c, 0xf8, 0x4c, 0xe0, 0xc3, 0x6e, 0x10, 0x4e, 0xb6, 0x88, 0x8f, 0x0b,
-	0x7b, 0xec, 0x5a, 0x7a, 0x21, 0xbb, 0x71, 0x61, 0x04, 0xe5, 0xb8, 0xb0, 0x3f, 0x58, 0xb2, 0x41,
-	0x37, 0x61, 0x58, 0xa4, 0x5f, 0x28, 0xbd, 0x68, 0xfa, 0xc2, 0x44, 0x96, 0x06, 0x2c, 0xcb, 0x27,
-	0x7f, 0x0a, 0xce, 0x77, 0x5d, 0xa6, 0x4e, 0xf4, 0xe2, 0xf2, 0x97, 0x2d, 0xd0, 0x9f, 0x35, 0x65,
-	0x9e, 0xac, 0xf4, 0x35, 0x18, 0xad, 0xf2, 0x4c, 0xf9, 0xfc, 0x61, 0xd4, 0xa0, 0x69, 0x15, 0x9c,
-	0xd3, 0xca, 0xb0, 0x81, 0x69, 0x2f, 0x01, 0xea, 0xce, 0x5c, 0x97, 0xf0, 0xbc, 0x5b, 0x7d, 0x79,
-	0xde, 0x7f, 0xc3, 0x82, 0x31, 0x43, 0x67, 0xc8, 0xdc, 0x89, 0xb6, 0x00, 0xa8, 0xe5, 0x06, 0x81,
-	0x1f, 0xe8, 0x49, 0xda, 0x45, 0xaa, 0x2e, 0x96, 0xc6, 0x64, 0xb5, 0xab, 0x14, 0xa7, 0xd4, 0xb0,
-	0x7f, 0x6f, 0x00, 0xe2, 0xe8, 0x3f, 0x95, 0xc0, 0xc8, 0xea, 0x99, 0xc0, 0xe8, 0x65, 0x28, 0xbc,
-	0x1b, 0xfa, 0xde, 0x46, 0x9c, 0xe6, 0x48, 0xcd, 0xc5, 0xeb, 0x95, 0xf5, 0x35, 0x86, 0xa9, 0x30,
-	0x18, 0xf6, 0x7b, 0x0b, 0x6e, 0x33, 0xea, 0xce, 0x83, 0xf3, 0xfa, 0x1b, 0x1c, 0x8e, 0x15, 0x06,
-	0x4b, 0x23, 0xbf, 0x4b, 0x94, 0xb9, 0x38, 0x4e, 0x23, 0xcf, 0x93, 0x52, 0xb2, 0x32, 0x34, 0x03,
-	0x45, 0x65, 0x6d, 0x16, 0xc6, 0x6f, 0x35, 0x52, 0xca, 0x2a, 0x8d, 0x63, 0x1c, 0xa6, 0x10, 0x0a,
-	0xd3, 0xa8, 0x30, 0x6a, 0x54, 0xb2, 0xb8, 0x30, 0x24, 0x8c, 0xad, 0x5c, 0xb6, 0x4b, 0x30, 0x56,
-	0x2c, 0xf5, 0x08, 0xd1, 0x7c, 0xbf, 0x11, 0xa2, 0xe6, 0x92, 0x2b, 0xf4, 0xb5, 0xe4, 0xbe, 0x3c,
-	0x00, 0xc3, 0xf7, 0x49, 0xc0, 0x72, 0xa6, 0xdd, 0x84, 0xe1, 0x5d, 0xfe, 0x33, 0xf9, 0x0a, 0x43,
-	0x60, 0x60, 0x59, 0x4e, 0x87, 0x73, 0xab, 0xe3, 0x36, 0x6b, 0xf3, 0xf1, 0xe6, 0x52, 0xc3, 0x59,
-	0x96, 0x05, 0x38, 0xc6, 0xa1, 0x15, 0xea, 0x54, 0xe1, 0x6e, 0xb5, 0xdc, 0x28, 0x19, 0xe8, 0xb0,
-	0x28, 0x0b, 0x70, 0x8c, 0x83, 0x5e, 0x84, 0xa1, 0xba, 0x1b, 0x6d, 0x3a, 0xf5, 0xa4, 0x3f, 0x6b,
-	0x91, 0x41, 0xb1, 0x28, 0x65, 0x0e, 0x11, 0x37, 0xda, 0x0c, 0x08, 0x33, 0x81, 0x76, 0x3d, 0xc7,
-	0x5c, 0xd4, 0xca, 0xb0, 0x81, 0xc9, 0x9a, 0xe4, 0x8b, 0x9e, 0x09, 0x47, 0x45, 0xdc, 0x24, 0x59,
-	0x80, 0x63, 0x1c, 0xba, 0x2c, 0xab, 0x7e, 0xab, 0xed, 0x36, 0x45, 0xe0, 0x9f, 0xb6, 0x2c, 0xe7,
-	0x04, 0x1c, 0x2b, 0x0c, 0x8a, 0x4d, 0x25, 0x0b, 0x95, 0x0a, 0xc9, 0x4c, 0xda, 0x1b, 0x02, 0x8e,
-	0x15, 0x86, 0x7d, 0x1f, 0xc6, 0xf8, 0x06, 0x9b, 0x6b, 0x3a, 0x6e, 0x6b, 0x71, 0x0e, 0xdd, 0xe9,
-	0x8a, 0x6e, 0xbd, 0x99, 0x12, 0xdd, 0x7a, 0xc9, 0xa8, 0xd4, 0x1d, 0xe5, 0x6a, 0x7f, 0x37, 0x07,
-	0x85, 0x33, 0xfc, 0x18, 0x41, 0xdb, 0xf8, 0x18, 0x41, 0xd6, 0x29, 0xe9, 0xd3, 0x3e, 0x44, 0xb0,
-	0x9f, 0xf8, 0x10, 0xc1, 0x46, 0x96, 0x01, 0xdf, 0xc7, 0x7e, 0x84, 0xe0, 0x87, 0x16, 0x5c, 0x94,
-	0xa8, 0x4c, 0xd6, 0x94, 0x5d, 0x8f, 0x79, 0xc2, 0x4f, 0x7f, 0x98, 0x3f, 0x30, 0x86, 0xf9, 0xad,
-	0xec, 0xba, 0xac, 0xf7, 0xa3, 0xe7, 0x17, 0x72, 0x7e, 0x60, 0x41, 0x29, 0xad, 0xc2, 0x19, 0x7c,
-	0x85, 0xe1, 0x7d, 0xf3, 0x2b, 0x0c, 0xf7, 0x4f, 0xa7, 0xe7, 0x3d, 0xbe, 0xc6, 0xf0, 0xc3, 0x1e,
-	0xfd, 0x66, 0x9f, 0x3e, 0x68, 0xca, 0x53, 0xc8, 0xca, 0xca, 0xc7, 0xc4, 0x59, 0xa4, 0x1f, 0x67,
-	0x4d, 0x18, 0x0a, 0x99, 0xdb, 0x58, 0x2c, 0x81, 0xa5, 0x2c, 0xce, 0x26, 0x4a, 0x4f, 0xd8, 0x08,
-	0xd9, 0x6f, 0x2c, 0x78, 0xd8, 0xff, 0xde, 0x82, 0xd1, 0x33, 0xfc, 0xd4, 0x86, 0x6f, 0x4e, 0xf2,
-	0xeb, 0xd9, 0x4d, 0x72, 0x8f, 0x89, 0xfd, 0x6f, 0xd7, 0xc0, 0xf8, 0xaa, 0x05, 0x7a, 0x1f, 0x8a,
-	0x52, 0x31, 0x94, 0x0f, 0x49, 0x5e, 0xcf, 0xce, 0xad, 0x10, 0x1f, 0x33, 0x12, 0x12, 0xe2, 0x98,
-	0x5f, 0xc2, 0x51, 0x9f, 0xeb, 0xcb, 0x51, 0xff, 0x74, 0x53, 0xed, 0xa7, 0x5f, 0xdb, 0x07, 0x4f,
-	0xe5, 0xda, 0x7e, 0x35, 0xf3, 0x6b, 0xfb, 0xb5, 0x33, 0xbe, 0xb6, 0x6b, 0x36, 0xd4, 0xfc, 0x13,
-	0xd8, 0x50, 0xdf, 0x87, 0x8b, 0xbb, 0xf1, 0xe1, 0xaf, 0x56, 0x92, 0xf8, 0x62, 0xc0, 0xcd, 0xd4,
-	0xcb, 0x3a, 0x55, 0x64, 0xc2, 0x88, 0x78, 0x91, 0xa6, 0x36, 0xa8, 0xc4, 0x00, 0x17, 0xef, 0xa7,
-	0x90, 0xc3, 0xa9, 0x4c, 0x92, 0xc6, 0xb0, 0xe1, 0x3e, 0x8c, 0x61, 0xff, 0xb8, 0xe7, 0x67, 0x3b,
-	0x0b, 0xa7, 0xfb, 0xd9, 0xce, 0x67, 0x4f, 0xfc, 0xc9, 0xce, 0x17, 0x62, 0x5f, 0x01, 0x0f, 0x0e,
-	0x49, 0x37, 0xec, 0xff, 0x6a, 0xd2, 0x01, 0x09, 0x6c, 0xe8, 0x3f, 0x9b, 0xad, 0xd6, 0x93, 0x81,
-	0x13, 0x72, 0xe4, 0x09, 0x9c, 0x90, 0x09, 0xcb, 0xe4, 0x68, 0x46, 0x96, 0x49, 0x0f, 0x26, 0xdc,
-	0x96, 0x53, 0x27, 0x1b, 0x9d, 0x66, 0x93, 0x47, 0xd6, 0xca, 0xcf, 0x19, 0xa4, 0x86, 0x4a, 0xae,
-	0xf8, 0x55, 0xa7, 0x99, 0xfc, 0x8a, 0x8b, 0x7a, 0x93, 0x71, 0x37, 0x41, 0x09, 0x77, 0xd1, 0xa6,
-	0x0b, 0x96, 0xa5, 0x07, 0x20, 0x11, 0x1d, 0x6d, 0xe6, 0xe9, 0x12, 0xdf, 0x57, 0x5e, 0x8a, 0xc1,
-	0x58, 0xc7, 0x41, 0xcb, 0x50, 0xac, 0x79, 0xa1, 0x78, 0x77, 0x30, 0xce, 0x84, 0xd9, 0xc7, 0xa8,
-	0x08, 0x9c, 0x5f, 0xab, 0xa8, 0x17, 0x07, 0x57, 0x53, 0x32, 0x4f, 0xa8, 0x72, 0x1c, 0xd7, 0x47,
-	0xab, 0x8c, 0x98, 0xc8, 0x48, 0xcb, 0x1d, 0x50, 0x37, 0x7a, 0xd8, 0xd3, 0xe6, 0xd7, 0x64, 0x4e,
-	0xdd, 0x31, 0xc1, 0x4e, 0xa4, 0x96, 0x8d, 0x29, 0x68, 0x9f, 0x95, 0x38, 0x7f, 0xec, 0x67, 0x25,
-	0x58, 0xca, 0x99, 0xa8, 0xa9, 0xac, 0xe7, 0xd7, 0x33, 0x4b, 0x39, 0x13, 0x87, 0x76, 0x88, 0x94,
-	0x33, 0x31, 0x00, 0xeb, 0x2c, 0xd1, 0x7a, 0x2f, 0x2f, 0xc2, 0x05, 0x26, 0x34, 0x4e, 0xee, 0x13,
-	0xd0, 0xcd, 0xc9, 0x17, 0x8f, 0x35, 0x27, 0x77, 0x99, 0xbf, 0x2f, 0x9d, 0xc0, 0xfc, 0xdd, 0x60,
-	0xc9, 0x40, 0x16, 0xe7, 0x84, 0xc7, 0x21, 0x03, 0x85, 0x8e, 0xbd, 0x44, 0xe4, 0xa1, 0x32, 0xec,
-	0x27, 0xe6, 0x0c, 0xd0, 0x06, 0x5c, 0x6c, 0xfb, 0xb5, 0x2e, 0x53, 0x3a, 0x73, 0x31, 0xc4, 0x79,
-	0x5b, 0x2e, 0x6e, 0xa4, 0xe0, 0xe0, 0xd4, 0x9a, 0x4c, 0x3c, 0xc7, 0x70, 0x96, 0x55, 0x26, 0x2f,
-	0xc4, 0x73, 0x0c, 0xc6, 0x3a, 0x4e, 0xd2, 0x98, 0xfc, 0xec, 0xa9, 0x19, 0x93, 0x27, 0xcf, 0xc0,
-	0x98, 0xfc, 0x5c, 0xdf, 0xc6, 0xe4, 0x0f, 0xe1, 0x42, 0xdb, 0xaf, 0xcd, 0xbb, 0x61, 0xd0, 0x61,
-	0x21, 0xf0, 0xe5, 0x4e, 0xad, 0x4e, 0x22, 0x66, 0x8d, 0x1e, 0xb9, 0x75, 0x4b, 0x6f, 0x64, 0x9b,
-	0x6d, 0xe4, 0xe9, 0xdd, 0x57, 0xb6, 0x48, 0xc4, 0x27, 0x33, 0x59, 0x8b, 0x5d, 0x98, 0x58, 0xac,
-	0x50, 0x4a, 0x21, 0x4e, 0xe3, 0xa3, 0xdb, 0xb2, 0x6f, 0x9c, 0x8d, 0x2d, 0xfb, 0xd3, 0x50, 0x08,
-	0x1b, 0x9d, 0xa8, 0xe6, 0xef, 0x79, 0xcc, 0x61, 0x51, 0x54, 0x1f, 0x7a, 0x2b, 0x54, 0x04, 0xfc,
-	0xe1, 0xe1, 0xd4, 0x84, 0xfc, 0xad, 0x99, 0x14, 0x04, 0x04, 0x7d, 0xb3, 0x47, 0xd8, 0xb0, 0x7d,
-	0x9a, 0x61, 0xc3, 0x57, 0x4e, 0x14, 0x32, 0x9c, 0x66, 0xb0, 0x7f, 0xfe, 0x47, 0xce, 0x60, 0xff,
-	0x2b, 0x16, 0x8c, 0xed, 0xea, 0xf6, 0x1b, 0xe1, 0x54, 0xc8, 0xc0, 0xb9, 0x69, 0x98, 0x85, 0xca,
-	0x36, 0x15, 0x76, 0x06, 0xe8, 0x61, 0x12, 0x80, 0xcd, 0x96, 0xa4, 0x38, 0x5e, 0x5f, 0x78, 0x5a,
-	0x8e, 0xd7, 0x0f, 0x99, 0x30, 0x93, 0x51, 0x4a, 0xcc, 0xd3, 0x90, 0x6d, 0x24, 0x94, 0x14, 0x8c,
-	0x2a, 0x10, 0x4a, 0xe7, 0x87, 0xbe, 0x66, 0xc1, 0x84, 0xbc, 0x9c, 0x09, 0xfb, 0x6b, 0x28, 0x62,
-	0x39, 0xb2, 0xbc, 0x13, 0xb2, 0x60, 0xc0, 0xcd, 0x04, 0x1f, 0xdc, 0xc5, 0xf9, 0xc9, 0x1d, 0x29,
-	0x7f, 0x88, 0xe0, 0x5c, 0xe2, 0x1b, 0x7a, 0x1f, 0x37, 0x73, 0x0a, 0x5e, 0x4f, 0x26, 0x76, 0x1b,
-	0x93, 0xf8, 0x46, 0x72, 0x37, 0x23, 0xfb, 0x5a, 0xee, 0x54, 0xb3, 0xaf, 0x0d, 0x9c, 0x4d, 0xf6,
-	0xb5, 0x89, 0xd3, 0xc8, 0xbe, 0x76, 0xfe, 0x44, 0xd9, 0xd7, 0xb4, 0xec, 0x77, 0x83, 0x8f, 0xc8,
-	0x7e, 0x37, 0x0b, 0xe3, 0x32, 0x54, 0x94, 0x88, 0xb4, 0x5a, 0xdc, 0xf8, 0xad, 0xbe, 0x07, 0x3f,
-	0x67, 0x16, 0xe3, 0x24, 0x3e, 0xfa, 0xc8, 0x82, 0xbc, 0xc7, 0x6a, 0x0e, 0x65, 0x95, 0x50, 0xd6,
-	0x5c, 0x5a, 0xec, 0xf2, 0x22, 0xd2, 0xb8, 0xca, 0x50, 0x9c, 0x3c, 0x83, 0x3d, 0x94, 0x3f, 0x30,
-	0x6f, 0x01, 0x7a, 0x07, 0x4a, 0xfe, 0xf6, 0x76, 0xd3, 0x77, 0x6a, 0x71, 0x8a, 0x38, 0x69, 0x9d,
-	0xe7, 0xe1, 0xf6, 0x2a, 0x45, 0xce, 0x7a, 0x0f, 0x3c, 0xdc, 0x93, 0x02, 0xbd, 0x7d, 0x8e, 0x87,
-	0x91, 0x1f, 0x90, 0x5a, 0x7c, 0x53, 0x2e, 0xb2, 0x3e, 0x93, 0xcc, 0xfb, 0x5c, 0x31, 0xf9, 0xf0,
-	0xde, 0xab, 0x49, 0x49, 0x94, 0xe2, 0x64, 0xb3, 0x50, 0x00, 0x97, 0xdb, 0x69, 0x17, 0xf5, 0x50,
-	0x04, 0xb8, 0x1e, 0x67, 0x2e, 0x90, 0x5b, 0xf7, 0x72, 0xea, 0x55, 0x3f, 0xc4, 0x3d, 0x28, 0xeb,
-	0xc9, 0xe3, 0x0a, 0x67, 0x93, 0x3c, 0xce, 0xfc, 0xf2, 0xe5, 0xd8, 0x99, 0x7f, 0xf9, 0x12, 0xfd,
-	0x59, 0x6a, 0x9e, 0x43, 0x7e, 0xbf, 0xad, 0x67, 0xbe, 0x26, 0x7e, 0xe4, 0x72, 0x1d, 0xfe, 0x23,
-	0x0b, 0x26, 0xf9, 0xca, 0x4b, 0xfb, 0x32, 0xbe, 0x08, 0x05, 0xcd, 0xda, 0x81, 0xc3, 0x5c, 0xcc,
-	0x15, 0x83, 0x2b, 0xf3, 0x2b, 0x1c, 0xd3, 0x12, 0xf4, 0x4b, 0x29, 0xba, 0xdc, 0x78, 0x56, 0x16,
-	0xa3, 0xf4, 0x1c, 0x79, 0x17, 0x8e, 0xfa, 0x51, 0xdf, 0xfe, 0x69, 0x4f, 0x83, 0x16, 0x62, 0xcd,
-	0xfb, 0xab, 0xa7, 0x64, 0xd0, 0xd2, 0x13, 0xf9, 0x9d, 0xc4, 0xac, 0x35, 0xf9, 0x73, 0x22, 0x93,
-	0x70, 0xcf, 0x7c, 0xd7, 0x5b, 0xe6, 0x87, 0x19, 0x57, 0xb2, 0xcc, 0xf6, 0xa9, 0x27, 0xde, 0xfe,
-	0x1b, 0x16, 0x5c, 0x4c, 0x13, 0x92, 0x29, 0x4d, 0xfa, 0xac, 0xd9, 0xa4, 0x0c, 0x35, 0x2e, 0xbd,
-	0x41, 0xd9, 0xa4, 0x38, 0xfc, 0x72, 0x51, 0x73, 0x23, 0x44, 0xa4, 0xfd, 0xff, 0x3e, 0xa8, 0x9b,
-	0x75, 0xfa, 0x62, 0xe3, 0xd3, 0xb8, 0xf9, 0xa7, 0xf5, 0x69, 0xdc, 0xa1, 0xc7, 0xf9, 0x34, 0xee,
-	0xf0, 0x53, 0xfb, 0x34, 0x6e, 0xa1, 0xcf, 0x4f, 0xe3, 0x16, 0x7f, 0x44, 0x3f, 0x8d, 0xfb, 0x6b,
-	0xea, 0x7b, 0xb7, 0xfc, 0x70, 0x7e, 0x33, 0xdb, 0x94, 0x6e, 0xff, 0xf7, 0x7d, 0xf4, 0xf6, 0x8f,
-	0x73, 0x30, 0xae, 0x8e, 0x52, 0x27, 0xdc, 0xa9, 0x90, 0xe8, 0x0c, 0x62, 0x12, 0xf6, 0x8c, 0x98,
-	0x84, 0x2c, 0xcd, 0x40, 0xbc, 0x0b, 0x3d, 0x23, 0x40, 0xbe, 0x90, 0x88, 0x00, 0x79, 0x90, 0x3d,
-	0xeb, 0xe3, 0x03, 0x41, 0xfe, 0xbb, 0x05, 0x17, 0x12, 0x35, 0xce, 0xc0, 0x4b, 0xbe, 0x6b, 0x7a,
-	0xc9, 0xdf, 0xc8, 0xbc, 0xd7, 0x3d, 0x9c, 0xe5, 0xbf, 0x9e, 0xeb, 0xea, 0x2d, 0xd3, 0xd3, 0xbe,
-	0x6c, 0xc9, 0x6f, 0x26, 0x5b, 0x59, 0xbb, 0xc1, 0x34, 0x36, 0xd3, 0xec, 0xb3, 0xc9, 0x7c, 0xb7,
-	0xa6, 0x7e, 0x4a, 0x79, 0xf2, 0x67, 0x2d, 0x80, 0x18, 0xe9, 0x69, 0xa9, 0x14, 0xf6, 0x6f, 0xe6,
-	0xe0, 0x52, 0xea, 0x32, 0x42, 0x5f, 0x51, 0x97, 0x6e, 0x3e, 0x50, 0x5b, 0xa7, 0xb4, 0x5e, 0xf5,
-	0xbb, 0xf7, 0x98, 0x71, 0xf7, 0x16, 0x57, 0xee, 0xa7, 0xa5, 0x10, 0x8a, 0x6c, 0x9f, 0xda, 0x60,
-	0xfd, 0x0f, 0x0b, 0x26, 0x92, 0xca, 0xff, 0x19, 0x88, 0xac, 0x7d, 0x43, 0x64, 0xdd, 0xcf, 0xde,
-	0x72, 0xdd, 0x33, 0x84, 0xea, 0x8f, 0xb5, 0xd8, 0x31, 0x89, 0x7c, 0x06, 0x32, 0x63, 0xcf, 0x94,
-	0x19, 0x38, 0xfb, 0x1e, 0xf7, 0x10, 0x1a, 0xef, 0x41, 0x9a, 0xf1, 0xbe, 0xbf, 0x7c, 0x17, 0x46,
-	0x58, 0x76, 0xae, 0xef, 0xb0, 0xec, 0x5f, 0xc8, 0x75, 0x0f, 0x31, 0x13, 0x54, 0x5f, 0xa5, 0xaa,
-	0x99, 0x76, 0xfb, 0xcc, 0x2e, 0x1d, 0x81, 0x71, 0xd7, 0x55, 0x6d, 0x34, 0x6e, 0xba, 0x06, 0x67,
-	0xf4, 0x6e, 0xdc, 0x12, 0x3a, 0x53, 0x8f, 0xcc, 0x2d, 0xd3, 0x6b, 0x99, 0x33, 0xe3, 0xf1, 0x03,
-	0x8d, 0x12, 0x33, 0x63, 0x1b, 0xb4, 0xed, 0x31, 0x18, 0x79, 0xcb, 0x6d, 0x2b, 0xbb, 0xfb, 0xf4,
-	0xb7, 0xbf, 0x7f, 0xfd, 0x99, 0xdf, 0xff, 0xfe, 0xf5, 0x67, 0xbe, 0xfb, 0xfd, 0xeb, 0xcf, 0x7c,
-	0xf1, 0xe8, 0xba, 0xf5, 0xed, 0xa3, 0xeb, 0xd6, 0xef, 0x1f, 0x5d, 0xb7, 0xbe, 0x7b, 0x74, 0xdd,
-	0xfa, 0x0f, 0x47, 0xd7, 0xad, 0xbf, 0xf9, 0x1f, 0xaf, 0x3f, 0xf3, 0x56, 0x41, 0xf6, 0xed, 0xff,
-	0x04, 0x00, 0x00, 0xff, 0xff, 0xc9, 0x4a, 0x1b, 0x7f, 0x3a, 0xa4, 0x00, 0x00,
+	0x2d, 0x80, 0x7a, 0xd3, 0xdf, 0x72, 0x9a, 0x74, 0x40, 0x4a, 0x43, 0xac, 0x0b, 0xea, 0xe3, 0x2e,
+	0xaa, 0x12, 0xac, 0x61, 0xa1, 0x7d, 0x18, 0x76, 0xf8, 0x02, 0x2e, 0x0d, 0xb3, 0x4e, 0xbc, 0x91,
+	0x45, 0x27, 0x0c, 0x89, 0x50, 0x1e, 0x39, 0x3a, 0x9c, 0x1a, 0x16, 0x40, 0x2c, 0xd9, 0xa1, 0x97,
+	0xa1, 0xe0, 0xb7, 0x69, 0xbb, 0x9d, 0x66, 0xa9, 0x70, 0xc3, 0x7a, 0xa9, 0x50, 0x9e, 0x10, 0x6d,
+	0x2d, 0xac, 0x0b, 0x38, 0x56, 0x18, 0xe8, 0x26, 0x0c, 0x87, 0x9d, 0x2d, 0xfa, 0x1d, 0x4b, 0x45,
+	0xd6, 0xb1, 0x71, 0x81, 0x3c, 0x5c, 0xe1, 0x60, 0x2c, 0xcb, 0xd1, 0xab, 0x30, 0x12, 0x90, 0x6a,
+	0x27, 0x08, 0x09, 0xfd, 0xb0, 0x25, 0x60, 0xb4, 0x2f, 0x08, 0xf4, 0x11, 0x1c, 0x17, 0x61, 0x1d,
+	0x0f, 0x7d, 0x0a, 0xce, 0xd1, 0x0f, 0x7c, 0x67, 0xbf, 0x1d, 0x90, 0x30, 0xa4, 0x5f, 0x75, 0x84,
+	0x31, 0xba, 0x2c, 0x6a, 0x9e, 0x5b, 0x30, 0x4a, 0x71, 0x02, 0xdb, 0xfe, 0xed, 0x61, 0xe8, 0xfa,
+	0x48, 0xe8, 0x15, 0x18, 0x11, 0xfd, 0x5d, 0xf1, 0xeb, 0x21, 0x9b, 0xb8, 0x85, 0xf2, 0x38, 0x6d,
+	0xc7, 0x6c, 0x0c, 0xc6, 0x3a, 0x0e, 0xaa, 0x41, 0x2e, 0xbc, 0x2d, 0x64, 0xda, 0xca, 0x93, 0x7f,
+	0x8c, 0xca, 0x6d, 0xb5, 0xd2, 0x86, 0x8e, 0x0e, 0xa7, 0x72, 0x95, 0xdb, 0x38, 0x17, 0xde, 0xa6,
+	0xd2, 0xac, 0xee, 0x46, 0xd9, 0x49, 0xb3, 0x45, 0x37, 0x52, 0x7c, 0x98, 0x34, 0x5b, 0x74, 0x23,
+	0x4c, 0x59, 0x50, 0x29, 0xdd, 0x88, 0xa2, 0x36, 0x5b, 0x52, 0x99, 0x48, 0xe9, 0xa5, 0xcd, 0xcd,
+	0x0d, 0xc5, 0x8b, 0x2d, 0x60, 0x0a, 0xc1, 0x8c, 0x0b, 0xfa, 0x8a, 0x45, 0x47, 0x9c, 0x17, 0xfa,
+	0xc1, 0x81, 0x58, 0x99, 0xf7, 0xb2, 0x5b, 0x99, 0x7e, 0x70, 0xa0, 0x98, 0x8b, 0x0f, 0xa9, 0x0a,
+	0xb0, 0xce, 0x9a, 0x75, 0xbc, 0xb6, 0x1d, 0xb2, 0x85, 0x98, 0x4d, 0xc7, 0xe7, 0x17, 0x2a, 0x89,
+	0x8e, 0xcf, 0x2f, 0x54, 0x30, 0xe3, 0x42, 0x3f, 0x68, 0xe0, 0xec, 0x89, 0x45, 0x9c, 0xc1, 0x07,
+	0xc5, 0xce, 0x9e, 0xf9, 0x41, 0xb1, 0xb3, 0x87, 0x29, 0x0b, 0xca, 0xc9, 0x0f, 0x43, 0xb6, 0x66,
+	0x33, 0xe1, 0xb4, 0x5e, 0xa9, 0x98, 0x9c, 0xd6, 0x2b, 0x15, 0x4c, 0x59, 0xb0, 0x49, 0x5a, 0x0d,
+	0xd9, 0x82, 0xcf, 0x66, 0x92, 0xce, 0x25, 0x38, 0x2d, 0xce, 0x55, 0x30, 0x65, 0x61, 0x7f, 0x64,
+	0xc1, 0x98, 0x2c, 0xa2, 0x42, 0x24, 0x44, 0xfb, 0x50, 0x90, 0x1f, 0x53, 0xe8, 0x32, 0x59, 0x6e,
+	0x7a, 0x4a, 0xd4, 0x49, 0x08, 0x56, 0xdc, 0xec, 0xdf, 0xcc, 0x03, 0x52, 0x60, 0xd2, 0xf6, 0x43,
+	0x97, 0x4d, 0xa7, 0xc7, 0x10, 0x25, 0x9e, 0x26, 0x4a, 0xee, 0x67, 0x29, 0x4a, 0xe2, 0x66, 0x19,
+	0x42, 0xe5, 0x6f, 0x27, 0x16, 0x1f, 0x97, 0x2e, 0x3f, 0x79, 0x2a, 0x8b, 0x4f, 0x6b, 0xc2, 0xf1,
+	0xcb, 0x70, 0x57, 0x2c, 0x43, 0x2e, 0x7f, 0xfe, 0x4a, 0xb6, 0xcb, 0x50, 0x6b, 0x45, 0x72, 0x41,
+	0x06, 0x7c, 0x99, 0x70, 0x01, 0xf4, 0x20, 0xd3, 0x65, 0xa2, 0x71, 0x35, 0x17, 0x4c, 0xc0, 0x17,
+	0xcc, 0x50, 0x56, 0x3c, 0xb5, 0x05, 0x93, 0xe4, 0xa9, 0x96, 0xce, 0x7b, 0x70, 0xa9, 0x1b, 0x07,
+	0x93, 0x6d, 0x34, 0x03, 0xc5, 0xaa, 0xef, 0x6d, 0xbb, 0xf5, 0x55, 0xa7, 0x2d, 0x54, 0x36, 0xa5,
+	0xeb, 0xcd, 0xc9, 0x02, 0x1c, 0xe3, 0xa0, 0x6b, 0x30, 0xb0, 0x43, 0x0e, 0x84, 0xee, 0x36, 0x22,
+	0x50, 0x07, 0x96, 0xc9, 0x01, 0xa6, 0xf0, 0x4f, 0x14, 0xbe, 0xfe, 0x8d, 0xa9, 0x67, 0xbe, 0xf8,
+	0x1f, 0x6e, 0x3c, 0x63, 0xff, 0x9b, 0x01, 0x78, 0x2e, 0x95, 0x67, 0x25, 0x72, 0xa2, 0x4e, 0x88,
+	0x7e, 0xd3, 0x82, 0x4b, 0x4e, 0x5a, 0xb9, 0x58, 0xc9, 0x0f, 0xb2, 0x9b, 0x91, 0x06, 0xf9, 0xf2,
+	0x35, 0xd1, 0xe8, 0xf4, 0x11, 0xc1, 0xe9, 0x8d, 0xa2, 0x03, 0x45, 0x95, 0xd7, 0xb0, 0xed, 0x54,
+	0x89, 0xe8, 0xbd, 0x1a, 0xa8, 0x35, 0x59, 0x80, 0x63, 0x1c, 0xaa, 0x0c, 0xd5, 0xc8, 0xb6, 0xd3,
+	0x69, 0xf2, 0x0d, 0xbc, 0x10, 0x2b, 0x43, 0xf3, 0x1c, 0x8c, 0x65, 0x39, 0xfa, 0xfb, 0x16, 0xa0,
+	0x6e, 0xae, 0x62, 0x31, 0x6c, 0x9e, 0xc6, 0x38, 0x94, 0x2f, 0x1f, 0x1d, 0x4e, 0xa5, 0x08, 0x30,
+	0x9c, 0xd2, 0x0e, 0xed, 0x9b, 0xfe, 0x4b, 0x0b, 0x2e, 0xa4, 0x2c, 0x73, 0x3a, 0x29, 0x3a, 0x41,
+	0x53, 0xcc, 0x1f, 0x35, 0x29, 0xee, 0xe1, 0x15, 0x4c, 0xe1, 0xe8, 0x6b, 0x16, 0x8c, 0x6b, 0xab,
+	0x7d, 0xb6, 0x23, 0x94, 0xff, 0x8c, 0x14, 0x59, 0x83, 0x70, 0xf9, 0x8a, 0x60, 0x3f, 0x9e, 0x28,
+	0xc0, 0xc9, 0x26, 0xd8, 0xdf, 0xb3, 0xe0, 0xda, 0xb1, 0x42, 0x2b, 0xb5, 0xe1, 0xd6, 0x53, 0x6f,
+	0x38, 0x9d, 0x5a, 0x01, 0x69, 0xfb, 0xf7, 0xf0, 0x8a, 0x98, 0x89, 0x6a, 0x6a, 0x61, 0x0e, 0xc6,
+	0xb2, 0xdc, 0xfe, 0x03, 0x0b, 0x92, 0xf4, 0x90, 0x03, 0xe7, 0x3a, 0x21, 0x09, 0xe8, 0x54, 0xad,
+	0x90, 0x6a, 0x40, 0xe4, 0xde, 0xf9, 0xc2, 0x34, 0xb7, 0x52, 0xd0, 0x06, 0x4f, 0x57, 0xfd, 0x80,
+	0x4c, 0xef, 0xbe, 0x32, 0xcd, 0x31, 0x96, 0xc9, 0x41, 0x85, 0x34, 0x09, 0xa5, 0x51, 0x46, 0x54,
+	0xcf, 0xbe, 0x67, 0x10, 0xc0, 0x09, 0x82, 0x94, 0x45, 0xdb, 0x09, 0xc3, 0x3d, 0x3f, 0xa8, 0x09,
+	0x16, 0xb9, 0x13, 0xb3, 0xd8, 0x30, 0x08, 0xe0, 0x04, 0x41, 0xfb, 0x9f, 0x5b, 0x30, 0x5c, 0x76,
+	0xaa, 0x3b, 0xfe, 0xf6, 0x36, 0x3d, 0xa6, 0xd4, 0x3a, 0x01, 0x3f, 0xe6, 0xf1, 0x49, 0xa8, 0xf6,
+	0xee, 0x79, 0x01, 0xc7, 0x0a, 0x03, 0x6d, 0xc2, 0x10, 0x1f, 0x0e, 0xd1, 0xa8, 0x1f, 0xd7, 0x1a,
+	0xa5, 0xac, 0x33, 0xec, 0xcb, 0x75, 0x22, 0xb7, 0x39, 0xcd, 0xad, 0x33, 0xd3, 0x77, 0xbd, 0x68,
+	0x3d, 0xa8, 0x44, 0x81, 0xeb, 0xd5, 0xcb, 0x70, 0x74, 0x38, 0x35, 0xb4, 0xc0, 0x68, 0x60, 0x41,
+	0x8b, 0x9e, 0x68, 0x5a, 0xce, 0xbe, 0x64, 0xc7, 0xd6, 0x7c, 0x31, 0x3e, 0xd1, 0xac, 0xc6, 0x45,
+	0x58, 0xc7, 0xb3, 0x3f, 0x03, 0xf9, 0x39, 0xa7, 0xda, 0x20, 0xe8, 0x5e, 0x52, 0x12, 0x8f, 0xdc,
+	0x7a, 0x29, 0x6d, 0xb4, 0x94, 0x54, 0xd6, 0x07, 0x6c, 0xac, 0x97, 0xbc, 0xb6, 0xbf, 0x6f, 0xc1,
+	0x95, 0xb9, 0x66, 0x27, 0x8c, 0x48, 0xf0, 0x40, 0x4c, 0xc1, 0x4d, 0xd2, 0x6a, 0x37, 0x9d, 0x88,
+	0xa0, 0xcf, 0x42, 0xa1, 0x45, 0x22, 0xa7, 0xe6, 0x44, 0x8e, 0xe0, 0xd8, 0x7b, 0x28, 0xd8, 0x24,
+	0xa6, 0xd8, 0xb4, 0x0d, 0xeb, 0x5b, 0xef, 0x92, 0x6a, 0xb4, 0x4a, 0x22, 0x27, 0x3e, 0xbb, 0xc6,
+	0x30, 0xac, 0xa8, 0xa2, 0x7d, 0x18, 0x0c, 0xdb, 0xa4, 0x9a, 0x9d, 0x7a, 0x93, 0xec, 0x43, 0xa5,
+	0x4d, 0xaa, 0xb1, 0x09, 0x80, 0xfe, 0xc3, 0x8c, 0xa3, 0xfd, 0x7f, 0x2d, 0x78, 0xae, 0x47, 0xbf,
+	0x57, 0xdc, 0x30, 0x42, 0xef, 0x74, 0xf5, 0x7d, 0xba, 0xbf, 0xbe, 0xd3, 0xda, 0xac, 0xe7, 0x6a,
+	0x8a, 0x49, 0x88, 0xd6, 0xef, 0xcf, 0x43, 0xde, 0x8d, 0x48, 0x4b, 0x9a, 0x62, 0xde, 0x7c, 0xf2,
+	0x8e, 0xf7, 0xe8, 0x4b, 0x79, 0x4c, 0xda, 0x02, 0xef, 0x52, 0x7e, 0x98, 0xb3, 0xb5, 0xff, 0x85,
+	0x05, 0x74, 0x3a, 0xd4, 0x5c, 0x71, 0xc0, 0x1d, 0x8c, 0x0e, 0xda, 0xd2, 0x24, 0x23, 0xf7, 0xbf,
+	0xc1, 0xcd, 0x83, 0x36, 0x79, 0x78, 0x38, 0x35, 0xa6, 0x10, 0x29, 0x00, 0x33, 0x54, 0xf4, 0x19,
+	0x18, 0x0a, 0xd9, 0x3e, 0x2d, 0x24, 0xcc, 0x82, 0xa8, 0x34, 0xc4, 0x77, 0xef, 0x87, 0x87, 0x53,
+	0x7d, 0x59, 0x5c, 0xa7, 0x15, 0x6d, 0x5e, 0x0f, 0x0b, 0xaa, 0x54, 0x84, 0xb5, 0x48, 0x18, 0x3a,
+	0x75, 0x22, 0x56, 0x8a, 0x12, 0x61, 0xab, 0x1c, 0x8c, 0x65, 0xb9, 0xfd, 0x77, 0x2d, 0xa0, 0x4d,
+	0x8c, 0x1c, 0xca, 0x62, 0xcd, 0xaf, 0x11, 0xb4, 0xc6, 0x96, 0x0a, 0x07, 0x88, 0x8f, 0x77, 0xad,
+	0xc7, 0x52, 0xe1, 0x48, 0x86, 0x4e, 0xc3, 0x41, 0x38, 0x26, 0x81, 0x3e, 0x0e, 0xa3, 0x35, 0xd2,
+	0x26, 0x5e, 0x8d, 0x78, 0x55, 0x97, 0xf0, 0x8f, 0x56, 0x2c, 0x4f, 0x1c, 0x1d, 0x4e, 0x8d, 0xce,
+	0x6b, 0x70, 0x6c, 0x60, 0xd9, 0x7f, 0x64, 0xc1, 0x45, 0x45, 0xae, 0x42, 0x22, 0xb5, 0xac, 0x7e,
+	0xca, 0x02, 0x50, 0xc4, 0xa9, 0x4e, 0x4b, 0xa7, 0xc0, 0x7a, 0x06, 0x53, 0x40, 0x1f, 0x84, 0x78,
+	0xe1, 0x29, 0x70, 0x88, 0x35, 0xb6, 0xe8, 0x4d, 0x18, 0xdd, 0xf5, 0x9b, 0x9d, 0x16, 0x59, 0xf5,
+	0x3b, 0x5e, 0x14, 0x96, 0x06, 0x58, 0x33, 0xa6, 0xd2, 0xc6, 0xe9, 0x7e, 0x8c, 0x57, 0xbe, 0x28,
+	0xc8, 0x8e, 0x6a, 0xc0, 0x10, 0x1b, 0xa4, 0xec, 0x37, 0x81, 0x31, 0x75, 0xbd, 0x0e, 0x59, 0xf7,
+	0xd0, 0xf3, 0x90, 0x27, 0x41, 0xe0, 0x07, 0xe2, 0xb4, 0xa3, 0x26, 0xe4, 0x1d, 0x0a, 0xc4, 0xbc,
+	0x0c, 0xbd, 0x48, 0x65, 0xae, 0xdb, 0x24, 0x35, 0x36, 0x9f, 0x0a, 0xe5, 0x73, 0x72, 0x3e, 0x2d,
+	0x30, 0x28, 0x16, 0xa5, 0xf6, 0x34, 0x0c, 0xcf, 0x51, 0x26, 0x24, 0xa0, 0x74, 0x75, 0xa3, 0xf7,
+	0x98, 0x61, 0xf4, 0x96, 0xc6, 0xed, 0x4d, 0xb8, 0x34, 0x17, 0x10, 0x2a, 0x08, 0x6e, 0x97, 0x3b,
+	0xd5, 0x1d, 0x12, 0x71, 0xb3, 0x54, 0x88, 0x3e, 0x09, 0x63, 0x3e, 0x93, 0x48, 0x2b, 0x7e, 0x75,
+	0xc7, 0xf5, 0xea, 0x42, 0x09, 0xbb, 0x24, 0xa8, 0x8c, 0xad, 0xeb, 0x85, 0xd8, 0xc4, 0xb5, 0xff,
+	0x4b, 0x0e, 0x46, 0xe7, 0x02, 0xdf, 0x93, 0xab, 0xed, 0x0c, 0x24, 0x65, 0x64, 0x48, 0xca, 0x0c,
+	0xac, 0x94, 0x7a, 0xfb, 0x7b, 0x49, 0x49, 0xf4, 0x81, 0x5a, 0xe6, 0x03, 0x59, 0x29, 0x9b, 0x06,
+	0x5f, 0x46, 0x3b, 0xfe, 0xd8, 0xa6, 0x10, 0xb0, 0xff, 0xab, 0x05, 0x13, 0x3a, 0xfa, 0x19, 0x08,
+	0xe6, 0xd0, 0x14, 0xcc, 0x6b, 0xd9, 0xf6, 0xb7, 0x87, 0x34, 0xfe, 0x68, 0xc8, 0xec, 0x27, 0xfd,
+	0x00, 0xe8, 0xeb, 0x16, 0x8c, 0xee, 0x69, 0x00, 0xd1, 0xd9, 0xb5, 0xec, 0xf6, 0x48, 0xf6, 0xd5,
+	0x7f, 0x54, 0xae, 0x67, 0x1d, 0xfa, 0x30, 0xf1, 0x1f, 0x1b, 0x2d, 0xa1, 0xea, 0x54, 0x58, 0x6d,
+	0x90, 0x5a, 0xa7, 0x29, 0x8f, 0x3a, 0x6a, 0x48, 0x2b, 0x02, 0x8e, 0x15, 0x06, 0x7a, 0x07, 0xce,
+	0x57, 0x7d, 0xaf, 0xda, 0x09, 0x02, 0xe2, 0x55, 0x0f, 0x36, 0x98, 0x9f, 0x4e, 0x08, 0xf5, 0x69,
+	0x51, 0xed, 0xfc, 0x5c, 0x12, 0xe1, 0x61, 0x1a, 0x10, 0x77, 0x13, 0xe2, 0x36, 0xe5, 0x90, 0x8a,
+	0x5d, 0x76, 0x1e, 0x2a, 0xe8, 0x36, 0x65, 0x06, 0xc6, 0xb2, 0x1c, 0xdd, 0x83, 0x2b, 0x61, 0x44,
+	0x75, 0x65, 0xaf, 0x3e, 0x4f, 0x9c, 0x5a, 0xd3, 0xf5, 0xa8, 0x3a, 0xea, 0x7b, 0x35, 0x7e, 0xc0,
+	0x1f, 0x28, 0x3f, 0x77, 0x74, 0x38, 0x75, 0xa5, 0x92, 0x8e, 0x82, 0x7b, 0xd5, 0x45, 0x9f, 0x81,
+	0xc9, 0xb0, 0x53, 0xad, 0x92, 0x30, 0xdc, 0xee, 0x34, 0x5f, 0xf7, 0xb7, 0xc2, 0x25, 0x37, 0xa4,
+	0xba, 0xf4, 0x8a, 0xdb, 0x72, 0x23, 0x76, 0x8c, 0xcf, 0x97, 0xaf, 0x1f, 0x1d, 0x4e, 0x4d, 0x56,
+	0x7a, 0x62, 0xe1, 0x63, 0x28, 0x20, 0x0c, 0x97, 0xb9, 0xf0, 0xeb, 0xa2, 0x3d, 0xcc, 0x68, 0x4f,
+	0x1e, 0x1d, 0x4e, 0x5d, 0x5e, 0x48, 0xc5, 0xc0, 0x3d, 0x6a, 0xd2, 0x2f, 0x18, 0xb9, 0x2d, 0xf2,
+	0x39, 0xdf, 0x23, 0xcc, 0x06, 0xa8, 0x7d, 0xc1, 0x4d, 0x01, 0xc7, 0x0a, 0x03, 0xbd, 0x1b, 0xcf,
+	0x44, 0xba, 0x5c, 0x84, 0x2d, 0xef, 0xe4, 0x12, 0xee, 0xe2, 0xd1, 0xe1, 0xd4, 0xc4, 0x03, 0x8d,
+	0x12, 0x5d, 0x72, 0xd8, 0xa0, 0x6d, 0xff, 0x7e, 0x0e, 0x50, 0xb7, 0x88, 0x40, 0xcb, 0x30, 0xe4,
+	0x54, 0x23, 0x77, 0x97, 0x08, 0xe7, 0xd9, 0xf3, 0x69, 0xfb, 0x14, 0x67, 0x85, 0xc9, 0x36, 0xa1,
+	0x33, 0x84, 0xc4, 0x72, 0x65, 0x96, 0x55, 0xc5, 0x82, 0x04, 0xf2, 0xe1, 0x7c, 0xd3, 0x09, 0x23,
+	0x39, 0x57, 0x6b, 0xb4, 0xcb, 0x42, 0xb0, 0xfe, 0x58, 0x7f, 0x9d, 0xa2, 0x35, 0xca, 0x97, 0xe8,
+	0xcc, 0x5d, 0x49, 0x12, 0xc2, 0xdd, 0xb4, 0xd1, 0x17, 0xd8, 0x86, 0xcf, 0x15, 0x1d, 0xb9, 0xd3,
+	0x2e, 0x67, 0xb2, 0xe1, 0x73, 0x9a, 0xc6, 0x66, 0x2f, 0xd8, 0x60, 0x8d, 0xa5, 0xfd, 0xaf, 0x00,
+	0x86, 0xe7, 0x67, 0x17, 0x37, 0x9d, 0x70, 0xa7, 0x0f, 0x07, 0x1c, 0x9d, 0x1d, 0x42, 0x59, 0x49,
+	0xae, 0x6f, 0xa9, 0xc4, 0x60, 0x85, 0x81, 0x3c, 0x18, 0x72, 0x3d, 0xba, 0x20, 0x4a, 0xe7, 0xb2,
+	0x32, 0xb1, 0x2a, 0xed, 0x95, 0x1d, 0xa4, 0xee, 0x32, 0xea, 0x58, 0x70, 0x41, 0x1f, 0x40, 0xd1,
+	0x91, 0x8e, 0x55, 0xb1, 0x2d, 0x2d, 0x67, 0x71, 0xda, 0x16, 0x24, 0x75, 0x5f, 0xa6, 0x00, 0xe1,
+	0x98, 0x21, 0xfa, 0xa2, 0x05, 0x23, 0xb2, 0xeb, 0x98, 0x6c, 0x0b, 0x23, 0xcc, 0x6a, 0x76, 0x7d,
+	0xc6, 0x64, 0x9b, 0x1b, 0x43, 0x35, 0x00, 0xd6, 0x59, 0x76, 0xa9, 0xa3, 0xf9, 0x7e, 0xd4, 0x51,
+	0xb4, 0x07, 0xc5, 0x3d, 0x37, 0x6a, 0xb0, 0x8d, 0xa7, 0x34, 0xc4, 0xa6, 0xe0, 0xc2, 0x93, 0xb7,
+	0x9a, 0x92, 0x8b, 0x47, 0xec, 0x81, 0x64, 0x80, 0x63, 0x5e, 0x68, 0x86, 0x33, 0x66, 0x8e, 0x69,
+	0x26, 0xb2, 0x8a, 0x66, 0x05, 0x56, 0x80, 0x63, 0x1c, 0x3a, 0xc4, 0xa3, 0xf4, 0x5f, 0x85, 0xbc,
+	0xd7, 0xa1, 0xeb, 0x58, 0x78, 0x29, 0x32, 0x98, 0x57, 0x92, 0x22, 0x1f, 0xac, 0x07, 0x1a, 0x0f,
+	0x6c, 0x70, 0xa4, 0x6b, 0x64, 0xaf, 0x41, 0x3c, 0xe1, 0xa6, 0x54, 0x6b, 0xe4, 0x41, 0x83, 0x78,
+	0x98, 0x95, 0xa0, 0x0f, 0xb8, 0x0e, 0xcf, 0x75, 0x5c, 0xe6, 0x9f, 0xcc, 0xc4, 0xd3, 0x17, 0xeb,
+	0xcd, 0xe5, 0x73, 0x52, 0x79, 0xe7, 0xff, 0xb1, 0xc6, 0x8f, 0xaa, 0xcb, 0xbe, 0x77, 0x67, 0xdf,
+	0x8d, 0x84, 0x7f, 0x53, 0x49, 0xba, 0x75, 0x06, 0xc5, 0xa2, 0x94, 0x1b, 0x19, 0xe9, 0x24, 0x08,
+	0x4b, 0xa3, 0xe6, 0x31, 0x8a, 0xcf, 0x94, 0x10, 0xcb, 0x72, 0xf4, 0x0f, 0x2c, 0xc8, 0x37, 0x7c,
+	0x7f, 0x27, 0x2c, 0x8d, 0xb1, 0xc9, 0x91, 0x81, 0xaa, 0x27, 0x24, 0xce, 0xf4, 0x12, 0x25, 0x7b,
+	0xc7, 0x8b, 0x82, 0x83, 0xf2, 0x2b, 0x52, 0x01, 0x62, 0xb0, 0x87, 0x87, 0x53, 0xe7, 0x56, 0xdc,
+	0x6d, 0x52, 0x3d, 0xa8, 0x36, 0x09, 0x83, 0x7c, 0xe9, 0xbb, 0x1a, 0xe4, 0xce, 0x2e, 0xf1, 0x22,
+	0xcc, 0x5b, 0x35, 0xf9, 0x91, 0x05, 0x10, 0x13, 0x42, 0x13, 0xdc, 0xce, 0xcc, 0x84, 0x18, 0x33,
+	0x2d, 0x23, 0x22, 0xcf, 0x03, 0x5c, 0x92, 0x67, 0x70, 0xa0, 0x32, 0x9a, 0x26, 0x4e, 0x14, 0x9f,
+	0xc8, 0xbd, 0x66, 0xd9, 0xff, 0xda, 0x82, 0x11, 0xda, 0x39, 0x29, 0x02, 0x5f, 0x84, 0xa1, 0xc8,
+	0x09, 0xea, 0xc2, 0x52, 0xa6, 0x7d, 0x8e, 0x4d, 0x06, 0xc5, 0xa2, 0x14, 0x79, 0x90, 0x8f, 0x9c,
+	0x70, 0x47, 0x6a, 0x97, 0x77, 0x33, 0x1b, 0xe2, 0x58, 0xb1, 0xa4, 0xff, 0x42, 0xcc, 0xd9, 0xa0,
+	0x97, 0xa0, 0x40, 0x15, 0x80, 0x05, 0x27, 0x94, 0x46, 0xe6, 0x51, 0x2a, 0xc4, 0x17, 0x04, 0x0c,
+	0xab, 0x52, 0xfb, 0xef, 0xe4, 0x60, 0x70, 0x9e, 0x9f, 0x33, 0x86, 0x42, 0xbf, 0x13, 0x54, 0x89,
+	0xd0, 0x37, 0x33, 0x98, 0xd3, 0x94, 0x6e, 0x85, 0xd1, 0xd4, 0x34, 0x7d, 0xf6, 0x1f, 0x0b, 0x5e,
+	0xe8, 0x6b, 0x16, 0x9c, 0x8b, 0x02, 0xc7, 0x0b, 0xb7, 0xfd, 0xa0, 0xc5, 0x0d, 0x64, 0xb9, 0xac,
+	0x66, 0xe1, 0xa6, 0x41, 0xb7, 0x12, 0x91, 0x76, 0x1c, 0x0e, 0x60, 0x96, 0xe1, 0x44, 0x1b, 0xec,
+	0x5f, 0xb2, 0x00, 0xe2, 0xd6, 0xa3, 0xaf, 0x58, 0x30, 0xe6, 0xe8, 0x0e, 0x46, 0x31, 0x46, 0xeb,
+	0xd9, 0x19, 0x7b, 0x19, 0xd9, 0xf2, 0x79, 0x7a, 0x02, 0x35, 0x40, 0xd8, 0x64, 0x6c, 0xbf, 0x0a,
+	0x79, 0xb6, 0x3a, 0x98, 0x2e, 0x2e, 0xac, 0x7c, 0x49, 0xd3, 0xa6, 0xb4, 0xfe, 0x61, 0x85, 0x61,
+	0xbf, 0x03, 0xe7, 0xee, 0xec, 0x93, 0x6a, 0x27, 0xf2, 0x03, 0x6e, 0x0d, 0x44, 0xaf, 0x03, 0x0a,
+	0x49, 0xb0, 0xeb, 0x56, 0xc9, 0x6c, 0xb5, 0x4a, 0x4f, 0xd6, 0x6b, 0xb1, 0x6e, 0x30, 0x29, 0x28,
+	0xa1, 0x4a, 0x17, 0x06, 0x4e, 0xa9, 0x65, 0xff, 0x86, 0x05, 0x23, 0x9a, 0xb7, 0x89, 0xee, 0xd4,
+	0xf5, 0xb9, 0x0a, 0x3f, 0x77, 0x8b, 0xa1, 0x5a, 0xce, 0xc4, 0x9f, 0xc5, 0x49, 0xc6, 0xdb, 0x88,
+	0x02, 0xe1, 0x98, 0xe1, 0x23, 0x3c, 0x51, 0xf6, 0xef, 0x5a, 0x70, 0x29, 0xd5, 0x35, 0xf6, 0x94,
+	0x9b, 0x3d, 0x03, 0xc5, 0x1d, 0x72, 0xb0, 0xc0, 0xe6, 0x60, 0xd2, 0x91, 0xb4, 0x2c, 0x0b, 0x70,
+	0x8c, 0x63, 0xff, 0x96, 0x05, 0x31, 0x25, 0x2a, 0x8a, 0xb6, 0xe2, 0x96, 0x6b, 0xa2, 0x48, 0x70,
+	0x12, 0xa5, 0xe8, 0x03, 0xb8, 0x62, 0x7e, 0x41, 0x66, 0x2e, 0x3e, 0xb9, 0x29, 0x9e, 0x9f, 0x99,
+	0xd2, 0x29, 0xe1, 0x5e, 0x2c, 0xec, 0xfb, 0x90, 0x5f, 0x74, 0x3a, 0x75, 0xd2, 0x97, 0x11, 0x87,
+	0x8a, 0xb1, 0x80, 0x38, 0xcd, 0x48, 0xaa, 0xe9, 0x42, 0x8c, 0x61, 0x01, 0xc3, 0xaa, 0xd4, 0xfe,
+	0xfe, 0x20, 0x8c, 0x68, 0x51, 0x2c, 0x74, 0x1f, 0x0f, 0x48, 0xdb, 0x4f, 0xea, 0xba, 0xf4, 0x63,
+	0x63, 0x56, 0x42, 0xd7, 0x4f, 0x40, 0x76, 0xdd, 0x90, 0x8b, 0x1c, 0x63, 0xfd, 0x60, 0x01, 0xc7,
+	0x0a, 0x03, 0x4d, 0x41, 0xbe, 0x46, 0xda, 0x51, 0x83, 0x49, 0xd3, 0xc1, 0x72, 0x91, 0x36, 0x75,
+	0x9e, 0x02, 0x30, 0x87, 0x53, 0x84, 0x6d, 0x12, 0x55, 0x1b, 0xcc, 0xaa, 0x57, 0xe4, 0x08, 0x0b,
+	0x14, 0x80, 0x39, 0x3c, 0xc5, 0xb9, 0x92, 0x3f, 0x7d, 0xe7, 0xca, 0x50, 0xc6, 0xce, 0x15, 0xd4,
+	0x86, 0x0b, 0x61, 0xd8, 0xd8, 0x08, 0xdc, 0x5d, 0x27, 0x22, 0xf1, 0xcc, 0x19, 0x3e, 0x09, 0x9f,
+	0x2b, 0x47, 0x87, 0x53, 0x17, 0x2a, 0x95, 0xa5, 0x24, 0x15, 0x9c, 0x46, 0x1a, 0x55, 0xe0, 0x92,
+	0xeb, 0x85, 0xa4, 0xda, 0x09, 0xc8, 0xdd, 0xba, 0xe7, 0x07, 0x64, 0xc9, 0x0f, 0x29, 0x39, 0x11,
+	0x76, 0xa6, 0x9c, 0xb6, 0x77, 0xd3, 0x90, 0x70, 0x7a, 0x5d, 0xb4, 0x08, 0xe7, 0x6b, 0x6e, 0xe8,
+	0x6c, 0x35, 0x49, 0xa5, 0xb3, 0xd5, 0xf2, 0xe9, 0x81, 0x8d, 0x47, 0xaa, 0x14, 0xca, 0xcf, 0x4a,
+	0xd3, 0xc4, 0x7c, 0x12, 0x01, 0x77, 0xd7, 0xb1, 0xbf, 0x63, 0xc1, 0xa8, 0x1e, 0x52, 0x40, 0x75,
+	0x58, 0x68, 0xcc, 0x2f, 0x54, 0xb8, 0x94, 0xcd, 0x6e, 0x2f, 0x5d, 0x52, 0x34, 0xe3, 0x33, 0x5f,
+	0x0c, 0xc3, 0x1a, 0xcf, 0x3e, 0xc2, 0x28, 0x9f, 0x87, 0xfc, 0xb6, 0x4f, 0xb7, 0xfa, 0x01, 0xd3,
+	0x32, 0xbb, 0x40, 0x81, 0x98, 0x97, 0xd9, 0xff, 0xc7, 0x82, 0xcb, 0xe9, 0xd1, 0x12, 0x3f, 0x0c,
+	0x9d, 0xbc, 0x05, 0x40, 0xbb, 0x62, 0x88, 0x4b, 0x2d, 0x16, 0x56, 0x96, 0x60, 0x0d, 0xab, 0xbf,
+	0x6e, 0xff, 0x80, 0xaa, 0x9b, 0x31, 0x9f, 0xaf, 0x5a, 0x30, 0x46, 0xd9, 0x2e, 0x07, 0x5b, 0x46,
+	0x6f, 0xd7, 0xb3, 0xe9, 0xad, 0x22, 0x1b, 0x1b, 0xa0, 0x0d, 0x30, 0x36, 0x99, 0xa3, 0x3f, 0x0f,
+	0x45, 0xa7, 0x56, 0x0b, 0x48, 0x18, 0x2a, 0x77, 0x04, 0x73, 0xf1, 0xcd, 0x4a, 0x20, 0x8e, 0xcb,
+	0xa9, 0x88, 0x6b, 0xd4, 0xb6, 0x43, 0x2a, 0x35, 0x84, 0xdd, 0x4d, 0x89, 0x38, 0xca, 0x84, 0xc2,
+	0xb1, 0xc2, 0xb0, 0x7f, 0x7e, 0x10, 0x4c, 0xde, 0xa8, 0x06, 0xe3, 0x3b, 0xc1, 0xd6, 0x1c, 0x73,
+	0x43, 0x3e, 0x8e, 0x43, 0xf8, 0xc2, 0xd1, 0xe1, 0xd4, 0xf8, 0xb2, 0x49, 0x01, 0x27, 0x49, 0x0a,
+	0x2e, 0xcb, 0xe4, 0x20, 0x72, 0xb6, 0x1e, 0x67, 0x23, 0x92, 0x5c, 0x74, 0x0a, 0x38, 0x49, 0x12,
+	0xbd, 0x0a, 0x23, 0x3b, 0xc1, 0x96, 0x14, 0xa0, 0x49, 0x2f, 0xec, 0x72, 0x5c, 0x84, 0x75, 0x3c,
+	0x3a, 0x84, 0x3b, 0xc1, 0x16, 0xdd, 0x70, 0x64, 0x58, 0xb1, 0x1a, 0xc2, 0x65, 0x01, 0xc7, 0x0a,
+	0x03, 0xb5, 0x01, 0xed, 0xc8, 0xd1, 0x53, 0x4e, 0x57, 0x21, 0xe7, 0xfb, 0xf7, 0xd9, 0xb2, 0x10,
+	0x8c, 0xe5, 0x2e, 0x3a, 0x38, 0x85, 0x36, 0x7a, 0x13, 0xae, 0xec, 0x04, 0x5b, 0x62, 0x1b, 0xde,
+	0x08, 0x5c, 0xaf, 0xea, 0xb6, 0x8d, 0x10, 0xe2, 0x29, 0xd1, 0xdc, 0x2b, 0xcb, 0xe9, 0x68, 0xb8,
+	0x57, 0x7d, 0xfb, 0x1b, 0x39, 0x60, 0xb1, 0x99, 0x54, 0xb3, 0x68, 0x91, 0xa8, 0xe1, 0xd7, 0x92,
+	0x9a, 0xc5, 0x2a, 0x83, 0x62, 0x51, 0x2a, 0x83, 0x3d, 0x72, 0x3d, 0x82, 0x3d, 0xf6, 0x60, 0xb8,
+	0x41, 0x9c, 0x1a, 0x09, 0xa4, 0x21, 0x6c, 0x25, 0x9b, 0x68, 0xd2, 0x25, 0x46, 0x34, 0x3e, 0xe0,
+	0xf2, 0xff, 0x21, 0x96, 0xdc, 0xd0, 0x27, 0xe0, 0x1c, 0xd5, 0x11, 0xfc, 0x4e, 0x24, 0xad, 0xbe,
+	0x83, 0xcc, 0xea, 0xcb, 0xf6, 0xbb, 0x4d, 0xa3, 0x04, 0x27, 0x30, 0xd1, 0x55, 0x18, 0xdc, 0xf2,
+	0x6b, 0x3c, 0x12, 0x75, 0x94, 0x47, 0x89, 0x95, 0xfd, 0xda, 0x01, 0x66, 0x50, 0xfb, 0x57, 0xa9,
+	0xf4, 0xd7, 0x02, 0x5a, 0x1f, 0x15, 0xef, 0x12, 0xc6, 0x43, 0xc0, 0x4f, 0x39, 0x4b, 0x19, 0x0c,
+	0xc1, 0x23, 0xba, 0x6f, 0x7f, 0x9b, 0x0a, 0x34, 0x35, 0x4e, 0x7d, 0x58, 0x01, 0x9f, 0xd7, 0xcf,
+	0xd3, 0xbd, 0x54, 0xb3, 0x2f, 0x40, 0x91, 0xfd, 0x58, 0x08, 0xfc, 0x96, 0x30, 0xc6, 0xe1, 0x2c,
+	0xbf, 0xa7, 0x38, 0x37, 0x32, 0xe1, 0x76, 0x5f, 0x32, 0xc2, 0x31, 0x4f, 0xdb, 0x87, 0x89, 0x24,
+	0x36, 0x7a, 0x1b, 0x46, 0x43, 0x29, 0x1f, 0xe2, 0x80, 0xb1, 0x3e, 0xe5, 0x08, 0x33, 0x0d, 0x55,
+	0xb4, 0xea, 0xd8, 0x20, 0x66, 0xaf, 0xc3, 0x50, 0xa6, 0x43, 0x68, 0x7f, 0xd3, 0x82, 0x22, 0x33,
+	0xce, 0xd7, 0x03, 0xa7, 0x15, 0x57, 0x19, 0x38, 0x66, 0xd4, 0x43, 0x18, 0xe6, 0x6a, 0xbc, 0xf4,
+	0x1e, 0x67, 0x30, 0x81, 0xf8, 0x55, 0xa2, 0x78, 0x02, 0xf1, 0xf3, 0x42, 0x88, 0x25, 0x27, 0xfb,
+	0x67, 0x73, 0x30, 0x74, 0xd7, 0x6b, 0x77, 0xfe, 0xd4, 0x5f, 0x67, 0x59, 0x85, 0xc1, 0xbb, 0x11,
+	0x69, 0x99, 0xb7, 0xae, 0x46, 0xcb, 0x2f, 0xe8, 0x37, 0xae, 0x4a, 0xe6, 0x8d, 0x2b, 0xec, 0xec,
+	0xc9, 0xb8, 0x05, 0x61, 0x46, 0x8a, 0x83, 0xe6, 0x7e, 0xc7, 0x82, 0x31, 0xc3, 0xd2, 0x64, 0xd8,
+	0xdf, 0xad, 0x47, 0xda, 0xdf, 0x0d, 0x7b, 0x78, 0xee, 0x8c, 0xed, 0xe1, 0x76, 0x13, 0x06, 0x57,
+	0x5c, 0x6f, 0xa7, 0xbf, 0xc5, 0x10, 0x56, 0xfd, 0x76, 0xd7, 0x62, 0xa8, 0x50, 0x20, 0xe6, 0x65,
+	0x52, 0x72, 0x0e, 0xa4, 0x4b, 0x4e, 0xfb, 0x4b, 0x16, 0x9c, 0x5f, 0x25, 0x2d, 0xdf, 0xfd, 0x9c,
+	0x13, 0x07, 0x8d, 0xd0, 0x4a, 0x0d, 0x37, 0x12, 0xf1, 0x05, 0xaa, 0xd2, 0x92, 0x1b, 0x61, 0x0a,
+	0x7f, 0x84, 0x21, 0x80, 0x85, 0xb8, 0x52, 0x3d, 0x64, 0x2d, 0x56, 0x08, 0xe2, 0x70, 0x10, 0x59,
+	0x80, 0x63, 0x1c, 0xfb, 0xb7, 0x2d, 0x18, 0xe6, 0x8d, 0x20, 0x92, 0xb6, 0xd5, 0x83, 0x76, 0x03,
+	0xf2, 0xac, 0x9e, 0xf8, 0x2e, 0x8b, 0x19, 0x18, 0x88, 0x29, 0x39, 0x7e, 0xae, 0x64, 0x3f, 0x31,
+	0x67, 0xc0, 0x76, 0x67, 0x67, 0x7f, 0x56, 0xc5, 0xcb, 0xc4, 0xbb, 0x33, 0x83, 0x62, 0x51, 0x6a,
+	0xff, 0xca, 0x00, 0x14, 0xa4, 0xeb, 0x8d, 0xc7, 0x7a, 0x7b, 0x9e, 0x1f, 0x39, 0xdc, 0x33, 0xc5,
+	0x57, 0xf2, 0xdb, 0x4f, 0xde, 0x4a, 0xc9, 0x61, 0x7a, 0x36, 0xa6, 0xce, 0x0d, 0xc0, 0x4a, 0xd7,
+	0xd2, 0x4a, 0xb0, 0xde, 0x08, 0xf4, 0x79, 0x18, 0x6a, 0x3a, 0x5b, 0xa4, 0x29, 0x17, 0xf6, 0xfd,
+	0x0c, 0x9b, 0xb3, 0xc2, 0x08, 0xf3, 0x96, 0xa8, 0x11, 0xe2, 0x40, 0x2c, 0xb8, 0x4e, 0x7e, 0x0a,
+	0x26, 0x92, 0xad, 0x4e, 0xb1, 0x36, 0x5f, 0x34, 0x44, 0xbb, 0x66, 0x1c, 0x9e, 0xfc, 0x4b, 0x30,
+	0xa2, 0xb1, 0x39, 0x49, 0x55, 0xfb, 0x0d, 0x18, 0x59, 0x25, 0x51, 0xe0, 0x56, 0x19, 0x81, 0x47,
+	0x4d, 0xae, 0xbe, 0x76, 0x97, 0x2f, 0xb3, 0xc9, 0x4a, 0x69, 0x86, 0xe8, 0x03, 0x80, 0x76, 0xe0,
+	0x53, 0x35, 0x8d, 0x74, 0xe4, 0xc7, 0xce, 0x40, 0xfb, 0xda, 0x50, 0x34, 0xb9, 0xcf, 0x22, 0xfe,
+	0x8f, 0x35, 0x7e, 0xf6, 0x4d, 0xc8, 0xaf, 0x76, 0x22, 0xb2, 0xff, 0x68, 0x51, 0x61, 0xbf, 0x0d,
+	0xa3, 0x0c, 0x75, 0xc9, 0x6f, 0x52, 0x19, 0x4a, 0x7b, 0xda, 0xa2, 0xff, 0x93, 0x56, 0x22, 0x86,
+	0x84, 0x79, 0x19, 0x5d, 0x01, 0x0d, 0xbf, 0x59, 0x23, 0x81, 0x18, 0x0f, 0xf5, 0x7d, 0x97, 0x18,
+	0x14, 0x8b, 0x52, 0xfb, 0xa7, 0x72, 0x30, 0xc2, 0x2a, 0x0a, 0xe9, 0x71, 0x00, 0xc3, 0x0d, 0xce,
+	0x47, 0x0c, 0x49, 0x06, 0x21, 0x16, 0x7a, 0xeb, 0x35, 0x9d, 0x8c, 0x03, 0xb0, 0xe4, 0x47, 0x59,
+	0xef, 0x39, 0x6e, 0x44, 0x59, 0xe7, 0x4e, 0x97, 0xf5, 0x03, 0xce, 0x06, 0x4b, 0x7e, 0xf6, 0xbf,
+	0xb7, 0x00, 0xd6, 0xfc, 0x1a, 0xc1, 0x24, 0xec, 0x34, 0x23, 0xf4, 0xe3, 0x90, 0x6f, 0x37, 0x9c,
+	0x30, 0x69, 0xf9, 0xcd, 0x6f, 0x50, 0xe0, 0xc3, 0xc3, 0xa9, 0x22, 0xc5, 0x65, 0x7f, 0x30, 0x47,
+	0xd4, 0x23, 0xf4, 0x72, 0xc7, 0x47, 0xe8, 0xa1, 0x36, 0x0c, 0xfb, 0x9d, 0x88, 0x6a, 0x0e, 0x42,
+	0x45, 0xcc, 0xc0, 0xf1, 0xb1, 0xce, 0x09, 0xf2, 0x7b, 0x89, 0xe2, 0x0f, 0x96, 0x6c, 0xec, 0xff,
+	0x36, 0xce, 0x7b, 0x27, 0x3e, 0xf1, 0x24, 0xe4, 0x5c, 0x79, 0x6c, 0x01, 0xd1, 0xcc, 0xdc, 0xdd,
+	0x79, 0x9c, 0x73, 0x6b, 0x6a, 0x36, 0xe6, 0x7a, 0x6e, 0x5c, 0xaf, 0xc2, 0x48, 0xcd, 0x0d, 0xdb,
+	0x4d, 0xe7, 0x60, 0x2d, 0xe5, 0xcc, 0x38, 0x1f, 0x17, 0x61, 0x1d, 0x0f, 0xbd, 0x2c, 0xa2, 0x2a,
+	0xf9, 0x79, 0xb1, 0x94, 0x88, 0xaa, 0x2c, 0xd0, 0xe6, 0x69, 0x01, 0x95, 0xaf, 0xc1, 0xa8, 0xdc,
+	0xd1, 0x19, 0x97, 0x3c, 0xab, 0xa5, 0xa2, 0xed, 0x36, 0xb5, 0x32, 0x6c, 0x60, 0x76, 0x79, 0xa4,
+	0x87, 0xce, 0xde, 0x23, 0xfd, 0x49, 0x18, 0x93, 0x7f, 0xd9, 0x6e, 0x5e, 0xba, 0xc8, 0x5a, 0xaf,
+	0x6c, 0x19, 0x9b, 0x7a, 0x21, 0x36, 0x71, 0xe3, 0xa9, 0x37, 0xdc, 0xef, 0xd4, 0xbb, 0x05, 0xb0,
+	0xe5, 0x77, 0xbc, 0x9a, 0x13, 0x1c, 0xdc, 0x9d, 0x17, 0xf1, 0x2b, 0x4a, 0x63, 0x2c, 0xab, 0x12,
+	0xac, 0x61, 0xe9, 0xd3, 0xb5, 0xf8, 0x88, 0xe9, 0xfa, 0x36, 0x14, 0x59, 0xac, 0x0f, 0xa9, 0xcd,
+	0x46, 0xc2, 0xb3, 0x7b, 0x92, 0xb0, 0x10, 0xa5, 0x3c, 0x54, 0x24, 0x11, 0x1c, 0xd3, 0x43, 0x9f,
+	0x01, 0xd8, 0x76, 0x3d, 0x37, 0x6c, 0x30, 0xea, 0x23, 0x27, 0xa6, 0xae, 0xfa, 0xb9, 0xa0, 0xa8,
+	0x60, 0x8d, 0x22, 0x7a, 0x07, 0xce, 0x93, 0x30, 0x72, 0x5b, 0x4e, 0x44, 0x6a, 0x2a, 0xd8, 0xbc,
+	0xc4, 0x0e, 0xba, 0x2a, 0xda, 0xea, 0x4e, 0x12, 0xe1, 0x61, 0x1a, 0x10, 0x77, 0x13, 0x42, 0xaf,
+	0x41, 0xa1, 0x1d, 0xf8, 0xf5, 0x80, 0x84, 0x61, 0x69, 0x92, 0x0d, 0xe3, 0x55, 0xa9, 0x99, 0x6e,
+	0x08, 0xf8, 0x43, 0xed, 0x37, 0x56, 0xd8, 0xe8, 0x8f, 0x2d, 0x38, 0x1f, 0x10, 0xee, 0xee, 0x0b,
+	0x55, 0xc3, 0x2e, 0x31, 0xa9, 0x57, 0xcd, 0xe2, 0xd6, 0xbf, 0x5c, 0xec, 0xd3, 0x38, 0xc9, 0x85,
+	0x6f, 0xf7, 0x44, 0xf6, 0xbe, 0xab, 0xfc, 0x61, 0x1a, 0xf0, 0x4b, 0xdf, 0x9d, 0x9a, 0xea, 0x4e,
+	0x41, 0xa1, 0x88, 0xd3, 0x95, 0xf7, 0xd7, 0xbf, 0x3b, 0x35, 0x21, 0xff, 0xc7, 0x83, 0xd6, 0xd5,
+	0x49, 0xba, 0x7b, 0xb5, 0xfd, 0xda, 0xdd, 0x0d, 0xe1, 0x82, 0x57, 0xbb, 0xd7, 0x06, 0x05, 0x62,
+	0x5e, 0x86, 0x5e, 0x82, 0x42, 0xcd, 0x21, 0x2d, 0xdf, 0x23, 0xb5, 0xd2, 0x58, 0xec, 0xe3, 0x98,
+	0x17, 0x30, 0xac, 0x4a, 0x51, 0x13, 0x86, 0x5c, 0x76, 0x0c, 0x13, 0xf1, 0x36, 0x19, 0x9c, 0xfd,
+	0xf8, 0xb1, 0x4e, 0x46, 0xdb, 0x30, 0x51, 0x2a, 0x78, 0xe8, 0xb2, 0x7b, 0xfc, 0x4c, 0x64, 0x37,
+	0x1d, 0x89, 0x6a, 0xc3, 0x6d, 0xd6, 0x02, 0xe2, 0x95, 0x26, 0x98, 0x69, 0x93, 0x8d, 0xc4, 0x9c,
+	0x80, 0x61, 0x55, 0x8a, 0xfe, 0x22, 0x8c, 0xf9, 0x9d, 0x88, 0x2d, 0x72, 0xfa, 0xfd, 0xc3, 0xd2,
+	0x79, 0x86, 0xce, 0xbc, 0xa7, 0xeb, 0x7a, 0x01, 0x36, 0xf1, 0xa8, 0xb0, 0x6d, 0xf8, 0x61, 0x44,
+	0xff, 0x30, 0x61, 0x7b, 0xd9, 0x14, 0xb6, 0x4b, 0x5a, 0x19, 0x36, 0x30, 0xd1, 0xd7, 0x2d, 0x38,
+	0xdf, 0x4a, 0x1e, 0x40, 0x4a, 0x57, 0xd8, 0xc8, 0x54, 0xb2, 0x50, 0x54, 0x13, 0xa4, 0x79, 0x90,
+	0x59, 0x17, 0x18, 0x77, 0x37, 0x82, 0x5d, 0x98, 0x0b, 0x0f, 0xbc, 0x6a, 0x23, 0xf0, 0x3d, 0xb3,
+	0x79, 0xcf, 0xb2, 0xe6, 0xbd, 0x9d, 0xd1, 0x2a, 0x4b, 0x63, 0x51, 0x7e, 0xf6, 0xe8, 0x70, 0xea,
+	0x52, 0x6a, 0x11, 0x4e, 0x6f, 0xd4, 0xe4, 0x3c, 0x5c, 0x4e, 0x5f, 0xa9, 0x8f, 0xd2, 0x98, 0x07,
+	0x74, 0x8d, 0x79, 0x01, 0x9e, 0xed, 0xd9, 0x28, 0x2a, 0xf3, 0xa5, 0x7a, 0x65, 0x99, 0x32, 0xbf,
+	0x4b, 0x1d, 0x3a, 0x07, 0xa3, 0x7a, 0xe2, 0x10, 0xe6, 0xca, 0xd6, 0x2e, 0x6b, 0xd2, 0x43, 0xb6,
+	0x5f, 0xc9, 0xdc, 0x27, 0xbc, 0x5e, 0xe9, 0xf2, 0x09, 0x2b, 0x10, 0x8e, 0x19, 0xf6, 0xe3, 0xca,
+	0x4e, 0xbd, 0x59, 0xfa, 0x94, 0x9b, 0x7d, 0x62, 0x57, 0xf6, 0xbf, 0x1b, 0x84, 0x98, 0x12, 0x7a,
+	0x19, 0x0a, 0xc4, 0xab, 0xb5, 0x7d, 0xd7, 0x8b, 0x92, 0x66, 0x90, 0x3b, 0x02, 0x8e, 0x15, 0x86,
+	0xe6, 0xf8, 0xce, 0x1d, 0xeb, 0xf8, 0xae, 0xc1, 0xb8, 0xc3, 0x62, 0x6d, 0x63, 0xb7, 0xe5, 0xc0,
+	0x89, 0xfd, 0x0c, 0xb3, 0x26, 0x05, 0x9c, 0x24, 0x49, 0xb9, 0x84, 0x71, 0x55, 0xc6, 0x65, 0xf0,
+	0xc4, 0x5c, 0x2a, 0x26, 0x05, 0x9c, 0x24, 0x89, 0xde, 0x81, 0x52, 0x95, 0xdd, 0x6e, 0xe0, 0x7d,
+	0xbc, 0xbb, 0xbd, 0xe6, 0x47, 0x1b, 0x01, 0x09, 0x89, 0xc7, 0xdd, 0xca, 0x85, 0xf2, 0x0d, 0x31,
+	0x0a, 0xa5, 0xb9, 0x1e, 0x78, 0xb8, 0x27, 0x05, 0xaa, 0xd5, 0x31, 0xa7, 0xa9, 0x1b, 0x1d, 0x6c,
+	0xfa, 0x3b, 0xc4, 0x13, 0xae, 0x04, 0xa5, 0xd5, 0x55, 0xf4, 0x42, 0x6c, 0xe2, 0xa2, 0x9f, 0xb3,
+	0x60, 0xac, 0x29, 0xad, 0x5a, 0xb8, 0xd3, 0x94, 0xa9, 0x49, 0x70, 0x26, 0xd3, 0x6f, 0x45, 0xa7,
+	0xcc, 0x05, 0xbe, 0x01, 0xc2, 0x26, 0x6f, 0xfb, 0xdb, 0x16, 0x4c, 0x24, 0xab, 0xa1, 0x1d, 0xb8,
+	0xd6, 0x72, 0x82, 0x9d, 0xbb, 0xde, 0x76, 0xc0, 0xe2, 0xfe, 0x22, 0xfe, 0x55, 0x67, 0xb7, 0x23,
+	0x12, 0xcc, 0x3b, 0x07, 0x3c, 0xba, 0x27, 0xaf, 0xb2, 0x29, 0x5d, 0x5b, 0x3d, 0x0e, 0x19, 0x1f,
+	0x4f, 0x0b, 0x55, 0xe0, 0x12, 0x45, 0x98, 0x27, 0x4d, 0x42, 0x25, 0x54, 0xcc, 0x24, 0xc7, 0x98,
+	0x28, 0xff, 0xf5, 0x6a, 0x1a, 0x12, 0x4e, 0xaf, 0x6b, 0xff, 0xdb, 0x1c, 0xc8, 0xfd, 0xf3, 0x4f,
+	0xb7, 0x4d, 0x16, 0xd9, 0x30, 0x14, 0xb0, 0x93, 0xac, 0x38, 0x9e, 0x31, 0x55, 0x86, 0x9f, 0x6d,
+	0xb1, 0x28, 0xa1, 0x8a, 0x05, 0xd9, 0x77, 0xa3, 0x39, 0xbf, 0x26, 0x0f, 0x65, 0x4c, 0xb1, 0xb8,
+	0x23, 0x60, 0x58, 0x95, 0xda, 0x3f, 0x6d, 0xc1, 0x18, 0xed, 0x65, 0xb3, 0x49, 0x9a, 0x95, 0x88,
+	0xb4, 0x43, 0x14, 0x42, 0x3e, 0xa4, 0x3f, 0xb2, 0x33, 0x11, 0xc4, 0x01, 0xee, 0xa4, 0xad, 0x19,
+	0x43, 0x29, 0x13, 0xcc, 0x79, 0xd9, 0xff, 0x3d, 0x07, 0x45, 0x35, 0xd8, 0x7d, 0x58, 0x58, 0x6f,
+	0xc5, 0x57, 0xca, 0xb9, 0x0c, 0x2c, 0x69, 0xd7, 0xc9, 0xe9, 0x49, 0x6a, 0xd6, 0x3b, 0xe0, 0x37,
+	0x54, 0xe3, 0xbb, 0xe5, 0x2f, 0x9b, 0xfe, 0x86, 0xcb, 0xba, 0x11, 0x5b, 0xc3, 0x17, 0x8e, 0x87,
+	0x7d, 0xdd, 0xdd, 0x33, 0x98, 0xd5, 0x7e, 0xa2, 0x1c, 0x3b, 0xbd, 0xfd, 0x3c, 0x89, 0xbc, 0x48,
+	0xf9, 0xbe, 0xf2, 0x22, 0xdd, 0x84, 0x41, 0xe2, 0x75, 0x5a, 0x2c, 0xda, 0xb9, 0xc8, 0x34, 0xa9,
+	0xc1, 0x3b, 0x5e, 0xa7, 0x65, 0xf6, 0x8c, 0xa1, 0xd8, 0xff, 0xcc, 0x02, 0xaa, 0x8f, 0x2f, 0xce,
+	0xa1, 0xbf, 0x0c, 0x85, 0x50, 0x68, 0x01, 0x62, 0xa8, 0x7f, 0x44, 0x05, 0xd4, 0x09, 0xf8, 0xc3,
+	0xc3, 0xa9, 0x31, 0x86, 0x2c, 0x01, 0x58, 0x55, 0x41, 0x4d, 0x18, 0x63, 0x76, 0x44, 0x29, 0xc9,
+	0x85, 0xe5, 0xf7, 0x76, 0x9f, 0x77, 0x94, 0xf4, 0xaa, 0x42, 0xae, 0xe9, 0x20, 0x6c, 0x12, 0xb7,
+	0x7f, 0x67, 0x10, 0x34, 0x73, 0x5b, 0x1f, 0x53, 0xe4, 0xbd, 0x84, 0x71, 0x75, 0x35, 0x13, 0xe3,
+	0xaa, 0xb4, 0x58, 0xf2, 0x65, 0x67, 0xda, 0x53, 0x69, 0xa3, 0x1a, 0xa4, 0xd9, 0x16, 0x13, 0x4c,
+	0x35, 0x6a, 0x89, 0x34, 0xdb, 0x98, 0x95, 0xa8, 0x68, 0xeb, 0xc1, 0x9e, 0xd1, 0xd6, 0x0d, 0xc8,
+	0xd7, 0x9d, 0x4e, 0x9d, 0x08, 0x27, 0x7a, 0x06, 0x76, 0x74, 0x16, 0x7e, 0xc6, 0xed, 0xe8, 0xec,
+	0x27, 0xe6, 0x0c, 0xe8, 0x0c, 0x6f, 0x48, 0x67, 0x9c, 0x30, 0xa5, 0x64, 0x30, 0xc3, 0x95, 0x7f,
+	0x8f, 0xcf, 0x70, 0xf5, 0x17, 0xc7, 0xcc, 0xe8, 0x49, 0xab, 0xca, 0xaf, 0x36, 0x8a, 0xad, 0xf2,
+	0x6e, 0x16, 0xe1, 0xe4, 0x8c, 0x20, 0x3f, 0x69, 0x89, 0x3f, 0x58, 0xb2, 0xb1, 0x67, 0x60, 0x44,
+	0xcb, 0x10, 0x44, 0x3f, 0x83, 0xba, 0x55, 0xa7, 0x7d, 0x86, 0x79, 0x27, 0x72, 0x30, 0x2b, 0xb1,
+	0xff, 0xde, 0x00, 0xa8, 0x13, 0xaf, 0x1e, 0xfc, 0xec, 0x54, 0xb5, 0xab, 0xf5, 0xc6, 0xad, 0x1b,
+	0xdf, 0xc3, 0xa2, 0x94, 0xaa, 0x13, 0x2d, 0x12, 0xd4, 0x95, 0x8e, 0x2d, 0x64, 0x94, 0x52, 0x27,
+	0x56, 0xf5, 0x42, 0x6c, 0xe2, 0x52, 0x5d, 0xb0, 0xe5, 0x78, 0xee, 0x36, 0x09, 0xa3, 0x64, 0x0c,
+	0xcb, 0xaa, 0x80, 0x63, 0x85, 0x81, 0x16, 0xe1, 0x7c, 0x48, 0xa2, 0xf5, 0x3d, 0x8f, 0x04, 0xea,
+	0x36, 0x90, 0xb8, 0x1e, 0xa6, 0xe2, 0xba, 0x2a, 0x49, 0x04, 0xdc, 0x5d, 0x07, 0xcd, 0xc3, 0x84,
+	0xb8, 0x99, 0xa5, 0x2e, 0xd6, 0x08, 0xd9, 0xa3, 0x72, 0xba, 0x55, 0x12, 0xe5, 0xb8, 0xab, 0x06,
+	0xa5, 0xb2, 0xed, 0xb8, 0xcd, 0x4e, 0x40, 0x62, 0x2a, 0x43, 0x26, 0x95, 0x85, 0x44, 0x39, 0xee,
+	0xaa, 0xc1, 0x42, 0x0b, 0x9b, 0x4e, 0x3d, 0x2c, 0x0d, 0x6b, 0xa1, 0x85, 0x14, 0x80, 0x39, 0xdc,
+	0xfe, 0x27, 0x16, 0x8c, 0x61, 0x12, 0x05, 0x07, 0xb3, 0xdb, 0xdb, 0xae, 0xe7, 0x46, 0x07, 0xe8,
+	0x97, 0x2d, 0x98, 0xf0, 0xfc, 0x1a, 0x99, 0xf5, 0x22, 0x57, 0x02, 0xb3, 0x4b, 0x9f, 0xc2, 0x78,
+	0xad, 0x25, 0xc8, 0xf3, 0x4b, 0x5e, 0x49, 0x28, 0xee, 0x6a, 0x86, 0x7d, 0x05, 0x2e, 0xa5, 0x12,
+	0xb0, 0xbf, 0x3d, 0x20, 0xba, 0xa1, 0x3e, 0xfe, 0x1b, 0x90, 0x6f, 0xb2, 0x0b, 0x6f, 0xd6, 0x63,
+	0xe6, 0x63, 0x60, 0x63, 0xc5, 0x6f, 0xc4, 0x71, 0x4a, 0x68, 0x1e, 0x46, 0x02, 0xca, 0x43, 0x5c,
+	0x47, 0xe4, 0x53, 0xd1, 0x8e, 0xf3, 0xcb, 0xa9, 0xa2, 0x87, 0xe6, 0x5f, 0xac, 0x57, 0x43, 0xef,
+	0xc3, 0xf0, 0x16, 0x4f, 0x31, 0x91, 0x9d, 0x61, 0x5b, 0xe4, 0xac, 0x60, 0x3b, 0xb1, 0x4c, 0x60,
+	0xf1, 0x30, 0xfe, 0x89, 0x25, 0x47, 0x74, 0x00, 0x05, 0x47, 0x7e, 0xd3, 0xc1, 0xac, 0x82, 0xd1,
+	0x8c, 0xf9, 0xc3, 0xf5, 0x23, 0xf5, 0x0d, 0x15, 0x3b, 0xba, 0x19, 0x93, 0x38, 0xc5, 0x5e, 0x62,
+	0x33, 0xd6, 0xd2, 0xeb, 0x69, 0x58, 0xf6, 0x37, 0x2d, 0x80, 0x38, 0xf9, 0x14, 0xda, 0x87, 0x42,
+	0x78, 0xdb, 0x38, 0x98, 0x66, 0x71, 0xbf, 0x47, 0x50, 0xd4, 0x62, 0xe0, 0x05, 0x04, 0x2b, 0x6e,
+	0x8f, 0x3a, 0x4c, 0xff, 0x6f, 0x0b, 0x2e, 0xa6, 0x25, 0xc9, 0x7a, 0x8a, 0x2d, 0x3e, 0xe9, 0x39,
+	0x5a, 0x54, 0xd8, 0x08, 0xc8, 0xb6, 0xbb, 0x9f, 0x74, 0x69, 0x2f, 0xcb, 0x02, 0x1c, 0xe3, 0xd8,
+	0x5f, 0xcb, 0x83, 0x62, 0x7c, 0x4a, 0xe7, 0xee, 0x17, 0xa9, 0x86, 0x5e, 0x8f, 0x53, 0x9f, 0x28,
+	0x3c, 0xcc, 0xa0, 0x58, 0x94, 0x52, 0x2d, 0x5d, 0x06, 0xeb, 0x0a, 0x91, 0xcd, 0x66, 0xa1, 0x8c,
+	0xeb, 0xc5, 0xaa, 0x34, 0xed, 0x24, 0x9f, 0x3f, 0x93, 0x93, 0xfc, 0x50, 0xf6, 0x27, 0xf9, 0x9b,
+	0x30, 0x1c, 0xf8, 0x4d, 0x32, 0x8b, 0xd7, 0x84, 0x1b, 0x24, 0x4e, 0xd9, 0xc3, 0xc1, 0x58, 0x96,
+	0xa3, 0x57, 0x61, 0xa4, 0x13, 0x92, 0xca, 0xfc, 0xf2, 0x5c, 0x40, 0x6a, 0xa1, 0x88, 0x7f, 0x56,
+	0xee, 0xa8, 0x7b, 0x71, 0x11, 0xd6, 0xf1, 0xd0, 0x6f, 0x59, 0xc7, 0x18, 0x0b, 0x8a, 0x59, 0xed,
+	0x09, 0xa9, 0xc9, 0x16, 0xca, 0x57, 0x1f, 0xcf, 0x02, 0x61, 0x7f, 0xc5, 0x82, 0x73, 0x95, 0x6a,
+	0xe0, 0xb6, 0xe3, 0xe4, 0x19, 0x59, 0xe7, 0xf6, 0x78, 0x51, 0xdd, 0x77, 0x4a, 0x4c, 0x5f, 0xf3,
+	0x86, 0x92, 0xfd, 0x2e, 0x4c, 0x54, 0x48, 0xcb, 0x69, 0x37, 0x58, 0xf8, 0x38, 0x77, 0xdf, 0xce,
+	0x40, 0x31, 0x94, 0xb0, 0x64, 0x72, 0x34, 0x85, 0x8c, 0x63, 0x1c, 0xf4, 0x02, 0x77, 0x35, 0xcb,
+	0xc0, 0xbf, 0x22, 0xd7, 0xcb, 0xb8, 0x7f, 0x3a, 0xc4, 0xb2, 0xcc, 0xde, 0x83, 0xd1, 0xb8, 0x3a,
+	0xd9, 0x46, 0x75, 0x18, 0xaf, 0x6a, 0x11, 0xa2, 0x71, 0x48, 0x5b, 0xff, 0xc1, 0xa4, 0x6c, 0x16,
+	0xce, 0x99, 0x44, 0x70, 0x92, 0xaa, 0xfd, 0x0b, 0x39, 0x18, 0x57, 0x9c, 0x85, 0x11, 0xf5, 0xc3,
+	0xa4, 0x7b, 0x1c, 0x67, 0x71, 0x0f, 0xd3, 0x1c, 0xc9, 0x63, 0x5c, 0xe4, 0x1f, 0x26, 0x5d, 0xe4,
+	0xa7, 0xca, 0xbe, 0xcb, 0x2e, 0xfc, 0xcd, 0x1c, 0x14, 0xd4, 0xad, 0xd0, 0x37, 0x20, 0xcf, 0x54,
+	0xe7, 0x27, 0xd3, 0x43, 0x98, 0x1a, 0x8e, 0x39, 0x25, 0x4a, 0x92, 0xf9, 0x06, 0x1f, 0x3b, 0xd5,
+	0x54, 0x91, 0x5b, 0x0d, 0x9c, 0x20, 0xc2, 0x9c, 0x12, 0x5a, 0x86, 0x01, 0xe2, 0xd5, 0x84, 0x42,
+	0x72, 0x72, 0x82, 0x2c, 0x31, 0xe0, 0x1d, 0xaf, 0x86, 0x29, 0x15, 0x96, 0x97, 0x85, 0xef, 0x3b,
+	0x83, 0xe6, 0xf2, 0x10, 0x9b, 0x8e, 0x28, 0xb5, 0x7f, 0x6e, 0x00, 0x86, 0x2a, 0x9d, 0x2d, 0xaa,
+	0x5a, 0xfd, 0x9a, 0x05, 0x17, 0xf6, 0x12, 0x69, 0x88, 0xe2, 0x29, 0x7b, 0x2f, 0xfb, 0x1c, 0x4f,
+	0x98, 0x6c, 0x97, 0x9f, 0x13, 0xed, 0xba, 0x90, 0x52, 0x88, 0xd3, 0x9a, 0x63, 0xa4, 0x6c, 0x19,
+	0x38, 0xa5, 0xe4, 0x56, 0xa7, 0x1b, 0x98, 0x37, 0xd6, 0x33, 0x28, 0xef, 0x4f, 0x06, 0x01, 0xf8,
+	0xd7, 0x58, 0x6f, 0x47, 0xfd, 0x98, 0x05, 0x5e, 0x83, 0x51, 0x99, 0x5d, 0x7e, 0x2d, 0x0e, 0x86,
+	0x50, 0x0e, 0xb1, 0x45, 0xad, 0x0c, 0x1b, 0x98, 0x4c, 0x15, 0xf4, 0xa2, 0xe0, 0x80, 0xab, 0x0b,
+	0x83, 0x09, 0x55, 0x50, 0x95, 0x60, 0x0d, 0x0b, 0x4d, 0x1b, 0xa6, 0x4a, 0x7e, 0x7d, 0xfd, 0xdc,
+	0x31, 0x96, 0xc5, 0x4f, 0xc2, 0x98, 0xfa, 0xb7, 0xe0, 0x36, 0x49, 0xd2, 0x10, 0xbd, 0xa1, 0x17,
+	0x62, 0x13, 0x17, 0x7d, 0x0a, 0xce, 0x99, 0xb7, 0xd0, 0xc4, 0x06, 0xab, 0xee, 0x80, 0x9a, 0x97,
+	0xd7, 0x70, 0x02, 0x9b, 0xae, 0x80, 0x5a, 0x70, 0x80, 0x3b, 0x9e, 0xd8, 0x69, 0xd5, 0x0a, 0x98,
+	0x67, 0x50, 0x2c, 0x4a, 0xe9, 0x10, 0xd2, 0x9a, 0x24, 0xe0, 0x70, 0x71, 0x8d, 0x48, 0x0d, 0x61,
+	0x45, 0x2b, 0xc3, 0x06, 0x26, 0xe5, 0x20, 0x6c, 0x32, 0x60, 0xae, 0xb1, 0x84, 0x21, 0xa5, 0x0d,
+	0xe7, 0x7c, 0xf3, 0x48, 0xcb, 0xc3, 0x07, 0x3e, 0xde, 0xe7, 0xbc, 0x35, 0xea, 0xf2, 0xb0, 0xf7,
+	0xc4, 0x09, 0x38, 0x41, 0x9f, 0xaa, 0x1a, 0x7a, 0x78, 0xe0, 0xa8, 0x19, 0xf9, 0xd2, 0x2b, 0x82,
+	0xcf, 0xbe, 0x00, 0xe7, 0x2b, 0x9d, 0x76, 0xbb, 0xe9, 0x92, 0x9a, 0xb2, 0xe5, 0xd9, 0x3f, 0x01,
+	0xe3, 0x22, 0x23, 0x8b, 0xda, 0xcb, 0x4f, 0x94, 0x96, 0xcf, 0xfe, 0x63, 0x0b, 0xc6, 0x13, 0x7e,
+	0x3e, 0xf4, 0x7e, 0x72, 0x07, 0xce, 0xc4, 0x34, 0xab, 0x6f, 0xbe, 0x7c, 0x95, 0xa5, 0xee, 0xe6,
+	0x0d, 0x19, 0x95, 0x96, 0x59, 0x70, 0x27, 0x8b, 0xdd, 0xe2, 0x22, 0x5d, 0x0f, 0x6d, 0xb3, 0xbf,
+	0x9c, 0x83, 0x74, 0xe7, 0x2a, 0xfa, 0x7c, 0xf7, 0x00, 0xbc, 0x91, 0xe1, 0x00, 0x08, 0xef, 0x6e,
+	0xef, 0x31, 0xf0, 0xcc, 0x31, 0x58, 0xcd, 0x68, 0x0c, 0x04, 0xdf, 0xee, 0x91, 0xf8, 0x23, 0x0b,
+	0x46, 0x36, 0x37, 0x57, 0x94, 0x69, 0x00, 0xc3, 0xe5, 0x90, 0xdf, 0xd1, 0x60, 0x5e, 0x91, 0x39,
+	0xbf, 0xd5, 0xe6, 0x4e, 0x12, 0xe1, 0xbc, 0x61, 0xc9, 0x71, 0x2a, 0xa9, 0x18, 0xb8, 0x47, 0x4d,
+	0x74, 0x17, 0x2e, 0xe8, 0x25, 0xc2, 0xc0, 0x23, 0x1c, 0x35, 0xfc, 0xd6, 0x62, 0x77, 0x31, 0x4e,
+	0xab, 0x93, 0x24, 0x25, 0xac, 0x3c, 0xe2, 0xdd, 0x82, 0x2e, 0x52, 0xa2, 0x18, 0xa7, 0xd5, 0xb1,
+	0xd7, 0x61, 0x44, 0x7b, 0x45, 0x03, 0x7d, 0x1a, 0x26, 0xaa, 0x7e, 0x4b, 0x9e, 0xae, 0x57, 0xc8,
+	0x2e, 0x69, 0x8a, 0x2e, 0x33, 0x03, 0xcc, 0x5c, 0xa2, 0x0c, 0x77, 0x61, 0xdb, 0x5f, 0xba, 0x0e,
+	0x2a, 0x9c, 0xbc, 0x8f, 0x2d, 0xa2, 0xad, 0xc2, 0x4e, 0xf2, 0x19, 0x87, 0x9d, 0x28, 0x79, 0x97,
+	0x08, 0x3d, 0x89, 0xe2, 0xd0, 0x93, 0xa1, 0xac, 0x43, 0x4f, 0x94, 0xc6, 0xd7, 0x15, 0x7e, 0xf2,
+	0x8b, 0x16, 0x8c, 0x7a, 0x7e, 0x8d, 0x28, 0x03, 0xfe, 0x30, 0x53, 0x3b, 0xdf, 0xc9, 0x2e, 0x9e,
+	0x8e, 0x87, 0x51, 0x08, 0xf2, 0x3c, 0x38, 0x49, 0x6d, 0x13, 0x7a, 0x11, 0x36, 0xda, 0x81, 0x16,
+	0x34, 0x7b, 0x0f, 0xcf, 0x88, 0x72, 0x35, 0x4d, 0xfd, 0x7f, 0xa4, 0xf1, 0x66, 0x5f, 0x53, 0x7c,
+	0x8a, 0x59, 0xd9, 0x31, 0x64, 0x84, 0xb5, 0x66, 0x96, 0x95, 0xf9, 0x9d, 0x62, 0x85, 0xc8, 0x86,
+	0x21, 0x1e, 0xc5, 0x24, 0xde, 0x73, 0x60, 0xde, 0x02, 0x1e, 0xe1, 0x84, 0x45, 0x09, 0x8a, 0xa4,
+	0xa3, 0x6d, 0x24, 0xab, 0xb4, 0x88, 0x86, 0x23, 0x2f, 0xdd, 0xd3, 0x86, 0x5e, 0xd7, 0x4f, 0x95,
+	0xa3, 0xfd, 0x9c, 0x2a, 0xc7, 0x7a, 0x9e, 0x28, 0xbf, 0x6a, 0xc1, 0x68, 0x55, 0xcb, 0xfb, 0x58,
+	0x7a, 0x29, 0xab, 0xe4, 0xa6, 0x69, 0xd9, 0x24, 0xf9, 0x7d, 0x25, 0xbd, 0x04, 0x1b, 0xdc, 0x59,
+	0x42, 0x0f, 0x76, 0x84, 0x66, 0x61, 0x65, 0x23, 0xb7, 0x36, 0x32, 0xd8, 0x1e, 0x8c, 0x23, 0x39,
+	0xff, 0x8c, 0x1c, 0x86, 0x05, 0x2f, 0xf4, 0x01, 0x14, 0x64, 0x20, 0x9c, 0x08, 0x53, 0xc3, 0x59,
+	0x18, 0x27, 0x4d, 0xd7, 0x83, 0x4c, 0x03, 0xc0, 0xa1, 0x58, 0x71, 0x44, 0x0d, 0x18, 0xa8, 0x39,
+	0x75, 0x11, 0xb0, 0xb6, 0x9a, 0x4d, 0x96, 0x15, 0xc9, 0x93, 0x9d, 0x8f, 0xe6, 0x67, 0x17, 0x31,
+	0x65, 0x81, 0xf6, 0xe3, 0xf4, 0x73, 0x13, 0x99, 0xed, 0xbe, 0xa6, 0x9a, 0xc4, 0x8d, 0x04, 0x5d,
+	0xd9, 0xec, 0x6a, 0xc2, 0x5b, 0xf3, 0xe7, 0x18, 0xdb, 0x85, 0x6c, 0xd2, 0xb4, 0xf0, 0xab, 0x8d,
+	0xb1, 0xc7, 0x87, 0x72, 0x61, 0x0f, 0x7f, 0xfc, 0x58, 0x56, 0x5c, 0x96, 0x36, 0x37, 0x37, 0xba,
+	0x1e, 0xfc, 0xb8, 0x03, 0xc3, 0x3c, 0x81, 0x28, 0x0f, 0xe1, 0x1b, 0xb9, 0x35, 0xd9, 0x3b, 0x0d,
+	0x69, 0x2c, 0xba, 0xf9, 0xff, 0x10, 0xcb, 0xba, 0xe8, 0x17, 0x2c, 0x38, 0x47, 0x65, 0x5c, 0x9c,
+	0xf1, 0xb4, 0x84, 0xb2, 0x92, 0x22, 0xf7, 0x42, 0xaa, 0x23, 0xc8, 0xd5, 0xaf, 0x0e, 0x0f, 0x77,
+	0x0d, 0x76, 0x38, 0xc1, 0x1e, 0x7d, 0x08, 0x85, 0xd0, 0xad, 0x91, 0xaa, 0x13, 0x84, 0xa5, 0x0b,
+	0xa7, 0xd3, 0x94, 0xd8, 0x70, 0x2c, 0x18, 0x61, 0xc5, 0x12, 0xfd, 0x2d, 0x96, 0x9f, 0x5c, 0xbc,
+	0x25, 0x21, 0x9e, 0x39, 0xba, 0x78, 0x6a, 0xcf, 0x1c, 0x71, 0x7b, 0xaa, 0xc9, 0x0e, 0x27, 0xf9,
+	0xa3, 0xbf, 0x66, 0xc1, 0x25, 0x9e, 0x87, 0x2f, 0x99, 0x84, 0xf1, 0xd2, 0x63, 0x5a, 0x2c, 0x58,
+	0xec, 0xe1, 0x6c, 0x1a, 0x49, 0x9c, 0xce, 0x89, 0x25, 0xf2, 0x09, 0x74, 0x17, 0x13, 0x8b, 0x00,
+	0xcd, 0xce, 0x81, 0xa2, 0x5e, 0x4d, 0x62, 0x1e, 0x7c, 0x03, 0x84, 0x4d, 0xc6, 0xe8, 0x15, 0x18,
+	0x69, 0x8b, 0x0d, 0xca, 0x0d, 0x5b, 0x2c, 0x92, 0x74, 0x80, 0x47, 0xdb, 0x6f, 0xc4, 0x60, 0xac,
+	0xe3, 0x18, 0x59, 0x9d, 0x6e, 0x1e, 0x97, 0xd5, 0x09, 0xdd, 0x83, 0x91, 0xc8, 0x6f, 0x92, 0x40,
+	0x9c, 0xdf, 0x4a, 0x6c, 0x06, 0x5e, 0x4f, 0x5b, 0x5b, 0x9b, 0x0a, 0x2d, 0x3e, 0xdf, 0xc5, 0xb0,
+	0x10, 0xeb, 0x74, 0x58, 0x60, 0x98, 0xc8, 0x6f, 0x18, 0x30, 0x73, 0xc1, 0xb3, 0x89, 0xc0, 0x30,
+	0xbd, 0x10, 0x9b, 0xb8, 0x68, 0x11, 0xce, 0xb7, 0x03, 0xd7, 0x0f, 0xdc, 0xe8, 0x60, 0xae, 0xe9,
+	0x84, 0x21, 0x23, 0xc0, 0x63, 0xc9, 0x95, 0x6f, 0x76, 0x23, 0x89, 0x80, 0xbb, 0xeb, 0xd0, 0x61,
+	0x90, 0xc0, 0xd2, 0x73, 0x4c, 0xf3, 0x1d, 0xe5, 0x71, 0xe8, 0x1c, 0x86, 0x55, 0x69, 0x8f, 0x1c,
+	0x47, 0x57, 0x1f, 0x27, 0xc7, 0x11, 0xaa, 0xc1, 0x55, 0xa7, 0x13, 0xf9, 0xec, 0xb2, 0xac, 0x59,
+	0x85, 0xc7, 0xc8, 0xdd, 0xe0, 0x61, 0x77, 0x47, 0x87, 0x53, 0x57, 0x67, 0x8f, 0xc1, 0xc3, 0xc7,
+	0x52, 0x41, 0x9f, 0x83, 0x02, 0x11, 0x79, 0x9a, 0x4a, 0x3f, 0x92, 0xd5, 0xb6, 0x6d, 0x66, 0x7e,
+	0x92, 0xc1, 0x4f, 0x1c, 0x86, 0x15, 0x3f, 0xb4, 0x09, 0x23, 0x0d, 0x3f, 0x8c, 0x66, 0x9b, 0xae,
+	0x13, 0x92, 0xb0, 0x74, 0x8d, 0x4d, 0x9a, 0x54, 0x6d, 0x68, 0x49, 0xa2, 0xc5, 0x73, 0x66, 0x29,
+	0xae, 0x89, 0x75, 0x32, 0x88, 0x30, 0x37, 0x0a, 0x0b, 0x10, 0xa4, 0xb2, 0x8b, 0xec, 0x47, 0xa5,
+	0xeb, 0xac, 0x63, 0x2f, 0xa6, 0x51, 0xde, 0xf0, 0x6b, 0x15, 0x13, 0x5b, 0xf9, 0x51, 0x74, 0x20,
+	0x4e, 0xd2, 0x44, 0xaf, 0xc1, 0x68, 0xdb, 0xaf, 0x55, 0xda, 0xa4, 0xba, 0xe1, 0x44, 0xd5, 0x46,
+	0x69, 0xca, 0x34, 0x64, 0x6d, 0x68, 0x65, 0xd8, 0xc0, 0x44, 0x6d, 0x18, 0x6e, 0xf1, 0x7b, 0x72,
+	0xa5, 0xe7, 0xb3, 0x3a, 0x6d, 0x88, 0x8b, 0x77, 0x7c, 0x07, 0x17, 0x7f, 0xb0, 0x64, 0x83, 0xfe,
+	0xa1, 0x05, 0xe3, 0x89, 0xd8, 0xe8, 0xd2, 0x8f, 0x66, 0xa6, 0x44, 0x98, 0x84, 0xcb, 0x2f, 0xb2,
+	0xe1, 0x33, 0x81, 0x0f, 0xbb, 0x41, 0x38, 0xd9, 0x22, 0x3e, 0x2e, 0xec, 0xb2, 0x6b, 0xe9, 0x85,
+	0xec, 0xc6, 0x85, 0x11, 0x94, 0xe3, 0xc2, 0xfe, 0x60, 0xc9, 0x06, 0xdd, 0x84, 0x61, 0x91, 0x7e,
+	0xa1, 0xf4, 0xa2, 0xe9, 0x0b, 0x13, 0x59, 0x1a, 0xb0, 0x2c, 0x9f, 0xfc, 0x09, 0x38, 0xdf, 0x75,
+	0x98, 0x3a, 0xd1, 0x8d, 0xcb, 0x5f, 0xb2, 0x40, 0xbf, 0xd6, 0x94, 0x79, 0x72, 0xd4, 0xd7, 0x60,
+	0xb4, 0xca, 0x33, 0xf3, 0xf3, 0x8b, 0x51, 0x83, 0xa6, 0x55, 0x70, 0x4e, 0x2b, 0xc3, 0x06, 0xa6,
+	0xbd, 0x04, 0xa8, 0x3b, 0x73, 0x5d, 0xc2, 0xf3, 0x6e, 0xf5, 0xe5, 0x79, 0xff, 0x75, 0x0b, 0xc6,
+	0x0c, 0x9d, 0x21, 0x73, 0x27, 0xda, 0x02, 0xa0, 0x96, 0x1b, 0x04, 0x7e, 0xa0, 0x27, 0x85, 0x17,
+	0xa9, 0xba, 0x58, 0x1a, 0x93, 0xd5, 0xae, 0x52, 0x9c, 0x52, 0xc3, 0xfe, 0xdd, 0x01, 0x88, 0xa3,
+	0xff, 0x54, 0x02, 0x23, 0xab, 0x67, 0x02, 0xa3, 0x97, 0xa1, 0xf0, 0x6e, 0xe8, 0x7b, 0x1b, 0x71,
+	0x9a, 0x23, 0xf5, 0x2d, 0x5e, 0xaf, 0xac, 0xaf, 0x31, 0x4c, 0x85, 0xc1, 0xb0, 0xdf, 0x5b, 0x70,
+	0x9b, 0x51, 0x77, 0x1e, 0x9c, 0xd7, 0xdf, 0xe0, 0x70, 0xac, 0x30, 0x58, 0xda, 0xfa, 0x5d, 0xa2,
+	0xcc, 0xc5, 0x71, 0xda, 0x7a, 0x9e, 0x94, 0x92, 0x95, 0xa1, 0x19, 0x28, 0x2a, 0x6b, 0xb3, 0x30,
+	0x7e, 0xab, 0x91, 0x52, 0x56, 0x69, 0x1c, 0xe3, 0x30, 0x85, 0x50, 0x98, 0x46, 0x85, 0x51, 0xa3,
+	0x92, 0xc5, 0x81, 0x21, 0x61, 0x6c, 0xe5, 0xb2, 0x5d, 0x82, 0xb1, 0x62, 0xa9, 0x47, 0x88, 0xe6,
+	0xfb, 0x8d, 0x10, 0x35, 0xa7, 0x5c, 0xa1, 0xaf, 0x29, 0xf7, 0x33, 0x03, 0x30, 0x7c, 0x9f, 0x04,
+	0x2c, 0x67, 0xda, 0x4d, 0x18, 0xde, 0xe5, 0x3f, 0x93, 0xb7, 0x30, 0x04, 0x06, 0x96, 0xe5, 0x74,
+	0x38, 0xb7, 0x3a, 0x6e, 0xb3, 0x36, 0x1f, 0x2f, 0x2e, 0x35, 0x9c, 0x65, 0x59, 0x80, 0x63, 0x1c,
+	0x5a, 0xa1, 0x4e, 0x15, 0xee, 0x56, 0xcb, 0x8d, 0x92, 0x81, 0x0e, 0x8b, 0xb2, 0x00, 0xc7, 0x38,
+	0xe8, 0x45, 0x18, 0xaa, 0xbb, 0xd1, 0xa6, 0x53, 0x4f, 0xfa, 0xb3, 0x16, 0x19, 0x14, 0x8b, 0x52,
+	0xe6, 0x10, 0x71, 0xa3, 0xcd, 0x80, 0x30, 0x13, 0x68, 0xd7, 0x75, 0xcc, 0x45, 0xad, 0x0c, 0x1b,
+	0x98, 0xac, 0x49, 0xbe, 0xe8, 0x99, 0x70, 0x54, 0xc4, 0x4d, 0x92, 0x05, 0x38, 0xc6, 0xa1, 0xd3,
+	0xb2, 0xea, 0xb7, 0xda, 0x6e, 0x53, 0x04, 0xfe, 0x69, 0xd3, 0x72, 0x4e, 0xc0, 0xb1, 0xc2, 0xa0,
+	0xd8, 0x54, 0xb2, 0x50, 0xa9, 0x90, 0xcc, 0xdc, 0xbd, 0x21, 0xe0, 0x58, 0x61, 0xd8, 0xf7, 0x61,
+	0x8c, 0x2f, 0xb0, 0xb9, 0xa6, 0xe3, 0xb6, 0x16, 0xe7, 0xd0, 0x9d, 0xae, 0xe8, 0xd6, 0x9b, 0x29,
+	0xd1, 0xad, 0x97, 0x8c, 0x4a, 0xdd, 0x51, 0xae, 0xf6, 0x77, 0x72, 0x50, 0x38, 0xc3, 0xc7, 0x0f,
+	0xda, 0xc6, 0xe3, 0x07, 0x59, 0xa7, 0xc0, 0x4f, 0x7b, 0xf8, 0x60, 0x3f, 0xf1, 0xf0, 0xc1, 0x46,
+	0x96, 0x01, 0xdf, 0xc7, 0x3e, 0x7a, 0xf0, 0x03, 0x0b, 0x2e, 0x4a, 0x54, 0x26, 0x6b, 0xca, 0xae,
+	0xc7, 0x3c, 0xe1, 0xa7, 0x3f, 0xcc, 0x1f, 0x18, 0xc3, 0xfc, 0x56, 0x76, 0x5d, 0xd6, 0xfb, 0xd1,
+	0xf3, 0x45, 0x9e, 0xef, 0x5b, 0x50, 0x4a, 0xab, 0x70, 0x06, 0xaf, 0x3e, 0xbc, 0x6f, 0xbe, 0xfa,
+	0x70, 0xff, 0x74, 0x7a, 0xde, 0xe3, 0xf5, 0x87, 0x1f, 0xf4, 0xe8, 0x37, 0x7b, 0x6a, 0xa1, 0x29,
+	0x77, 0x21, 0x2b, 0x2b, 0x1f, 0x13, 0x67, 0x91, 0xbe, 0x9d, 0x35, 0x61, 0x28, 0x64, 0x6e, 0x63,
+	0x31, 0x05, 0x96, 0xb2, 0xd8, 0x9b, 0x28, 0x3d, 0x61, 0x23, 0x64, 0xbf, 0xb1, 0xe0, 0x61, 0xff,
+	0x47, 0x0b, 0x46, 0xcf, 0xf0, 0x69, 0x0f, 0xdf, 0xfc, 0xc8, 0xaf, 0x67, 0xf7, 0x91, 0x7b, 0x7c,
+	0xd8, 0xff, 0x71, 0x0d, 0x8c, 0x57, 0x34, 0xd0, 0xfb, 0x50, 0x94, 0x8a, 0xa1, 0xbc, 0x48, 0x92,
+	0x65, 0xb2, 0x7c, 0xb5, 0xcd, 0x48, 0x48, 0x88, 0x63, 0x7e, 0x09, 0x47, 0x7d, 0xae, 0x2f, 0x47,
+	0xfd, 0xd3, 0x4d, 0xb5, 0x9f, 0x7e, 0x6c, 0x1f, 0x3c, 0x95, 0x63, 0xfb, 0xd5, 0xcc, 0x8f, 0xed,
+	0xd7, 0xce, 0xf8, 0xd8, 0xae, 0xd9, 0x50, 0xf3, 0x4f, 0x60, 0x43, 0x7d, 0x1f, 0x2e, 0xee, 0xc6,
+	0x9b, 0xbf, 0x9a, 0x49, 0xe2, 0xc5, 0x80, 0x9b, 0xa9, 0x87, 0x75, 0xaa, 0xc8, 0x84, 0x11, 0xf1,
+	0x22, 0x4d, 0x6d, 0x50, 0x89, 0x01, 0x2e, 0xde, 0x4f, 0x21, 0x87, 0x53, 0x99, 0x24, 0x8d, 0x61,
+	0xc3, 0x7d, 0x18, 0xc3, 0xfe, 0x71, 0xcf, 0x67, 0x42, 0x0b, 0xa7, 0xfb, 0x4c, 0xe8, 0xb3, 0x27,
+	0x7e, 0x22, 0xf4, 0x85, 0xd8, 0x57, 0xc0, 0x83, 0x43, 0xd2, 0x0d, 0xfb, 0xbf, 0x92, 0x74, 0x40,
+	0x02, 0x1b, 0xfa, 0xcf, 0x66, 0xab, 0xf5, 0x64, 0xe0, 0x84, 0x1c, 0x79, 0x02, 0x27, 0x64, 0xc2,
+	0x32, 0x39, 0x9a, 0x91, 0x65, 0xd2, 0x83, 0x09, 0xb7, 0xe5, 0xd4, 0xc9, 0x46, 0xa7, 0xd9, 0xe4,
+	0x91, 0xb5, 0xf2, 0x39, 0x83, 0xd4, 0x50, 0xc9, 0x15, 0xbf, 0xea, 0x34, 0x93, 0xaf, 0xc6, 0xa8,
+	0x3b, 0x19, 0x77, 0x13, 0x94, 0x70, 0x17, 0x6d, 0x3a, 0x61, 0x59, 0x7a, 0x00, 0x12, 0xd1, 0xd1,
+	0x66, 0x9e, 0x2e, 0xf1, 0x9e, 0xf3, 0x52, 0x0c, 0xc6, 0x3a, 0x0e, 0x5a, 0x86, 0x62, 0xcd, 0x0b,
+	0xc5, 0xbd, 0x83, 0x71, 0x26, 0xcc, 0x3e, 0x46, 0x45, 0xe0, 0xfc, 0x5a, 0x45, 0xdd, 0x38, 0xb8,
+	0x9a, 0x92, 0x79, 0x42, 0x95, 0xe3, 0xb8, 0x3e, 0x5a, 0x65, 0xc4, 0x44, 0x46, 0x5a, 0xee, 0x80,
+	0xba, 0xd1, 0xc3, 0x9e, 0x36, 0xbf, 0x26, 0x73, 0xea, 0x8e, 0x09, 0x76, 0x22, 0xb5, 0x6c, 0x4c,
+	0x41, 0x7b, 0x56, 0xe2, 0xfc, 0xb1, 0xcf, 0x4a, 0xb0, 0x94, 0x33, 0x51, 0x53, 0x59, 0xcf, 0xaf,
+	0x67, 0x96, 0x72, 0x26, 0x0e, 0xed, 0x10, 0x29, 0x67, 0x62, 0x00, 0xd6, 0x59, 0xa2, 0xf5, 0x5e,
+	0x5e, 0x84, 0x0b, 0x4c, 0x68, 0x9c, 0xdc, 0x27, 0xa0, 0x9b, 0x93, 0x2f, 0x1e, 0x6b, 0x4e, 0xee,
+	0x32, 0x7f, 0x5f, 0x3a, 0x81, 0xf9, 0xbb, 0xc1, 0x92, 0x81, 0x2c, 0xce, 0x09, 0x8f, 0x43, 0x06,
+	0x0a, 0x1d, 0xbb, 0x89, 0xc8, 0x43, 0x65, 0xd8, 0x4f, 0xcc, 0x19, 0xa0, 0x0d, 0xb8, 0xd8, 0xf6,
+	0x6b, 0x5d, 0xa6, 0x74, 0xe6, 0x62, 0x88, 0xf3, 0xb6, 0x5c, 0xdc, 0x48, 0xc1, 0xc1, 0xa9, 0x35,
+	0x99, 0x78, 0x8e, 0xe1, 0x2c, 0xab, 0x4c, 0x5e, 0x88, 0xe7, 0x18, 0x8c, 0x75, 0x9c, 0xa4, 0x31,
+	0xf9, 0xd9, 0x53, 0x33, 0x26, 0x4f, 0x9e, 0x81, 0x31, 0xf9, 0xb9, 0xbe, 0x8d, 0xc9, 0x1f, 0xc2,
+	0x85, 0xb6, 0x5f, 0x9b, 0x77, 0xc3, 0xa0, 0xc3, 0x42, 0xe0, 0xcb, 0x9d, 0x5a, 0x9d, 0x44, 0xcc,
+	0x1a, 0x3d, 0x72, 0xeb, 0x96, 0xde, 0xc8, 0x36, 0x5b, 0xc8, 0xd3, 0xbb, 0xaf, 0x6c, 0x91, 0x88,
+	0x7f, 0xcc, 0x64, 0x2d, 0x76, 0x60, 0x62, 0xb1, 0x42, 0x29, 0x85, 0x38, 0x8d, 0x8f, 0x6e, 0xcb,
+	0xbe, 0x71, 0x36, 0xb6, 0xec, 0x4f, 0x43, 0x21, 0x6c, 0x74, 0xa2, 0x9a, 0xbf, 0xe7, 0x31, 0x87,
+	0x45, 0x51, 0x3d, 0x2c, 0x57, 0xa8, 0x08, 0xf8, 0xc3, 0xc3, 0xa9, 0x09, 0xf9, 0x5b, 0x33, 0x29,
+	0x08, 0x08, 0xfa, 0x46, 0x8f, 0xb0, 0x61, 0xfb, 0x34, 0xc3, 0x86, 0xaf, 0x9c, 0x28, 0x64, 0x38,
+	0xcd, 0x60, 0xff, 0xfc, 0x0f, 0x9d, 0xc1, 0xfe, 0x97, 0x2d, 0x18, 0xdb, 0xd5, 0xed, 0x37, 0xc2,
+	0xa9, 0x90, 0x81, 0x73, 0xd3, 0x30, 0x0b, 0x95, 0x6d, 0x2a, 0xec, 0x0c, 0xd0, 0xc3, 0x24, 0x00,
+	0x9b, 0x2d, 0x49, 0x71, 0xbc, 0xbe, 0xf0, 0xb4, 0x1c, 0xaf, 0x1f, 0x32, 0x61, 0x26, 0xa3, 0x94,
+	0x98, 0xa7, 0x21, 0xdb, 0x48, 0x28, 0x29, 0x18, 0x55, 0x20, 0x94, 0xce, 0x0f, 0x7d, 0xd5, 0x82,
+	0x09, 0x79, 0x38, 0x13, 0xf6, 0xd7, 0x50, 0xc4, 0x72, 0x64, 0x79, 0x26, 0x64, 0xc1, 0x80, 0x9b,
+	0x09, 0x3e, 0xb8, 0x8b, 0xf3, 0x93, 0x3b, 0x52, 0xfe, 0x00, 0xc1, 0xb9, 0xc4, 0x9b, 0x7d, 0x1f,
+	0x37, 0x73, 0x0a, 0x5e, 0x4f, 0x26, 0x76, 0x1b, 0x93, 0xf8, 0x46, 0x72, 0x37, 0x23, 0xfb, 0x5a,
+	0xee, 0x54, 0xb3, 0xaf, 0x0d, 0x9c, 0x4d, 0xf6, 0xb5, 0x89, 0xd3, 0xc8, 0xbe, 0x76, 0xfe, 0x44,
+	0xd9, 0xd7, 0xb4, 0xec, 0x77, 0x83, 0x8f, 0xc8, 0x7e, 0x37, 0x0b, 0xe3, 0x32, 0x54, 0x94, 0x88,
+	0xb4, 0x5a, 0xdc, 0xf8, 0xad, 0xde, 0x9f, 0x9f, 0x33, 0x8b, 0x71, 0x12, 0x1f, 0x7d, 0x64, 0x41,
+	0xde, 0x63, 0x35, 0x87, 0xb2, 0x4a, 0x28, 0x6b, 0x4e, 0x2d, 0x76, 0x78, 0x11, 0x69, 0x5c, 0x65,
+	0x28, 0x4e, 0x9e, 0xc1, 0x1e, 0xca, 0x1f, 0x98, 0xb7, 0x00, 0xbd, 0x03, 0x25, 0x7f, 0x7b, 0xbb,
+	0xe9, 0x3b, 0xb5, 0x38, 0x45, 0x9c, 0xb4, 0xce, 0xf3, 0x70, 0x7b, 0x95, 0x22, 0x67, 0xbd, 0x07,
+	0x1e, 0xee, 0x49, 0x81, 0x9e, 0x3e, 0xc7, 0xc3, 0xc8, 0x0f, 0x48, 0x2d, 0x3e, 0x29, 0x17, 0x59,
+	0x9f, 0x49, 0xe6, 0x7d, 0xae, 0x98, 0x7c, 0x78, 0xef, 0xd5, 0x47, 0x49, 0x94, 0xe2, 0x64, 0xb3,
+	0x50, 0x00, 0x97, 0xdb, 0x69, 0x07, 0xf5, 0x50, 0x04, 0xb8, 0x1e, 0x67, 0x2e, 0x90, 0x4b, 0xf7,
+	0x72, 0xea, 0x51, 0x3f, 0xc4, 0x3d, 0x28, 0xeb, 0xc9, 0xe3, 0x0a, 0x67, 0x93, 0x3c, 0xce, 0x7c,
+	0x69, 0x73, 0xec, 0xcc, 0x5f, 0xda, 0x44, 0x7f, 0x92, 0x9a, 0xe7, 0x90, 0x9f, 0x6f, 0xeb, 0x99,
+	0xcf, 0x89, 0x1f, 0xba, 0x5c, 0x87, 0xff, 0xc8, 0x82, 0x49, 0x3e, 0xf3, 0xd2, 0x5e, 0xe2, 0x17,
+	0xa1, 0xa0, 0x59, 0x3b, 0x70, 0x98, 0x8b, 0xb9, 0x62, 0x70, 0x65, 0x7e, 0x85, 0x63, 0x5a, 0x82,
+	0x7e, 0x31, 0x45, 0x97, 0x1b, 0xcf, 0xca, 0x62, 0x94, 0x9e, 0x23, 0xef, 0xc2, 0x51, 0x3f, 0xea,
+	0xdb, 0x3f, 0xed, 0x69, 0xd0, 0x42, 0xac, 0x79, 0x7f, 0xf5, 0x94, 0x0c, 0x5a, 0x7a, 0x22, 0xbf,
+	0x93, 0x98, 0xb5, 0x26, 0x7f, 0x56, 0x64, 0x12, 0xee, 0x99, 0xef, 0x7a, 0xcb, 0x7c, 0x98, 0x71,
+	0x25, 0xcb, 0x6c, 0x9f, 0x7a, 0xe2, 0xed, 0xbf, 0x61, 0xc1, 0xc5, 0x34, 0x21, 0x99, 0xd2, 0xa4,
+	0xcf, 0x9a, 0x4d, 0xca, 0x50, 0xe3, 0xd2, 0x1b, 0x94, 0x4d, 0x8a, 0xc3, 0xef, 0x17, 0x35, 0x37,
+	0x42, 0x44, 0xda, 0xa7, 0xf8, 0x80, 0xef, 0xd8, 0x9f, 0x3d, 0xe0, 0x7b, 0x16, 0xe9, 0x92, 0x8d,
+	0xa7, 0x78, 0xf3, 0x4f, 0xeb, 0x29, 0xde, 0xa1, 0xc7, 0x79, 0x8a, 0x77, 0xf8, 0xa9, 0x3d, 0xc5,
+	0x5b, 0xe8, 0xf3, 0x29, 0xde, 0xe2, 0x0f, 0xe9, 0x53, 0xbc, 0xbf, 0xaa, 0xde, 0xd7, 0xe5, 0xca,
+	0xc0, 0x9b, 0xd9, 0xa6, 0x90, 0xfb, 0xff, 0xef, 0x91, 0xdd, 0x3f, 0xcc, 0xc1, 0xb8, 0xda, 0xba,
+	0x9d, 0x70, 0xa7, 0x42, 0xa2, 0x33, 0x88, 0x81, 0xd8, 0x33, 0x62, 0x20, 0xb2, 0x34, 0x3b, 0xf1,
+	0x2e, 0xf4, 0x8c, 0x38, 0xf9, 0x42, 0x22, 0xe2, 0xe4, 0x41, 0xf6, 0xac, 0x8f, 0x0f, 0x3c, 0xf9,
+	0x9f, 0x16, 0x5c, 0x48, 0xd4, 0x38, 0x03, 0xaf, 0xfc, 0xae, 0xe9, 0x95, 0x7f, 0x23, 0xf3, 0x5e,
+	0xf7, 0x70, 0xce, 0xff, 0x5a, 0xae, 0xab, 0xb7, 0x4c, 0x2f, 0xfc, 0x19, 0x4b, 0xbe, 0xd1, 0x6c,
+	0x65, 0xed, 0x76, 0xd3, 0xd8, 0x4c, 0xb3, 0x67, 0x9a, 0xf9, 0x6a, 0x4d, 0x7d, 0xba, 0x79, 0xf2,
+	0xa7, 0x2d, 0x80, 0x18, 0xe9, 0x69, 0xa9, 0x30, 0xf6, 0x6f, 0xe4, 0xe0, 0x52, 0xea, 0x34, 0x42,
+	0x5f, 0x56, 0x87, 0x7c, 0x3e, 0x50, 0x5b, 0xa7, 0x34, 0x5f, 0xf5, 0xb3, 0xfe, 0x98, 0x71, 0xd6,
+	0x17, 0x47, 0xfc, 0xa7, 0xa5, 0x80, 0x8a, 0xec, 0xa2, 0xda, 0x60, 0xfd, 0x2f, 0x0b, 0x26, 0x92,
+	0x87, 0x8d, 0x33, 0x10, 0x59, 0xfb, 0x86, 0xc8, 0xba, 0x9f, 0xbd, 0xa5, 0xbc, 0x67, 0xc8, 0xd6,
+	0x1f, 0x6a, 0xb1, 0x6a, 0x12, 0xf9, 0x0c, 0x64, 0xc6, 0x9e, 0x29, 0x33, 0x70, 0xf6, 0x3d, 0xee,
+	0x21, 0x34, 0xde, 0x83, 0x34, 0x67, 0x41, 0x7f, 0xf9, 0x35, 0x8c, 0x30, 0xf0, 0x5c, 0xdf, 0x61,
+	0xe0, 0x3f, 0x9f, 0xeb, 0x1e, 0x62, 0x26, 0xa8, 0xbe, 0x42, 0x55, 0x33, 0xed, 0xb4, 0x9b, 0x5d,
+	0xfa, 0x03, 0xe3, 0x6c, 0xad, 0xda, 0x68, 0x9c, 0xac, 0x0d, 0xce, 0xe8, 0xdd, 0xb8, 0x25, 0xf4,
+	0x4b, 0x3d, 0x32, 0x97, 0x4d, 0xaf, 0x69, 0xce, 0x8c, 0xd5, 0x0f, 0x34, 0x4a, 0xcc, 0x6c, 0x6e,
+	0xd0, 0xb6, 0xc7, 0x60, 0xe4, 0x2d, 0xb7, 0xad, 0xec, 0xfc, 0xd3, 0xdf, 0xfa, 0xde, 0xf5, 0x67,
+	0x7e, 0xef, 0x7b, 0xd7, 0x9f, 0xf9, 0xce, 0xf7, 0xae, 0x3f, 0xf3, 0xc5, 0xa3, 0xeb, 0xd6, 0xb7,
+	0x8e, 0xae, 0x5b, 0xbf, 0x77, 0x74, 0xdd, 0xfa, 0xce, 0xd1, 0x75, 0xeb, 0x3f, 0x1d, 0x5d, 0xb7,
+	0xfe, 0xe6, 0x7f, 0xbe, 0xfe, 0xcc, 0x5b, 0x05, 0xd9, 0xb7, 0xff, 0x17, 0x00, 0x00, 0xff, 0xff,
+	0x0f, 0x31, 0xc5, 0x9e, 0x1a, 0xa5, 0x00, 0x00,
 }
 
 func (m *Amount) Marshal() (dAtA []byte, err error) {
@@ -5364,6 +5366,18 @@ func (m *DAGTask) MarshalToSizedBuffer(dAtA []byte) (int, error) {
 	_ = i
 	var l int
 	_ = l
+	if m.Inline != nil {
+		{
+			size, err := m.Inline.MarshalToSizedBuffer(dAtA[:i])
+			if err != nil {
+				return 0, err
+			}
+			i -= size
+			i = encodeVarintGenerated(dAtA, i, uint64(size))
+		}
+		i--
+		dAtA[i] = 0x72
+	}
 	if len(m.Hooks) > 0 {
 		keysForHooks := make([]string, 0, len(m.Hooks))
 		for k := range m.Hooks {
@@ -10411,6 +10425,18 @@ func (m *WorkflowStep) MarshalToSizedBuffer(dAtA []byte) (int, error) {
 	_ = i
 	var l int
 	_ = l
+	if m.Inline != nil {
+		{
+			size, err := m.Inline.MarshalToSizedBuffer(dAtA[:i])
+			if err != nil {
+				return 0, err
+			}
+			i -= size
+			i = encodeVarintGenerated(dAtA, i, uint64(size))
+		}
+		i--
+		dAtA[i] = 0x6a
+	}
 	if len(m.Hooks) > 0 {
 		keysForHooks := make([]string, 0, len(m.Hooks))
 		for k := range m.Hooks {
@@ -11469,6 +11495,10 @@ func (m *DAGTask) Size() (n int) {
 			n += mapEntrySize + 1 + sovGenerated(uint64(mapEntrySize))
 		}
 	}
+	if m.Inline != nil {
+		l = m.Inline.Size()
+		n += 1 + l + sovGenerated(uint64(l))
+	}
 	return n
 }
 
@@ -13289,6 +13319,10 @@ func (m *WorkflowStep) Size() (n int) {
 			n += mapEntrySize + 1 + sovGenerated(uint64(mapEntrySize))
 		}
 	}
+	if m.Inline != nil {
+		l = m.Inline.Size()
+		n += 1 + l + sovGenerated(uint64(l))
+	}
 	return n
 }
 
@@ -13796,6 +13830,7 @@ func (this *DAGTask) String() string {
 		`OnExit:` + fmt.Sprintf("%v", this.OnExit) + `,`,
 		`Depends:` + fmt.Sprintf("%v", this.Depends) + `,`,
 		`Hooks:` + mapStringForHooks + `,`,
+		`Inline:` + strings.Replace(this.Inline.String(), "Template", "Template", 1) + `,`,
 		`}`,
 	}, "")
 	return s
@@ -15110,6 +15145,7 @@ func (this *WorkflowStep) String() string {
 		`ContinueOn:` + strings.Replace(this.ContinueOn.String(), "ContinueOn", "ContinueOn", 1) + `,`,
 		`OnExit:` + fmt.Sprintf("%v", this.OnExit) + `,`,
 		`Hooks:` + mapStringForHooks + `,`,
+		`Inline:` + strings.Replace(this.Inline.String(), "Template", "Template", 1) + `,`,
 		`}`,
 	}, "")
 	return s
@@ -19669,6 +19705,42 @@ func (m *DAGTask) Unmarshal(dAtA []byte) error {
 			}
 			m.Hooks[LifecycleEvent(mapkey)] = *mapvalue
 			iNdEx = postIndex
+		case 14:
+			if wireType != 2 {
+				return fmt.Errorf("proto: wrong wireType = %d for field Inline", wireType)
+			}
+			var msglen int
+			for shift := uint(0); ; shift += 7 {
+				if shift >= 64 {
+					return ErrIntOverflowGenerated
+				}
+				if iNdEx >= l {
+					return io.ErrUnexpectedEOF
+				}
+				b := dAtA[iNdEx]
+				iNdEx++
+				msglen |= int(b&0x7F) << shift
+				if b < 0x80 {
+					break
+				}
+			}
+			if msglen < 0 {
+				return ErrInvalidLengthGenerated
+			}
+			postIndex := iNdEx + msglen
+			if postIndex < 0 {
+				return ErrInvalidLengthGenerated
+			}
+			if postIndex > l {
+				return io.ErrUnexpectedEOF
+			}
+			if m.Inline == nil {
+				m.Inline = &Template{}
+			}
+			if err := m.Inline.Unmarshal(dAtA[iNdEx:postIndex]); err != nil {
+				return err
+			}
+			iNdEx = postIndex
 		default:
 			iNdEx = preIndex
 			skippy, err := skipGenerated(dAtA[iNdEx:])
@@ -35423,6 +35495,42 @@ func (m *WorkflowStep) Unmarshal(dAtA []byte) error {
 			}
 			m.Hooks[LifecycleEvent(mapkey)] = *mapvalue
 			iNdEx = postIndex
+		case 13:
+			if wireType != 2 {
+				return fmt.Errorf("proto: wrong wireType = %d for field Inline", wireType)
+			}
+			var msglen int
+			for shift := uint(0); ; shift += 7 {
+				if shift >= 64 {
+					return ErrIntOverflowGenerated
+				}
+				if iNdEx >= l {
+					return io.ErrUnexpectedEOF
+				}
+				b := dAtA[iNdEx]
+				iNdEx++
+				msglen |= int(b&0x7F) << shift
+				if b < 0x80 {
+					break
+				}
+			}
+			if msglen < 0 {
+				return ErrInvalidLengthGenerated
+			}
+			postIndex := iNdEx + msglen
+			if postIndex < 0 {
+				return ErrInvalidLengthGenerated
+			}
+			if postIndex > l {
+				return io.ErrUnexpectedEOF
+			}
+			if m.Inline == nil {
+				m.Inline = &Template{}
+			}
+			if err := m.Inline.Unmarshal(dAtA[iNdEx:postIndex]); err != nil {
+				return err
+			}
+			iNdEx = postIndex
 		default:
 			iNdEx = preIndex
 			skippy, err := skipGenerated(dAtA[iNdEx:])
diff --git a/pkg/apis/workflow/v1alpha1/generated.proto b/pkg/apis/workflow/v1alpha1/generated.proto
index 5fcd45ea268f..52c5f9900096 100644
--- a/pkg/apis/workflow/v1alpha1/generated.proto
+++ b/pkg/apis/workflow/v1alpha1/generated.proto
@@ -344,6 +344,9 @@ message DAGTask {
   // Name of template to execute
   optional string template = 2;
 
+  // Inline is the template. Template must be empty if this is declared (and vice-versa).
+  optional Template inline = 14;
+
   // Arguments are the parameter and artifact arguments to the template
   optional Arguments arguments = 3;
 
@@ -1729,6 +1732,9 @@ message WorkflowStep {
   // Template is the name of the template to execute as the step
   optional string template = 2;
 
+  // Inline is the template. Template must be empty if this is declared (and vice-versa).
+  optional Template inline = 13;
+
   // Arguments hold arguments to the template
   optional Arguments arguments = 3;
 
diff --git a/pkg/apis/workflow/v1alpha1/openapi_generated.go b/pkg/apis/workflow/v1alpha1/openapi_generated.go
index 76ffc657dba2..5ee5d043ec5b 100644
--- a/pkg/apis/workflow/v1alpha1/openapi_generated.go
+++ b/pkg/apis/workflow/v1alpha1/openapi_generated.go
@@ -1601,6 +1601,12 @@ func schema_pkg_apis_workflow_v1alpha1_DAGTask(ref common.ReferenceCallback) com
 							Format:      "",
 						},
 					},
+					"inline": {
+						SchemaProps: spec.SchemaProps{
+							Description: "Inline is the template. Template must be empty if this is declared (and vice-versa).",
+							Ref:         ref("github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.Template"),
+						},
+					},
 					"arguments": {
 						SchemaProps: spec.SchemaProps{
 							Description: "Arguments are the parameter and artifact arguments to the template",
@@ -1703,7 +1709,7 @@ func schema_pkg_apis_workflow_v1alpha1_DAGTask(ref common.ReferenceCallback) com
 			},
 		},
 		Dependencies: []string{
-			"github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.Arguments", "github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.ContinueOn", "github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.Item", "github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.LifecycleHook", "github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.Sequence", "github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.TemplateRef"},
+			"github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.Arguments", "github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.ContinueOn", "github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.Item", "github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.LifecycleHook", "github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.Sequence", "github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.Template", "github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.TemplateRef"},
 	}
 }
 
@@ -6409,6 +6415,12 @@ func schema_pkg_apis_workflow_v1alpha1_WorkflowStep(ref common.ReferenceCallback
 							Format:      "",
 						},
 					},
+					"inline": {
+						SchemaProps: spec.SchemaProps{
+							Description: "Inline is the template. Template must be empty if this is declared (and vice-versa).",
+							Ref:         ref("github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.Template"),
+						},
+					},
 					"arguments": {
 						SchemaProps: spec.SchemaProps{
 							Description: "Arguments hold arguments to the template",
@@ -6488,7 +6500,7 @@ func schema_pkg_apis_workflow_v1alpha1_WorkflowStep(ref common.ReferenceCallback
 			},
 		},
 		Dependencies: []string{
-			"github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.Arguments", "github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.ContinueOn", "github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.Item", "github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.LifecycleHook", "github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.Sequence", "github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.TemplateRef"},
+			"github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.Arguments", "github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.ContinueOn", "github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.Item", "github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.LifecycleHook", "github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.Sequence", "github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.Template", "github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.TemplateRef"},
 	}
 }
 
diff --git a/pkg/apis/workflow/v1alpha1/workflow_types.go b/pkg/apis/workflow/v1alpha1/workflow_types.go
index efcdb1c6e089..81aeecbdd182 100644
--- a/pkg/apis/workflow/v1alpha1/workflow_types.go
+++ b/pkg/apis/workflow/v1alpha1/workflow_types.go
@@ -1125,6 +1125,9 @@ type WorkflowStep struct {
 	// Template is the name of the template to execute as the step
 	Template string `json:"template,omitempty" protobuf:"bytes,2,opt,name=template"`
 
+	// Inline is the template. Template must be empty if this is declared (and vice-versa).
+	Inline *Template `json:"inline,omitempty" protobuf:"bytes,13,opt,name=inline"`
+
 	// Arguments hold arguments to the template
 	Arguments Arguments `json:"arguments,omitempty" protobuf:"bytes,3,opt,name=arguments"`
 
@@ -1204,6 +1207,10 @@ func (step *WorkflowStep) GetExitHook(args Arguments) *LifecycleHook {
 	return step.Hooks.GetExitHook().WithArgs(args)
 }
 
+func (step *WorkflowStep) GetTemplate() *Template {
+	return step.Inline
+}
+
 func (step *WorkflowStep) GetTemplateName() string {
 	return step.Template
 }
@@ -1855,6 +1862,10 @@ func (n NodeStatus) GetTemplateScope() (ResourceScope, string) {
 
 var _ TemplateReferenceHolder = &NodeStatus{}
 
+func (n *NodeStatus) GetTemplate() *Template {
+	return nil
+}
+
 func (n *NodeStatus) GetTemplateName() string {
 	return n.TemplateName
 }
@@ -2406,6 +2417,9 @@ type DAGTask struct {
 	// Name of template to execute
 	Template string `json:"template,omitempty" protobuf:"bytes,2,opt,name=template"`
 
+	// Inline is the template. Template must be empty if this is declared (and vice-versa).
+	Inline *Template `json:"inline,omitempty" protobuf:"bytes,14,opt,name=inline"`
+
 	// Arguments are the parameter and artifact arguments to the template
 	Arguments Arguments `json:"arguments,omitempty" protobuf:"bytes,3,opt,name=arguments"`
 
@@ -2462,6 +2476,10 @@ func (t *DAGTask) HasExitHook() bool {
 	return (t.Hooks != nil && t.Hooks.GetExitHook() != nil) || t.OnExit != ""
 }
 
+func (t *DAGTask) GetTemplate() *Template {
+	return t.Inline
+}
+
 func (t *DAGTask) GetTemplateName() string {
 	return t.Template
 }
diff --git a/pkg/apis/workflow/v1alpha1/zz_generated.deepcopy.go b/pkg/apis/workflow/v1alpha1/zz_generated.deepcopy.go
index 80f198fad558..38445e3cd8b6 100644
--- a/pkg/apis/workflow/v1alpha1/zz_generated.deepcopy.go
+++ b/pkg/apis/workflow/v1alpha1/zz_generated.deepcopy.go
@@ -751,6 +751,11 @@ func (in *CronWorkflowStatus) DeepCopy() *CronWorkflowStatus {
 // DeepCopyInto is an autogenerated deepcopy function, copying the receiver, writing into out. in must be non-nil.
 func (in *DAGTask) DeepCopyInto(out *DAGTask) {
 	*out = *in
+	if in.Inline != nil {
+		in, out := &in.Inline, &out.Inline
+		*out = new(Template)
+		(*in).DeepCopyInto(*out)
+	}
 	in.Arguments.DeepCopyInto(&out.Arguments)
 	if in.TemplateRef != nil {
 		in, out := &in.TemplateRef, &out.TemplateRef
@@ -3093,6 +3098,11 @@ func (in *WorkflowStatus) DeepCopy() *WorkflowStatus {
 // DeepCopyInto is an autogenerated deepcopy function, copying the receiver, writing into out. in must be non-nil.
 func (in *WorkflowStep) DeepCopyInto(out *WorkflowStep) {
 	*out = *in
+	if in.Inline != nil {
+		in, out := &in.Inline, &out.Inline
+		*out = new(Template)
+		(*in).DeepCopyInto(*out)
+	}
 	in.Arguments.DeepCopyInto(&out.Arguments)
 	if in.TemplateRef != nil {
 		in, out := &in.TemplateRef, &out.TemplateRef
diff --git a/workflow/common/util.go b/workflow/common/util.go
index 0cde8ce51ad0..089919313ec5 100644
--- a/workflow/common/util.go
+++ b/workflow/common/util.go
@@ -322,12 +322,14 @@ func GetTemplateGetterString(getter wfv1.TemplateHolder) string {
 
 // GetTemplateHolderString returns string of TemplateReferenceHolder.
 func GetTemplateHolderString(tmplHolder wfv1.TemplateReferenceHolder) string {
-	tmplName := tmplHolder.GetTemplateName()
-	tmplRef := tmplHolder.GetTemplateRef()
-	if tmplRef != nil {
-		return fmt.Sprintf("%T (%s/%s)", tmplHolder, tmplRef.Name, tmplRef.Template)
+	if tmplHolder.GetTemplate() != nil {
+		return fmt.Sprintf("%T inlined", tmplHolder)
+	} else if x := tmplHolder.GetTemplateName(); x != "" {
+		return fmt.Sprintf("%T (%s)", tmplHolder, x)
+	} else if x := tmplHolder.GetTemplateRef(); x != nil {
+		return fmt.Sprintf("%T (%s/%s#%v)", tmplHolder, x.Name, x.Template, x.ClusterScope)
 	} else {
-		return fmt.Sprintf("%T (%s)", tmplHolder, tmplName)
+		return fmt.Sprintf("%T invalid (https://argoproj.github.io/argo-workflows/templates/)", tmplHolder)
 	}
 }
 
diff --git a/workflow/common/util_test.go b/workflow/common/util_test.go
index 97a4b0c3b881..d20b339a51c0 100644
--- a/workflow/common/util_test.go
+++ b/workflow/common/util_test.go
@@ -126,3 +126,18 @@ func TestDeletePod(t *testing.T) {
 		assert.NoError(t, err)
 	})
 }
+
+func TestGetTemplateHolderString(t *testing.T) {
+	assert.Equal(t, "*v1alpha1.DAGTask invalid (https://argoproj.github.io/argo-workflows/templates/)", GetTemplateHolderString(&wfv1.DAGTask{}))
+	assert.Equal(t, "*v1alpha1.DAGTask inlined", GetTemplateHolderString(&wfv1.DAGTask{Inline: &wfv1.Template{}}))
+	assert.Equal(t, "*v1alpha1.DAGTask (foo)", GetTemplateHolderString(&wfv1.DAGTask{Template: "foo"}))
+	assert.Equal(t, "*v1alpha1.DAGTask (foo/bar#false)", GetTemplateHolderString(&wfv1.DAGTask{TemplateRef: &wfv1.TemplateRef{
+		Name:     "foo",
+		Template: "bar",
+	}}))
+	assert.Equal(t, "*v1alpha1.DAGTask (foo/bar#true)", GetTemplateHolderString(&wfv1.DAGTask{TemplateRef: &wfv1.TemplateRef{
+		Name:         "foo",
+		Template:     "bar",
+		ClusterScope: true,
+	}}))
+}
diff --git a/workflow/templateresolution/context.go b/workflow/templateresolution/context.go
index 3ced8f9850bc..f7951fb7e43c 100644
--- a/workflow/templateresolution/context.go
+++ b/workflow/templateresolution/context.go
@@ -148,15 +148,14 @@ func (ctx *Context) GetTemplateFromRef(tmplRef *wfv1.TemplateRef) (*wfv1.Templat
 }
 
 // GetTemplate returns a template found by template name or template ref.
-func (ctx *Context) GetTemplate(tmplHolder wfv1.TemplateReferenceHolder) (*wfv1.Template, error) {
+func (ctx *Context) GetTemplate(h wfv1.TemplateReferenceHolder) (*wfv1.Template, error) {
 	ctx.log.Debug("Getting the template")
-
-	tmplName := tmplHolder.GetTemplateName()
-	tmplRef := tmplHolder.GetTemplateRef()
-	if tmplRef != nil {
-		return ctx.GetTemplateFromRef(tmplRef)
-	} else if tmplName != "" {
-		return ctx.GetTemplateByName(tmplName)
+	if x := h.GetTemplate(); x != nil {
+		return x, nil
+	} else if x := h.GetTemplateRef(); x != nil {
+		return ctx.GetTemplateFromRef(x)
+	} else if x := h.GetTemplateName(); x != "" {
+		return ctx.GetTemplateByName(x)
 	}
 	return nil, errors.Errorf(errors.CodeInternal, "failed to get a template")
 }

From 764cc97bd0739b7f7d1ebb20be33db6e7c889eae Mon Sep 17 00:00:00 2001
From: "github-actions[bot]"
 <41898282+github-actions[bot]@users.noreply.github.com>
Date: Wed, 4 Aug 2021 07:41:47 -0700
Subject: [PATCH 006/137] docs: updated CHANGELOG.md (#6477)

Signed-off-by: GitHub <noreply@github.com>

Co-authored-by: sarabala1979 <sarabala1979@users.noreply.github.com>
---
 CHANGELOG.md | 30 ++++++++++++++++++++++++++++++
 1 file changed, 30 insertions(+)

diff --git a/CHANGELOG.md b/CHANGELOG.md
index f5bb96ead0d2..77466c01b980 100644
--- a/CHANGELOG.md
+++ b/CHANGELOG.md
@@ -1,5 +1,35 @@
 # Changelog
 
+## v3.1.5 (2021-06-30)
+
+ * [3dbee0ec3](https://github.com/argoproj/argo-workflows/commit/3dbee0ec368f3ea8c31f49c8b1a4617cc32bcce9) fix(executor): emissary - make argoexec executable from non-root containers. Fixes #6238 (#6247)
+
+### Contributors
+
+ * Yuan (Bob) Gong
+
+## v3.1.4 (2021-08-03)
+
+ * [247776d66](https://github.com/argoproj/argo-workflows/commit/247776d66fa6bf988f861ba82f181e386a972626) removed unused import
+ * [89d662c39](https://github.com/argoproj/argo-workflows/commit/89d662c39e326977384683a255b7472839d957ee) fix: Exit template shouldn't fail with max parallelism reached (#6456)
+ * [4556ba27b](https://github.com/argoproj/argo-workflows/commit/4556ba27b81c2291353d93fd59a581e3a2a2bb21) fix(controller): fix retry on different hosts (#6429)
+ * [fc8260b6e](https://github.com/argoproj/argo-workflows/commit/fc8260b6e1f55d939f16bee682f73ba59774cbb9) fix(controller): fix retry on different hosts (#6429)
+ * [b489d03b4](https://github.com/argoproj/argo-workflows/commit/b489d03b417ecd89654bd6b524c6daf38675ec63) fix(server): Fix nil pointer error when getting artifacts from a step without artifacts (#6465)
+ * [4d99aac6e](https://github.com/argoproj/argo-workflows/commit/4d99aac6eb3b065eec2be215439dd5a77f337907) fix(pods): set resources from script templates (#6450)
+ * [3f594ca8d](https://github.com/argoproj/argo-workflows/commit/3f594ca8dd891149f1a07d123fd53097dc3b4438) fix(emissary): throw argo error on file not exist (#6392)
+ * [f4e20761f](https://github.com/argoproj/argo-workflows/commit/f4e20761f484ce3bf0b3610457193c0324cffa12) Update umask_windows.go
+ * [cc84fe94c](https://github.com/argoproj/argo-workflows/commit/cc84fe94cfb2df447bf8d1dbe28cc416b866b159) fix(executor): fix GCS artifact retry (#6302)
+ * [0b0f52788](https://github.com/argoproj/argo-workflows/commit/0b0f527881f5b0a48d8cf77c9e6a29fbeb27b4dc) fix(gcs): throw argo not found error if key not exist (#6393)
+
+### Contributors
+
+ * Antoine Dao
+ * Marcin Gucki
+ * Peixuan Ding
+ * Saravanan Balasubramanian
+ * Tianchu Zhao
+ * Yuan (Bob) Gong
+
 ## v3.1.3 (2021-07-27)
 
  * [9337abb00](https://github.com/argoproj/argo-workflows/commit/9337abb002d3c505ca45c5fd2e25447acd80a108) fix(controller): Reinstate support for outputs.results for containers. Fixes #6428 (#6434)

From 7bf825bfcdcd894ba12ef160cd9913a26844d6b6 Mon Sep 17 00:00:00 2001
From: Alex Collins <alexec@users.noreply.github.com>
Date: Wed, 4 Aug 2021 09:47:02 -0700
Subject: [PATCH 007/137] build: Fix build. Fixes #6484 (#6486)

Signed-off-by: Alex Collins <alex_collins@intuit.com>
---
 .github/workflows/ci-build.yaml | 2 +-
 test/e2e/argo_server_test.go    | 4 ++++
 2 files changed, 5 insertions(+), 1 deletion(-)

diff --git a/.github/workflows/ci-build.yaml b/.github/workflows/ci-build.yaml
index 9875a75618dd..fce413d1e57e 100644
--- a/.github/workflows/ci-build.yaml
+++ b/.github/workflows/ci-build.yaml
@@ -96,7 +96,7 @@ jobs:
       - name: Install and start K3S
         timeout-minutes: 3
         run: |
-          curl -sfL https://get.k3s.io | INSTALL_K3S_VERSION=v1.18.17+k3s1 INSTALL_K3S_CHANNEL=stable INSTALL_K3S_EXEC=--docker K3S_KUBECONFIG_MODE=644 sh -
+          curl -sfL https://get.k3s.io | INSTALL_K3S_VERSION=v1.21.2+k3s1 INSTALL_K3S_CHANNEL=stable INSTALL_K3S_EXEC=--docker K3S_KUBECONFIG_MODE=644 sh -
           until kubectl --kubeconfig=/etc/rancher/k3s/k3s.yaml cluster-info ; do sleep 10s ; done
           cp /etc/rancher/k3s/k3s.yaml /home/runner/.kubeconfig
           echo "- name: fake_token_user" >> $KUBECONFIG
diff --git a/test/e2e/argo_server_test.go b/test/e2e/argo_server_test.go
index 690ff5f7d592..9b8ea119e4e9 100644
--- a/test/e2e/argo_server_test.go
+++ b/test/e2e/argo_server_test.go
@@ -319,6 +319,8 @@ func (s *ArgoServerSuite) TestOauth() {
 }
 
 func (s *ArgoServerSuite) TestUnauthorized() {
+	s.T().Skip("K3S RBAC appears to be broken: https://github.com/k3s-io/k3s/issues/3756")
+
 	token := s.bearerToken
 	defer func() { s.bearerToken = token }()
 	s.bearerToken = "test-token"
@@ -338,6 +340,8 @@ func (s *ArgoServerSuite) TestCookieAuth() {
 }
 
 func (s *ArgoServerSuite) TestPermission() {
+	s.T().Skip("K3S RBAC appears to be broken: https://github.com/k3s-io/k3s/issues/3756")
+
 	nsName := fixtures.Namespace
 	// Create good serviceaccount
 	goodSaName := "argotestgood"

From 2a2ecc916925642fd8cb1efd026588e6828f82e1 Mon Sep 17 00:00:00 2001
From: Michael Crenshaw <michael@crenshaw.dev>
Date: Thu, 5 Aug 2021 11:24:41 -0400
Subject: [PATCH 008/137] fix(controller): JSON-unmarshal marshaled expression
 template before evaluating (#6285)

Signed-off-by: Michael Crenshaw <michael@crenshaw.dev>
---
 docs/fields.md                                | 24 ++++++
 .../expression-reusing-verbose-snippets.yaml  | 44 ++++++++++
 util/template/expression_template.go          | 29 ++++++-
 util/template/replace.go                      | 22 ++++-
 util/template/replace_test.go                 | 70 +++++++++-------
 util/template/template_test.go                | 83 +++++++++++++++++++
 workflow/controller/operator.go               | 20 ++++-
 workflow/controller/scope.go                  | 19 ++++-
 8 files changed, 270 insertions(+), 41 deletions(-)
 create mode 100644 examples/expression-reusing-verbose-snippets.yaml
 create mode 100644 util/template/template_test.go

diff --git a/docs/fields.md b/docs/fields.md
index 0eb8d36ad86b..398b4c2eaaae 100644
--- a/docs/fields.md
+++ b/docs/fields.md
@@ -124,6 +124,8 @@ Workflow is the definition of a workflow resource
 
 - [`expression-destructure-json.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/expression-destructure-json.yaml)
 
+- [`expression-reusing-verbose-snippets.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/expression-reusing-verbose-snippets.yaml)
+
 - [`expression-tag-template-workflow.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/expression-tag-template-workflow.yaml)
 
 - [`fibonacci-seq-conditional-param.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/fibonacci-seq-conditional-param.yaml)
@@ -527,6 +529,8 @@ WorkflowSpec is the specification of a Workflow.
 
 - [`expression-destructure-json.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/expression-destructure-json.yaml)
 
+- [`expression-reusing-verbose-snippets.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/expression-reusing-verbose-snippets.yaml)
+
 - [`expression-tag-template-workflow.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/expression-tag-template-workflow.yaml)
 
 - [`fibonacci-seq-conditional-param.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/fibonacci-seq-conditional-param.yaml)
@@ -947,6 +951,8 @@ CronWorkflowSpec is the specification of a CronWorkflow
 
 - [`expression-destructure-json.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/expression-destructure-json.yaml)
 
+- [`expression-reusing-verbose-snippets.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/expression-reusing-verbose-snippets.yaml)
+
 - [`expression-tag-template-workflow.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/expression-tag-template-workflow.yaml)
 
 - [`fibonacci-seq-conditional-param.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/fibonacci-seq-conditional-param.yaml)
@@ -1324,6 +1330,8 @@ WorkflowTemplateSpec is a spec of WorkflowTemplate.
 
 - [`expression-destructure-json.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/expression-destructure-json.yaml)
 
+- [`expression-reusing-verbose-snippets.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/expression-reusing-verbose-snippets.yaml)
+
 - [`expression-tag-template-workflow.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/expression-tag-template-workflow.yaml)
 
 - [`fibonacci-seq-conditional-param.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/fibonacci-seq-conditional-param.yaml)
@@ -1660,6 +1668,8 @@ Arguments to a template
 
 - [`expression-destructure-json.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/expression-destructure-json.yaml)
 
+- [`expression-reusing-verbose-snippets.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/expression-reusing-verbose-snippets.yaml)
+
 - [`expression-tag-template-workflow.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/expression-tag-template-workflow.yaml)
 
 - [`fibonacci-seq-conditional-param.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/fibonacci-seq-conditional-param.yaml)
@@ -2387,6 +2397,8 @@ Parameter indicate a passed string parameter to a service template with an optio
 
 - [`expression-destructure-json.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/expression-destructure-json.yaml)
 
+- [`expression-reusing-verbose-snippets.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/expression-reusing-verbose-snippets.yaml)
+
 - [`expression-tag-template-workflow.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/expression-tag-template-workflow.yaml)
 
 - [`fibonacci-seq-conditional-param.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/fibonacci-seq-conditional-param.yaml)
@@ -2901,6 +2913,8 @@ Inputs are the mechanism for passing parameters, artifacts, volumes from one tem
 
 - [`expression-destructure-json.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/expression-destructure-json.yaml)
 
+- [`expression-reusing-verbose-snippets.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/expression-reusing-verbose-snippets.yaml)
+
 - [`expression-tag-template-workflow.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/expression-tag-template-workflow.yaml)
 
 - [`fibonacci-seq-conditional-param.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/fibonacci-seq-conditional-param.yaml)
@@ -3106,6 +3120,8 @@ ScriptTemplate is a template subtype to enable scripting through code steps
 
 - [`expression-destructure-json.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/expression-destructure-json.yaml)
 
+- [`expression-reusing-verbose-snippets.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/expression-reusing-verbose-snippets.yaml)
+
 - [`fibonacci-seq-conditional-param.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/fibonacci-seq-conditional-param.yaml)
 
 - [`loops-param-result.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/loops-param-result.yaml)
@@ -4077,6 +4093,8 @@ DataSource sources external data into a data template
 
 - [`expression-destructure-json.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/expression-destructure-json.yaml)
 
+- [`expression-reusing-verbose-snippets.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/expression-reusing-verbose-snippets.yaml)
+
 - [`fibonacci-seq-conditional-param.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/fibonacci-seq-conditional-param.yaml)
 
 - [`loops-param-result.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/loops-param-result.yaml)
@@ -4708,6 +4726,8 @@ ObjectMeta is metadata that all persisted resources must have, which includes al
 
 - [`expression-destructure-json.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/expression-destructure-json.yaml)
 
+- [`expression-reusing-verbose-snippets.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/expression-reusing-verbose-snippets.yaml)
+
 - [`expression-tag-template-workflow.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/expression-tag-template-workflow.yaml)
 
 - [`fibonacci-seq-conditional-param.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/fibonacci-seq-conditional-param.yaml)
@@ -5584,6 +5604,8 @@ EnvVar represents an environment variable present in a Container.
 
 - [`expression-destructure-json.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/expression-destructure-json.yaml)
 
+- [`expression-reusing-verbose-snippets.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/expression-reusing-verbose-snippets.yaml)
+
 - [`secrets.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/secrets.yaml)
 
 - [`sidecar-dind.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/sidecar-dind.yaml)
@@ -5989,6 +6011,8 @@ PersistentVolumeClaimSpec describes the common attributes of storage devices and
 
 - [`expression-destructure-json.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/expression-destructure-json.yaml)
 
+- [`expression-reusing-verbose-snippets.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/expression-reusing-verbose-snippets.yaml)
+
 - [`expression-tag-template-workflow.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/expression-tag-template-workflow.yaml)
 
 - [`fibonacci-seq-conditional-param.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/fibonacci-seq-conditional-param.yaml)
diff --git a/examples/expression-reusing-verbose-snippets.yaml b/examples/expression-reusing-verbose-snippets.yaml
new file mode 100644
index 000000000000..a51815c2a42e
--- /dev/null
+++ b/examples/expression-reusing-verbose-snippets.yaml
@@ -0,0 +1,44 @@
+# Expressions do not support variables. Rather than repeating verbose expressions to reuse output, you can map over the
+# expression output and use its value which is aliased as `#`. Then you can place your "variables" in a JSON object to
+# be used elsewhere.
+apiVersion: argoproj.io/v1alpha1
+kind: Workflow
+metadata:
+  generateName: expression-reusing-verbose-snippets-
+spec:
+  arguments:
+    parameters:
+      - name: weather
+        # The base64 string is this JSON: {"temps": [34, 27, 15, 57, 46]}
+        value: '{"weekWeather": "eyJ0ZW1wcyI6IFszNCwgMjcsIDE1LCA1NywgNDZdfQo="}'
+  entrypoint: main
+  templates:
+    - name: main
+      inputs:
+        parameters:
+          - name: week-temps
+            # The line being mapped over is verbose. Rather than repeat it, we use `map` to alias its output as #.
+            value: >-
+              {{=
+                map([
+                    jsonpath(sprig.b64dec(jsonpath(workflow.parameters.weather, '$.weekWeather')), '$.temps')
+                  ], {
+                    toJson({
+                      avg: sprig.add(#[0], #[1], #[2], #[3], #[4]) / 5,
+                      min: sprig.min(#[0], #[1], #[2], #[3], #[4]),
+                      max: sprig.max(#[0], #[1], #[2], #[3], #[4])
+                    })
+                })[0]
+              }}
+      script:
+        env:
+          - name: AVG
+            value: "{{=jsonpath(inputs.parameters['week-temps'], '$.avg')}}"
+          - name: MIN
+            value: "{{=jsonpath(inputs.parameters['week-temps'], '$.min')}}"
+          - name: MAX
+            value: "{{=jsonpath(inputs.parameters['week-temps'], '$.max')}}"
+        image: debian:9.4
+        command: [bash]
+        source: |
+          echo "The week's average temperature was $AVG with a minimum of $MIN and a maximum of $MAX."
diff --git a/util/template/expression_template.go b/util/template/expression_template.go
index fa9d8fd079f9..219ef55abe14 100644
--- a/util/template/expression_template.go
+++ b/util/template/expression_template.go
@@ -1,6 +1,7 @@
 package template
 
 import (
+	"encoding/json"
 	"fmt"
 	"io"
 	"os"
@@ -17,12 +18,22 @@ func init() {
 }
 
 func expressionReplace(w io.Writer, expression string, env map[string]interface{}, allowUnresolved bool) (int, error) {
-	if _, ok := env["retries"]; !ok && hasRetries(expression) && allowUnresolved {
+	// The template is JSON-marshaled. This JSON-unmarshals the expression to undo any character escapes.
+	var unmarshalledExpression string
+	err := json.Unmarshal([]byte(fmt.Sprintf(`"%s"`, expression)), &unmarshalledExpression)
+	if err != nil && allowUnresolved {
+		return w.Write([]byte(fmt.Sprintf("{{%s%s}}", kindExpression, expression)))
+	}
+	if err != nil {
+		return 0, fmt.Errorf("failed to unmarshall JSON expression: %w", err)
+	}
+
+	if _, ok := env["retries"]; !ok && hasRetries(unmarshalledExpression) && allowUnresolved {
 		// this is to make sure expressions like `sprig.int(retries)` don't get resolved to 0 when `retries` don't exist in the env
 		// See https://github.com/argoproj/argo-workflows/issues/5388
 		return w.Write([]byte(fmt.Sprintf("{{%s%s}}", kindExpression, expression)))
 	}
-	result, err := expr.Eval(expression, env)
+	result, err := expr.Eval(unmarshalledExpression, env)
 	if (err != nil || result == nil) && allowUnresolved { //  <nil> result is also un-resolved, and any error can be unresolved
 		return w.Write([]byte(fmt.Sprintf("{{%s%s}}", kindExpression, expression)))
 	}
@@ -32,7 +43,19 @@ func expressionReplace(w io.Writer, expression string, env map[string]interface{
 	if result == nil {
 		return 0, fmt.Errorf("failed to evaluate expression %q", expression)
 	}
-	return w.Write([]byte(fmt.Sprintf("%v", result)))
+	resultMarshaled, err := json.Marshal(fmt.Sprintf("%v", result))
+	if (err != nil || resultMarshaled == nil) && allowUnresolved {
+		return w.Write([]byte(fmt.Sprintf("{{%s%s}}", kindExpression, expression)))
+	}
+	if err != nil {
+		return 0, fmt.Errorf("failed to marshal evaluated expression: %w", err)
+	}
+	if resultMarshaled == nil {
+		return 0, fmt.Errorf("failed to marshal evaluated marshaled expression %q", expression)
+	}
+	// Trim leading and trailing quotes. The value is being inserted into something that's already a string.
+	marshaledLength := len(resultMarshaled)
+	return w.Write(resultMarshaled[1 : marshaledLength-1])
 }
 
 func envMap(replaceMap map[string]string) map[string]interface{} {
diff --git a/util/template/replace.go b/util/template/replace.go
index 79950dcc1c85..7a38a29d13b9 100644
--- a/util/template/replace.go
+++ b/util/template/replace.go
@@ -1,9 +1,29 @@
 package template
 
+import (
+	"encoding/json"
+	"errors"
+)
+
+// Replace takes a json-formatted string and performs variable replacement.
 func Replace(s string, replaceMap map[string]string, allowUnresolved bool) (string, error) {
+	if !json.Valid([]byte(s)) {
+		return "", errors.New("cannot do template replacements with invalid JSON")
+	}
+
 	t, err := NewTemplate(s)
 	if err != nil {
 		return "", err
 	}
-	return t.Replace(replaceMap, allowUnresolved)
+
+	replacedString, err := t.Replace(replaceMap, allowUnresolved)
+	if err != nil {
+		return s, err
+	}
+
+	if !json.Valid([]byte(replacedString)) {
+		return s, errors.New("cannot finish template replacement because the result was invalid JSON")
+	}
+
+	return replacedString, nil
 }
diff --git a/util/template/replace_test.go b/util/template/replace_test.go
index 5775424bdd2e..a8c28c72dabb 100644
--- a/util/template/replace_test.go
+++ b/util/template/replace_test.go
@@ -1,56 +1,62 @@
 package template
 
 import (
+	"encoding/json"
 	"testing"
 
 	"github.com/stretchr/testify/assert"
 )
 
+func toJsonString(v interface{}) string {
+	jsonString, _ := json.Marshal(v)
+	return string(jsonString)
+}
+
 func Test_Replace(t *testing.T) {
-	t.Run("InvailedTemplate", func(t *testing.T) {
-		_, err := Replace("{{", nil, false)
+	t.Run("InvalidTemplate", func(t *testing.T) {
+		_, err := Replace(toJsonString("{{"), nil, false)
 		assert.Error(t, err)
 	})
 	t.Run("Simple", func(t *testing.T) {
 		t.Run("Valid", func(t *testing.T) {
-			r, err := Replace("{{foo}}", map[string]string{"foo": "bar"}, false)
+			r, err := Replace(toJsonString("{{foo}}"), map[string]string{"foo": "bar"}, false)
 			assert.NoError(t, err)
-			assert.Equal(t, "bar", r)
+			assert.Equal(t, toJsonString("bar"), r)
 		})
 		t.Run("Unresolved", func(t *testing.T) {
 			t.Run("Allowed", func(t *testing.T) {
-				_, err := Replace("{{foo}}", nil, true)
+				_, err := Replace(toJsonString("{{foo}}"), nil, true)
 				assert.NoError(t, err)
 			})
 			t.Run("Disallowed", func(t *testing.T) {
-				_, err := Replace("{{foo}}", nil, false)
+				_, err := Replace(toJsonString("{{foo}}"), nil, false)
 				assert.EqualError(t, err, "failed to resolve {{foo}}")
 			})
 		})
 	})
 	t.Run("Expression", func(t *testing.T) {
 		t.Run("Valid", func(t *testing.T) {
-			r, err := Replace("{{=foo}}", map[string]string{"foo": "bar"}, false)
+			r, err := Replace(toJsonString("{{=foo}}"), map[string]string{"foo": "bar"}, false)
 			assert.NoError(t, err)
-			assert.Equal(t, "bar", r)
+			assert.Equal(t, toJsonString("bar"), r)
 		})
 		t.Run("Unresolved", func(t *testing.T) {
 			t.Run("Allowed", func(t *testing.T) {
-				_, err := Replace("{{=foo}}", nil, true)
+				_, err := Replace(toJsonString("{{=foo}}"), nil, true)
 				assert.NoError(t, err)
 			})
 			t.Run("AllowedRetries", func(t *testing.T) {
-				replaced, err := Replace("{{=sprig.int(retries)}}", nil, true)
+				replaced, err := Replace(toJsonString("{{=sprig.int(retries)}}"), nil, true)
 				assert.NoError(t, err)
-				assert.Equal(t, replaced, "{{=sprig.int(retries)}}")
+				assert.Equal(t, replaced, toJsonString("{{=sprig.int(retries)}}"))
 			})
 			t.Run("Disallowed", func(t *testing.T) {
-				_, err := Replace("{{=foo}}", nil, false)
+				_, err := Replace(toJsonString("{{=foo}}"), nil, false)
 				assert.EqualError(t, err, "failed to evaluate expression \"foo\"")
 			})
 		})
 		t.Run("Error", func(t *testing.T) {
-			_, err := Replace("{{=!}}", nil, false)
+			_, err := Replace(toJsonString("{{=!}}"), nil, false)
 			if assert.Error(t, err) {
 				assert.Contains(t, err.Error(), "failed to evaluate expression")
 			}
@@ -61,53 +67,53 @@ func Test_Replace(t *testing.T) {
 func TestNestedReplaceString(t *testing.T) {
 	replaceMap := map[string]string{"inputs.parameters.message": "hello world"}
 
-	test := `{{- with secret "{{inputs.parameters.message}}" -}}
+	test := toJsonString(`{{- with secret "{{inputs.parameters.message}}" -}}
     {{ .Data.data.gitcreds }}
-  {{- end }}`
+  {{- end }}`)
 	replacement, err := Replace(test, replaceMap, true)
 	if assert.NoError(t, err) {
-		assert.Equal(t, "{{- with secret \"hello world\" -}}\n    {{ .Data.data.gitcreds }}\n  {{- end }}", replacement)
+		assert.Equal(t, toJsonString("{{- with secret \"hello world\" -}}\n    {{ .Data.data.gitcreds }}\n  {{- end }}"), replacement)
 	}
 
-	test = `{{- with {{ secret "{{inputs.parameters.message}}" -}}
+	test = toJsonString(`{{- with {{ secret "{{inputs.parameters.message}}" -}}
     {{ .Data.data.gitcreds }}
-  {{- end }}`
+  {{- end }}`)
 
 	replacement, err = Replace(test, replaceMap, true)
 	if assert.NoError(t, err) {
-		assert.Equal(t, "{{- with {{ secret \"hello world\" -}}\n    {{ .Data.data.gitcreds }}\n  {{- end }}", replacement)
+		assert.Equal(t, toJsonString("{{- with {{ secret \"hello world\" -}}\n    {{ .Data.data.gitcreds }}\n  {{- end }}"), replacement)
 	}
 
-	test = `{{- with {{ secret "{{inputs.parameters.message}}" -}} }}
+	test = toJsonString(`{{- with {{ secret "{{inputs.parameters.message}}" -}} }}
     {{ .Data.data.gitcreds }}
-  {{- end }}`
+  {{- end }}`)
 
 	replacement, err = Replace(test, replaceMap, true)
 	if assert.NoError(t, err) {
-		assert.Equal(t, "{{- with {{ secret \"hello world\" -}} }}\n    {{ .Data.data.gitcreds }}\n  {{- end }}", replacement)
+		assert.Equal(t, toJsonString("{{- with {{ secret \"hello world\" -}} }}\n    {{ .Data.data.gitcreds }}\n  {{- end }}"), replacement)
 	}
 
-	test = `{{- with secret "{{inputs.parameters.message}}" -}} }}
+	test = toJsonString(`{{- with secret "{{inputs.parameters.message}}" -}} }}
     {{ .Data.data.gitcreds }}
-  {{- end }}`
+  {{- end }}`)
 
 	replacement, err = Replace(test, replaceMap, true)
 	if assert.NoError(t, err) {
-		assert.Equal(t, "{{- with secret \"hello world\" -}} }}\n    {{ .Data.data.gitcreds }}\n  {{- end }}", replacement)
+		assert.Equal(t, toJsonString("{{- with secret \"hello world\" -}} }}\n    {{ .Data.data.gitcreds }}\n  {{- end }}"), replacement)
 	}
 
-	test = `{{- with {{ {{ }} secret "{{inputs.parameters.message}}" -}} }}
+	test = toJsonString(`{{- with {{ {{ }} secret "{{inputs.parameters.message}}" -}} }}
     {{ .Data.data.gitcreds }}
-  {{- end }}`
+  {{- end }}`)
 
 	replacement, err = Replace(test, replaceMap, true)
 	if assert.NoError(t, err) {
-		assert.Equal(t, "{{- with {{ {{ }} secret \"hello world\" -}} }}\n    {{ .Data.data.gitcreds }}\n  {{- end }}", replacement)
+		assert.Equal(t, toJsonString("{{- with {{ {{ }} secret \"hello world\" -}} }}\n    {{ .Data.data.gitcreds }}\n  {{- end }}"), replacement)
 	}
 
-	test = `{{- with {{ {{ }} secret "{{does-not-exist}}" -}} }}
+	test = toJsonString(`{{- with {{ {{ }} secret "{{does-not-exist}}" -}} }}
     {{ .Data.data.gitcreds }}
-  {{- end }}`
+  {{- end }}`)
 
 	replacement, err = Replace(test, replaceMap, true)
 	if assert.NoError(t, err) {
@@ -118,9 +124,9 @@ func TestNestedReplaceString(t *testing.T) {
 func TestReplaceStringWithWhiteSpace(t *testing.T) {
 	replaceMap := map[string]string{"inputs.parameters.message": "hello world"}
 
-	test := `{{ inputs.parameters.message }}`
+	test := toJsonString(`{{ inputs.parameters.message }}`)
 	replacement, err := Replace(test, replaceMap, true)
 	if assert.NoError(t, err) {
-		assert.Equal(t, "hello world", replacement)
+		assert.Equal(t, toJsonString("hello world"), replacement)
 	}
 }
diff --git a/util/template/template_test.go b/util/template/template_test.go
new file mode 100644
index 000000000000..f108c90cd39e
--- /dev/null
+++ b/util/template/template_test.go
@@ -0,0 +1,83 @@
+package template
+
+import (
+	"encoding/json"
+	"testing"
+
+	"github.com/stretchr/testify/assert"
+)
+
+type SimpleValue struct {
+	Value string `json:"value,omitempty"`
+}
+
+func processTemplate(t *testing.T, tmpl SimpleValue) SimpleValue {
+	tmplBytes, err := json.Marshal(tmpl)
+	assert.NoError(t, err)
+	r, err := Replace(string(tmplBytes), map[string]string{}, true)
+	assert.NoError(t, err)
+	var newTmpl SimpleValue
+	err = json.Unmarshal([]byte(r), &newTmpl)
+	assert.NoError(t, err)
+	return newTmpl
+}
+
+func Test_Template_Replace(t *testing.T) {
+	t.Run("ExpressionWithEscapedCharacters", func(t *testing.T) {
+		t.Run("SingleQuotes", func(t *testing.T) {
+			tmpl := SimpleValue{Value: "{{='test'}}"}
+			newTmpl := processTemplate(t, tmpl)
+			assert.Equal(t, "test", newTmpl.Value)
+		})
+		t.Run("DoubleQuotes", func(t *testing.T) {
+			tmpl := SimpleValue{Value: `{{="test"}}`}
+			newTmpl := processTemplate(t, tmpl)
+			assert.Equal(t, "test", newTmpl.Value)
+		})
+		t.Run("EscapedBackslashInString", func(t *testing.T) {
+			tmpl := SimpleValue{Value: `{{='some\\path\\with\\backslashes'}}`}
+			newTmpl := processTemplate(t, tmpl)
+			assert.Equal(t, `some\path\with\backslashes`, newTmpl.Value)
+		})
+		t.Run("EscapedNewlineInString", func(t *testing.T) {
+			tmpl := SimpleValue{Value: `{{='some\nstring\nwith\nescaped\nnewlines'}}`}
+			newTmpl := processTemplate(t, tmpl)
+			assert.Equal(t, "some\nstring\nwith\nescaped\nnewlines", newTmpl.Value)
+		})
+		t.Run("Newline", func(t *testing.T) {
+			tmpl := SimpleValue{Value: "{{=1 + \n1}}"}
+			newTmpl := processTemplate(t, tmpl)
+			assert.Equal(t, "2", newTmpl.Value)
+		})
+		t.Run("StringAsJson", func(t *testing.T) {
+			tmpl := SimpleValue{Value: "{{=toJson('test')}}"}
+			newTmpl := processTemplate(t, tmpl)
+			assert.Equal(t, `"test"`, newTmpl.Value)
+		})
+		t.Run("ObjectAsJson", func(t *testing.T) {
+			tmpl := SimpleValue{Value: "{{=toJson({test: 1})}}"}
+			newTmpl := processTemplate(t, tmpl)
+			assert.Equal(t, `{"test":1}`, newTmpl.Value)
+		})
+		t.Run("ArrayAsJson", func(t *testing.T) {
+			tmpl := SimpleValue{Value: "{{=toJson([1, '2', {an: 'object'}])}}"}
+			newTmpl := processTemplate(t, tmpl)
+			assert.Equal(t, `[1,"2",{"an":"object"}]`, newTmpl.Value)
+		})
+		t.Run("SingleQuoteAsString", func(t *testing.T) {
+			tmpl := SimpleValue{Value: `{{="'"}}`}
+			newTmpl := processTemplate(t, tmpl)
+			assert.Equal(t, `'`, newTmpl.Value)
+		})
+		t.Run("DoubleQuoteAsString", func(t *testing.T) {
+			tmpl := SimpleValue{Value: `{{='"'}}`}
+			newTmpl := processTemplate(t, tmpl)
+			assert.Equal(t, `"`, newTmpl.Value)
+		})
+		t.Run("Boolean", func(t *testing.T) {
+			tmpl := SimpleValue{Value: `{{=true == false}}`}
+			newTmpl := processTemplate(t, tmpl)
+			assert.Equal(t, "false", newTmpl.Value)
+		})
+	})
+}
diff --git a/workflow/controller/operator.go b/workflow/controller/operator.go
index 589b3b51527c..7c1b13c23cf4 100644
--- a/workflow/controller/operator.go
+++ b/workflow/controller/operator.go
@@ -3154,12 +3154,28 @@ func (woc *wfOperationCtx) computeMetrics(metricList []*wfv1.Prometheus, localSc
 			metricSpec := metricTmpl.DeepCopy()
 
 			// Finally substitute value parameters
-			replacedValue, err := template.Replace(metricSpec.GetValueString(), localScope, false)
+			metricValueString := metricSpec.GetValueString()
+
+			metricValueStringJson, err := json.Marshal(metricValueString)
+			if err != nil {
+				woc.reportMetricEmissionError(fmt.Sprintf("unable to marshal metric to JSON for templating '%s': %s", metricSpec.Name, err))
+				continue
+			}
+
+			replacedValueJson, err := template.Replace(string(metricValueStringJson), localScope, false)
 			if err != nil {
 				woc.reportMetricEmissionError(fmt.Sprintf("unable to substitute parameters for metric '%s': %s", metricSpec.Name, err))
 				continue
 			}
-			metricSpec.SetValueString(replacedValue)
+
+			var replacedStringJson string
+			err = json.Unmarshal([]byte(replacedValueJson), &replacedStringJson)
+			if err != nil {
+				woc.reportMetricEmissionError(fmt.Sprintf("unable to unmarshal templated metric JSON '%s': %s", metricSpec.Name, err))
+				continue
+			}
+
+			metricSpec.SetValueString(replacedStringJson)
 
 			metric := woc.controller.metrics.GetCustomMetric(metricSpec.GetDesc())
 			// It is valid to pass a nil metric to ConstructOrUpdateMetric, in that case the metric will be created for us
diff --git a/workflow/controller/scope.go b/workflow/controller/scope.go
index 638f3b9dfdf9..103f8816ee96 100644
--- a/workflow/controller/scope.go
+++ b/workflow/controller/scope.go
@@ -1,6 +1,7 @@
 package controller
 
 import (
+	"encoding/json"
 	"fmt"
 
 	"github.com/antonmedv/expr"
@@ -106,13 +107,25 @@ func (s *wfScope) resolveArtifact(art *wfv1.Artifact) (*wfv1.Artifact, error) {
 	}
 
 	if art.SubPath != "" {
-		resolvedSubPath, err := template.Replace(art.SubPath, s.getParameters(), true)
+		// Copy resolved artifact pointer before adding subpath
+		copyArt := valArt.DeepCopy()
+
+		subPathAsJson, err := json.Marshal(art.SubPath)
+		if err != nil {
+			return copyArt, errors.New(errors.CodeBadRequest, "failed to marshal artifact subpath for templating")
+		}
+
+		resolvedSubPathAsJson, err := template.Replace(string(subPathAsJson), s.getParameters(), true)
 		if err != nil {
 			return nil, err
 		}
 
-		// Copy resolved artifact pointer before adding subpath
-		copyArt := valArt.DeepCopy()
+		var resolvedSubPath string
+		err = json.Unmarshal([]byte(resolvedSubPathAsJson), &resolvedSubPath)
+		if err != nil {
+			return copyArt, errors.New(errors.CodeBadRequest, "failed to unmarshal artifact subpath for templating")
+		}
+
 		return copyArt, copyArt.AppendToKey(resolvedSubPath)
 	}
 

From e4a53d4bf021fd4dce1374bb7fd4320d733e57ba Mon Sep 17 00:00:00 2001
From: "Yuan (Bob) Gong" <4957653+Bobgy@users.noreply.github.com>
Date: Fri, 6 Aug 2021 10:45:58 +0800
Subject: [PATCH 009/137] fix(executor/docker): fix random errors with message
 "No such container:path". Fixes #6352 (#6483)

Signed-off-by: Yuan Gong <gongyuan94@gmail.com>
---
 workflow/executor/docker/docker.go | 27 ++++++++++++++++++++++++++-
 1 file changed, 26 insertions(+), 1 deletion(-)

diff --git a/workflow/executor/docker/docker.go b/workflow/executor/docker/docker.go
index 727693705e23..c322ecd18a95 100644
--- a/workflow/executor/docker/docker.go
+++ b/workflow/executor/docker/docker.go
@@ -214,7 +214,32 @@ func (d *DockerExecutor) Wait(ctx context.Context, containerNames []string) erro
 					log.WithError(err).Info("ignoring error as container may have been re-created and therefore container ID may have changed")
 					continue
 				}
-				return err
+				if err != nil {
+					return err
+				}
+				// After docker wait, sometimes the container can still be in "Created" state.
+				// https://github.com/argoproj/argo-workflows/issues/6352
+				// To workaround this issue, validate containers actually finished.
+				containers, err := d.listContainers()
+				if err != nil {
+					return err
+				}
+				foundUnfinished := false
+				for _, name := range containerNames {
+					container, ok := containers[name]
+					if !ok {
+						// ignore containers no longer found
+						continue
+					}
+					if container.status == "Created" || container.status == "Up" {
+						log.Infof("unexpected: container %q still has state %q after docker wait", name, container.status)
+						foundUnfinished = true
+					}
+				}
+				if foundUnfinished {
+					continue
+				}
+				return nil
 			}
 			time.Sleep(time.Second)
 		}

From c6b6f67a5896e4389bf75dfcc24c7ebae14ce330 Mon Sep 17 00:00:00 2001
From: Kyle Prager <kyleprager@users.noreply.github.com>
Date: Thu, 5 Aug 2021 19:47:30 -0700
Subject: [PATCH 010/137] docs: specifying that metadata header name must be
 lowercase to match selector in WorkflowEventBinding (#6496)

Signed-off-by: Kyle Prager <kyleprager@gmail.com>
---
 docs/events.md | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

diff --git a/docs/events.md b/docs/events.md
index 0ad0da37e2d4..d8866ba2c8e2 100644
--- a/docs/events.md
+++ b/docs/events.md
@@ -67,7 +67,7 @@ spec:
 ## Submitting A Workflow From A Workflow Template
 
 A workflow template will be submitted (i.e. workflow created from it) and that can be created using parameters from the event itself. 
-The following example will be trigger by an event with "message" in the payload. That message will be used as an argument for the created workflow.
+The following example will be triggered by an event with "message" in the payload. That message will be used as an argument for the created workflow.  Note that the name of the metadata header "x-argo-e2e" is lowercase in the selector to match.  Incoming header names are converted to lowercase.
 
 ```yaml
 apiVersion: argoproj.io/v1alpha1
@@ -76,7 +76,8 @@ metadata:
   name: event-consumer
 spec:
   event:
-    selector: payload.message != "" && metadata["X-Argo-E2E"] == ["true"] && discriminator == "my-discriminator"
+    # metadata header name must be lowercase to match in selector
+    selector: payload.message != "" && metadata["x-argo-e2e"] == ["true"] && discriminator == "my-discriminator"
   submit:
     workflowTemplateRef:
       name: my-wf-tmple

From 3373dc512804ae51d09ade02be53c597aead3c3f Mon Sep 17 00:00:00 2001
From: Joe McGovern <joseph.mcgovern@workiva.com>
Date: Thu, 5 Aug 2021 21:49:00 -0500
Subject: [PATCH 011/137] feat: Annotate pod events with workflow name and UID
 (#6455)

Signed-off-by: Joseph McGovern <joseph.mcgovern@workiva.com>
---
 test/e2e/fixtures/when.go       | 14 ++++++
 test/e2e/functional_test.go     | 77 +++++++++++++++++++++++++++++++++
 workflow/common/common.go       |  5 +++
 workflow/controller/operator.go | 11 +++--
 4 files changed, 103 insertions(+), 4 deletions(-)

diff --git a/test/e2e/fixtures/when.go b/test/e2e/fixtures/when.go
index 300c5192848a..626af22465e8 100644
--- a/test/e2e/fixtures/when.go
+++ b/test/e2e/fixtures/when.go
@@ -341,6 +341,20 @@ func (w *When) CreateConfigMap(name string, data map[string]string) *When {
 	return w
 }
 
+func (w *When) UpdateConfigMap(name string, data map[string]string) *When {
+	w.t.Helper()
+
+	ctx := context.Background()
+	_, err := w.kubeClient.CoreV1().ConfigMaps(Namespace).Update(ctx, &corev1.ConfigMap{
+		ObjectMeta: metav1.ObjectMeta{Name: name, Labels: map[string]string{Label: "true"}},
+		Data:       data,
+	}, metav1.UpdateOptions{})
+	if err != nil {
+		w.t.Fatal(err)
+	}
+	return w
+}
+
 func (w *When) DeleteConfigMap(name string) *When {
 	w.t.Helper()
 	ctx := context.Background()
diff --git a/test/e2e/functional_test.go b/test/e2e/functional_test.go
index 9f4d95b1e1c7..550a01455be7 100644
--- a/test/e2e/functional_test.go
+++ b/test/e2e/functional_test.go
@@ -3,11 +3,14 @@
 package e2e
 
 import (
+	"context"
+	"strings"
 	"testing"
 	"time"
 
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/suite"
+	apiv1 "k8s.io/api/core/v1"
 	corev1 "k8s.io/api/core/v1"
 	metav1 "k8s.io/apimachinery/pkg/apis/meta/v1"
 	"k8s.io/apimachinery/pkg/types"
@@ -186,6 +189,80 @@ spec:
 		})
 }
 
+func (s *FunctionalSuite) TestEventOnNodeFailSentAsPod() {
+	// Test whether an WorkflowFailed event (with appropriate message) is emitted in case of node failure
+	var uid types.UID
+	var nodeId types.UID
+	var nodeName string
+	// Update controller config map to set nodeEvents.sendAsPod to true
+	ctx := context.Background()
+	configMap, _ := s.KubeClient.CoreV1().ConfigMaps("argo").Get(
+		ctx,
+		"workflow-controller-configmap",
+		metav1.GetOptions{},
+	)
+	originalData := make(map[string]string)
+	for key, value := range configMap.Data {
+		originalData[key] = value
+	}
+	configMap.Data["nodeEvents"] = "\n  sendAsPod: true"
+	s.Given().
+		Workflow("@expectedfailures/failed-step-event.yaml").
+		When().
+		UpdateConfigMap(
+			"workflow-controller-configmap",
+			configMap.Data).
+		// Give controller enough time to update from config map change
+		Wait(5*time.Second).
+		SubmitWorkflow().
+		WaitForWorkflow().
+		Then().
+		ExpectWorkflow(func(t *testing.T, metadata *metav1.ObjectMeta, status *wfv1.WorkflowStatus) {
+			uid = metadata.UID
+		}).
+		ExpectWorkflowNode(func(status wfv1.NodeStatus) bool {
+			return strings.HasPrefix(status.Name, "failed-step-event-")
+		}, func(t *testing.T, status *wfv1.NodeStatus, pod *apiv1.Pod) {
+			nodeId = pod.UID
+			nodeName = status.Name
+		}).
+		ExpectAuditEvents(
+			func(event apiv1.Event) bool {
+				return (event.InvolvedObject.Kind == workflow.WorkflowKind && event.InvolvedObject.UID == uid) || (event.InvolvedObject.Kind == "Pod" && event.InvolvedObject.UID == nodeId && strings.HasPrefix(event.Reason, "Workflow"))
+			},
+			4,
+			func(t *testing.T, es []corev1.Event) {
+				for _, e := range es {
+					switch e.Reason {
+					case "WorkflowNodeRunning":
+						assert.Equal(t, e.InvolvedObject.Kind, "Pod")
+						assert.Contains(t, e.Message, "Running node failed-step-event-")
+						assert.Equal(t, e.Annotations["workflows.argoproj.io/node-name"], nodeName)
+						assert.Equal(t, e.Annotations["workflows.argoproj.io/workflow-uid"], string(uid))
+						assert.Contains(t, e.Annotations["workflows.argoproj.io/workflow-name"], "failed-step-event-")
+					case "WorkflowRunning":
+					case "WorkflowNodeFailed":
+						assert.Equal(t, e.InvolvedObject.Kind, "Pod")
+						assert.Contains(t, e.Message, "Failed node failed-step-event-")
+						assert.Equal(t, e.Annotations["workflows.argoproj.io/node-type"], "Pod")
+						assert.Equal(t, e.Annotations["workflows.argoproj.io/node-name"], nodeName)
+						assert.Contains(t, e.Annotations["workflows.argoproj.io/workflow-name"], "failed-step-event-")
+						assert.Equal(t, e.Annotations["workflows.argoproj.io/workflow-uid"], string(uid))
+					case "WorkflowFailed":
+						assert.Contains(t, e.Message, "exit code 1")
+					default:
+						assert.Fail(t, e.Reason)
+					}
+				}
+			},
+		).
+		When().
+		// Reset config map to original settings
+		UpdateConfigMap("workflow-controller-configmap", originalData).
+		// Give controller enough time to update from config map change
+		Wait(5 * time.Second)
+}
+
 func (s *FunctionalSuite) TestEventOnNodeFail() {
 	// Test whether an WorkflowFailed event (with appropriate message) is emitted in case of node failure
 	var uid types.UID
diff --git a/workflow/common/common.go b/workflow/common/common.go
index 53b5b518b010..3e73f33a1538 100644
--- a/workflow/common/common.go
+++ b/workflow/common/common.go
@@ -30,6 +30,11 @@ const (
 	// was scheduled to run by CronWorkflow.
 	AnnotationKeyCronWfScheduledTime = workflow.WorkflowFullName + "/scheduled-time"
 
+	// AnnotationKeyWorkflowName is the name of the workflow
+	AnnotationKeyWorkflowName = workflow.WorkflowFullName + "/workflow-name"
+	// AnnotationKeyWorkflowUID is the uid of the workflow
+	AnnotationKeyWorkflowUID = workflow.WorkflowFullName + "/workflow-uid"
+
 	// LabelKeyControllerInstanceID is the label the controller will carry forward to workflows/pod labels
 	// for the purposes of workflow segregation
 	LabelKeyControllerInstanceID = workflow.WorkflowFullName + "/controller-instanceid"
diff --git a/workflow/controller/operator.go b/workflow/controller/operator.go
index 7c1b13c23cf4..ddaa39e2709d 100644
--- a/workflow/controller/operator.go
+++ b/workflow/controller/operator.go
@@ -2183,6 +2183,10 @@ func (woc *wfOperationCtx) recordNodePhaseEvent(node *wfv1.NodeStatus) {
 		eventType = apiv1.EventTypeNormal
 	}
 	eventConfig := woc.controller.Config.NodeEvents
+	annotations := map[string]string{
+		common.AnnotationKeyNodeType: string(node.Type),
+		common.AnnotationKeyNodeName: node.Name,
+	}
 	var involvedObject runtime.Object = woc.wf
 	if eventConfig.SendAsPod {
 		pod, err := woc.getPodByNode(node)
@@ -2191,14 +2195,13 @@ func (woc *wfOperationCtx) recordNodePhaseEvent(node *wfv1.NodeStatus) {
 		}
 		if pod != nil {
 			involvedObject = pod
+			annotations[common.AnnotationKeyWorkflowName] = woc.wf.Name
+			annotations[common.AnnotationKeyWorkflowUID] = string(woc.wf.GetUID())
 		}
 	}
 	woc.eventRecorder.AnnotatedEventf(
 		involvedObject,
-		map[string]string{
-			common.AnnotationKeyNodeType: string(node.Type),
-			common.AnnotationKeyNodeName: node.Name,
-		},
+		annotations,
 		eventType,
 		fmt.Sprintf("WorkflowNode%s", node.Phase),
 		message,

From a105b137c97e5aea852c6db6e77997ca3713cb08 Mon Sep 17 00:00:00 2001
From: Saravanan Balasubramanian
 <33908564+sarabala1979@users.noreply.github.com>
Date: Thu, 5 Aug 2021 20:18:24 -0700
Subject: [PATCH 012/137] fix(controller): Delete the PVCs in
 workflowtemplateRef (#6493)

* fix(controller): Delete the PVCs in workflowtemplateRef

Signed-off-by: Saravanan Balasubramanian <sarabala1979@gmail.com>

* Update operator_workflow_template_ref_test.go

* Update operator_workflow_template_ref_test.go
---
 workflow/controller/operator.go               |  2 +-
 .../operator_workflow_template_ref_test.go    | 45 +++++++++++++++++++
 2 files changed, 46 insertions(+), 1 deletion(-)

diff --git a/workflow/controller/operator.go b/workflow/controller/operator.go
index ddaa39e2709d..ba230a6eeda2 100644
--- a/workflow/controller/operator.go
+++ b/workflow/controller/operator.go
@@ -1462,7 +1462,7 @@ func (woc *wfOperationCtx) createPVCs(ctx context.Context) error {
 }
 
 func (woc *wfOperationCtx) deletePVCs(ctx context.Context) error {
-	gcStrategy := woc.wf.Spec.GetVolumeClaimGC().GetStrategy()
+	gcStrategy := woc.execWf.Spec.GetVolumeClaimGC().GetStrategy()
 
 	switch gcStrategy {
 	case wfv1.VolumeClaimGCOnSuccess:
diff --git a/workflow/controller/operator_workflow_template_ref_test.go b/workflow/controller/operator_workflow_template_ref_test.go
index 48c2f771932a..c0f625ba1da9 100644
--- a/workflow/controller/operator_workflow_template_ref_test.go
+++ b/workflow/controller/operator_workflow_template_ref_test.go
@@ -4,6 +4,8 @@ import (
 	"context"
 	"testing"
 
+	metav1 "k8s.io/apimachinery/pkg/apis/meta/v1"
+
 	"github.com/stretchr/testify/assert"
 	apiv1 "k8s.io/api/core/v1"
 	"k8s.io/utils/pointer"
@@ -489,3 +491,46 @@ func TestWorkflowTemplateUpdateScenario(t *testing.T) {
 	assert.NotEmpty(t, woc1.wf.Status.StoredWorkflowSpec)
 	assert.Equal(t, woc.wf.Status.StoredWorkflowSpec, woc1.wf.Status.StoredWorkflowSpec)
 }
+
+const wfTmplWithVol = `
+apiVersion: argoproj.io/v1alpha1
+kind: WorkflowTemplate
+metadata:
+  name: workflow-template-whalesay-template
+  namespace: default
+spec:
+  volumeClaimTemplates:
+  - metadata:
+      name: workdir
+    spec:
+      accessModes: [ "ReadWriteOnce" ]
+      resources:
+        requests:
+          storage: 1Gi
+  entrypoint: whalesay-template
+  templates:
+  - name: whalesay-template
+    container:
+      image: docker/whalesay
+      command: [cowsay]
+      volumeMounts:
+      - name: workdir
+        mountPath: /mnt/vol
+`
+
+func TestWFTWithVol(t *testing.T) {
+	wf := wfv1.MustUnmarshalWorkflow(wfTmplWithVol)
+	cancel, controller := newController(wf, wfv1.MustUnmarshalWorkflowTemplate(wfTmpl))
+	defer cancel()
+	ctx := context.Background()
+	woc := newWorkflowOperationCtx(wf, controller)
+	woc.operate(ctx)
+	pvc, err := controller.kubeclientset.CoreV1().PersistentVolumeClaims("default").List(ctx, metav1.ListOptions{})
+	assert.NoError(t, err)
+	assert.Len(t, pvc.Items, 1)
+	makePodsPhase(ctx, woc, apiv1.PodSucceeded)
+	woc.operate(ctx)
+	pvc, err = controller.kubeclientset.CoreV1().PersistentVolumeClaims("default").List(ctx, metav1.ListOptions{})
+	assert.NoError(t, err)
+	assert.Len(t, pvc.Items, 0)
+}

From 745c1cfcb896e3c8df9978d7d3c64b81ce5f916e Mon Sep 17 00:00:00 2001
From: Alex Collins <alex_collins@intuit.com>
Date: Fri, 6 Aug 2021 07:40:22 -0700
Subject: [PATCH 013/137] docs: Update installation guide

Signed-off-by: Alex Collins <alex_collins@intuit.com>
---
 README.md            |  2 +-
 docs/installation.md | 17 +++++++----------
 docs/quick-start.md  |  2 +-
 3 files changed, 9 insertions(+), 12 deletions(-)

diff --git a/README.md b/README.md
index 25fb036ea4f5..10d925bcc8cb 100644
--- a/README.md
+++ b/README.md
@@ -69,7 +69,7 @@ Check out our [Java, Golang and Python SDKs](https://github.com/argoproj-labs/ar
 
 ```bash
 kubectl create namespace argo
-kubectl apply -n argo -f https://raw.githubusercontent.com/argoproj/argo-workflows/stable/manifests/install.yaml
+kubectl apply -n argo -f https://raw.githubusercontent.com/argoproj/argo-workflows/master/manifests/install.yaml
 ```
 
 ## Who uses Argo Workflows?
diff --git a/docs/installation.md b/docs/installation.md
index 5af1cffb20ef..ebc86486296b 100644
--- a/docs/installation.md
+++ b/docs/installation.md
@@ -2,20 +2,17 @@
 
 You can choose one of three common installations:
 
-* **cluster install** Execute workflows in any namespace? 
+* **cluster install** Execute workflows in any namespace?
 * **namespace install** Only execute workflows in the same namespace we install in (typically `argo`).
 * **managed namespace install**: Only execute workflows in a specific namespace ([learn more](managed-namespace.md)).
 
-Choose [a manifests from the list](https://github.com/argoproj/argo-workflows/tree/stable/manifests).
-
-E.g.
-
-```sh
-kubectl create ns argo
-kubectl apply -n argo -f https://raw.githubusercontent.com/argoproj/argo-workflows/stable/manifests/namespace-install.yaml 
-```
-
+## Recommendations
 
+* Make sure you're using the manifests attached to the release.
+* Read the [upgrading guide](upgrading.md) before any major upgrade to be aware of breaking changes.
+* If you are using GitOps, copy the manifests into your repository, rather use `base` to reference them. Fewer issues
+  regarding network loss, and you'll be able to check what has changed each time you upgrade.
+* Double-check you have the right version of your executor configured, it's easy to miss.
 
 
 
diff --git a/docs/quick-start.md b/docs/quick-start.md
index e707d4253421..4650a1370b15 100644
--- a/docs/quick-start.md
+++ b/docs/quick-start.md
@@ -10,7 +10,7 @@ To get started quickly, you can use the quick start manifest which will install
 
 ```sh
 kubectl create ns argo
-kubectl apply -n argo -f https://raw.githubusercontent.com/argoproj/argo-workflows/stable/manifests/quick-start-postgres.yaml
+kubectl apply -n argo -f https://raw.githubusercontent.com/argoproj/argo-workflows/master/manifests/quick-start-postgres.yaml
 ```
 
 !!! note

From a3fd704a1715900f2144c0362e562f75f1524126 Mon Sep 17 00:00:00 2001
From: Alex Collins <alex_collins@intuit.com>
Date: Fri, 6 Aug 2021 09:52:36 -0700
Subject: [PATCH 014/137] Revert "fix(executor/docker): fix random errors with
 message "No such container:path". Fixes #6352 (#6483)"

This reverts commit e4a53d4bf021fd4dce1374bb7fd4320d733e57ba.

Signed-off-by: Alex Collins <alex_collins@intuit.com>
---
 workflow/executor/docker/docker.go | 27 +--------------------------
 1 file changed, 1 insertion(+), 26 deletions(-)

diff --git a/workflow/executor/docker/docker.go b/workflow/executor/docker/docker.go
index c322ecd18a95..727693705e23 100644
--- a/workflow/executor/docker/docker.go
+++ b/workflow/executor/docker/docker.go
@@ -214,32 +214,7 @@ func (d *DockerExecutor) Wait(ctx context.Context, containerNames []string) erro
 					log.WithError(err).Info("ignoring error as container may have been re-created and therefore container ID may have changed")
 					continue
 				}
-				if err != nil {
-					return err
-				}
-				// After docker wait, sometimes the container can still be in "Created" state.
-				// https://github.com/argoproj/argo-workflows/issues/6352
-				// To workaround this issue, validate containers actually finished.
-				containers, err := d.listContainers()
-				if err != nil {
-					return err
-				}
-				foundUnfinished := false
-				for _, name := range containerNames {
-					container, ok := containers[name]
-					if !ok {
-						// ignore containers no longer found
-						continue
-					}
-					if container.status == "Created" || container.status == "Up" {
-						log.Infof("unexpected: container %q still has state %q after docker wait", name, container.status)
-						foundUnfinished = true
-					}
-				}
-				if foundUnfinished {
-					continue
-				}
-				return nil
+				return err
 			}
 			time.Sleep(time.Second)
 		}

From 8d60296f6b23fbf6a2f7d3138dbe5611bb1b9502 Mon Sep 17 00:00:00 2001
From: Alex Collins <alex_collins@intuit.com>
Date: Sat, 7 Aug 2021 16:35:12 -0700
Subject: [PATCH 015/137] docs: Correct CHANGELOG.md

Signed-off-by: Alex Collins <alex_collins@intuit.com>
---
 CHANGELOG.md      | 11 ++++++++++-
 hack/changelog.sh |  2 +-
 2 files changed, 11 insertions(+), 2 deletions(-)

diff --git a/CHANGELOG.md b/CHANGELOG.md
index 77466c01b980..f9441c275a09 100644
--- a/CHANGELOG.md
+++ b/CHANGELOG.md
@@ -452,8 +452,8 @@
  * Reijer Copier
  * Riccardo Piccoli
  * Roi Kramer
- * Saravanan Balasubramanian
  * Safane FARFAR
+ * Saravanan Balasubramanian
  * Shoubhik Bose
  * Simon Behar
  * Stephan van Maris
@@ -1375,6 +1375,7 @@
  * [f9b65c523](https://github.com/argoproj/argo-workflows/commit/f9b65c52321d6e49d7fbc78f69d18e7d1ee442ad) chore(build): Update `make codegen` to only run on changes (#4205)
  * [0879067a4](https://github.com/argoproj/argo-workflows/commit/0879067a48d7b1d667c827d064a9aa00a3595a6e) chore(build): re-add #4127 and steps to verify image pull (#4219)
  * [b17b569ea](https://github.com/argoproj/argo-workflows/commit/b17b569eae0b518a649790daf9e4af87b900a91e) fix(controller): reduce withItem/withParams memory usage. Fixes #3907 (#4207)
+ * [524049f01](https://github.com/argoproj/argo-workflows/commit/524049f01b00d1fb04f169860217553869b79b53) fix: Revert "chore: try out pre-pushing linux/amd64 images and updating ma Fixes #4216 (#4217)
  * [9c08433f3](https://github.com/argoproj/argo-workflows/commit/9c08433f37dde41fbe7dbae32e97c4b3f70e8081) feat(executor): Decompress zip file input artifacts. Fixes #3585 (#4068)
  * [14650339d](https://github.com/argoproj/argo-workflows/commit/14650339df95916d7a676354289d4dfac1ea7776) fix(executor): Update executor retry config for ExponentialBackoff. (#4196)
  * [2b127625a](https://github.com/argoproj/argo-workflows/commit/2b127625a837e6225b9b803523e02b617df9cb20) fix(executor): Remove IsTransientErr check for ExponentialBackoff. Fixes #4144 (#4149)
@@ -1586,8 +1587,11 @@
  * [0dfeb8e56](https://github.com/argoproj/argo-workflows/commit/0dfeb8e56071e7a1332370732949bc2e15073005) Update manifests to v2.11.2
  * [461a36a15](https://github.com/argoproj/argo-workflows/commit/461a36a15ecb8c11dcb62694c0c5bd624b835bd4) fix(controller): Apply Workflow default on normal workflow scenario Fixes #4208 (#4213)
  * [4b9cf5d28](https://github.com/argoproj/argo-workflows/commit/4b9cf5d28ae661873847238203b0098a2722a97a) fix(controller): reduce withItem/withParams memory usage. Fixes #3907 (#4207)
+ * [8fea7bf6b](https://github.com/argoproj/argo-workflows/commit/8fea7bf6b5cf0c89cf9c3bb0c3f57c1397236f5e) Revert "Revert "chore: use build matrix and cache (#4111)""
+ * [efb20eea0](https://github.com/argoproj/argo-workflows/commit/efb20eea05afc919652ebf17c6456791a283d4d2) Revert "chore: use build matrix and cache (#4111)"
  * [de1c9e52d](https://github.com/argoproj/argo-workflows/commit/de1c9e52d48d8f91545dcfd32f426c235d001469) refactor: Refactor Synchronization code (#4114)
  * [605d0895a](https://github.com/argoproj/argo-workflows/commit/605d0895aa436d8543ad43eee179cc169b792863) fix: Ensure CronWorkflows are persisted once per operation (#4172)
+ * [6f738db07](https://github.com/argoproj/argo-workflows/commit/6f738db0733da6aa16f851d1dbefa235e987bcf8) Revert "chore: Update Go module to argo/v2"
 
 ### Contributors
 
@@ -2477,6 +2481,7 @@
  * [4c452d5f7](https://github.com/argoproj/argo-workflows/commit/4c452d5f7287179b6a7967fc7d60fb0837bd36ca) fix: Don't attempt to resolve artifacts if task is going to be skipped (#2657)
  * [2cb596da3](https://github.com/argoproj/argo-workflows/commit/2cb596da3dac3c5683ed44e7a363c014e73a38a5) Storage region should be specified (#2538)
  * [4c1b07772](https://github.com/argoproj/argo-workflows/commit/4c1b077725a22d183ecdb24f2f147fee0a6e320c) fix: Sort log entries. (#2647)
+ * [268fc4619](https://github.com/argoproj/argo-workflows/commit/268fc46197ac411339c78018f05d76e102447eef)  docs: Added doc generator code (#2632)
  * [d58b7fc39](https://github.com/argoproj/argo-workflows/commit/d58b7fc39620fb24e40bb4f55f69c4e0fb5fc017) fix: Add input paremeters to metric scope (#2646)
  * [cc3af0b83](https://github.com/argoproj/argo-workflows/commit/cc3af0b83381e2d4a8da1959c36fd0a466c414ff) fix: Validating Item Param in Steps Template (#2608)
  * [6c685c5ba](https://github.com/argoproj/argo-workflows/commit/6c685c5baf281116340b7b0708f8a29764d72c47) fix: allow onExit to run if wf exceeds activeDeadlineSeconds. Fixes #2603 (#2605)
@@ -3259,6 +3264,7 @@
  * [43656c6e6](https://github.com/argoproj/argo-workflows/commit/43656c6e6d82fccf06ff2c267cdc634d0345089c) Update Makefile
  * [b49d82d71](https://github.com/argoproj/argo-workflows/commit/b49d82d71d07e0cdcedb7d1318d0eb53f19ce8cd) Update manifests to v2.5.0-rc1
  * [38bc90ac7](https://github.com/argoproj/argo-workflows/commit/38bc90ac7fe91d99823b37e825fda11f33598cb2) Update Makefile
+ * [1db74e1a2](https://github.com/argoproj/argo-workflows/commit/1db74e1a2658fa7de925cd4c81fbfd98f648cd99) fix(archive): upsert archive + ci: Pin images on CI, add readiness probes, clean-up logging and other tweaks (#2038)
  * [c46c68367](https://github.com/argoproj/argo-workflows/commit/c46c6836706dce54aea4a13deee864bd3c6cb906) feat: Allow workflow-level parameters to be modified in the UI when submitting a workflow (#2030)
  * [faa9dbb59](https://github.com/argoproj/argo-workflows/commit/faa9dbb59753a068c64a1aa5923e3e359c0866d8) fix(Makefile): Rename staticfiles make target. Fixes #2010 (#2040)
  * [1a96007fe](https://github.com/argoproj/argo-workflows/commit/1a96007fed6a57d14a0e364000b54a364293438b) fix: Redirect to correct page when using managed namespace. Fixes #2015 (#2029)
@@ -3772,6 +3778,7 @@
  * [1e111caa1](https://github.com/argoproj/argo-workflows/commit/1e111caa1d2cc672b3b53c202b96a5f660a7e9b2) Fix bug with DockerExecutor's CopyFile (#1275)
  * [73a37f2b2](https://github.com/argoproj/argo-workflows/commit/73a37f2b2a12d74ddf6a4b54e04b50fa1a7c68a1) Add the `mergeStrategy` option to resource patching (#1269)
  * [e6105243c](https://github.com/argoproj/argo-workflows/commit/e6105243c785d9f53aef6fcfd344e855ad4f7d84) Reduce redundancy pod label action (#1271)
+ * [4bfbb20bc](https://github.com/argoproj/argo-workflows/commit/4bfbb20bc23f8bf4611a6314fb80f8138b17b9b9) Error running 1000s of tasks: "etcdserver: request is too large" #1186 (#1264)
  * [b2743f30c](https://github.com/argoproj/argo-workflows/commit/b2743f30c411f5ad8f8c8b481a5d6b6ff83c33bd) Proxy Priority and PriorityClassName to pods (#1179)
  * [70c130ae6](https://github.com/argoproj/argo-workflows/commit/70c130ae626f7c58d9e5ac0eed8977f51696fcbd) Update versions (#1218)
  * [b03841297](https://github.com/argoproj/argo-workflows/commit/b03841297e4b0dab0380b441cf41f5ed34db44bf) Git cloning via SSH was not verifying host public key (#1261)
@@ -4477,6 +4484,7 @@
  * [beeb65ddc](https://github.com/argoproj/argo-workflows/commit/beeb65ddcb7d2b5f8286f7881af1f5c00535161e) Don't mess the controller's arguments.
  * [01f5db5a0](https://github.com/argoproj/argo-workflows/commit/01f5db5a0c3dc48541577b9d8b1d815399728070) Parameterize Install() and related methods.
  * [85a2e2711](https://github.com/argoproj/argo-workflows/commit/85a2e2711beba8f2c891af396a3cc886c7b37542) Fix tests.
+ * [56f666e1b](https://github.com/argoproj/argo-workflows/commit/56f666e1bf69a7f5d8191637e8c7f384b91d98d0) Basic E2e tests.
  * [9eafb9dd5](https://github.com/argoproj/argo-workflows/commit/9eafb9dd59166e76804b71c8df19fdca453cdd28) Issue #547 - Support filtering by status in API GET /workflows (#550)
  * [37f41eb7b](https://github.com/argoproj/argo-workflows/commit/37f41eb7bf366cfe007d3ecce7b21f003d381e34) Update demo.md
  * [ea8d5c113](https://github.com/argoproj/argo-workflows/commit/ea8d5c113d9245f47fe7b3d3f45e7891aa5f50e8) Update README.md
@@ -4735,6 +4743,7 @@
  * [beeb65ddc](https://github.com/argoproj/argo-workflows/commit/beeb65ddcb7d2b5f8286f7881af1f5c00535161e) Don't mess the controller's arguments.
  * [01f5db5a0](https://github.com/argoproj/argo-workflows/commit/01f5db5a0c3dc48541577b9d8b1d815399728070) Parameterize Install() and related methods.
  * [85a2e2711](https://github.com/argoproj/argo-workflows/commit/85a2e2711beba8f2c891af396a3cc886c7b37542) Fix tests.
+ * [56f666e1b](https://github.com/argoproj/argo-workflows/commit/56f666e1bf69a7f5d8191637e8c7f384b91d98d0) Basic E2e tests.
  * [9eafb9dd5](https://github.com/argoproj/argo-workflows/commit/9eafb9dd59166e76804b71c8df19fdca453cdd28) Issue #547 - Support filtering by status in API GET /workflows (#550)
  * [37f41eb7b](https://github.com/argoproj/argo-workflows/commit/37f41eb7bf366cfe007d3ecce7b21f003d381e34) Update demo.md
  * [ea8d5c113](https://github.com/argoproj/argo-workflows/commit/ea8d5c113d9245f47fe7b3d3f45e7891aa5f50e8) Update README.md
diff --git a/hack/changelog.sh b/hack/changelog.sh
index caa0acf1121b..645dae9ff72d 100755
--- a/hack/changelog.sh
+++ b/hack/changelog.sh
@@ -10,7 +10,7 @@ git tag -l 'v*' | grep -v 0.0.0 | sed 's/-rc/~/' | sort -rV | sed 's/~/-rc/' | w
   if [ "$tag" != "" ]; then
     echo "## $tag ($(git log $tag -n1 --format=%as))"
     echo
-    git_log='git --no-pager log --no-merges --invert-grep --grep=\(build\|chore\|ci\|docs\|test\):'
+    git_log='git --no-pager log --no-merges --invert-grep --grep=^\(build\|chore\|ci\|docs\|test\):'
 	  $git_log --format=' * [%h](https://github.com/argoproj/argo-workflows/commit/%H) %s' $last..$tag
 	  echo
 	  echo "### Contributors"

From e2e822dd59e3ad62d978cdce0efa5ce7a4a273e2 Mon Sep 17 00:00:00 2001
From: Alex Collins <alexec@users.noreply.github.com>
Date: Mon, 9 Aug 2021 06:43:25 -0700
Subject: [PATCH 016/137] fix: Remove client private key from client auth REST
 config (#6506)

Signed-off-by: Alex Collins <alex_collins@intuit.com>
---
 test/e2e/argo_server_test.go  | 28 ++++++++++++-------
 util/kubeconfig/kubeconfig.go | 52 +++++++++++++++++++++++++++--------
 2 files changed, 59 insertions(+), 21 deletions(-)

diff --git a/test/e2e/argo_server_test.go b/test/e2e/argo_server_test.go
index 9b8ea119e4e9..9b45d976e0ef 100644
--- a/test/e2e/argo_server_test.go
+++ b/test/e2e/argo_server_test.go
@@ -33,6 +33,7 @@ const baseUrl = "http://localhost:2746"
 // testing behaviour really is a non-goal
 type ArgoServerSuite struct {
 	fixtures.E2ESuite
+	username    string
 	bearerToken string
 }
 
@@ -54,7 +55,9 @@ func (s *ArgoServerSuite) e() *httpexpect.Expect {
 			Client: httpClient,
 		}).
 		Builder(func(req *httpexpect.Request) {
-			if s.bearerToken != "" {
+			if s.username != "" {
+				req.WithBasicAuth(s.username, "garbage")
+			} else if s.bearerToken != "" {
 				req.WithHeader("Authorization", "Bearer "+s.bearerToken)
 			}
 		})
@@ -319,14 +322,21 @@ func (s *ArgoServerSuite) TestOauth() {
 }
 
 func (s *ArgoServerSuite) TestUnauthorized() {
-	s.T().Skip("K3S RBAC appears to be broken: https://github.com/k3s-io/k3s/issues/3756")
-
 	token := s.bearerToken
-	defer func() { s.bearerToken = token }()
-	s.bearerToken = "test-token"
-	s.e().GET("/api/v1/workflows/argo").
-		Expect().
-		Status(401)
+	s.T().Run("Bearer", func(t *testing.T) {
+		s.bearerToken = "test-token"
+		defer func() { s.bearerToken = token }()
+		s.e().GET("/api/v1/workflows/argo").
+			Expect().
+			Status(401)
+	})
+	s.T().Run("Basic", func(t *testing.T) {
+		s.username = "garbage"
+		defer func() { s.username = "" }()
+		s.e().GET("/api/v1/workflows/argo").
+			Expect().
+			Status(401)
+	})
 }
 
 func (s *ArgoServerSuite) TestCookieAuth() {
@@ -340,8 +350,6 @@ func (s *ArgoServerSuite) TestCookieAuth() {
 }
 
 func (s *ArgoServerSuite) TestPermission() {
-	s.T().Skip("K3S RBAC appears to be broken: https://github.com/k3s-io/k3s/issues/3756")
-
 	nsName := fixtures.Namespace
 	// Create good serviceaccount
 	goodSaName := "argotestgood"
diff --git a/util/kubeconfig/kubeconfig.go b/util/kubeconfig/kubeconfig.go
index e63ba30ce809..4d253809a9df 100644
--- a/util/kubeconfig/kubeconfig.go
+++ b/util/kubeconfig/kubeconfig.go
@@ -57,12 +57,10 @@ func GetRestConfig(token string) (*restclient.Config, error) {
 
 // convert a basic token (username, password) into a REST config
 func GetBasicRestConfig(username, password string) (*restclient.Config, error) {
-	restConfig, err := DefaultRestConfig()
+	restConfig, err := restConfigWithoutAuth()
 	if err != nil {
 		return nil, err
 	}
-	restConfig.BearerToken = ""
-	restConfig.BearerTokenFile = ""
 	restConfig.Username = username
 	restConfig.Password = password
 	return restConfig, nil
@@ -70,20 +68,52 @@ func GetBasicRestConfig(username, password string) (*restclient.Config, error) {
 
 // convert a bearer token into a REST config
 func GetBearerRestConfig(token string) (*restclient.Config, error) {
-	restConfig, err := DefaultRestConfig()
+	restConfig, err := restConfigWithoutAuth()
 	if err != nil {
 		return nil, err
 	}
-	restConfig.BearerToken = ""
-	restConfig.BearerTokenFile = ""
-	restConfig.Username = ""
-	restConfig.Password = ""
-	if token != "" {
-		restConfig.BearerToken = token
-	}
+	restConfig.BearerToken = token
 	return restConfig, nil
 }
 
+// populate everything except
+// - username
+// - password
+// - bearerToken
+// - client private key
+func restConfigWithoutAuth() (*restclient.Config, error) {
+	c, err := DefaultRestConfig()
+	if err != nil {
+		return nil, err
+	}
+	t := c.TLSClientConfig
+	return &restclient.Config{
+		Host:          c.Host,
+		APIPath:       c.APIPath,
+		ContentConfig: c.ContentConfig,
+		TLSClientConfig: restclient.TLSClientConfig{
+			Insecure:   t.Insecure,
+			ServerName: t.ServerName,
+			CertFile:   t.CertFile,
+			CAFile:     t.CAFile,
+			CertData:   t.CertData,
+			CAData:     t.CAData,
+			NextProtos: c.NextProtos,
+		},
+		UserAgent:          c.UserAgent,
+		DisableCompression: c.DisableCompression,
+		Transport:          c.Transport,
+		WrapTransport:      c.WrapTransport,
+		QPS:                c.QPS,
+		Burst:              c.Burst,
+		RateLimiter:        c.RateLimiter,
+		WarningHandler:     c.WarningHandler,
+		Timeout:            c.Timeout,
+		Dial:               c.Dial,
+		Proxy:              c.Proxy,
+	}, nil
+}
+
 // Return the AuthString include Auth type(Basic or Bearer)
 func GetAuthString(in *restclient.Config, explicitKubeConfigPath string) (string, error) {
 	// Checking Basic Auth

From 24bb1b77a1b5cd2f78251aca26d007c7d75b8993 Mon Sep 17 00:00:00 2001
From: "Yuan (Bob) Gong" <4957653+Bobgy@users.noreply.github.com>
Date: Mon, 9 Aug 2021 21:45:02 +0800
Subject: [PATCH 017/137] fix(executor/docker): re-revert -- fix random errors
 with message "No such container:path". Fixes #6352 (#6508)

* Revert "Revert "fix(executor/docker): fix random errors with message "No such container:path". Fixes #6352 (#6483)""

This reverts commit a3fd704a1715900f2144c0362e562f75f1524126.

Signed-off-by: Yuan Gong <gongyuan94@gmail.com>

* fix(executor/docker): handle corner cases for containers in "Created" state

Signed-off-by: Yuan Gong <gongyuan94@gmail.com>
---
 workflow/executor/docker/docker.go | 59 +++++++++++++++++++++++++++++-
 1 file changed, 58 insertions(+), 1 deletion(-)

diff --git a/workflow/executor/docker/docker.go b/workflow/executor/docker/docker.go
index 727693705e23..88f9c8d1c38b 100644
--- a/workflow/executor/docker/docker.go
+++ b/workflow/executor/docker/docker.go
@@ -212,15 +212,72 @@ func (d *DockerExecutor) Wait(ctx context.Context, containerNames []string) erro
 				if err != nil && strings.Contains(err.Error(), "No such container") {
 					// e.g. reason could be ContainerCannotRun
 					log.WithError(err).Info("ignoring error as container may have been re-created and therefore container ID may have changed")
+					time.Sleep(time.Second)
 					continue
 				}
-				return err
+				if err != nil {
+					return err
+				}
+				completed, err := d.validateCompleted(ctx, containerNames)
+				if err != nil {
+					return err
+				}
+				if completed {
+					// We waited until everything completed!
+					return nil
+				}
 			}
 			time.Sleep(time.Second)
 		}
 	}
 }
 
+// After docker wait, sometimes a container can still be in "Created" state.
+// https://github.com/argoproj/argo-workflows/issues/6352
+// To workaround this issue, validate containers actually completed.
+func (d *DockerExecutor) validateCompleted(ctx context.Context, containerNames []string) (bool, error) {
+	containers, err := d.listContainers()
+	if err != nil {
+		return false, err
+	}
+	for _, name := range containerNames {
+		container, ok := containers[name]
+		if !ok {
+			// ignore containers no longer found
+			continue
+		}
+		if container.status == "Created" {
+			// For containers with status == "Created", there are two
+			// possibilities:
+			// 1. the container will start running soon
+			// 2. the container failed to start, for example,
+			// because its entrypoint is set to an invalid path.
+			// You can reproduce this behavior by running:
+			// docker inspect $(docker run -d --entrypoint invalid argoproj/argosay:v2) | less
+			// In this case, we can distinguish the container by
+			// checking its exit code.
+			code, err := d.GetExitCode(ctx, container.containerID)
+			if err != nil {
+				return false, err
+			}
+			if code == "0" {
+				// If code is zero, it's case #1, the container
+				// will start soon.
+				log.Infof("unexpected: container %q still has state %q after docker wait", name, container.status)
+				return false, nil
+			} else {
+				// If code is non-zero, then it's case #2, the
+				// container failed to start, but its state is
+				// stuck at "Created".
+				// Therefore, we can treat this container as
+				// completed.
+				continue
+			}
+		}
+	}
+	return true, nil
+}
+
 func (d *DockerExecutor) listContainers() (map[string]ctr, error) {
 	output, err := common.RunCommand(
 		"docker",

From f886ff9749eb5b08dda8d9ad711ab0e69492615b Mon Sep 17 00:00:00 2001
From: wanghong230 <wanghong230@gmail.com>
Date: Mon, 9 Aug 2021 13:31:30 -0700
Subject: [PATCH 018/137] docs: Update the Auth doc default mode (#6514)

Signed-off-by: Hong Wang <wanghong230@gmail.com>
---
 docs/argo-server-auth-mode.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/docs/argo-server-auth-mode.md b/docs/argo-server-auth-mode.md
index 138725260957..3bfef7e9f493 100644
--- a/docs/argo-server-auth-mode.md
+++ b/docs/argo-server-auth-mode.md
@@ -6,7 +6,7 @@ You can choose which kube config the Argo Server uses:
 * "client" - requires clients to provide their Kubernetes bearer token and use that.
 * ["sso"](./argo-server-sso.md) - since v2.9, use single sign-on, this will use the same service account as per "server" for RBAC. We expect to change this in the future so that the OAuth claims are mapped to service accounts.
 
-By default, the server will start with auth mode of "server".
+By default, the server will start with auth mode of "client".
 
 To change the server auth mode specify the list as multiple auth-mode flags:
 ```

From 8b69ec452b9dc6acbb3baee25c04d28419254521 Mon Sep 17 00:00:00 2001
From: steve-marmalade <85196623+steve-marmalade@users.noreply.github.com>
Date: Mon, 9 Aug 2021 16:31:57 -0400
Subject: [PATCH 019/137] build: Fix changelog script to display the tag
 creation date (#6510)

Signed-off-by: Steve McClain <steve@marmalade.co>
---
 CHANGELOG.md      | 14 +++++++-------
 USERS.md          |  1 +
 hack/changelog.sh |  4 ++--
 3 files changed, 10 insertions(+), 9 deletions(-)

diff --git a/CHANGELOG.md b/CHANGELOG.md
index f9441c275a09..b98060f3c6d4 100644
--- a/CHANGELOG.md
+++ b/CHANGELOG.md
@@ -1,6 +1,6 @@
 # Changelog
 
-## v3.1.5 (2021-06-30)
+## v3.1.5 (2021-08-03)
 
  * [3dbee0ec3](https://github.com/argoproj/argo-workflows/commit/3dbee0ec368f3ea8c31f49c8b1a4617cc32bcce9) fix(executor): emissary - make argoexec executable from non-root containers. Fixes #6238 (#6247)
 
@@ -92,7 +92,7 @@
  * Simon Behar
  * Yuan Tang
 
-## v3.1.0 (2021-06-15)
+## v3.1.0 (2021-06-21)
 
  * [fad026e36](https://github.com/argoproj/argo-workflows/commit/fad026e367dd08b0217155c433f2f87c310506c5) fix(ui): Fix event-flow scrolling. Fixes #6133 (#6147)
  * [422f5f231](https://github.com/argoproj/argo-workflows/commit/422f5f23176d5ef75e58c5c33b744cf2d9ac38ca) fix(executor): Capture emissary main-logs. Fixes #6145 (#6146)
@@ -105,7 +105,7 @@
  * Alex Collins
  * Yuan Tang
 
-## v3.1.0-rc14 (2021-06-09)
+## v3.1.0-rc14 (2021-06-10)
 
  * [d385e6107](https://github.com/argoproj/argo-workflows/commit/d385e6107ab8d4ea4826bd6972608f8fbc86fbe5) fix(executor): Fix docker not terminating. Fixes #6064 (#6083)
  * [83da6deae](https://github.com/argoproj/argo-workflows/commit/83da6deae5eaaeca16e49edb584a0a46980239bb) feat(manifests): add 'app' label to workflow-controller-metrics service (#6079)
@@ -116,7 +116,7 @@
  * Alex Collins
  * Daan Seynaeve
 
-## v3.1.0-rc13 (2021-06-07)
+## v3.1.0-rc13 (2021-06-08)
 
  * [5d4947ccf](https://github.com/argoproj/argo-workflows/commit/5d4947ccf3051a14aa7ca260ea16cdffffc20e6f) chore(executor): Adjust resource JSON object log to debug level (#6100)
  * [0e37f6632](https://github.com/argoproj/argo-workflows/commit/0e37f6632576ffd5365c7f48d455bd9a9a0deefc) fix(executor): Improve artifact error messages. Fixes #6070 (#6086)
@@ -520,7 +520,7 @@
  * Saravanan Balasubramanian
  * dherman
 
-## v3.0.4 (2021-05-06)
+## v3.0.4 (2021-05-13)
 
  * [d7ebc548e](https://github.com/argoproj/argo-workflows/commit/d7ebc548e30cccc6b6bfc755f69145147dbe73f2) Update manifests to v3.0.4
  * [06744da67](https://github.com/argoproj/argo-workflows/commit/06744da6741dd9d8c6bfec3753bb1532f77e8a7b) fix(ui): Fix workflow summary page unscrollable issue (#5743)
@@ -3502,7 +3502,7 @@
  * Saravanan Balasubramanian
  * Simon Behar
 
-## v2.4.0 (2019-10-08)
+## v2.4.0 (2019-10-07)
 
  * [a65763142](https://github.com/argoproj/argo-workflows/commit/a65763142ecc2dbd3507f1da860f64220c535f5b) Fix child node template handling (#1654)
  * [982c7c559](https://github.com/argoproj/argo-workflows/commit/982c7c55994c87bab15fd71ef2a17bd905d63edd) Use stored templates to raggregate step outputs (#1651)
@@ -4195,7 +4195,7 @@
 ### Contributors
 
 
-## v2.1.0 (2018-04-30)
+## v2.1.0 (2018-04-29)
 
  * [937963818](https://github.com/argoproj/argo-workflows/commit/9379638189cc194f1b34ff7295f0832eac1c1651) Avoid `println` which outputs to stderr. (#844)
  * [30e472e94](https://github.com/argoproj/argo-workflows/commit/30e472e9495f264676c00875e4ba5ddfcc23e15f) Add gladly as an official argo user (#843)
diff --git a/USERS.md b/USERS.md
index 7de81b1d3abf..377167a2abcd 100644
--- a/USERS.md
+++ b/USERS.md
@@ -84,6 +84,7 @@ Currently, the following organizations are **officially** using Argo Workflows:
 1. [KintoHub](https://www.kintohub.com/)
 1. [Localytics](https://www.localytics.com/)
 1. [Maersk](https://www.maersk.com/solutions/digital-solutions)
+1. [Marmalade](https://www.marmalade.co/)
 1. [Max Kelsen](https://maxkelsen.com/)
 1. [Microba](https://www.microba.com/)
 1. [Microblink](https://microblink.com/)
diff --git a/hack/changelog.sh b/hack/changelog.sh
index 645dae9ff72d..e0b3584f167c 100755
--- a/hack/changelog.sh
+++ b/hack/changelog.sh
@@ -8,7 +8,7 @@ tag=
 # we skip v0.0.0 tags, so these can be used on branches without updating release notes
 git tag -l 'v*' | grep -v 0.0.0 | sed 's/-rc/~/' | sort -rV | sed 's/~/-rc/' | while read last; do
   if [ "$tag" != "" ]; then
-    echo "## $tag ($(git log $tag -n1 --format=%as))"
+    echo "## $(git for-each-ref --format='%(refname:strip=2) (%(creatordate:short))' refs/tags/${tag})"
     echo
     git_log='git --no-pager log --no-merges --invert-grep --grep=^\(build\|chore\|ci\|docs\|test\):'
 	  $git_log --format=' * [%h](https://github.com/argoproj/argo-workflows/commit/%H) %s' $last..$tag
@@ -19,4 +19,4 @@ git tag -l 'v*' | grep -v 0.0.0 | sed 's/-rc/~/' | sort -rV | sed 's/~/-rc/' | w
 	  echo
   fi
   tag=$last
-done
\ No newline at end of file
+done

From 5b8f7977a86a43061dca9ea916d32c02e23bd7f5 Mon Sep 17 00:00:00 2001
From: Sebastian Nyberg <seb.nyberg90@gmail.com>
Date: Mon, 9 Aug 2021 23:16:36 +0200
Subject: [PATCH 020/137] Add link to latest release in installation.md (#6509)

Signed-off-by: Sebastian Nyberg <sebastian.nyberg@securitas.com>
---
 USERS.md             | 1 +
 docs/installation.md | 2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

diff --git a/USERS.md b/USERS.md
index 377167a2abcd..47096d6a22ca 100644
--- a/USERS.md
+++ b/USERS.md
@@ -118,6 +118,7 @@ Currently, the following organizations are **officially** using Argo Workflows:
 1. [SAP Hybris](https://cx.sap.com/)
 1. [SAS](https://www.sas.com/)
 1. [Schlumberger](https://slb.com/)
+1. [Securitas](https://securitas.com/)
 1. [SegmentStream](https://segmentstream.com)
 1. [Sendible](https://sendible.com)
 1. [Sidecar Technologies](https://hello.getsidecar.com/)
diff --git a/docs/installation.md b/docs/installation.md
index ebc86486296b..9571f9a9cbb0 100644
--- a/docs/installation.md
+++ b/docs/installation.md
@@ -8,7 +8,7 @@ You can choose one of three common installations:
 
 ## Recommendations
 
-* Make sure you're using the manifests attached to the release.
+* Make sure you're using the manifests attached to each Github release. See [this link](https://github.com/argoproj/argo-workflows/releases/latest) for the most recent manifests.
 * Read the [upgrading guide](upgrading.md) before any major upgrade to be aware of breaking changes.
 * If you are using GitOps, copy the manifests into your repository, rather use `base` to reference them. Fewer issues
   regarding network loss, and you'll be able to check what has changed each time you upgrade.

From d1d96b0a6e8f045715b83a55f1aad056eb76bd96 Mon Sep 17 00:00:00 2001
From: Tetsuya Shiota <shioshiota@users.noreply.github.com>
Date: Tue, 10 Aug 2021 06:24:32 +0900
Subject: [PATCH 021/137] feat(ui): use dl tag instead of p tag in user-info ui
 (#6505)

Signed-off-by: Tetsuya Shiota <tetsuya.shiota.1231@gmail.com>
---
 ui/src/app/userinfo/components/user-info.tsx | 30 ++++++++++++++++----
 1 file changed, 24 insertions(+), 6 deletions(-)

diff --git a/ui/src/app/userinfo/components/user-info.tsx b/ui/src/app/userinfo/components/user-info.tsx
index 9340eaddd55b..8d83f012eea8 100644
--- a/ui/src/app/userinfo/components/user-info.tsx
+++ b/ui/src/app/userinfo/components/user-info.tsx
@@ -37,12 +37,30 @@ export class UserInfo extends BasePage<RouteComponentProps<any>, State> {
                     </h3>
                     {this.state.userInfo && (
                         <>
-                            <p>Issuer: {this.state.userInfo.issuer || '-'}</p>
-                            <p>Subject: {this.state.userInfo.subject || '-'}</p>
-                            <p>Groups: {(this.state.userInfo.groups && this.state.userInfo.groups.length > 0 && this.state.userInfo.groups.join(', ')) || '-'}</p>
-                            <p>Email: {this.state.userInfo.email || '-'}</p>
-                            <p>Email Verified: {this.state.userInfo.emailVerified || '-'}</p>
-                            <p>Service Account: {this.state.userInfo.serviceAccountName || '-'}</p>
+                            <dl>
+                                <dt>Issuer:</dt>
+                                <dd>{this.state.userInfo.issuer || '-'}</dd>
+                            </dl>
+                            <dl>
+                                <dt>Subject:</dt>
+                                <dd>{this.state.userInfo.subject || '-'}</dd>
+                            </dl>
+                            <dl>
+                                <dt>Groups:</dt>
+                                <dd>{(this.state.userInfo.groups && this.state.userInfo.groups.length > 0 && this.state.userInfo.groups.join(', ')) || '-'}</dd>
+                            </dl>
+                            <dl>
+                                <dt>Email:</dt>
+                                <dd>{this.state.userInfo.email || '-'}</dd>
+                            </dl>
+                            <dl>
+                                <dt>Email Verified:</dt>
+                                <dd>{this.state.userInfo.emailVerified || '-'}</dd>
+                            </dl>
+                            <dl>
+                                <dt>Service Account:</dt>
+                                <dd>{this.state.userInfo.serviceAccountName || '-'}</dd>
+                            </dl>
                         </>
                     )}
                     <a className='argo-button argo-button--base-o' href={uiUrl('login')}>

From 3d5ac9b2be71937e86eee1d71a4eefa294b27293 Mon Sep 17 00:00:00 2001
From: William Van Hevelingen <William.VanHevelingen@acquia.com>
Date: Mon, 9 Aug 2021 15:57:04 -0700
Subject: [PATCH 022/137] fix(controller): Fix panic in addParamToGlobalScope
 (#6485)

* bug: Fix workflow controller panic in addParamToGlobalScope

fixes #6478

Signed-off-by: William Van Hevelingen <william.vanhevelingen@acquia.com>

* Add test coverage

Signed-off-by: William Van Hevelingen <william.vanhevelingen@acquia.com>

* Add assertion to the test

Signed-off-by: William Van Hevelingen <william.vanhevelingen@acquia.com>

* Rerun tests

Signed-off-by: William Van Hevelingen <william.vanhevelingen@acquia.com>

* lint

Signed-off-by: William Van Hevelingen <william.vanhevelingen@acquia.com>

Co-authored-by: Saravanan Balasubramanian <33908564+sarabala1979@users.noreply.github.com>
---
 workflow/util/util.go      |  2 +-
 workflow/util/util_test.go | 25 +++++++++++++++++++++++++
 2 files changed, 26 insertions(+), 1 deletion(-)

diff --git a/workflow/util/util.go b/workflow/util/util.go
index 51be4cb90fa0..be5dc4db6e85 100644
--- a/workflow/util/util.go
+++ b/workflow/util/util.go
@@ -475,7 +475,7 @@ func AddParamToGlobalScope(wf *wfv1.Workflow, log *log.Entry, param wfv1.Paramet
 		wfUpdated = true
 	} else {
 		prevVal := wf.Status.Outputs.Parameters[index].Value
-		if prevVal == nil || *prevVal != *param.Value {
+		if prevVal == nil || (param.Value != nil && *prevVal != *param.Value) {
 			log.Infof("overwriting %s: '%s' -> '%s'", paramName, wf.Status.Outputs.Parameters[index].Value, param.Value)
 			wf.Status.Outputs.Parameters[index].Value = param.Value
 			wfUpdated = true
diff --git a/workflow/util/util_test.go b/workflow/util/util_test.go
index abfb116b3a4b..969daa48a911 100644
--- a/workflow/util/util_test.go
+++ b/workflow/util/util_test.go
@@ -322,6 +322,31 @@ func TestStopWorkflowByNodeName(t *testing.T) {
 	assert.Equal(t, wfv1.NodeFailed, wf.Status.Nodes.FindByDisplayName("approve").Phase)
 }
 
+// Regression test for #6478
+func TestAddParamToGlobalScopeValueNil(t *testing.T) {
+	paramValue := wfv1.AnyString("test")
+	wf := wfv1.Workflow{
+		Status: wfv1.WorkflowStatus{
+			Outputs: &wfv1.Outputs{
+				Parameters: []wfv1.Parameter{
+					{
+						Name:       "test",
+						Value:      &paramValue,
+						GlobalName: "global_output_param",
+					},
+				},
+			},
+		},
+	}
+
+	p := AddParamToGlobalScope(&wf, nil, wfv1.Parameter{
+		Name:       "test",
+		Value:      nil,
+		GlobalName: "test",
+	})
+	assert.False(t, p)
+}
+
 var susWorkflow = `
 apiVersion: argoproj.io/v1alpha1
 kind: Workflow

From 32970f4cd15923b62d750863c28270bc283071b6 Mon Sep 17 00:00:00 2001
From: Tetsuya Shiota <shioshiota@users.noreply.github.com>
Date: Tue, 10 Aug 2021 14:24:11 +0900
Subject: [PATCH 023/137] fix: PROFILE=SSO to PROFILE=sso for case-sensitive
 filesystem (#6502)

Signed-off-by: Tetsuya Shiota <tetsuya.shiota.1231@gmail.com>
---
 docs/running-locally.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/docs/running-locally.md b/docs/running-locally.md
index 6f2466eda3ae..a675b56bb128 100644
--- a/docs/running-locally.md
+++ b/docs/running-locally.md
@@ -67,7 +67,7 @@ For testing SSO integration, you can start a Argo with sso profile which will de
 a pre-configured dex instance in argo namespace
 
 ```sh
-make start PROFILE=SSO
+make start PROFILE=sso
 ```
 
 ## Troubleshooting Notes

From 7648585b513fc4d50f720b424e766a89cf9aa711 Mon Sep 17 00:00:00 2001
From: Ivan Karol <ikarol@gomel.iba.by>
Date: Tue, 10 Aug 2021 17:01:53 +0300
Subject: [PATCH 024/137] docs: Update argo-server-auth-mode.md (#6487)

Signed-off-by: Ivan Karol <ikarol@gomel.iba.by>
---
 docs/argo-server-auth-mode.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/docs/argo-server-auth-mode.md b/docs/argo-server-auth-mode.md
index 3bfef7e9f493..4ee302c2cb32 100644
--- a/docs/argo-server-auth-mode.md
+++ b/docs/argo-server-auth-mode.md
@@ -6,7 +6,7 @@ You can choose which kube config the Argo Server uses:
 * "client" - requires clients to provide their Kubernetes bearer token and use that.
 * ["sso"](./argo-server-sso.md) - since v2.9, use single sign-on, this will use the same service account as per "server" for RBAC. We expect to change this in the future so that the OAuth claims are mapped to service accounts.
 
-By default, the server will start with auth mode of "client".
+The server used to start with auth mode of "server" by default, but since v3.0 it defaults to the "client".
 
 To change the server auth mode specify the list as multiple auth-mode flags:
 ```

From 863d22631a99b2984e4bbc223e15578f2fd458fa Mon Sep 17 00:00:00 2001
From: Alex Collins <alexec@users.noreply.github.com>
Date: Tue, 10 Aug 2021 11:46:34 -0700
Subject: [PATCH 025/137] docs: update PR template

---
 .github/pull_request_template.md | 7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

diff --git a/.github/pull_request_template.md b/.github/pull_request_template.md
index 4ed65e7d2875..56e93483c234 100644
--- a/.github/pull_request_template.md
+++ b/.github/pull_request_template.md
@@ -1,10 +1,9 @@
-Checklist:
-
-* [ ] My organization is added to [USERS.md](https://github.com/argoproj/argo-workflows/blob/master/USERS.md).
-
 Tips:
 
+* Maybe add you organization to [USERS.md](https://github.com/argoproj/argo-workflows/blob/master/USERS.md).
 * Your PR needs to pass the required checks before it can be approved. If the check is not required (e.g. E2E tests) it does not need to pass
 * Sign-off your commits to pass the DCO check: `git commit --signoff`.
 * Run `make pre-commit -B` to fix codegen or lint problems. 
 * Say how how you tested your changes. If you changed the UI, attach screenshots.
+* If changes were requested, and you've made them, then dismis the review to get it looked at again.
+* You can ask for help! 

From 0670f652cd7ca5500aa77c682bb8b380bb4c79d3 Mon Sep 17 00:00:00 2001
From: Saravanan Balasubramanian
 <33908564+sarabala1979@users.noreply.github.com>
Date: Tue, 10 Aug 2021 14:05:30 -0700
Subject: [PATCH 026/137] fix(controller): fix tasket warning in Non-HTTP
 Template scanerio (#6518)

Signed-off-by: Saravanan Balasubramanian <sarabala1979@gmail.com>
---
 pkg/apis/workflow/v1alpha1/workflow_types.go  |  9 +++++++
 .../workflow/v1alpha1/workflow_types_test.go  | 21 ++++++++++++++++
 workflow/controller/taskset.go                | 11 +++++---
 workflow/controller/taskset_test.go           | 25 ++++++++++++++++++-
 4 files changed, 62 insertions(+), 4 deletions(-)

diff --git a/pkg/apis/workflow/v1alpha1/workflow_types.go b/pkg/apis/workflow/v1alpha1/workflow_types.go
index 81aeecbdd182..ba01dfde0b89 100644
--- a/pkg/apis/workflow/v1alpha1/workflow_types.go
+++ b/pkg/apis/workflow/v1alpha1/workflow_types.go
@@ -1351,6 +1351,15 @@ func (n Nodes) Find(f func(NodeStatus) bool) *NodeStatus {
 	return nil
 }
 
+func (n Nodes) HasHTTPNodes() bool {
+	for _, i := range n {
+		if i.Type == NodeTypeHTTP {
+			return true
+		}
+	}
+	return false
+}
+
 func NodeWithDisplayName(name string) func(n NodeStatus) bool {
 	return func(n NodeStatus) bool { return n.DisplayName == name }
 }
diff --git a/pkg/apis/workflow/v1alpha1/workflow_types_test.go b/pkg/apis/workflow/v1alpha1/workflow_types_test.go
index 2d715acace51..d2a2df207b2e 100644
--- a/pkg/apis/workflow/v1alpha1/workflow_types_test.go
+++ b/pkg/apis/workflow/v1alpha1/workflow_types_test.go
@@ -955,3 +955,24 @@ func TestTemplateGetType(t *testing.T) {
 	tmpl := Template{HTTP: &HTTP{}}
 	assert.Equal(t, TemplateTypeHTTP, tmpl.GetType())
 }
+
+func TestHasHTTPNodes(t *testing.T) {
+	nodes := Nodes{
+		"test": {
+			Type: NodeTypeHTTP,
+		},
+		"test1": {
+			Type: NodeTypeContainer,
+		},
+	}
+	assert.True(t, nodes.HasHTTPNodes())
+	nodes = Nodes{
+		"test": {
+			Type: NodeTypeSteps,
+		},
+		"test1": {
+			Type: NodeTypeContainer,
+		},
+	}
+	assert.False(t, nodes.HasHTTPNodes())
+}
diff --git a/workflow/controller/taskset.go b/workflow/controller/taskset.go
index f31c112356a3..0def937824bd 100644
--- a/workflow/controller/taskset.go
+++ b/workflow/controller/taskset.go
@@ -49,11 +49,16 @@ func (woc *wfOperationCtx) getDeleteTaskAndNodePatch() map[string]interface{} {
 }
 
 func (woc *wfOperationCtx) removeCompletedTaskSetStatus(ctx context.Context) error {
-
+	if !woc.wf.Status.Nodes.HasHTTPNodes() {
+		return nil
+	}
 	return woc.patchTaskSet(ctx, woc.getDeleteTaskAndNodePatch(), types.MergePatchType)
 }
 
 func (woc *wfOperationCtx) completeTaskSet(ctx context.Context) error {
+	if !woc.wf.Status.Nodes.HasHTTPNodes() {
+		return nil
+	}
 	patch := woc.getDeleteTaskAndNodePatch()
 	patch["metadata"] = metav1.ObjectMeta{
 		Labels: map[string]string{
@@ -93,10 +98,10 @@ func (woc *wfOperationCtx) taskSetReconciliation(ctx context.Context) error {
 			woc.updated = true
 		}
 	}
-	return woc.CreateTaskSet(ctx)
+	return woc.createTaskSet(ctx)
 }
 
-func (woc *wfOperationCtx) CreateTaskSet(ctx context.Context) error {
+func (woc *wfOperationCtx) createTaskSet(ctx context.Context) error {
 	if len(woc.taskSet) == 0 {
 		return nil
 	}
diff --git a/workflow/controller/taskset_test.go b/workflow/controller/taskset_test.go
index 330cdbce0c35..4105492adfcd 100644
--- a/workflow/controller/taskset_test.go
+++ b/workflow/controller/taskset_test.go
@@ -288,7 +288,7 @@ status:
       phase: Failed
 
     `, &ts)
-	t.Run("", func(t *testing.T) {
+	t.Run("RemoveCompletedTaskSetStatus", func(t *testing.T) {
 		cancel, controller := newController(wf, ts)
 		defer cancel()
 		_, err := controller.wfclientset.ArgoprojV1alpha1().WorkflowTaskSets("default").Create(ctx, &ts, v1.CreateOptions{})
@@ -311,3 +311,26 @@ status:
 
 	})
 }
+
+func TestNonHTTPTemplateScenario(t *testing.T) {
+	cancel, controller := newController()
+	defer cancel()
+	wf := wfv1.MustUnmarshalWorkflow(helloWorldWf)
+	woc := newWorkflowOperationCtx(wf, controller)
+	ctx := context.Background()
+	t.Run("taskSetReconciliation", func(t *testing.T) {
+		woc.operate(ctx)
+		err := woc.taskSetReconciliation(ctx)
+		assert.NoError(t, err)
+	})
+	t.Run("completeTaskSet", func(t *testing.T) {
+		woc.operate(ctx)
+		err := woc.completeTaskSet(ctx)
+		assert.NoError(t, err)
+	})
+	t.Run("removeCompletedTaskSetStatus", func(t *testing.T) {
+		woc.operate(ctx)
+		err := woc.removeCompletedTaskSetStatus(ctx)
+		assert.NoError(t, err)
+	})
+}

From a38460342472b0515017d5a2ab2cbc6536b5592e Mon Sep 17 00:00:00 2001
From: Alex Collins <alexec@users.noreply.github.com>
Date: Wed, 11 Aug 2021 08:57:41 -0700
Subject: [PATCH 027/137] fix: Upgrade pkg to v0.10.1. Fixes #6521 (#6523)

Signed-off-by: Alex Collins <alex_collins@intuit.com>
---
 go.mod                 | 2 +-
 go.sum                 | 4 ++--
 server/auth/sso/sso.go | 7 ++++++-
 3 files changed, 9 insertions(+), 4 deletions(-)

diff --git a/go.mod b/go.mod
index d88d3a24643d..f416e5096f5f 100644
--- a/go.mod
+++ b/go.mod
@@ -12,7 +12,7 @@ require (
 	github.com/aliyun/aliyun-oss-go-sdk v2.1.8+incompatible
 	github.com/antonmedv/expr v1.8.8
 	github.com/argoproj/argo-events v1.4.0
-	github.com/argoproj/pkg v0.9.1
+	github.com/argoproj/pkg v0.10.1
 	github.com/baiyubin/aliyun-sts-go-sdk v0.0.0-20180326062324-cfa1a18b161f // indirect
 	github.com/blushft/go-diagrams v0.0.0-20201006005127-c78c821223d9
 	github.com/colinmarc/hdfs v1.1.4-0.20180805212432-9746310a4d31
diff --git a/go.sum b/go.sum
index ff9eba297bfd..cc40c7c40906 100644
--- a/go.sum
+++ b/go.sum
@@ -147,8 +147,8 @@ github.com/ardielle/ardielle-tools v1.5.4/go.mod h1:oZN+JRMnqGiIhrzkRN9l26Cej9dE
 github.com/argoproj/argo-events v1.4.0 h1:RIzAOomP/4rnv3X6KIDKzXZJ56JKFxSYmksoE98ILWI=
 github.com/argoproj/argo-events v1.4.0/go.mod h1:wI5A0U3Wj9ZvfPn3ioL18Dz29+7aibtlyU9pS0Ry+bg=
 github.com/argoproj/pkg v0.9.0/go.mod h1:ra+bQPmbVAoEL+gYSKesuigt4m49i3Qa3mE/xQcjCiA=
-github.com/argoproj/pkg v0.9.1 h1:osfOS3QkzfRf+W43lbCZb0o0bzrBweQhL+U3rgEg+5M=
-github.com/argoproj/pkg v0.9.1/go.mod h1:ra+bQPmbVAoEL+gYSKesuigt4m49i3Qa3mE/xQcjCiA=
+github.com/argoproj/pkg v0.10.1 h1:B7y7IqEFKNaNGg82U0COeVe/V5uj4Dum027yFe5DxRU=
+github.com/argoproj/pkg v0.10.1/go.mod h1:ra+bQPmbVAoEL+gYSKesuigt4m49i3Qa3mE/xQcjCiA=
 github.com/armon/circbuf v0.0.0-20150827004946-bbbad097214e/go.mod h1:3U/XgcO3hCbHZ8TKRvWD2dDTCfh9M9ya+I9JpbB7O8o=
 github.com/armon/consul-api v0.0.0-20180202201655-eb2c6b5be1b6/go.mod h1:grANhF5doyWs3UAsr3K4I6qtAmlQcZDesFNEHPZAzj8=
 github.com/armon/go-metrics v0.0.0-20180917152333-f0300d1749da/go.mod h1:Q73ZrmVTwzkszR9V5SSuryQ31EELlFMUz1kKyl939pY=
diff --git a/server/auth/sso/sso.go b/server/auth/sso/sso.go
index 66cdcc78ba95..ef01455f6821 100644
--- a/server/auth/sso/sso.go
+++ b/server/auth/sso/sso.go
@@ -193,7 +193,12 @@ func newSso(
 
 func (s *sso) HandleRedirect(w http.ResponseWriter, r *http.Request) {
 	redirectUrl := r.URL.Query().Get("redirect")
-	state := pkgrand.RandString(10)
+	state, err := pkgrand.RandString(10)
+	if err != nil {
+		log.WithError(err).Error("failed to create state")
+		w.WriteHeader(500)
+		return
+	}
 	http.SetCookie(w, &http.Cookie{
 		Name:     state,
 		Value:    redirectUrl,

From 903ce68ffa01400a7b57b2604091482a27ca64d4 Mon Sep 17 00:00:00 2001
From: Saravanan Balasubramanian
 <33908564+sarabala1979@users.noreply.github.com>
Date: Wed, 11 Aug 2021 09:35:32 -0700
Subject: [PATCH 028/137] fix: Fix the Status update for node with
 synchronization lock (#6525)

* fix: Fix the Status update for node with synchronization lock

Signed-off-by: Saravanan Balasubramanian <sarabala1979@gmail.com>

* update

Signed-off-by: Saravanan Balasubramanian <sarabala1979@gmail.com>
---
 workflow/controller/operator.go               |  2 +-
 .../controller/operator_concurrency_test.go   | 73 +++++++++++++++++++
 2 files changed, 74 insertions(+), 1 deletion(-)

diff --git a/workflow/controller/operator.go b/workflow/controller/operator.go
index ba230a6eeda2..2a0401fb0936 100644
--- a/workflow/controller/operator.go
+++ b/workflow/controller/operator.go
@@ -1731,7 +1731,7 @@ func (woc *wfOperationCtx) executeTemplate(ctx context.Context, nodeName string,
 			}
 		}
 
-		woc.updated = wfUpdated
+		woc.updated = woc.updated || wfUpdated
 	}
 	// If the user has specified retries, node becomes a special retry node.
 	// This node acts as a parent of all retries that will be done for
diff --git a/workflow/controller/operator_concurrency_test.go b/workflow/controller/operator_concurrency_test.go
index 7495c5da8412..7a4c6f300d1f 100644
--- a/workflow/controller/operator_concurrency_test.go
+++ b/workflow/controller/operator_concurrency_test.go
@@ -687,3 +687,76 @@ func TestSynchronizationWithStep(t *testing.T) {
 		assert.Len(woc1.wf.Status.Synchronization.Semaphore.Holding, 1)
 	})
 }
+
+const wfWithStepRetry = `apiVersion: argoproj.io/v1alpha1
+kind: Workflow
+metadata:
+  generateName: my-workflow-
+spec:
+  entrypoint: step-entry
+  templates:
+    - name: step-entry
+      steps:
+      - - name: step1
+          template: sleep
+
+    - name: sleep
+      retryStrategy:
+        limit: 5
+        retryPolicy: Always
+      synchronization:
+        semaphore:
+          configMapKeyRef:
+            name: my-config
+            key: template
+      container:
+        image: alpine:3.6
+        command: [sh, -c]
+        args: ["sleep 300"]`
+
+func TestSynchronizationWithStepRetry(t *testing.T) {
+	assert := assert.New(t)
+	cancel, controller := newController()
+	defer cancel()
+	ctx := context.Background()
+	controller.syncManager = sync.NewLockManager(GetSyncLimitFunc(ctx, controller.kubeclientset), func(key string) {
+	}, workflowExistenceFunc)
+	var cm v1.ConfigMap
+	wfv1.MustUnmarshal([]byte(configMap), &cm)
+	_, err := controller.kubeclientset.CoreV1().ConfigMaps("default").Create(ctx, &cm, metav1.CreateOptions{})
+	assert.NoError(err)
+
+	t.Run("StepRetryWithSynchronization", func(t *testing.T) {
+		// First workflow Acquire the lock
+		wf := wfv1.MustUnmarshalWorkflow(wfWithStepRetry)
+		wf, err := controller.wfclientset.ArgoprojV1alpha1().Workflows("default").Create(ctx, wf, metav1.CreateOptions{})
+		assert.NoError(err)
+		woc := newWorkflowOperationCtx(wf, controller)
+		woc.operate(ctx)
+		for _, n := range woc.wf.Status.Nodes {
+			if n.Name == "[0].step1(0)" {
+				assert.Equal(n.Phase, wfv1.NodePending)
+			}
+		}
+		// Updating Pod state
+		makePodsPhase(ctx, woc, v1.PodRunning)
+
+		woc.operate(ctx)
+		for _, n := range woc.wf.Status.Nodes {
+			if n.Name == "[0].step1(0)" {
+				assert.Equal(n.Phase, wfv1.NodeRunning)
+			}
+		}
+		makePodsPhase(ctx, woc, v1.PodFailed)
+		woc.operate(ctx)
+		for _, n := range woc.wf.Status.Nodes {
+			if n.Name == "[0].step1(0)" {
+				assert.Equal(n.Phase, wfv1.NodeFailed)
+			}
+			if n.Name == "[0].step1(1)" {
+				assert.Equal(n.Phase, wfv1.NodePending)
+			}
+		}
+	})
+
+}

From 047ae4f5e6d93e4e2c84d8af1f4df4d68a69bb75 Mon Sep 17 00:00:00 2001
From: Miles Croxford <hello@milescroxford.com>
Date: Wed, 11 Aug 2021 20:08:30 +0100
Subject: [PATCH 029/137] docs(users): add arabesque (#6533)

Signed-off-by: Miles Croxford <hello@milescroxford.com>
---
 USERS.md | 1 +
 1 file changed, 1 insertion(+)

diff --git a/USERS.md b/USERS.md
index 47096d6a22ca..c0b65edf3438 100644
--- a/USERS.md
+++ b/USERS.md
@@ -21,6 +21,7 @@ Currently, the following organizations are **officially** using Argo Workflows:
 1. [Alibaba Group](https://www.alibabagroup.com/)
 1. [Ant Group](https://www.antgroup.com/)
 1. [AppDirect](https://www.appdirect.com/)
+1. [Arabesque](https://www.arabesque.com/)
 1. [Astraea](https://astraea.earth/)
 1. [BasisAI](https://basis-ai.com/)
 1. [BEI.RE](https://www.bei.re/)

From 333df2b1f53d16c28e97fa863fb4244e7eb2fadb Mon Sep 17 00:00:00 2001
From: Henrik Blixt <hblixt@users.noreply.github.com>
Date: Wed, 11 Aug 2021 15:18:01 -0700
Subject: [PATCH 030/137] docs: TOB-ARGO-TM16: Update Quickstart guide (#6515)

Signed-off-by: Henrik Blixt <henrikblixt@gmail.com>
---
 docs/quick-start.md | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/docs/quick-start.md b/docs/quick-start.md
index 4650a1370b15..0ade1f96d149 100644
--- a/docs/quick-start.md
+++ b/docs/quick-start.md
@@ -8,6 +8,9 @@ Firstly, you'll need a Kubernetes cluster and `kubectl` set-up
 
 To get started quickly, you can use the quick start manifest which will install Argo Workflow as well as some commonly used components:
 
+!!! note
+These manifests are intended to help you get started quickly. They are not suitable in production, on test environments, or any environment containing any real data. They contain hard-coded passwords that are publicly available.
+
 ```sh
 kubectl create ns argo
 kubectl apply -n argo -f https://raw.githubusercontent.com/argoproj/argo-workflows/master/manifests/quick-start-postgres.yaml

From dc4f0a172d6992cd34749d858bb0c402172c8eef Mon Sep 17 00:00:00 2001
From: Ed Marks <63232030+Marks-Ed@users.noreply.github.com>
Date: Wed, 11 Aug 2021 23:18:20 +0100
Subject: [PATCH 031/137] fix: use execWf when setting PodMetadata (#6512)

Signed-off-by: Ed Marks <edwardmarks@bulb.co.uk>
---
 workflow/controller/workflowpod.go      |  6 +--
 workflow/controller/workflowpod_test.go | 56 +++++++++++++++++++++++++
 2 files changed, 59 insertions(+), 3 deletions(-)

diff --git a/workflow/controller/workflowpod.go b/workflow/controller/workflowpod.go
index fb368cead363..34d432139cde 100644
--- a/workflow/controller/workflowpod.go
+++ b/workflow/controller/workflowpod.go
@@ -696,12 +696,12 @@ func isResourcesSpecified(ctr *apiv1.Container) bool {
 
 // addMetadata applies metadata specified in the template
 func (woc *wfOperationCtx) addMetadata(pod *apiv1.Pod, tmpl *wfv1.Template) {
-	if woc.wf.Spec.PodMetadata != nil {
+	if woc.execWf.Spec.PodMetadata != nil {
 		// add workflow-level pod annotations and labels
-		for k, v := range woc.wf.Spec.PodMetadata.Annotations {
+		for k, v := range woc.execWf.Spec.PodMetadata.Annotations {
 			pod.ObjectMeta.Annotations[k] = v
 		}
-		for k, v := range woc.wf.Spec.PodMetadata.Labels {
+		for k, v := range woc.execWf.Spec.PodMetadata.Labels {
 			pod.ObjectMeta.Labels[k] = v
 		}
 	}
diff --git a/workflow/controller/workflowpod_test.go b/workflow/controller/workflowpod_test.go
index a17df168684b..4740fcd7d922 100644
--- a/workflow/controller/workflowpod_test.go
+++ b/workflow/controller/workflowpod_test.go
@@ -1513,3 +1513,59 @@ func TestGetDeadline(t *testing.T) {
 	deadline, _ = getPodDeadline(pod)
 	assert.Equal(t, executionDeadline.Format(time.RFC3339), deadline.Format(time.RFC3339))
 }
+
+func TestPodMetadataWithWorkflowDefaults(t *testing.T) {
+	cancel, controller := newController()
+	defer cancel()
+
+	wfDefaultAnnotations := make(map[string]string)
+	wfDefaultAnnotations["controller-level-pod-annotation"] = "annotation-value"
+	wfDefaultAnnotations["workflow-level-pod-annotation"] = "set-by-controller"
+	wfDefaultLabels := make(map[string]string)
+	wfDefaultLabels["controller-level-pod-label"] = "label-value"
+	wfDefaultLabels["workflow-level-pod-label"] = "set-by-controller"
+	controller.Config.WorkflowDefaults = &wfv1.Workflow{
+		Spec: wfv1.WorkflowSpec{
+			PodMetadata: &wfv1.Metadata{
+				Annotations: wfDefaultAnnotations,
+				Labels:      wfDefaultLabels,
+			},
+		},
+	}
+
+	wf := wfv1.MustUnmarshalWorkflow(helloWorldWf)
+	ctx := context.Background()
+	woc := newWorkflowOperationCtx(wf, controller)
+	err := woc.setExecWorkflow(ctx)
+	assert.NoError(t, err)
+	mainCtr := woc.execWf.Spec.Templates[0].Container
+	pod, _ := woc.createWorkflowPod(ctx, wf.Name, []apiv1.Container{*mainCtr}, &wf.Spec.Templates[0], &createWorkflowPodOpts{})
+	assert.Equal(t, "annotation-value", pod.ObjectMeta.Annotations["controller-level-pod-annotation"])
+	assert.Equal(t, "set-by-controller", pod.ObjectMeta.Annotations["workflow-level-pod-annotation"])
+	assert.Equal(t, "label-value", pod.ObjectMeta.Labels["controller-level-pod-label"])
+	assert.Equal(t, "set-by-controller", pod.ObjectMeta.Labels["workflow-level-pod-label"])
+	cancel() // need to cancel to spin up pods with the same name
+
+	cancel, controller = newController()
+	defer cancel()
+	controller.Config.WorkflowDefaults = &wfv1.Workflow{
+		Spec: wfv1.WorkflowSpec{
+			PodMetadata: &wfv1.Metadata{
+				Annotations: wfDefaultAnnotations,
+				Labels:      wfDefaultLabels,
+			},
+		},
+	}
+	wf = wfv1.MustUnmarshalWorkflow(wfWithPodMetadata)
+	ctx = context.Background()
+	woc = newWorkflowOperationCtx(wf, controller)
+	err = woc.setExecWorkflow(ctx)
+	assert.NoError(t, err)
+	mainCtr = woc.execWf.Spec.Templates[0].Container
+	pod, _ = woc.createWorkflowPod(ctx, wf.Name, []apiv1.Container{*mainCtr}, &wf.Spec.Templates[0], &createWorkflowPodOpts{})
+	assert.Equal(t, "foo", pod.ObjectMeta.Annotations["workflow-level-pod-annotation"])
+	assert.Equal(t, "bar", pod.ObjectMeta.Labels["workflow-level-pod-label"])
+	assert.Equal(t, "annotation-value", pod.ObjectMeta.Annotations["controller-level-pod-annotation"])
+	assert.Equal(t, "label-value", pod.ObjectMeta.Labels["controller-level-pod-label"])
+	cancel()
+}

From 88520891a0376ec43760b317fbc4f453a00a8d3e Mon Sep 17 00:00:00 2001
From: "github-actions[bot]"
 <41898282+github-actions[bot]@users.noreply.github.com>
Date: Wed, 11 Aug 2021 15:18:40 -0700
Subject: [PATCH 032/137] docs: updated CHANGELOG.md (#6524)

Signed-off-by: GitHub <noreply@github.com>

Co-authored-by: alexec <alexec@users.noreply.github.com>
---
 CHANGELOG.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/CHANGELOG.md b/CHANGELOG.md
index b98060f3c6d4..e47c42bf3edb 100644
--- a/CHANGELOG.md
+++ b/CHANGELOG.md
@@ -452,8 +452,8 @@
  * Reijer Copier
  * Riccardo Piccoli
  * Roi Kramer
- * Safane FARFAR
  * Saravanan Balasubramanian
+ * Safane FARFAR
  * Shoubhik Bose
  * Simon Behar
  * Stephan van Maris

From 702736a290bc481e257d252914b646510001e77a Mon Sep 17 00:00:00 2001
From: "github-actions[bot]"
 <41898282+github-actions[bot]@users.noreply.github.com>
Date: Fri, 13 Aug 2021 08:21:49 -0700
Subject: [PATCH 033/137] docs: updated CHANGELOG.md (#6538)

Signed-off-by: GitHub <noreply@github.com>

Co-authored-by: sarabala1979 <sarabala1979@users.noreply.github.com>
---
 CHANGELOG.md | 26 ++++++++++++++++++++++++++
 1 file changed, 26 insertions(+)

diff --git a/CHANGELOG.md b/CHANGELOG.md
index e47c42bf3edb..e9759119e2d2 100644
--- a/CHANGELOG.md
+++ b/CHANGELOG.md
@@ -1,5 +1,31 @@
 # Changelog
 
+## v3.1.6 (2021-08-12)
+
+ * [14e127857](https://github.com/argoproj/argo-workflows/commit/14e1278572b28d8b1854858ce7de355ce60199c9) ci-build.yaml-with-master-change
+ * [c0ac267ab](https://github.com/argoproj/argo-workflows/commit/c0ac267ab50ba8face0cc14eef0563dddd3f16f6) ci-build.yaml
+ * [c87ce923b](https://github.com/argoproj/argo-workflows/commit/c87ce923bfd6723f91213696c4ee3af5f210cdb8) Update ci-build.yaml
+ * [896bcbd7d](https://github.com/argoproj/argo-workflows/commit/896bcbd7d33348054833af20792f923eac728091) Update ci-build.yaml
+ * [cefddb273](https://github.com/argoproj/argo-workflows/commit/cefddb273d0edcd622a3df368a542cdf33df7f47) Update workflowpod_test.go
+ * [47720040a](https://github.com/argoproj/argo-workflows/commit/47720040afd142d5726f28757912e0589f4ea901) fixed codegen
+ * [501c1720a](https://github.com/argoproj/argo-workflows/commit/501c1720a2cf09907bf05a2641ad802e9d084c86) fix: use execWf when setting PodMetadata (#6512)
+ * [4458394a8](https://github.com/argoproj/argo-workflows/commit/4458394a8c1af8e7328d06cc417850e410f7dd72) fix: Fix the Status update for node with synchronization lock (#6525)
+ * [907effbfc](https://github.com/argoproj/argo-workflows/commit/907effbfcd4f3bf058fb0e5bbd6faea512401ea9) fix: Upgrade pkg to v0.10.1. Fixes #6521 (#6523)
+ * [46e2803f7](https://github.com/argoproj/argo-workflows/commit/46e2803f7e0a6d7fd3213d5f02d58fae9ee78880) fix(controller): Fix panic in addParamToGlobalScope (#6485)
+ * [e1149b61a](https://github.com/argoproj/argo-workflows/commit/e1149b61aca5fde7b63be2e8f5d9b0be148b5eee) fix(controller): JSON-unmarshal marshaled expression template before evaluating (#6285)
+ * [e6a3b0c76](https://github.com/argoproj/argo-workflows/commit/e6a3b0c764ae54985a7315e7dbf656e766ae33e8) fix(executor/docker): re-revert -- fix random errors with message "No such container:path". Fixes #6352 (#6508)
+ * [b37e81a98](https://github.com/argoproj/argo-workflows/commit/b37e81a98b7f7c8c11317edfc06950778cd482ad) fix: Remove client private key from client auth REST config (#6506)
+ * [cc51e71ce](https://github.com/argoproj/argo-workflows/commit/cc51e71ced57448839e98d44fe34780671f03066) fix(controller): JSON-unmarshal marshaled expression template before evaluating (#6285)
+
+### Contributors
+
+ * Alex Collins
+ * Ed Marks
+ * Michael Crenshaw
+ * Saravanan Balasubramanian
+ * William Van Hevelingen
+ * Yuan (Bob) Gong
+
 ## v3.1.5 (2021-08-03)
 
  * [3dbee0ec3](https://github.com/argoproj/argo-workflows/commit/3dbee0ec368f3ea8c31f49c8b1a4617cc32bcce9) fix(executor): emissary - make argoexec executable from non-root containers. Fixes #6238 (#6247)

From c27f668d99e5e18f94cf7d7b533b4aeb064f0028 Mon Sep 17 00:00:00 2001
From: Alex Collins <alex_collins@intuit.com>
Date: Fri, 13 Aug 2021 08:54:58 -0700
Subject: [PATCH 034/137] test: Skip TestGetPodByNode. See #6458

Signed-off-by: Alex Collins <alex_collins@intuit.com>
---
 workflow/controller/operator_test.go | 1 +
 1 file changed, 1 insertion(+)

diff --git a/workflow/controller/operator_test.go b/workflow/controller/operator_test.go
index 27494f53d662..9482b211711c 100644
--- a/workflow/controller/operator_test.go
+++ b/workflow/controller/operator_test.go
@@ -3500,6 +3500,7 @@ func getEvents(controller *WorkflowController, num int) []string {
 }
 
 func TestGetPodByNode(t *testing.T) {
+	t.Skip("See https://github.com/argoproj/argo-workflows/issues/6458")
 	workflowText := `
 metadata:
   name: dag-events

From a57b3ad9ed2afbcd3f22e912b252dd451d9c7ebc Mon Sep 17 00:00:00 2001
From: Alex Collins <alexec@users.noreply.github.com>
Date: Fri, 13 Aug 2021 09:37:35 -0700
Subject: [PATCH 035/137] feat: Show Argo Dataflow pipelines in the UI (#5742)

---
 Makefile                                      |    5 +
 api/jsonschema/schema.json                    |  988 +++++
 api/openapi-spec/swagger.json                 | 2515 +++++++++---
 cmd/argo/commands/server.go                   |    6 +-
 go.mod                                        |   15 +-
 go.sum                                        |   96 +-
 pkg/apiclient/argo-kube-client.go             |   13 +-
 pkg/apiclient/pipeline/forwarder_overwrite.go |   11 +
 pkg/apiclient/pipeline/pipeline.pb.go         | 3408 +++++++++++++++++
 pkg/apiclient/pipeline/pipeline.pb.gw.go      |  843 ++++
 pkg/apiclient/pipeline/pipeline.proto         |   97 +
 server/apiserver/argoserver.go                |    4 +
 server/auth/gatekeeper.go                     |   19 +-
 server/eventsource/event_source_server.go     |    9 +-
 server/pipeline/pipeline_server.go            |  179 +
 server/sensor/sensor_server.go                |    9 +-
 server/types/clients.go                       |    2 +
 test/e2e/argo_server_test.go                  |   14 +
 ui/package.json                               |    2 +-
 ui/src/app/app-router.tsx                     |    8 +
 .../components/pipeline-container.tsx         |   11 +
 .../pipeline-details/pipeline-details.tsx     |  172 +
 .../pipeline-details/pipeline-graph.ts        |  160 +
 .../components/pipeline-details/pipeline.scss |   24 +
 .../pipeline-details/recent.test.ts           |    9 +
 .../components/pipeline-details/recent.ts     |    7 +
 .../pipeline-list/pipeline-list.scss          |    1 +
 .../pipeline-list/pipeline-list.tsx           |  110 +
 .../components/pipeline-logs-viewer.tsx       |   80 +
 .../pipelines/components/step-side-panel.tsx  |  215 ++
 ui/src/app/pipelines/components/total-rate.ts |   17 +
 ui/src/app/pipelines/index.ts                 |    5 +
 ui/src/app/shared/components/icon.ts          |   13 +
 ui/src/app/shared/components/icons.ts         |   11 +
 ui/src/app/shared/components/phase-icon.tsx   |    3 +-
 ui/src/app/shared/components/phase.tsx        |    3 +-
 .../resource-editor/resource-editor.tsx       |    2 +-
 ui/src/app/shared/components/tick-meter.tsx   |   24 +
 ui/src/app/shared/resource-quantity.test.ts   |   16 +
 ui/src/app/shared/resource-quantity.ts        |   23 +
 ui/src/app/shared/services/index.ts           |    3 +
 .../app/shared/services/pipeline-service.ts   |   51 +
 .../app/workflows/components/events-panel.tsx |   30 +-
 ui/src/models/pipeline.ts                     |   24 +
 ui/src/models/step.ts                         |   83 +
 ui/yarn.lock                                  |    8 +-
 util/logs/pods-logger.go                      |   16 +-
 47 files changed, 8802 insertions(+), 562 deletions(-)
 create mode 100644 pkg/apiclient/pipeline/forwarder_overwrite.go
 create mode 100644 pkg/apiclient/pipeline/pipeline.pb.go
 create mode 100644 pkg/apiclient/pipeline/pipeline.pb.gw.go
 create mode 100644 pkg/apiclient/pipeline/pipeline.proto
 create mode 100644 server/pipeline/pipeline_server.go
 create mode 100644 ui/src/app/pipelines/components/pipeline-container.tsx
 create mode 100644 ui/src/app/pipelines/components/pipeline-details/pipeline-details.tsx
 create mode 100644 ui/src/app/pipelines/components/pipeline-details/pipeline-graph.ts
 create mode 100644 ui/src/app/pipelines/components/pipeline-details/pipeline.scss
 create mode 100644 ui/src/app/pipelines/components/pipeline-details/recent.test.ts
 create mode 100644 ui/src/app/pipelines/components/pipeline-details/recent.ts
 create mode 100644 ui/src/app/pipelines/components/pipeline-list/pipeline-list.scss
 create mode 100644 ui/src/app/pipelines/components/pipeline-list/pipeline-list.tsx
 create mode 100644 ui/src/app/pipelines/components/pipeline-logs-viewer.tsx
 create mode 100644 ui/src/app/pipelines/components/step-side-panel.tsx
 create mode 100644 ui/src/app/pipelines/components/total-rate.ts
 create mode 100644 ui/src/app/pipelines/index.ts
 create mode 100644 ui/src/app/shared/components/tick-meter.tsx
 create mode 100644 ui/src/app/shared/resource-quantity.test.ts
 create mode 100644 ui/src/app/shared/resource-quantity.ts
 create mode 100644 ui/src/app/shared/services/pipeline-service.ts
 create mode 100644 ui/src/models/pipeline.ts
 create mode 100644 ui/src/models/step.ts

diff --git a/Makefile b/Makefile
index 0b1a6a0aee0f..d532b826d128 100644
--- a/Makefile
+++ b/Makefile
@@ -97,6 +97,7 @@ SWAGGER_FILES := pkg/apiclient/_.primary.swagger.json \
 	pkg/apiclient/event/event.swagger.json \
 	pkg/apiclient/eventsource/eventsource.swagger.json \
 	pkg/apiclient/info/info.swagger.json \
+	pkg/apiclient/pipeline/pipeline.swagger.json \
 	pkg/apiclient/sensor/sensor.swagger.json \
 	pkg/apiclient/workflow/workflow.swagger.json \
 	pkg/apiclient/workflowarchive/workflow-archive.swagger.json \
@@ -249,6 +250,7 @@ swagger: \
 	pkg/apiclient/eventsource/eventsource.swagger.json \
 	pkg/apiclient/info/info.swagger.json \
 	pkg/apiclient/sensor/sensor.swagger.json \
+	pkg/apiclient/pipeline/pipeline.swagger.json \
 	pkg/apiclient/workflow/workflow.swagger.json \
 	pkg/apiclient/workflowarchive/workflow-archive.swagger.json \
 	pkg/apiclient/workflowtemplate/workflow-template.swagger.json \
@@ -334,6 +336,9 @@ pkg/apiclient/info/info.swagger.json: $(PROTO_BINARIES) $(TYPES) pkg/apiclient/i
 pkg/apiclient/sensor/sensor.swagger.json: $(PROTO_BINARIES) $(TYPES) pkg/apiclient/sensor/sensor.proto
 	$(call protoc,pkg/apiclient/sensor/sensor.proto)
 
+pkg/apiclient/pipeline/pipeline.swagger.json: $(PROTO_BINARIES) $(TYPES) pkg/apiclient/pipeline/pipeline.proto
+	$(call protoc,pkg/apiclient/pipeline/pipeline.proto)
+
 pkg/apiclient/workflow/workflow.swagger.json: $(PROTO_BINARIES) $(TYPES) pkg/apiclient/workflow/workflow.proto
 	$(call protoc,pkg/apiclient/workflow/workflow.proto)
 
diff --git a/api/jsonschema/schema.json b/api/jsonschema/schema.json
index 117fb32d5ed9..c1b7805ba304 100644
--- a/api/jsonschema/schema.json
+++ b/api/jsonschema/schema.json
@@ -70,6 +70,905 @@
       },
       "type": "object"
     },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.AWSCredentials": {
+      "properties": {
+        "accessKeyId": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.SecretKeySelector"
+        },
+        "secretAccessKey": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.SecretKeySelector"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.AWSEndpoint": {
+      "properties": {
+        "url": {
+          "type": "string"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Backoff": {
+      "properties": {
+        "FactorPercentage": {
+          "title": "+kubebuilder:default=200",
+          "type": "integer"
+        },
+        "cap": {
+          "$ref": "#/definitions/io.k8s.apimachinery.pkg.apis.meta.v1.Duration",
+          "title": "+kubebuilder:default=\"0ms\""
+        },
+        "duration": {
+          "$ref": "#/definitions/io.k8s.apimachinery.pkg.apis.meta.v1.Duration",
+          "title": "+kubebuilder:default=\"100ms\""
+        },
+        "jitterPercentage": {
+          "title": "the amount of jitter per step, typically 10-20%, \u003e100% is valid, but strange\n+kubebuilder:default=10",
+          "type": "integer"
+        },
+        "steps": {
+          "format": "uint64",
+          "title": "the number of backoff steps, zero means no retries\n+kubebuilder:default=20",
+          "type": "string"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Cat": {
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Code": {
+      "properties": {
+        "runtime": {
+          "type": "string"
+        },
+        "source": {
+          "type": "string"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Container": {
+      "properties": {
+        "args": {
+          "items": {
+            "type": "string"
+          },
+          "type": "array"
+        },
+        "command": {
+          "items": {
+            "type": "string"
+          },
+          "type": "array"
+        },
+        "env": {
+          "items": {
+            "$ref": "#/definitions/io.k8s.api.core.v1.EnvVar"
+          },
+          "type": "array"
+        },
+        "image": {
+          "type": "string"
+        },
+        "in": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Interface"
+        },
+        "resources": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.ResourceRequirements"
+        },
+        "volumeMounts": {
+          "items": {
+            "$ref": "#/definitions/io.k8s.api.core.v1.VolumeMount"
+          },
+          "type": "array"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Cron": {
+      "properties": {
+        "layout": {
+          "title": "+kubebuilder:default=\"2006-01-02T15:04:05Z07:00\"",
+          "type": "string"
+        },
+        "schedule": {
+          "type": "string"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.DBDataSource": {
+      "properties": {
+        "value": {
+          "type": "string"
+        },
+        "valueFrom": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.DBDataSourceFrom"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.DBDataSourceFrom": {
+      "properties": {
+        "secretKeyRef": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.SecretKeySelector"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.DBSink": {
+      "properties": {
+        "actions": {
+          "items": {
+            "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.SQLAction"
+          },
+          "type": "array"
+        },
+        "database": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Database"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.DBSource": {
+      "properties": {
+        "commitInterval": {
+          "$ref": "#/definitions/io.k8s.apimachinery.pkg.apis.meta.v1.Duration",
+          "title": "+kubebuilder:default=\"5s\""
+        },
+        "database": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Database"
+        },
+        "initSchema": {
+          "title": "+kubebuilder:default=true",
+          "type": "boolean"
+        },
+        "offsetColumn": {
+          "type": "string"
+        },
+        "pollInterval": {
+          "$ref": "#/definitions/io.k8s.apimachinery.pkg.apis.meta.v1.Duration",
+          "title": "+kubebuilder:default=\"1s\""
+        },
+        "query": {
+          "type": "string"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Database": {
+      "properties": {
+        "dataSource": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.DBDataSource"
+        },
+        "driver": {
+          "title": "+kubebuilder:default=default",
+          "type": "string"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Dedupe": {
+      "properties": {
+        "maxSize": {
+          "$ref": "#/definitions/io.k8s.apimachinery.pkg.api.resource.Quantity",
+          "title": "MaxSize is the maximum number of entries to keep in the in-memory database used to store recent UIDs.\nLarger number mean bigger windows of time for dedupe, but greater memory usage.\n+kubebuilder:default=\"1M\""
+        },
+        "uid": {
+          "title": "+kubebuilder:default=\"sha1(msg)\"",
+          "type": "string"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Expand": {
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Flatten": {
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Git": {
+      "properties": {
+        "branch": {
+          "title": "+kubebuilder:default=main",
+          "type": "string"
+        },
+        "command": {
+          "items": {
+            "type": "string"
+          },
+          "type": "array"
+        },
+        "env": {
+          "items": {
+            "$ref": "#/definitions/io.k8s.api.core.v1.EnvVar"
+          },
+          "type": "array"
+        },
+        "image": {
+          "type": "string"
+        },
+        "passwordSecret": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.SecretKeySelector",
+          "title": "PasswordSecret is the secret selector to the repository password"
+        },
+        "path": {
+          "description": "+kubebuilder:default=.",
+          "type": "string"
+        },
+        "sshPrivateKeySecret": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.SecretKeySelector",
+          "title": "SSHPrivateKeySecret is the secret selector to the repository ssh private key"
+        },
+        "url": {
+          "type": "string"
+        },
+        "usernameSecret": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.SecretKeySelector",
+          "title": "UsernameSecret is the secret selector to the repository username"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Group": {
+      "properties": {
+        "endOfGroup": {
+          "type": "string"
+        },
+        "format": {
+          "type": "string"
+        },
+        "key": {
+          "type": "string"
+        },
+        "storage": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Storage"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.HTTP": {
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.HTTPHeader": {
+      "properties": {
+        "name": {
+          "type": "string"
+        },
+        "value": {
+          "type": "string"
+        },
+        "valueFrom": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.HTTPHeaderSource"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.HTTPHeaderSource": {
+      "properties": {
+        "secretKeyRef": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.SecretKeySelector"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.HTTPSink": {
+      "properties": {
+        "headers": {
+          "items": {
+            "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.HTTPHeader"
+          },
+          "type": "array"
+        },
+        "url": {
+          "type": "string"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.HTTPSource": {
+      "properties": {
+        "serviceName": {
+          "type": "string"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Interface": {
+      "properties": {
+        "fifo": {
+          "type": "boolean"
+        },
+        "http": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.HTTP"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Kafka": {
+      "properties": {
+        "kafkaConfig": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.KafkaConfig"
+        },
+        "name": {
+          "title": "+kubebuilder:default=default",
+          "type": "string"
+        },
+        "topic": {
+          "type": "string"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.KafkaConfig": {
+      "properties": {
+        "brokers": {
+          "items": {
+            "type": "string"
+          },
+          "type": "array"
+        },
+        "net": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.KafkaNET"
+        },
+        "version": {
+          "type": "string"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.KafkaNET": {
+      "properties": {
+        "sasl": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.SASL"
+        },
+        "tls": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.TLS"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.KafkaSink": {
+      "properties": {
+        "async": {
+          "type": "boolean"
+        },
+        "kafka": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Kafka"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.KafkaSource": {
+      "properties": {
+        "kafka": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Kafka"
+        },
+        "startOffset": {
+          "title": "+kubebuilder:default=Last",
+          "type": "string"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Log": {
+      "properties": {
+        "truncate": {
+          "format": "uint64",
+          "type": "string"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Metadata": {
+      "properties": {
+        "annotations": {
+          "additionalProperties": {
+            "type": "string"
+          },
+          "type": "object"
+        },
+        "labels": {
+          "additionalProperties": {
+            "type": "string"
+          },
+          "type": "object"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Metrics": {
+      "properties": {
+        "errors": {
+          "format": "uint64",
+          "type": "string"
+        },
+        "rate": {
+          "$ref": "#/definitions/io.k8s.apimachinery.pkg.api.resource.Quantity"
+        },
+        "retries": {
+          "format": "uint64",
+          "title": "current rate of messages per second",
+          "type": "string"
+        },
+        "total": {
+          "format": "uint64",
+          "type": "string"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Pipeline": {
+      "properties": {
+        "metadata": {
+          "$ref": "#/definitions/io.k8s.apimachinery.pkg.apis.meta.v1.ObjectMeta"
+        },
+        "spec": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.PipelineSpec"
+        },
+        "status": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.PipelineStatus"
+        }
+      },
+      "title": "+kubebuilder:object:root=true\n+kubebuilder:resource:shortName=pl\n+kubebuilder:subresource:status\n+kubebuilder:printcolumn:name=\"Phase\",type=string,JSONPath=`.status.phase`\n+kubebuilder:printcolumn:name=\"Message\",type=string,JSONPath=`.status.message`",
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.PipelineList": {
+      "properties": {
+        "items": {
+          "items": {
+            "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Pipeline"
+          },
+          "type": "array"
+        },
+        "metadata": {
+          "$ref": "#/definitions/io.k8s.apimachinery.pkg.apis.meta.v1.ListMeta"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.PipelineSpec": {
+      "properties": {
+        "steps": {
+          "items": {
+            "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.StepSpec"
+          },
+          "title": "+patchStrategy=merge\n+patchMergeKey=name",
+          "type": "array"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.PipelineStatus": {
+      "properties": {
+        "conditions": {
+          "items": {
+            "$ref": "#/definitions/io.k8s.apimachinery.pkg.apis.meta.v1.Condition"
+          },
+          "type": "array"
+        },
+        "lastUpdated": {
+          "$ref": "#/definitions/io.k8s.apimachinery.pkg.apis.meta.v1.Time"
+        },
+        "message": {
+          "type": "string"
+        },
+        "phase": {
+          "type": "string"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.S3": {
+      "properties": {
+        "bucket": {
+          "type": "string"
+        },
+        "credentials": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.AWSCredentials"
+        },
+        "endpoint": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.AWSEndpoint"
+        },
+        "name": {
+          "title": "+kubebuilder:default=default",
+          "type": "string"
+        },
+        "region": {
+          "type": "string"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.S3Sink": {
+      "properties": {
+        "s3": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.S3"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.S3Source": {
+      "properties": {
+        "pollPeriod": {
+          "$ref": "#/definitions/io.k8s.apimachinery.pkg.apis.meta.v1.Duration",
+          "title": "+kubebuilder:default=\"1m\""
+        },
+        "s3": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.S3"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.SASL": {
+      "properties": {
+        "mechanism": {
+          "title": "SASLMechanism is the name of the enabled SASL mechanism.\nPossible values: OAUTHBEARER, PLAIN (defaults to PLAIN).\n+optional",
+          "type": "string"
+        },
+        "password": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.SecretKeySelector",
+          "title": "Password for SASL/PLAIN authentication"
+        },
+        "user": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.SecretKeySelector",
+          "title": "User is the authentication identity (authcid) to present for\nSASL/PLAIN or SASL/SCRAM authentication"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.SQLAction": {
+      "properties": {
+        "onError": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.SQLStatement"
+        },
+        "onRecordNotFound": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.SQLStatement"
+        },
+        "statement": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.SQLStatement"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.SQLStatement": {
+      "properties": {
+        "args": {
+          "items": {
+            "type": "string"
+          },
+          "type": "array"
+        },
+        "sql": {
+          "type": "string"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.STAN": {
+      "properties": {
+        "auth": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.STANAuth"
+        },
+        "clusterId": {
+          "type": "string"
+        },
+        "maxInflight": {
+          "title": "Max inflight messages when subscribing to the stan server, which means how many messages\nbetween commits, therefore potential duplicates during disruption\n+kubebuilder:default=20",
+          "type": "integer"
+        },
+        "name": {
+          "title": "+kubebuilder:default=default",
+          "type": "string"
+        },
+        "natsMonitoringUrl": {
+          "type": "string"
+        },
+        "natsUrl": {
+          "type": "string"
+        },
+        "subject": {
+          "type": "string"
+        },
+        "subjectPrefix": {
+          "type": "string"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.STANAuth": {
+      "properties": {
+        "token": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.SecretKeySelector"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Scale": {
+      "properties": {
+        "maxReplicas": {
+          "type": "integer"
+        },
+        "minReplicas": {
+          "type": "integer"
+        },
+        "replicaRatio": {
+          "title": "takes precedence over min",
+          "type": "integer"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Sidecar": {
+      "properties": {
+        "resources": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.ResourceRequirements",
+          "title": "+kubebuilder:default={limits: {\"cpu\": \"500m\", \"memory\": \"256Mi\"}, requests: {\"cpu\": \"100m\", \"memory\": \"64Mi\"}}"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Sink": {
+      "properties": {
+        "db": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.DBSink"
+        },
+        "http": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.HTTPSink"
+        },
+        "kafka": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.KafkaSink"
+        },
+        "log": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Log"
+        },
+        "name": {
+          "title": "+kubebuilder:default=default",
+          "type": "string"
+        },
+        "s3": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.S3Sink"
+        },
+        "stan": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.STAN"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Source": {
+      "properties": {
+        "cron": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Cron"
+        },
+        "db": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.DBSource"
+        },
+        "http": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.HTTPSource"
+        },
+        "kafka": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.KafkaSource"
+        },
+        "name": {
+          "title": "+kubebuilder:default=default",
+          "type": "string"
+        },
+        "retry": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Backoff",
+          "title": "+kubebuilder:default={duration: \"100ms\", steps: 20, factorPercentage: 200, jitterPercentage: 10}"
+        },
+        "s3": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.S3Source"
+        },
+        "stan": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.STAN"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.SourceStatus": {
+      "properties": {
+        "metrics": {
+          "additionalProperties": {
+            "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Metrics"
+          },
+          "type": "object"
+        },
+        "pending": {
+          "format": "uint64",
+          "type": "string"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Step": {
+      "properties": {
+        "metadata": {
+          "$ref": "#/definitions/io.k8s.apimachinery.pkg.apis.meta.v1.ObjectMeta"
+        },
+        "spec": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.StepSpec"
+        },
+        "status": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.StepStatus"
+        }
+      },
+      "title": "+kubebuilder:object:root=true\n+kubebuilder:subresource:status\n+kubebuilder:subresource:scale:specpath=.spec.replicas,statuspath=.status.replicas,selectorpath=.status.selector\n+kubebuilder:printcolumn:name=\"Phase\",type=string,JSONPath=`.status.phase`\n+kubebuilder:printcolumn:name=\"Reason\",type=string,JSONPath=`.status.reason`\n+kubebuilder:printcolumn:name=\"Message\",type=string,JSONPath=`.status.message`\n+kubebuilder:printcolumn:name=\"Desired\",type=string,JSONPath=`.spec.replicas`\n+kubebuilder:printcolumn:name=\"Current\",type=string,JSONPath=`.status.replicas`",
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.StepSpec": {
+      "properties": {
+        "affinity": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.Affinity"
+        },
+        "cat": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Cat"
+        },
+        "code": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Code"
+        },
+        "container": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Container"
+        },
+        "dedupe": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Dedupe"
+        },
+        "expand": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Expand"
+        },
+        "filter": {
+          "type": "string"
+        },
+        "flatten": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Flatten"
+        },
+        "git": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Git"
+        },
+        "group": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Group"
+        },
+        "imagePullSecrets": {
+          "items": {
+            "$ref": "#/definitions/io.k8s.api.core.v1.LocalObjectReference"
+          },
+          "title": "ImagePullSecrets is a list of references to secrets in the same namespace to use for pulling any images\nin pods that reference this ServiceAccount. ImagePullSecrets are distinct from Secrets because Secrets\ncan be mounted in the pod, but ImagePullSecrets are only accessed by the kubelet.\nMore info: https://kubernetes.io/docs/concepts/containers/images/#specifying-imagepullsecrets-on-a-pod\n+patchStrategy=merge\n+patchMergeKey=name",
+          "type": "array"
+        },
+        "map": {
+          "type": "string"
+        },
+        "metadata": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Metadata"
+        },
+        "name": {
+          "title": "+kubebuilder:default=default",
+          "type": "string"
+        },
+        "nodeSelector": {
+          "additionalProperties": {
+            "type": "string"
+          },
+          "type": "object"
+        },
+        "replicas": {
+          "title": "+kubebuilder:default=1",
+          "type": "integer"
+        },
+        "restartPolicy": {
+          "title": "+kubebuilder:default=OnFailure",
+          "type": "string"
+        },
+        "scale": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Scale"
+        },
+        "serviceAccountName": {
+          "title": "+kubebuilder:default=pipeline",
+          "type": "string"
+        },
+        "sidecar": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Sidecar",
+          "title": "+kubebuilder:default={resources: {limits: {\"cpu\": \"500m\", \"memory\": \"256Mi\"}, requests: {\"cpu\": \"100m\", \"memory\": \"64Mi\"}}}"
+        },
+        "sinks": {
+          "items": {
+            "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Sink"
+          },
+          "title": "+patchStrategy=merge\n+patchMergeKey=name",
+          "type": "array"
+        },
+        "sources": {
+          "items": {
+            "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Source"
+          },
+          "title": "+patchStrategy=merge\n+patchMergeKey=name",
+          "type": "array"
+        },
+        "terminator": {
+          "type": "boolean"
+        },
+        "tolerations": {
+          "items": {
+            "$ref": "#/definitions/io.k8s.api.core.v1.Toleration"
+          },
+          "type": "array"
+        },
+        "volumes": {
+          "items": {
+            "$ref": "#/definitions/io.k8s.api.core.v1.Volume"
+          },
+          "title": "+patchStrategy=merge\n+patchMergeKey=name",
+          "type": "array"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.StepStatus": {
+      "properties": {
+        "lastScaledAt": {
+          "$ref": "#/definitions/io.k8s.apimachinery.pkg.apis.meta.v1.Time"
+        },
+        "message": {
+          "type": "string"
+        },
+        "phase": {
+          "type": "string"
+        },
+        "reason": {
+          "type": "string"
+        },
+        "replicas": {
+          "type": "integer"
+        },
+        "selector": {
+          "type": "string"
+        },
+        "sinkStatuses": {
+          "additionalProperties": {
+            "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.SourceStatus"
+          },
+          "type": "object"
+        },
+        "sourceStatuses": {
+          "additionalProperties": {
+            "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.SourceStatus"
+          },
+          "type": "object"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Storage": {
+      "properties": {
+        "name": {
+          "type": "string"
+        },
+        "subPath": {
+          "title": "volume name",
+          "type": "string"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.TLS": {
+      "properties": {
+        "caCertSecret": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.SecretKeySelector",
+          "title": "CACertSecret refers to the secret that contains the CA cert"
+        },
+        "certSecret": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.SecretKeySelector",
+          "title": "CertSecret refers to the secret that contains the cert"
+        },
+        "keySecret": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.SecretKeySelector",
+          "title": "KeySecret refers to the secret that contains the key"
+        }
+      },
+      "type": "object"
+    },
     "google.protobuf.Any": {
       "properties": {
         "type_url": {
@@ -9321,6 +10220,37 @@
       "description": "Quantity is a fixed-point representation of a number. It provides convenient marshaling/unmarshaling in JSON and YAML, in addition to String() and AsInt64() accessors.\n\nThe serialization format is:\n\n\u003cquantity\u003e        ::= \u003csignedNumber\u003e\u003csuffix\u003e\n  (Note that \u003csuffix\u003e may be empty, from the \"\" case in \u003cdecimalSI\u003e.)\n\u003cdigit\u003e           ::= 0 | 1 | ... | 9 \u003cdigits\u003e          ::= \u003cdigit\u003e | \u003cdigit\u003e\u003cdigits\u003e \u003cnumber\u003e          ::= \u003cdigits\u003e | \u003cdigits\u003e.\u003cdigits\u003e | \u003cdigits\u003e. | .\u003cdigits\u003e \u003csign\u003e            ::= \"+\" | \"-\" \u003csignedNumber\u003e    ::= \u003cnumber\u003e | \u003csign\u003e\u003cnumber\u003e \u003csuffix\u003e          ::= \u003cbinarySI\u003e | \u003cdecimalExponent\u003e | \u003cdecimalSI\u003e \u003cbinarySI\u003e        ::= Ki | Mi | Gi | Ti | Pi | Ei\n  (International System of units; See: http://physics.nist.gov/cuu/Units/binary.html)\n\u003cdecimalSI\u003e       ::= m | \"\" | k | M | G | T | P | E\n  (Note that 1024 = 1Ki but 1000 = 1k; I didn't choose the capitalization.)\n\u003cdecimalExponent\u003e ::= \"e\" \u003csignedNumber\u003e | \"E\" \u003csignedNumber\u003e\n\nNo matter which of the three exponent forms is used, no quantity may represent a number greater than 2^63-1 in magnitude, nor may it have more than 3 decimal places. Numbers larger or more precise will be capped or rounded up. (E.g.: 0.1m will rounded up to 1m.) This may be extended in the future if we require larger or smaller quantities.\n\nWhen a Quantity is parsed from a string, it will remember the type of suffix it had, and will use the same type again when it is serialized.\n\nBefore serializing, Quantity will be put in \"canonical form\". This means that Exponent/suffix will be adjusted up or down (with a corresponding increase or decrease in Mantissa) such that:\n  a. No precision is lost\n  b. No fractional digits will be emitted\n  c. The exponent (or suffix) is as large as possible.\nThe sign will be omitted unless the number is negative.\n\nExamples:\n  1.5 will be serialized as \"1500m\"\n  1.5Gi will be serialized as \"1536Mi\"\n\nNote that the quantity will NEVER be internally represented by a floating point number. That is the whole point of this exercise.\n\nNon-canonical values will still parse as long as they are well formed, but will be re-emitted in their canonical form. (So always use canonical form, or don't diff.)\n\nThis format is intended to make it difficult to use these numbers without writing some sort of special handling code in the hopes that that will cause implementors to also use a fixed point implementation.",
       "type": "string"
     },
+    "io.k8s.apimachinery.pkg.apis.meta.v1.Condition": {
+      "description": "// other fields\n}",
+      "properties": {
+        "lastTransitionTime": {
+          "$ref": "#/definitions/io.k8s.apimachinery.pkg.apis.meta.v1.Time",
+          "title": "lastTransitionTime is the last time the condition transitioned from one status to another.\nThis should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.\n+required\n+kubebuilder:validation:Required\n+kubebuilder:validation:Type=string\n+kubebuilder:validation:Format=date-time"
+        },
+        "message": {
+          "title": "message is a human readable message indicating details about the transition.\nThis may be an empty string.\n+required\n+kubebuilder:validation:Required\n+kubebuilder:validation:MaxLength=32768",
+          "type": "string"
+        },
+        "observedGeneration": {
+          "title": "observedGeneration represents the .metadata.generation that the condition was set based upon.\nFor instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date\nwith respect to the current state of the instance.\n+optional\n+kubebuilder:validation:Minimum=0",
+          "type": "string"
+        },
+        "reason": {
+          "title": "reason contains a programmatic identifier indicating the reason for the condition's last transition.\nProducers of specific condition types may define expected values and meanings for this field,\nand whether the values are considered a guaranteed API.\nThe value should be a CamelCase string.\nThis field may not be empty.\n+required\n+kubebuilder:validation:Required\n+kubebuilder:validation:MaxLength=1024\n+kubebuilder:validation:MinLength=1\n+kubebuilder:validation:Pattern=`^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$`",
+          "type": "string"
+        },
+        "status": {
+          "title": "status of the condition, one of True, False, Unknown.\n+required\n+kubebuilder:validation:Required\n+kubebuilder:validation:Enum=True;False;Unknown",
+          "type": "string"
+        },
+        "type": {
+          "title": "type of condition in CamelCase or in foo.example.com/CamelCase.\n---\nMany .condition.type values are consistent across resources like Available, but because arbitrary conditions can be\nuseful (see .node.status.conditions), the ability to deconflict is important.\nThe regex it matches is (dns1123SubdomainFmt/)?(qualifiedNameFmt)\n+required\n+kubebuilder:validation:Required\n+kubebuilder:validation:Pattern=`^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$`\n+kubebuilder:validation:MaxLength=316",
+          "type": "string"
+        }
+      },
+      "title": "Condition contains details for one aspect of the current state of this API Resource.\n---\nThis struct is intended for direct use as an array at the field path .status.conditions.  For example,\ntype FooStatus struct{\n    // Represents the observations of a foo's current state.\n    // Known .status.conditions.type are: \"Available\", \"Progressing\", and \"Degraded\"\n    // +patchMergeKey=type\n    // +patchStrategy=merge\n    // +listType=map\n    // +listMapKey=type\n    Conditions []metav1.Condition `json:\"conditions,omitempty\" patchStrategy:\"merge\" patchMergeKey:\"type\" protobuf:\"bytes,1,rep,name=conditions\"`",
+      "type": "object"
+    },
     "io.k8s.apimachinery.pkg.apis.meta.v1.CreateOptions": {
       "description": "CreateOptions may be provided when creating an API object.",
       "properties": {
@@ -9338,6 +10268,15 @@
       },
       "type": "object"
     },
+    "io.k8s.apimachinery.pkg.apis.meta.v1.Duration": {
+      "description": "Duration is a wrapper around time.Duration which supports correct\nmarshaling to YAML and JSON. In particular, it marshals into strings, which\ncan be used as map keys in json.",
+      "properties": {
+        "duration": {
+          "type": "string"
+        }
+      },
+      "type": "object"
+    },
     "io.k8s.apimachinery.pkg.apis.meta.v1.FieldsV1": {
       "description": "FieldsV1 stores a set of fields in a data structure like a Trie, in JSON format.\n\nEach key is either a '.' representing the field itself, and will always map to an empty set, or a string representing a sub-field or item. The string will follow one of these four formats: 'f:\u003cname\u003e', where \u003cname\u003e is the name of a field in a struct, or key in a map 'v:\u003cvalue\u003e', where \u003cvalue\u003e is the exact json formatted value of a list item 'i:\u003cindex\u003e', where \u003cindex\u003e is position of a item in a list 'k:\u003ckeys\u003e', where \u003ckeys\u003e is a map of  a list item's key fields to their unique values If a key maps to an empty Fields value, the field that key represents is part of the set.\n\nThe exact format is defined in sigs.k8s.io/structured-merge-diff",
       "type": "object"
@@ -9645,6 +10584,55 @@
     "io.k8s.apimachinery.pkg.util.intstr.IntOrString": {
       "type": "string"
     },
+    "pipeline.DeletePipelineResponse": {
+      "type": "object"
+    },
+    "pipeline.LogEntry": {
+      "properties": {
+        "msg": {
+          "type": "string"
+        },
+        "namespace": {
+          "type": "string"
+        },
+        "pipelineName": {
+          "type": "string"
+        },
+        "stepName": {
+          "type": "string"
+        },
+        "time": {
+          "$ref": "#/definitions/io.k8s.apimachinery.pkg.apis.meta.v1.Time"
+        }
+      },
+      "title": "structured log entry",
+      "type": "object"
+    },
+    "pipeline.PipelineWatchEvent": {
+      "properties": {
+        "object": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Pipeline"
+        },
+        "type": {
+          "type": "string"
+        }
+      },
+      "type": "object"
+    },
+    "pipeline.RestartPipelineResponse": {
+      "type": "object"
+    },
+    "pipeline.StepWatchEvent": {
+      "properties": {
+        "object": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Step"
+        },
+        "type": {
+          "type": "string"
+        }
+      },
+      "type": "object"
+    },
     "sensor.CreateSensorRequest": {
       "properties": {
         "createOptions": {
diff --git a/api/openapi-spec/swagger.json b/api/openapi-spec/swagger.json
index fa847a9d4a13..70973fa71f73 100644
--- a/api/openapi-spec/swagger.json
+++ b/api/openapi-spec/swagger.json
@@ -1190,6 +1190,245 @@
         }
       }
     },
+    "/api/v1/pipelines/{namespace}": {
+      "get": {
+        "tags": [
+          "PipelineService"
+        ],
+        "operationId": "PipelineService_ListPipelines",
+        "parameters": [
+          {
+            "type": "string",
+            "name": "namespace",
+            "in": "path",
+            "required": true
+          },
+          {
+            "type": "string",
+            "description": "A selector to restrict the list of returned objects by their labels.\nDefaults to everything.\n+optional.",
+            "name": "listOptions.labelSelector",
+            "in": "query"
+          },
+          {
+            "type": "string",
+            "description": "A selector to restrict the list of returned objects by their fields.\nDefaults to everything.\n+optional.",
+            "name": "listOptions.fieldSelector",
+            "in": "query"
+          },
+          {
+            "type": "boolean",
+            "description": "Watch for changes to the described resources and return them as a stream of\nadd, update, and remove notifications. Specify resourceVersion.\n+optional.",
+            "name": "listOptions.watch",
+            "in": "query"
+          },
+          {
+            "type": "boolean",
+            "description": "allowWatchBookmarks requests watch events with type \"BOOKMARK\".\nServers that do not implement bookmarks may ignore this flag and\nbookmarks are sent at the server's discretion. Clients should not\nassume bookmarks are returned at any specific interval, nor may they\nassume the server will send any BOOKMARK event during a session.\nIf this is not a watch, this field is ignored.\nIf the feature gate WatchBookmarks is not enabled in apiserver,\nthis field is ignored.\n+optional.",
+            "name": "listOptions.allowWatchBookmarks",
+            "in": "query"
+          },
+          {
+            "type": "string",
+            "description": "resourceVersion sets a constraint on what resource versions a request may be served from.\nSee https://kubernetes.io/docs/reference/using-api/api-concepts/#resource-versions for\ndetails.\n\nDefaults to unset\n+optional",
+            "name": "listOptions.resourceVersion",
+            "in": "query"
+          },
+          {
+            "type": "string",
+            "description": "resourceVersionMatch determines how resourceVersion is applied to list calls.\nIt is highly recommended that resourceVersionMatch be set for list calls where\nresourceVersion is set\nSee https://kubernetes.io/docs/reference/using-api/api-concepts/#resource-versions for\ndetails.\n\nDefaults to unset\n+optional",
+            "name": "listOptions.resourceVersionMatch",
+            "in": "query"
+          },
+          {
+            "type": "string",
+            "format": "int64",
+            "description": "Timeout for the list/watch call.\nThis limits the duration of the call, regardless of any activity or inactivity.\n+optional.",
+            "name": "listOptions.timeoutSeconds",
+            "in": "query"
+          },
+          {
+            "type": "string",
+            "format": "int64",
+            "description": "limit is a maximum number of responses to return for a list call. If more items exist, the\nserver will set the `continue` field on the list metadata to a value that can be used with the\nsame initial query to retrieve the next set of results. Setting a limit may return fewer than\nthe requested amount of items (up to zero items) in the event all requested objects are\nfiltered out and clients should only use the presence of the continue field to determine whether\nmore results are available. Servers may choose not to support the limit argument and will return\nall of the available results. If limit is specified and the continue field is empty, clients may\nassume that no more results are available. This field is not supported if watch is true.\n\nThe server guarantees that the objects returned when using continue will be identical to issuing\na single list call without a limit - that is, no objects created, modified, or deleted after the\nfirst request is issued will be included in any subsequent continued requests. This is sometimes\nreferred to as a consistent snapshot, and ensures that a client that is using limit to receive\nsmaller chunks of a very large result can ensure they see all possible objects. If objects are\nupdated during a chunked list the version of the object that was present at the time the first list\nresult was calculated is returned.",
+            "name": "listOptions.limit",
+            "in": "query"
+          },
+          {
+            "type": "string",
+            "description": "The continue option should be set when retrieving more results from the server. Since this value is\nserver defined, clients may only use the continue value from a previous query result with identical\nquery parameters (except for the value of continue) and the server may reject a continue value it\ndoes not recognize. If the specified continue value is no longer valid whether due to expiration\n(generally five to fifteen minutes) or a configuration change on the server, the server will\nrespond with a 410 ResourceExpired error together with a continue token. If the client needs a\nconsistent list, it must restart their list without the continue field. Otherwise, the client may\nsend another list request with the token received with the 410 error, the server will respond with\na list starting from the next key, but from the latest snapshot, which is inconsistent from the\nprevious list results - objects that are created, modified, or deleted after the first list request\nwill be included in the response, as long as their keys are after the \"next key\".\n\nThis field is not supported when watch is true. Clients may start a watch from the last\nresourceVersion value returned by the server and not miss any modifications.",
+            "name": "listOptions.continue",
+            "in": "query"
+          }
+        ],
+        "responses": {
+          "200": {
+            "description": "A successful response.",
+            "schema": {
+              "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.PipelineList"
+            }
+          },
+          "default": {
+            "description": "An unexpected error response.",
+            "schema": {
+              "$ref": "#/definitions/grpc.gateway.runtime.Error"
+            }
+          }
+        }
+      }
+    },
+    "/api/v1/pipelines/{namespace}/{name}": {
+      "get": {
+        "tags": [
+          "PipelineService"
+        ],
+        "operationId": "PipelineService_GetPipeline",
+        "parameters": [
+          {
+            "type": "string",
+            "name": "namespace",
+            "in": "path",
+            "required": true
+          },
+          {
+            "type": "string",
+            "name": "name",
+            "in": "path",
+            "required": true
+          },
+          {
+            "type": "string",
+            "description": "resourceVersion sets a constraint on what resource versions a request may be served from.\nSee https://kubernetes.io/docs/reference/using-api/api-concepts/#resource-versions for\ndetails.\n\nDefaults to unset\n+optional",
+            "name": "getOptions.resourceVersion",
+            "in": "query"
+          }
+        ],
+        "responses": {
+          "200": {
+            "description": "A successful response.",
+            "schema": {
+              "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Pipeline"
+            }
+          },
+          "default": {
+            "description": "An unexpected error response.",
+            "schema": {
+              "$ref": "#/definitions/grpc.gateway.runtime.Error"
+            }
+          }
+        }
+      },
+      "delete": {
+        "tags": [
+          "PipelineService"
+        ],
+        "operationId": "PipelineService_DeletePipeline",
+        "parameters": [
+          {
+            "type": "string",
+            "name": "namespace",
+            "in": "path",
+            "required": true
+          },
+          {
+            "type": "string",
+            "name": "name",
+            "in": "path",
+            "required": true
+          },
+          {
+            "type": "string",
+            "format": "int64",
+            "description": "The duration in seconds before the object should be deleted. Value must be non-negative integer.\nThe value zero indicates delete immediately. If this value is nil, the default grace period for the\nspecified type will be used.\nDefaults to a per object value if not specified. zero means delete immediately.\n+optional.",
+            "name": "deleteOptions.gracePeriodSeconds",
+            "in": "query"
+          },
+          {
+            "type": "string",
+            "description": "Specifies the target UID.\n+optional.",
+            "name": "deleteOptions.preconditions.uid",
+            "in": "query"
+          },
+          {
+            "type": "string",
+            "description": "Specifies the target ResourceVersion\n+optional.",
+            "name": "deleteOptions.preconditions.resourceVersion",
+            "in": "query"
+          },
+          {
+            "type": "boolean",
+            "description": "Deprecated: please use the PropagationPolicy, this field will be deprecated in 1.7.\nShould the dependent objects be orphaned. If true/false, the \"orphan\"\nfinalizer will be added to/removed from the object's finalizers list.\nEither this field or PropagationPolicy may be set, but not both.\n+optional.",
+            "name": "deleteOptions.orphanDependents",
+            "in": "query"
+          },
+          {
+            "type": "string",
+            "description": "Whether and how garbage collection will be performed.\nEither this field or OrphanDependents may be set, but not both.\nThe default policy is decided by the existing finalizer set in the\nmetadata.finalizers and the resource-specific default policy.\nAcceptable values are: 'Orphan' - orphan the dependents; 'Background' -\nallow the garbage collector to delete the dependents in the background;\n'Foreground' - a cascading policy that deletes all dependents in the\nforeground.\n+optional.",
+            "name": "deleteOptions.propagationPolicy",
+            "in": "query"
+          },
+          {
+            "type": "array",
+            "items": {
+              "type": "string"
+            },
+            "collectionFormat": "multi",
+            "description": "When present, indicates that modifications should not be\npersisted. An invalid or unrecognized dryRun directive will\nresult in an error response and no further processing of the\nrequest. Valid values are:\n- All: all dry run stages will be processed\n+optional.",
+            "name": "deleteOptions.dryRun",
+            "in": "query"
+          }
+        ],
+        "responses": {
+          "200": {
+            "description": "A successful response.",
+            "schema": {
+              "$ref": "#/definitions/pipeline.DeletePipelineResponse"
+            }
+          },
+          "default": {
+            "description": "An unexpected error response.",
+            "schema": {
+              "$ref": "#/definitions/grpc.gateway.runtime.Error"
+            }
+          }
+        }
+      }
+    },
+    "/api/v1/pipelines/{namespace}/{name}/restart": {
+      "post": {
+        "tags": [
+          "PipelineService"
+        ],
+        "operationId": "PipelineService_RestartPipeline",
+        "parameters": [
+          {
+            "type": "string",
+            "name": "namespace",
+            "in": "path",
+            "required": true
+          },
+          {
+            "type": "string",
+            "name": "name",
+            "in": "path",
+            "required": true
+          }
+        ],
+        "responses": {
+          "200": {
+            "description": "A successful response.",
+            "schema": {
+              "$ref": "#/definitions/pipeline.RestartPipelineResponse"
+            }
+          },
+          "default": {
+            "description": "An unexpected error response.",
+            "schema": {
+              "$ref": "#/definitions/grpc.gateway.runtime.Error"
+            }
+          }
+        }
+      }
+    },
     "/api/v1/sensors/{namespace}": {
       "get": {
         "tags": [
@@ -1789,12 +2028,12 @@
         }
       }
     },
-    "/api/v1/stream/sensors/{namespace}": {
+    "/api/v1/stream/pipelines/{namespace}": {
       "get": {
         "tags": [
-          "SensorService"
+          "PipelineService"
         ],
-        "operationId": "SensorService_WatchSensors",
+        "operationId": "PipelineService_WatchPipelines",
         "parameters": [
           {
             "type": "string",
@@ -1864,13 +2103,13 @@
             "description": "A successful response.(streaming responses)",
             "schema": {
               "type": "object",
-              "title": "Stream result of sensor.SensorWatchEvent",
+              "title": "Stream result of pipeline.PipelineWatchEvent",
               "properties": {
                 "error": {
                   "$ref": "#/definitions/grpc.gateway.runtime.StreamError"
                 },
                 "result": {
-                  "$ref": "#/definitions/sensor.SensorWatchEvent"
+                  "$ref": "#/definitions/pipeline.PipelineWatchEvent"
                 }
               }
             }
@@ -1884,12 +2123,12 @@
         }
       }
     },
-    "/api/v1/stream/sensors/{namespace}/logs": {
+    "/api/v1/stream/pipelines/{namespace}/logs": {
       "get": {
         "tags": [
-          "SensorService"
+          "PipelineService"
         ],
-        "operationId": "SensorService_SensorsLogs",
+        "operationId": "PipelineService_PipelineLogs",
         "parameters": [
           {
             "type": "string",
@@ -1899,19 +2138,19 @@
           },
           {
             "type": "string",
-            "description": "optional - only return entries for this sensor name.",
+            "description": "optional - only return entries for this pipeline.",
             "name": "name",
             "in": "query"
           },
           {
             "type": "string",
-            "description": "optional - only return entries for this trigger.",
-            "name": "triggerName",
+            "description": "optional - only return entries for this step.",
+            "name": "stepName",
             "in": "query"
           },
           {
             "type": "string",
-            "description": "option - only return entries where `msg` contains this regular expressions.",
+            "description": "optional - only return entries which match this expresssion.",
             "name": "grep",
             "in": "query"
           },
@@ -1986,13 +2225,13 @@
             "description": "A successful response.(streaming responses)",
             "schema": {
               "type": "object",
-              "title": "Stream result of sensor.LogEntry",
+              "title": "Stream result of pipeline.LogEntry",
               "properties": {
                 "error": {
                   "$ref": "#/definitions/grpc.gateway.runtime.StreamError"
                 },
                 "result": {
-                  "$ref": "#/definitions/sensor.LogEntry"
+                  "$ref": "#/definitions/pipeline.LogEntry"
                 }
               }
             }
@@ -2006,62 +2245,18 @@
         }
       }
     },
-    "/api/v1/userinfo": {
+    "/api/v1/stream/sensors/{namespace}": {
       "get": {
         "tags": [
-          "InfoService"
+          "SensorService"
         ],
-        "operationId": "InfoService_GetUserInfo",
-        "responses": {
-          "200": {
-            "description": "A successful response.",
-            "schema": {
-              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.GetUserInfoResponse"
-            }
-          },
-          "default": {
-            "description": "An unexpected error response.",
-            "schema": {
-              "$ref": "#/definitions/grpc.gateway.runtime.Error"
-            }
-          }
-        }
-      }
-    },
-    "/api/v1/version": {
-      "get": {
-        "tags": [
-          "InfoService"
-        ],
-        "operationId": "InfoService_GetVersion",
-        "responses": {
-          "200": {
-            "description": "A successful response.",
-            "schema": {
-              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.Version"
-            }
-          },
-          "default": {
-            "description": "An unexpected error response.",
-            "schema": {
-              "$ref": "#/definitions/grpc.gateway.runtime.Error"
-            }
-          }
-        }
-      }
-    },
-    "/api/v1/workflow-event-bindings/{namespace}": {
-      "get": {
-        "tags": [
-          "EventService"
-        ],
-        "operationId": "EventService_ListWorkflowEventBindings",
-        "parameters": [
-          {
-            "type": "string",
-            "name": "namespace",
-            "in": "path",
-            "required": true
+        "operationId": "SensorService_WatchSensors",
+        "parameters": [
+          {
+            "type": "string",
+            "name": "namespace",
+            "in": "path",
+            "required": true
           },
           {
             "type": "string",
@@ -2122,9 +2317,18 @@
         ],
         "responses": {
           "200": {
-            "description": "A successful response.",
+            "description": "A successful response.(streaming responses)",
             "schema": {
-              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.WorkflowEventBindingList"
+              "type": "object",
+              "title": "Stream result of sensor.SensorWatchEvent",
+              "properties": {
+                "error": {
+                  "$ref": "#/definitions/grpc.gateway.runtime.StreamError"
+                },
+                "result": {
+                  "$ref": "#/definitions/sensor.SensorWatchEvent"
+                }
+              }
             }
           },
           "default": {
@@ -2136,12 +2340,12 @@
         }
       }
     },
-    "/api/v1/workflow-events/{namespace}": {
+    "/api/v1/stream/sensors/{namespace}/logs": {
       "get": {
         "tags": [
-          "WorkflowService"
+          "SensorService"
         ],
-        "operationId": "WorkflowService_WatchWorkflows",
+        "operationId": "SensorService_SensorsLogs",
         "parameters": [
           {
             "type": "string",
@@ -2151,63 +2355,85 @@
           },
           {
             "type": "string",
-            "description": "A selector to restrict the list of returned objects by their labels.\nDefaults to everything.\n+optional.",
-            "name": "listOptions.labelSelector",
+            "description": "optional - only return entries for this sensor name.",
+            "name": "name",
             "in": "query"
           },
           {
             "type": "string",
-            "description": "A selector to restrict the list of returned objects by their fields.\nDefaults to everything.\n+optional.",
-            "name": "listOptions.fieldSelector",
+            "description": "optional - only return entries for this trigger.",
+            "name": "triggerName",
             "in": "query"
           },
           {
-            "type": "boolean",
-            "description": "Watch for changes to the described resources and return them as a stream of\nadd, update, and remove notifications. Specify resourceVersion.\n+optional.",
-            "name": "listOptions.watch",
+            "type": "string",
+            "description": "option - only return entries where `msg` contains this regular expressions.",
+            "name": "grep",
+            "in": "query"
+          },
+          {
+            "type": "string",
+            "description": "The container for which to stream logs. Defaults to only container if there is one container in the pod.\n+optional.",
+            "name": "podLogOptions.container",
             "in": "query"
           },
           {
             "type": "boolean",
-            "description": "allowWatchBookmarks requests watch events with type \"BOOKMARK\".\nServers that do not implement bookmarks may ignore this flag and\nbookmarks are sent at the server's discretion. Clients should not\nassume bookmarks are returned at any specific interval, nor may they\nassume the server will send any BOOKMARK event during a session.\nIf this is not a watch, this field is ignored.\nIf the feature gate WatchBookmarks is not enabled in apiserver,\nthis field is ignored.\n+optional.",
-            "name": "listOptions.allowWatchBookmarks",
+            "description": "Follow the log stream of the pod. Defaults to false.\n+optional.",
+            "name": "podLogOptions.follow",
             "in": "query"
           },
           {
-            "type": "string",
-            "description": "resourceVersion sets a constraint on what resource versions a request may be served from.\nSee https://kubernetes.io/docs/reference/using-api/api-concepts/#resource-versions for\ndetails.\n\nDefaults to unset\n+optional",
-            "name": "listOptions.resourceVersion",
+            "type": "boolean",
+            "description": "Return previous terminated container logs. Defaults to false.\n+optional.",
+            "name": "podLogOptions.previous",
             "in": "query"
           },
           {
             "type": "string",
-            "description": "resourceVersionMatch determines how resourceVersion is applied to list calls.\nIt is highly recommended that resourceVersionMatch be set for list calls where\nresourceVersion is set\nSee https://kubernetes.io/docs/reference/using-api/api-concepts/#resource-versions for\ndetails.\n\nDefaults to unset\n+optional",
-            "name": "listOptions.resourceVersionMatch",
+            "format": "int64",
+            "description": "A relative time in seconds before the current time from which to show logs. If this value\nprecedes the time a pod was started, only logs since the pod start will be returned.\nIf this value is in the future, no logs will be returned.\nOnly one of sinceSeconds or sinceTime may be specified.\n+optional.",
+            "name": "podLogOptions.sinceSeconds",
             "in": "query"
           },
           {
             "type": "string",
             "format": "int64",
-            "description": "Timeout for the list/watch call.\nThis limits the duration of the call, regardless of any activity or inactivity.\n+optional.",
-            "name": "listOptions.timeoutSeconds",
+            "description": "Represents seconds of UTC time since Unix epoch\n1970-01-01T00:00:00Z. Must be from 0001-01-01T00:00:00Z to\n9999-12-31T23:59:59Z inclusive.",
+            "name": "podLogOptions.sinceTime.seconds",
+            "in": "query"
+          },
+          {
+            "type": "integer",
+            "format": "int32",
+            "description": "Non-negative fractions of a second at nanosecond resolution. Negative\nsecond values with fractions must still have non-negative nanos values\nthat count forward in time. Must be from 0 to 999,999,999\ninclusive. This field may be limited in precision depending on context.",
+            "name": "podLogOptions.sinceTime.nanos",
+            "in": "query"
+          },
+          {
+            "type": "boolean",
+            "description": "If true, add an RFC3339 or RFC3339Nano timestamp at the beginning of every line\nof log output. Defaults to false.\n+optional.",
+            "name": "podLogOptions.timestamps",
             "in": "query"
           },
           {
             "type": "string",
             "format": "int64",
-            "description": "limit is a maximum number of responses to return for a list call. If more items exist, the\nserver will set the `continue` field on the list metadata to a value that can be used with the\nsame initial query to retrieve the next set of results. Setting a limit may return fewer than\nthe requested amount of items (up to zero items) in the event all requested objects are\nfiltered out and clients should only use the presence of the continue field to determine whether\nmore results are available. Servers may choose not to support the limit argument and will return\nall of the available results. If limit is specified and the continue field is empty, clients may\nassume that no more results are available. This field is not supported if watch is true.\n\nThe server guarantees that the objects returned when using continue will be identical to issuing\na single list call without a limit - that is, no objects created, modified, or deleted after the\nfirst request is issued will be included in any subsequent continued requests. This is sometimes\nreferred to as a consistent snapshot, and ensures that a client that is using limit to receive\nsmaller chunks of a very large result can ensure they see all possible objects. If objects are\nupdated during a chunked list the version of the object that was present at the time the first list\nresult was calculated is returned.",
-            "name": "listOptions.limit",
+            "description": "If set, the number of lines from the end of the logs to show. If not specified,\nlogs are shown from the creation of the container or sinceSeconds or sinceTime\n+optional.",
+            "name": "podLogOptions.tailLines",
             "in": "query"
           },
           {
             "type": "string",
-            "description": "The continue option should be set when retrieving more results from the server. Since this value is\nserver defined, clients may only use the continue value from a previous query result with identical\nquery parameters (except for the value of continue) and the server may reject a continue value it\ndoes not recognize. If the specified continue value is no longer valid whether due to expiration\n(generally five to fifteen minutes) or a configuration change on the server, the server will\nrespond with a 410 ResourceExpired error together with a continue token. If the client needs a\nconsistent list, it must restart their list without the continue field. Otherwise, the client may\nsend another list request with the token received with the 410 error, the server will respond with\na list starting from the next key, but from the latest snapshot, which is inconsistent from the\nprevious list results - objects that are created, modified, or deleted after the first list request\nwill be included in the response, as long as their keys are after the \"next key\".\n\nThis field is not supported when watch is true. Clients may start a watch from the last\nresourceVersion value returned by the server and not miss any modifications.",
-            "name": "listOptions.continue",
+            "format": "int64",
+            "description": "If set, the number of bytes to read from the server before terminating the\nlog output. This may not display a complete final line of logging, and may return\nslightly more or slightly less than the specified limit.\n+optional.",
+            "name": "podLogOptions.limitBytes",
             "in": "query"
           },
           {
-            "type": "string",
-            "name": "fields",
+            "type": "boolean",
+            "description": "insecureSkipTLSVerifyBackend indicates that the apiserver should not confirm the validity of the\nserving certificate of the backend it is connecting to.  This will make the HTTPS connection between the apiserver\nand the backend insecure. This means the apiserver cannot verify the log data it is receiving came from the real\nkubelet.  If the kubelet is configured to verify the apiserver's TLS credentials, it does not mean the\nconnection to the real kubelet is vulnerable to a man in the middle attack (e.g. an attacker could not intercept\nthe actual log data coming from the real kubelet).\n+optional.",
+            "name": "podLogOptions.insecureSkipTLSVerifyBackend",
             "in": "query"
           }
         ],
@@ -2216,13 +2442,13 @@
             "description": "A successful response.(streaming responses)",
             "schema": {
               "type": "object",
-              "title": "Stream result of io.argoproj.workflow.v1alpha1.WorkflowWatchEvent",
+              "title": "Stream result of sensor.LogEntry",
               "properties": {
                 "error": {
                   "$ref": "#/definitions/grpc.gateway.runtime.StreamError"
                 },
                 "result": {
-                  "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.WorkflowWatchEvent"
+                  "$ref": "#/definitions/sensor.LogEntry"
                 }
               }
             }
@@ -2236,12 +2462,12 @@
         }
       }
     },
-    "/api/v1/workflow-templates/{namespace}": {
+    "/api/v1/stream/steps/{namespace}": {
       "get": {
         "tags": [
-          "WorkflowTemplateService"
+          "PipelineService"
         ],
-        "operationId": "WorkflowTemplateService_ListWorkflowTemplates",
+        "operationId": "PipelineService_WatchSteps",
         "parameters": [
           {
             "type": "string",
@@ -2308,9 +2534,18 @@
         ],
         "responses": {
           "200": {
-            "description": "A successful response.",
+            "description": "A successful response.(streaming responses)",
             "schema": {
-              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.WorkflowTemplateList"
+              "type": "object",
+              "title": "Stream result of pipeline.StepWatchEvent",
+              "properties": {
+                "error": {
+                  "$ref": "#/definitions/grpc.gateway.runtime.StreamError"
+                },
+                "result": {
+                  "$ref": "#/definitions/pipeline.StepWatchEvent"
+                }
+              }
             }
           },
           "default": {
@@ -2320,33 +2555,19 @@
             }
           }
         }
-      },
-      "post": {
+      }
+    },
+    "/api/v1/userinfo": {
+      "get": {
         "tags": [
-          "WorkflowTemplateService"
-        ],
-        "operationId": "WorkflowTemplateService_CreateWorkflowTemplate",
-        "parameters": [
-          {
-            "type": "string",
-            "name": "namespace",
-            "in": "path",
-            "required": true
-          },
-          {
-            "name": "body",
-            "in": "body",
-            "required": true,
-            "schema": {
-              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.WorkflowTemplateCreateRequest"
-            }
-          }
+          "InfoService"
         ],
+        "operationId": "InfoService_GetUserInfo",
         "responses": {
           "200": {
             "description": "A successful response.",
             "schema": {
-              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.WorkflowTemplate"
+              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.GetUserInfoResponse"
             }
           },
           "default": {
@@ -2358,33 +2579,17 @@
         }
       }
     },
-    "/api/v1/workflow-templates/{namespace}/lint": {
-      "post": {
+    "/api/v1/version": {
+      "get": {
         "tags": [
-          "WorkflowTemplateService"
-        ],
-        "operationId": "WorkflowTemplateService_LintWorkflowTemplate",
-        "parameters": [
-          {
-            "type": "string",
-            "name": "namespace",
-            "in": "path",
-            "required": true
-          },
-          {
-            "name": "body",
-            "in": "body",
-            "required": true,
-            "schema": {
-              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.WorkflowTemplateLintRequest"
-            }
-          }
+          "InfoService"
         ],
+        "operationId": "InfoService_GetVersion",
         "responses": {
           "200": {
             "description": "A successful response.",
             "schema": {
-              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.WorkflowTemplate"
+              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.Version"
             }
           },
           "default": {
@@ -2396,12 +2601,12 @@
         }
       }
     },
-    "/api/v1/workflow-templates/{namespace}/{name}": {
+    "/api/v1/workflow-event-bindings/{namespace}": {
       "get": {
         "tags": [
-          "WorkflowTemplateService"
+          "EventService"
         ],
-        "operationId": "WorkflowTemplateService_GetWorkflowTemplate",
+        "operationId": "EventService_ListWorkflowEventBindings",
         "parameters": [
           {
             "type": "string",
@@ -2411,65 +2616,66 @@
           },
           {
             "type": "string",
-            "name": "name",
-            "in": "path",
-            "required": true
+            "description": "A selector to restrict the list of returned objects by their labels.\nDefaults to everything.\n+optional.",
+            "name": "listOptions.labelSelector",
+            "in": "query"
           },
           {
             "type": "string",
-            "description": "resourceVersion sets a constraint on what resource versions a request may be served from.\nSee https://kubernetes.io/docs/reference/using-api/api-concepts/#resource-versions for\ndetails.\n\nDefaults to unset\n+optional",
-            "name": "getOptions.resourceVersion",
+            "description": "A selector to restrict the list of returned objects by their fields.\nDefaults to everything.\n+optional.",
+            "name": "listOptions.fieldSelector",
             "in": "query"
-          }
-        ],
-        "responses": {
-          "200": {
-            "description": "A successful response.",
-            "schema": {
-              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.WorkflowTemplate"
-            }
           },
-          "default": {
-            "description": "An unexpected error response.",
-            "schema": {
-              "$ref": "#/definitions/grpc.gateway.runtime.Error"
-            }
-          }
-        }
-      },
-      "put": {
-        "tags": [
-          "WorkflowTemplateService"
-        ],
-        "operationId": "WorkflowTemplateService_UpdateWorkflowTemplate",
-        "parameters": [
           {
-            "type": "string",
-            "name": "namespace",
-            "in": "path",
-            "required": true
+            "type": "boolean",
+            "description": "Watch for changes to the described resources and return them as a stream of\nadd, update, and remove notifications. Specify resourceVersion.\n+optional.",
+            "name": "listOptions.watch",
+            "in": "query"
           },
           {
-            "type": "string",
-            "description": "DEPRECATED: This field is ignored.",
-            "name": "name",
-            "in": "path",
-            "required": true
+            "type": "boolean",
+            "description": "allowWatchBookmarks requests watch events with type \"BOOKMARK\".\nServers that do not implement bookmarks may ignore this flag and\nbookmarks are sent at the server's discretion. Clients should not\nassume bookmarks are returned at any specific interval, nor may they\nassume the server will send any BOOKMARK event during a session.\nIf this is not a watch, this field is ignored.\nIf the feature gate WatchBookmarks is not enabled in apiserver,\nthis field is ignored.\n+optional.",
+            "name": "listOptions.allowWatchBookmarks",
+            "in": "query"
           },
           {
-            "name": "body",
-            "in": "body",
-            "required": true,
-            "schema": {
-              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.WorkflowTemplateUpdateRequest"
-            }
+            "type": "string",
+            "description": "resourceVersion sets a constraint on what resource versions a request may be served from.\nSee https://kubernetes.io/docs/reference/using-api/api-concepts/#resource-versions for\ndetails.\n\nDefaults to unset\n+optional",
+            "name": "listOptions.resourceVersion",
+            "in": "query"
+          },
+          {
+            "type": "string",
+            "description": "resourceVersionMatch determines how resourceVersion is applied to list calls.\nIt is highly recommended that resourceVersionMatch be set for list calls where\nresourceVersion is set\nSee https://kubernetes.io/docs/reference/using-api/api-concepts/#resource-versions for\ndetails.\n\nDefaults to unset\n+optional",
+            "name": "listOptions.resourceVersionMatch",
+            "in": "query"
+          },
+          {
+            "type": "string",
+            "format": "int64",
+            "description": "Timeout for the list/watch call.\nThis limits the duration of the call, regardless of any activity or inactivity.\n+optional.",
+            "name": "listOptions.timeoutSeconds",
+            "in": "query"
+          },
+          {
+            "type": "string",
+            "format": "int64",
+            "description": "limit is a maximum number of responses to return for a list call. If more items exist, the\nserver will set the `continue` field on the list metadata to a value that can be used with the\nsame initial query to retrieve the next set of results. Setting a limit may return fewer than\nthe requested amount of items (up to zero items) in the event all requested objects are\nfiltered out and clients should only use the presence of the continue field to determine whether\nmore results are available. Servers may choose not to support the limit argument and will return\nall of the available results. If limit is specified and the continue field is empty, clients may\nassume that no more results are available. This field is not supported if watch is true.\n\nThe server guarantees that the objects returned when using continue will be identical to issuing\na single list call without a limit - that is, no objects created, modified, or deleted after the\nfirst request is issued will be included in any subsequent continued requests. This is sometimes\nreferred to as a consistent snapshot, and ensures that a client that is using limit to receive\nsmaller chunks of a very large result can ensure they see all possible objects. If objects are\nupdated during a chunked list the version of the object that was present at the time the first list\nresult was calculated is returned.",
+            "name": "listOptions.limit",
+            "in": "query"
+          },
+          {
+            "type": "string",
+            "description": "The continue option should be set when retrieving more results from the server. Since this value is\nserver defined, clients may only use the continue value from a previous query result with identical\nquery parameters (except for the value of continue) and the server may reject a continue value it\ndoes not recognize. If the specified continue value is no longer valid whether due to expiration\n(generally five to fifteen minutes) or a configuration change on the server, the server will\nrespond with a 410 ResourceExpired error together with a continue token. If the client needs a\nconsistent list, it must restart their list without the continue field. Otherwise, the client may\nsend another list request with the token received with the 410 error, the server will respond with\na list starting from the next key, but from the latest snapshot, which is inconsistent from the\nprevious list results - objects that are created, modified, or deleted after the first list request\nwill be included in the response, as long as their keys are after the \"next key\".\n\nThis field is not supported when watch is true. Clients may start a watch from the last\nresourceVersion value returned by the server and not miss any modifications.",
+            "name": "listOptions.continue",
+            "in": "query"
           }
         ],
         "responses": {
           "200": {
             "description": "A successful response.",
             "schema": {
-              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.WorkflowTemplate"
+              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.WorkflowEventBindingList"
             }
           },
           "default": {
@@ -2479,12 +2685,14 @@
             }
           }
         }
-      },
-      "delete": {
+      }
+    },
+    "/api/v1/workflow-events/{namespace}": {
+      "get": {
         "tags": [
-          "WorkflowTemplateService"
+          "WorkflowService"
         ],
-        "operationId": "WorkflowTemplateService_DeleteWorkflowTemplate",
+        "operationId": "WorkflowService_WatchWorkflows",
         "parameters": [
           {
             "type": "string",
@@ -2494,57 +2702,80 @@
           },
           {
             "type": "string",
-            "name": "name",
-            "in": "path",
-            "required": true
+            "description": "A selector to restrict the list of returned objects by their labels.\nDefaults to everything.\n+optional.",
+            "name": "listOptions.labelSelector",
+            "in": "query"
           },
           {
             "type": "string",
-            "format": "int64",
-            "description": "The duration in seconds before the object should be deleted. Value must be non-negative integer.\nThe value zero indicates delete immediately. If this value is nil, the default grace period for the\nspecified type will be used.\nDefaults to a per object value if not specified. zero means delete immediately.\n+optional.",
-            "name": "deleteOptions.gracePeriodSeconds",
+            "description": "A selector to restrict the list of returned objects by their fields.\nDefaults to everything.\n+optional.",
+            "name": "listOptions.fieldSelector",
+            "in": "query"
+          },
+          {
+            "type": "boolean",
+            "description": "Watch for changes to the described resources and return them as a stream of\nadd, update, and remove notifications. Specify resourceVersion.\n+optional.",
+            "name": "listOptions.watch",
+            "in": "query"
+          },
+          {
+            "type": "boolean",
+            "description": "allowWatchBookmarks requests watch events with type \"BOOKMARK\".\nServers that do not implement bookmarks may ignore this flag and\nbookmarks are sent at the server's discretion. Clients should not\nassume bookmarks are returned at any specific interval, nor may they\nassume the server will send any BOOKMARK event during a session.\nIf this is not a watch, this field is ignored.\nIf the feature gate WatchBookmarks is not enabled in apiserver,\nthis field is ignored.\n+optional.",
+            "name": "listOptions.allowWatchBookmarks",
             "in": "query"
           },
           {
             "type": "string",
-            "description": "Specifies the target UID.\n+optional.",
-            "name": "deleteOptions.preconditions.uid",
+            "description": "resourceVersion sets a constraint on what resource versions a request may be served from.\nSee https://kubernetes.io/docs/reference/using-api/api-concepts/#resource-versions for\ndetails.\n\nDefaults to unset\n+optional",
+            "name": "listOptions.resourceVersion",
             "in": "query"
           },
           {
             "type": "string",
-            "description": "Specifies the target ResourceVersion\n+optional.",
-            "name": "deleteOptions.preconditions.resourceVersion",
+            "description": "resourceVersionMatch determines how resourceVersion is applied to list calls.\nIt is highly recommended that resourceVersionMatch be set for list calls where\nresourceVersion is set\nSee https://kubernetes.io/docs/reference/using-api/api-concepts/#resource-versions for\ndetails.\n\nDefaults to unset\n+optional",
+            "name": "listOptions.resourceVersionMatch",
             "in": "query"
           },
           {
-            "type": "boolean",
-            "description": "Deprecated: please use the PropagationPolicy, this field will be deprecated in 1.7.\nShould the dependent objects be orphaned. If true/false, the \"orphan\"\nfinalizer will be added to/removed from the object's finalizers list.\nEither this field or PropagationPolicy may be set, but not both.\n+optional.",
-            "name": "deleteOptions.orphanDependents",
+            "type": "string",
+            "format": "int64",
+            "description": "Timeout for the list/watch call.\nThis limits the duration of the call, regardless of any activity or inactivity.\n+optional.",
+            "name": "listOptions.timeoutSeconds",
             "in": "query"
           },
           {
             "type": "string",
-            "description": "Whether and how garbage collection will be performed.\nEither this field or OrphanDependents may be set, but not both.\nThe default policy is decided by the existing finalizer set in the\nmetadata.finalizers and the resource-specific default policy.\nAcceptable values are: 'Orphan' - orphan the dependents; 'Background' -\nallow the garbage collector to delete the dependents in the background;\n'Foreground' - a cascading policy that deletes all dependents in the\nforeground.\n+optional.",
-            "name": "deleteOptions.propagationPolicy",
+            "format": "int64",
+            "description": "limit is a maximum number of responses to return for a list call. If more items exist, the\nserver will set the `continue` field on the list metadata to a value that can be used with the\nsame initial query to retrieve the next set of results. Setting a limit may return fewer than\nthe requested amount of items (up to zero items) in the event all requested objects are\nfiltered out and clients should only use the presence of the continue field to determine whether\nmore results are available. Servers may choose not to support the limit argument and will return\nall of the available results. If limit is specified and the continue field is empty, clients may\nassume that no more results are available. This field is not supported if watch is true.\n\nThe server guarantees that the objects returned when using continue will be identical to issuing\na single list call without a limit - that is, no objects created, modified, or deleted after the\nfirst request is issued will be included in any subsequent continued requests. This is sometimes\nreferred to as a consistent snapshot, and ensures that a client that is using limit to receive\nsmaller chunks of a very large result can ensure they see all possible objects. If objects are\nupdated during a chunked list the version of the object that was present at the time the first list\nresult was calculated is returned.",
+            "name": "listOptions.limit",
             "in": "query"
           },
           {
-            "type": "array",
-            "items": {
-              "type": "string"
-            },
-            "collectionFormat": "multi",
-            "description": "When present, indicates that modifications should not be\npersisted. An invalid or unrecognized dryRun directive will\nresult in an error response and no further processing of the\nrequest. Valid values are:\n- All: all dry run stages will be processed\n+optional.",
-            "name": "deleteOptions.dryRun",
+            "type": "string",
+            "description": "The continue option should be set when retrieving more results from the server. Since this value is\nserver defined, clients may only use the continue value from a previous query result with identical\nquery parameters (except for the value of continue) and the server may reject a continue value it\ndoes not recognize. If the specified continue value is no longer valid whether due to expiration\n(generally five to fifteen minutes) or a configuration change on the server, the server will\nrespond with a 410 ResourceExpired error together with a continue token. If the client needs a\nconsistent list, it must restart their list without the continue field. Otherwise, the client may\nsend another list request with the token received with the 410 error, the server will respond with\na list starting from the next key, but from the latest snapshot, which is inconsistent from the\nprevious list results - objects that are created, modified, or deleted after the first list request\nwill be included in the response, as long as their keys are after the \"next key\".\n\nThis field is not supported when watch is true. Clients may start a watch from the last\nresourceVersion value returned by the server and not miss any modifications.",
+            "name": "listOptions.continue",
+            "in": "query"
+          },
+          {
+            "type": "string",
+            "name": "fields",
             "in": "query"
           }
         ],
         "responses": {
           "200": {
-            "description": "A successful response.",
+            "description": "A successful response.(streaming responses)",
             "schema": {
-              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.WorkflowTemplateDeleteResponse"
+              "type": "object",
+              "title": "Stream result of io.argoproj.workflow.v1alpha1.WorkflowWatchEvent",
+              "properties": {
+                "error": {
+                  "$ref": "#/definitions/grpc.gateway.runtime.StreamError"
+                },
+                "result": {
+                  "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.WorkflowWatchEvent"
+                }
+              }
             }
           },
           "default": {
@@ -2556,12 +2787,12 @@
         }
       }
     },
-    "/api/v1/workflows/{namespace}": {
+    "/api/v1/workflow-templates/{namespace}": {
       "get": {
         "tags": [
-          "WorkflowService"
+          "WorkflowTemplateService"
         ],
-        "operationId": "WorkflowService_ListWorkflows",
+        "operationId": "WorkflowTemplateService_ListWorkflowTemplates",
         "parameters": [
           {
             "type": "string",
@@ -2624,19 +2855,13 @@
             "description": "The continue option should be set when retrieving more results from the server. Since this value is\nserver defined, clients may only use the continue value from a previous query result with identical\nquery parameters (except for the value of continue) and the server may reject a continue value it\ndoes not recognize. If the specified continue value is no longer valid whether due to expiration\n(generally five to fifteen minutes) or a configuration change on the server, the server will\nrespond with a 410 ResourceExpired error together with a continue token. If the client needs a\nconsistent list, it must restart their list without the continue field. Otherwise, the client may\nsend another list request with the token received with the 410 error, the server will respond with\na list starting from the next key, but from the latest snapshot, which is inconsistent from the\nprevious list results - objects that are created, modified, or deleted after the first list request\nwill be included in the response, as long as their keys are after the \"next key\".\n\nThis field is not supported when watch is true. Clients may start a watch from the last\nresourceVersion value returned by the server and not miss any modifications.",
             "name": "listOptions.continue",
             "in": "query"
-          },
-          {
-            "type": "string",
-            "description": "Fields to be included or excluded in the response. e.g. \"items.spec,items.status.phase\", \"-items.status.nodes\".",
-            "name": "fields",
-            "in": "query"
           }
         ],
         "responses": {
           "200": {
             "description": "A successful response.",
             "schema": {
-              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.WorkflowList"
+              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.WorkflowTemplateList"
             }
           },
           "default": {
@@ -2649,9 +2874,9 @@
       },
       "post": {
         "tags": [
-          "WorkflowService"
+          "WorkflowTemplateService"
         ],
-        "operationId": "WorkflowService_CreateWorkflow",
+        "operationId": "WorkflowTemplateService_CreateWorkflowTemplate",
         "parameters": [
           {
             "type": "string",
@@ -2664,7 +2889,7 @@
             "in": "body",
             "required": true,
             "schema": {
-              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.WorkflowCreateRequest"
+              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.WorkflowTemplateCreateRequest"
             }
           }
         ],
@@ -2672,7 +2897,7 @@
           "200": {
             "description": "A successful response.",
             "schema": {
-              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.Workflow"
+              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.WorkflowTemplate"
             }
           },
           "default": {
@@ -2684,12 +2909,12 @@
         }
       }
     },
-    "/api/v1/workflows/{namespace}/lint": {
+    "/api/v1/workflow-templates/{namespace}/lint": {
       "post": {
         "tags": [
-          "WorkflowService"
+          "WorkflowTemplateService"
         ],
-        "operationId": "WorkflowService_LintWorkflow",
+        "operationId": "WorkflowTemplateService_LintWorkflowTemplate",
         "parameters": [
           {
             "type": "string",
@@ -2702,7 +2927,7 @@
             "in": "body",
             "required": true,
             "schema": {
-              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.WorkflowLintRequest"
+              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.WorkflowTemplateLintRequest"
             }
           }
         ],
@@ -2710,7 +2935,7 @@
           "200": {
             "description": "A successful response.",
             "schema": {
-              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.Workflow"
+              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.WorkflowTemplate"
             }
           },
           "default": {
@@ -2722,12 +2947,12 @@
         }
       }
     },
-    "/api/v1/workflows/{namespace}/submit": {
-      "post": {
+    "/api/v1/workflow-templates/{namespace}/{name}": {
+      "get": {
         "tags": [
-          "WorkflowService"
+          "WorkflowTemplateService"
         ],
-        "operationId": "WorkflowService_SubmitWorkflow",
+        "operationId": "WorkflowTemplateService_GetWorkflowTemplate",
         "parameters": [
           {
             "type": "string",
@@ -2736,19 +2961,23 @@
             "required": true
           },
           {
-            "name": "body",
-            "in": "body",
-            "required": true,
-            "schema": {
-              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.WorkflowSubmitRequest"
-            }
+            "type": "string",
+            "name": "name",
+            "in": "path",
+            "required": true
+          },
+          {
+            "type": "string",
+            "description": "resourceVersion sets a constraint on what resource versions a request may be served from.\nSee https://kubernetes.io/docs/reference/using-api/api-concepts/#resource-versions for\ndetails.\n\nDefaults to unset\n+optional",
+            "name": "getOptions.resourceVersion",
+            "in": "query"
           }
         ],
         "responses": {
           "200": {
             "description": "A successful response.",
             "schema": {
-              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.Workflow"
+              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.WorkflowTemplate"
             }
           },
           "default": {
@@ -2758,14 +2987,12 @@
             }
           }
         }
-      }
-    },
-    "/api/v1/workflows/{namespace}/{name}": {
-      "get": {
+      },
+      "put": {
         "tags": [
-          "WorkflowService"
+          "WorkflowTemplateService"
         ],
-        "operationId": "WorkflowService_GetWorkflow",
+        "operationId": "WorkflowTemplateService_UpdateWorkflowTemplate",
         "parameters": [
           {
             "type": "string",
@@ -2775,28 +3002,25 @@
           },
           {
             "type": "string",
+            "description": "DEPRECATED: This field is ignored.",
             "name": "name",
             "in": "path",
             "required": true
           },
           {
-            "type": "string",
-            "description": "resourceVersion sets a constraint on what resource versions a request may be served from.\nSee https://kubernetes.io/docs/reference/using-api/api-concepts/#resource-versions for\ndetails.\n\nDefaults to unset\n+optional",
-            "name": "getOptions.resourceVersion",
-            "in": "query"
-          },
-          {
-            "type": "string",
-            "description": "Fields to be included or excluded in the response. e.g. \"spec,status.phase\", \"-status.nodes\".",
-            "name": "fields",
-            "in": "query"
+            "name": "body",
+            "in": "body",
+            "required": true,
+            "schema": {
+              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.WorkflowTemplateUpdateRequest"
+            }
           }
         ],
         "responses": {
           "200": {
             "description": "A successful response.",
             "schema": {
-              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.Workflow"
+              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.WorkflowTemplate"
             }
           },
           "default": {
@@ -2809,9 +3033,9 @@
       },
       "delete": {
         "tags": [
-          "WorkflowService"
+          "WorkflowTemplateService"
         ],
-        "operationId": "WorkflowService_DeleteWorkflow",
+        "operationId": "WorkflowTemplateService_DeleteWorkflowTemplate",
         "parameters": [
           {
             "type": "string",
@@ -2871,7 +3095,7 @@
           "200": {
             "description": "A successful response.",
             "schema": {
-              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.WorkflowDeleteResponse"
+              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.WorkflowTemplateDeleteResponse"
             }
           },
           "default": {
@@ -2883,12 +3107,12 @@
         }
       }
     },
-    "/api/v1/workflows/{namespace}/{name}/log": {
+    "/api/v1/workflows/{namespace}": {
       "get": {
         "tags": [
           "WorkflowService"
         ],
-        "operationId": "WorkflowService_WorkflowLogs",
+        "operationId": "WorkflowService_ListWorkflows",
         "parameters": [
           {
             "type": "string",
@@ -2898,100 +3122,72 @@
           },
           {
             "type": "string",
-            "name": "name",
-            "in": "path",
-            "required": true
-          },
-          {
-            "type": "string",
-            "name": "podName",
+            "description": "A selector to restrict the list of returned objects by their labels.\nDefaults to everything.\n+optional.",
+            "name": "listOptions.labelSelector",
             "in": "query"
           },
           {
             "type": "string",
-            "description": "The container for which to stream logs. Defaults to only container if there is one container in the pod.\n+optional.",
-            "name": "logOptions.container",
+            "description": "A selector to restrict the list of returned objects by their fields.\nDefaults to everything.\n+optional.",
+            "name": "listOptions.fieldSelector",
             "in": "query"
           },
           {
             "type": "boolean",
-            "description": "Follow the log stream of the pod. Defaults to false.\n+optional.",
-            "name": "logOptions.follow",
+            "description": "Watch for changes to the described resources and return them as a stream of\nadd, update, and remove notifications. Specify resourceVersion.\n+optional.",
+            "name": "listOptions.watch",
             "in": "query"
           },
           {
             "type": "boolean",
-            "description": "Return previous terminated container logs. Defaults to false.\n+optional.",
-            "name": "logOptions.previous",
+            "description": "allowWatchBookmarks requests watch events with type \"BOOKMARK\".\nServers that do not implement bookmarks may ignore this flag and\nbookmarks are sent at the server's discretion. Clients should not\nassume bookmarks are returned at any specific interval, nor may they\nassume the server will send any BOOKMARK event during a session.\nIf this is not a watch, this field is ignored.\nIf the feature gate WatchBookmarks is not enabled in apiserver,\nthis field is ignored.\n+optional.",
+            "name": "listOptions.allowWatchBookmarks",
             "in": "query"
           },
           {
             "type": "string",
-            "format": "int64",
-            "description": "A relative time in seconds before the current time from which to show logs. If this value\nprecedes the time a pod was started, only logs since the pod start will be returned.\nIf this value is in the future, no logs will be returned.\nOnly one of sinceSeconds or sinceTime may be specified.\n+optional.",
-            "name": "logOptions.sinceSeconds",
+            "description": "resourceVersion sets a constraint on what resource versions a request may be served from.\nSee https://kubernetes.io/docs/reference/using-api/api-concepts/#resource-versions for\ndetails.\n\nDefaults to unset\n+optional",
+            "name": "listOptions.resourceVersion",
             "in": "query"
           },
           {
             "type": "string",
-            "format": "int64",
-            "description": "Represents seconds of UTC time since Unix epoch\n1970-01-01T00:00:00Z. Must be from 0001-01-01T00:00:00Z to\n9999-12-31T23:59:59Z inclusive.",
-            "name": "logOptions.sinceTime.seconds",
+            "description": "resourceVersionMatch determines how resourceVersion is applied to list calls.\nIt is highly recommended that resourceVersionMatch be set for list calls where\nresourceVersion is set\nSee https://kubernetes.io/docs/reference/using-api/api-concepts/#resource-versions for\ndetails.\n\nDefaults to unset\n+optional",
+            "name": "listOptions.resourceVersionMatch",
             "in": "query"
           },
           {
-            "type": "integer",
-            "format": "int32",
-            "description": "Non-negative fractions of a second at nanosecond resolution. Negative\nsecond values with fractions must still have non-negative nanos values\nthat count forward in time. Must be from 0 to 999,999,999\ninclusive. This field may be limited in precision depending on context.",
-            "name": "logOptions.sinceTime.nanos",
-            "in": "query"
-          },
-          {
-            "type": "boolean",
-            "description": "If true, add an RFC3339 or RFC3339Nano timestamp at the beginning of every line\nof log output. Defaults to false.\n+optional.",
-            "name": "logOptions.timestamps",
+            "type": "string",
+            "format": "int64",
+            "description": "Timeout for the list/watch call.\nThis limits the duration of the call, regardless of any activity or inactivity.\n+optional.",
+            "name": "listOptions.timeoutSeconds",
             "in": "query"
           },
           {
             "type": "string",
             "format": "int64",
-            "description": "If set, the number of lines from the end of the logs to show. If not specified,\nlogs are shown from the creation of the container or sinceSeconds or sinceTime\n+optional.",
-            "name": "logOptions.tailLines",
+            "description": "limit is a maximum number of responses to return for a list call. If more items exist, the\nserver will set the `continue` field on the list metadata to a value that can be used with the\nsame initial query to retrieve the next set of results. Setting a limit may return fewer than\nthe requested amount of items (up to zero items) in the event all requested objects are\nfiltered out and clients should only use the presence of the continue field to determine whether\nmore results are available. Servers may choose not to support the limit argument and will return\nall of the available results. If limit is specified and the continue field is empty, clients may\nassume that no more results are available. This field is not supported if watch is true.\n\nThe server guarantees that the objects returned when using continue will be identical to issuing\na single list call without a limit - that is, no objects created, modified, or deleted after the\nfirst request is issued will be included in any subsequent continued requests. This is sometimes\nreferred to as a consistent snapshot, and ensures that a client that is using limit to receive\nsmaller chunks of a very large result can ensure they see all possible objects. If objects are\nupdated during a chunked list the version of the object that was present at the time the first list\nresult was calculated is returned.",
+            "name": "listOptions.limit",
             "in": "query"
           },
           {
             "type": "string",
-            "format": "int64",
-            "description": "If set, the number of bytes to read from the server before terminating the\nlog output. This may not display a complete final line of logging, and may return\nslightly more or slightly less than the specified limit.\n+optional.",
-            "name": "logOptions.limitBytes",
-            "in": "query"
-          },
-          {
-            "type": "boolean",
-            "description": "insecureSkipTLSVerifyBackend indicates that the apiserver should not confirm the validity of the\nserving certificate of the backend it is connecting to.  This will make the HTTPS connection between the apiserver\nand the backend insecure. This means the apiserver cannot verify the log data it is receiving came from the real\nkubelet.  If the kubelet is configured to verify the apiserver's TLS credentials, it does not mean the\nconnection to the real kubelet is vulnerable to a man in the middle attack (e.g. an attacker could not intercept\nthe actual log data coming from the real kubelet).\n+optional.",
-            "name": "logOptions.insecureSkipTLSVerifyBackend",
+            "description": "The continue option should be set when retrieving more results from the server. Since this value is\nserver defined, clients may only use the continue value from a previous query result with identical\nquery parameters (except for the value of continue) and the server may reject a continue value it\ndoes not recognize. If the specified continue value is no longer valid whether due to expiration\n(generally five to fifteen minutes) or a configuration change on the server, the server will\nrespond with a 410 ResourceExpired error together with a continue token. If the client needs a\nconsistent list, it must restart their list without the continue field. Otherwise, the client may\nsend another list request with the token received with the 410 error, the server will respond with\na list starting from the next key, but from the latest snapshot, which is inconsistent from the\nprevious list results - objects that are created, modified, or deleted after the first list request\nwill be included in the response, as long as their keys are after the \"next key\".\n\nThis field is not supported when watch is true. Clients may start a watch from the last\nresourceVersion value returned by the server and not miss any modifications.",
+            "name": "listOptions.continue",
             "in": "query"
           },
           {
             "type": "string",
-            "name": "grep",
+            "description": "Fields to be included or excluded in the response. e.g. \"items.spec,items.status.phase\", \"-items.status.nodes\".",
+            "name": "fields",
             "in": "query"
           }
         ],
         "responses": {
           "200": {
-            "description": "A successful response.(streaming responses)",
+            "description": "A successful response.",
             "schema": {
-              "type": "object",
-              "title": "Stream result of io.argoproj.workflow.v1alpha1.LogEntry",
-              "properties": {
-                "error": {
-                  "$ref": "#/definitions/grpc.gateway.runtime.StreamError"
-                },
-                "result": {
-                  "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.LogEntry"
-                }
-              }
+              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.WorkflowList"
             }
           },
           "default": {
@@ -3001,14 +3197,12 @@
             }
           }
         }
-      }
-    },
-    "/api/v1/workflows/{namespace}/{name}/resubmit": {
-      "put": {
+      },
+      "post": {
         "tags": [
           "WorkflowService"
         ],
-        "operationId": "WorkflowService_ResubmitWorkflow",
+        "operationId": "WorkflowService_CreateWorkflow",
         "parameters": [
           {
             "type": "string",
@@ -3016,18 +3210,12 @@
             "in": "path",
             "required": true
           },
-          {
-            "type": "string",
-            "name": "name",
-            "in": "path",
-            "required": true
-          },
           {
             "name": "body",
             "in": "body",
             "required": true,
             "schema": {
-              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.WorkflowResubmitRequest"
+              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.WorkflowCreateRequest"
             }
           }
         ],
@@ -3047,12 +3235,12 @@
         }
       }
     },
-    "/api/v1/workflows/{namespace}/{name}/resume": {
-      "put": {
+    "/api/v1/workflows/{namespace}/lint": {
+      "post": {
         "tags": [
           "WorkflowService"
         ],
-        "operationId": "WorkflowService_ResumeWorkflow",
+        "operationId": "WorkflowService_LintWorkflow",
         "parameters": [
           {
             "type": "string",
@@ -3060,18 +3248,12 @@
             "in": "path",
             "required": true
           },
-          {
-            "type": "string",
-            "name": "name",
-            "in": "path",
-            "required": true
-          },
           {
             "name": "body",
             "in": "body",
             "required": true,
             "schema": {
-              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.WorkflowResumeRequest"
+              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.WorkflowLintRequest"
             }
           }
         ],
@@ -3091,12 +3273,12 @@
         }
       }
     },
-    "/api/v1/workflows/{namespace}/{name}/retry": {
-      "put": {
+    "/api/v1/workflows/{namespace}/submit": {
+      "post": {
         "tags": [
           "WorkflowService"
         ],
-        "operationId": "WorkflowService_RetryWorkflow",
+        "operationId": "WorkflowService_SubmitWorkflow",
         "parameters": [
           {
             "type": "string",
@@ -3104,18 +3286,12 @@
             "in": "path",
             "required": true
           },
-          {
-            "type": "string",
-            "name": "name",
-            "in": "path",
-            "required": true
-          },
           {
             "name": "body",
             "in": "body",
             "required": true,
             "schema": {
-              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.WorkflowRetryRequest"
+              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.WorkflowSubmitRequest"
             }
           }
         ],
@@ -3135,12 +3311,12 @@
         }
       }
     },
-    "/api/v1/workflows/{namespace}/{name}/set": {
-      "put": {
+    "/api/v1/workflows/{namespace}/{name}": {
+      "get": {
         "tags": [
           "WorkflowService"
         ],
-        "operationId": "WorkflowService_SetWorkflow",
+        "operationId": "WorkflowService_GetWorkflow",
         "parameters": [
           {
             "type": "string",
@@ -3155,12 +3331,16 @@
             "required": true
           },
           {
-            "name": "body",
-            "in": "body",
-            "required": true,
-            "schema": {
-              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.WorkflowSetRequest"
-            }
+            "type": "string",
+            "description": "resourceVersion sets a constraint on what resource versions a request may be served from.\nSee https://kubernetes.io/docs/reference/using-api/api-concepts/#resource-versions for\ndetails.\n\nDefaults to unset\n+optional",
+            "name": "getOptions.resourceVersion",
+            "in": "query"
+          },
+          {
+            "type": "string",
+            "description": "Fields to be included or excluded in the response. e.g. \"spec,status.phase\", \"-status.nodes\".",
+            "name": "fields",
+            "in": "query"
           }
         ],
         "responses": {
@@ -3177,14 +3357,12 @@
             }
           }
         }
-      }
-    },
-    "/api/v1/workflows/{namespace}/{name}/stop": {
-      "put": {
+      },
+      "delete": {
         "tags": [
           "WorkflowService"
         ],
-        "operationId": "WorkflowService_StopWorkflow",
+        "operationId": "WorkflowService_DeleteWorkflow",
         "parameters": [
           {
             "type": "string",
@@ -3198,108 +3376,53 @@
             "in": "path",
             "required": true
           },
-          {
-            "name": "body",
-            "in": "body",
-            "required": true,
-            "schema": {
-              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.WorkflowStopRequest"
-            }
-          }
-        ],
-        "responses": {
-          "200": {
-            "description": "A successful response.",
-            "schema": {
-              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.Workflow"
-            }
-          },
-          "default": {
-            "description": "An unexpected error response.",
-            "schema": {
-              "$ref": "#/definitions/grpc.gateway.runtime.Error"
-            }
-          }
-        }
-      }
-    },
-    "/api/v1/workflows/{namespace}/{name}/suspend": {
-      "put": {
-        "tags": [
-          "WorkflowService"
-        ],
-        "operationId": "WorkflowService_SuspendWorkflow",
-        "parameters": [
           {
             "type": "string",
-            "name": "namespace",
-            "in": "path",
-            "required": true
+            "format": "int64",
+            "description": "The duration in seconds before the object should be deleted. Value must be non-negative integer.\nThe value zero indicates delete immediately. If this value is nil, the default grace period for the\nspecified type will be used.\nDefaults to a per object value if not specified. zero means delete immediately.\n+optional.",
+            "name": "deleteOptions.gracePeriodSeconds",
+            "in": "query"
           },
           {
             "type": "string",
-            "name": "name",
-            "in": "path",
-            "required": true
+            "description": "Specifies the target UID.\n+optional.",
+            "name": "deleteOptions.preconditions.uid",
+            "in": "query"
           },
           {
-            "name": "body",
-            "in": "body",
-            "required": true,
-            "schema": {
-              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.WorkflowSuspendRequest"
-            }
-          }
-        ],
-        "responses": {
-          "200": {
-            "description": "A successful response.",
-            "schema": {
-              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.Workflow"
-            }
+            "type": "string",
+            "description": "Specifies the target ResourceVersion\n+optional.",
+            "name": "deleteOptions.preconditions.resourceVersion",
+            "in": "query"
           },
-          "default": {
-            "description": "An unexpected error response.",
-            "schema": {
-              "$ref": "#/definitions/grpc.gateway.runtime.Error"
-            }
-          }
-        }
-      }
-    },
-    "/api/v1/workflows/{namespace}/{name}/terminate": {
-      "put": {
-        "tags": [
-          "WorkflowService"
-        ],
-        "operationId": "WorkflowService_TerminateWorkflow",
-        "parameters": [
           {
-            "type": "string",
-            "name": "namespace",
-            "in": "path",
-            "required": true
+            "type": "boolean",
+            "description": "Deprecated: please use the PropagationPolicy, this field will be deprecated in 1.7.\nShould the dependent objects be orphaned. If true/false, the \"orphan\"\nfinalizer will be added to/removed from the object's finalizers list.\nEither this field or PropagationPolicy may be set, but not both.\n+optional.",
+            "name": "deleteOptions.orphanDependents",
+            "in": "query"
           },
           {
             "type": "string",
-            "name": "name",
-            "in": "path",
-            "required": true
+            "description": "Whether and how garbage collection will be performed.\nEither this field or OrphanDependents may be set, but not both.\nThe default policy is decided by the existing finalizer set in the\nmetadata.finalizers and the resource-specific default policy.\nAcceptable values are: 'Orphan' - orphan the dependents; 'Background' -\nallow the garbage collector to delete the dependents in the background;\n'Foreground' - a cascading policy that deletes all dependents in the\nforeground.\n+optional.",
+            "name": "deleteOptions.propagationPolicy",
+            "in": "query"
           },
           {
-            "name": "body",
-            "in": "body",
-            "required": true,
-            "schema": {
-              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.WorkflowTerminateRequest"
-            }
+            "type": "array",
+            "items": {
+              "type": "string"
+            },
+            "collectionFormat": "multi",
+            "description": "When present, indicates that modifications should not be\npersisted. An invalid or unrecognized dryRun directive will\nresult in an error response and no further processing of the\nrequest. Valid values are:\n- All: all dry run stages will be processed\n+optional.",
+            "name": "deleteOptions.dryRun",
+            "in": "query"
           }
         ],
         "responses": {
           "200": {
             "description": "A successful response.",
             "schema": {
-              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.Workflow"
+              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.WorkflowDeleteResponse"
             }
           },
           "default": {
@@ -3311,13 +3434,12 @@
         }
       }
     },
-    "/api/v1/workflows/{namespace}/{name}/{podName}/log": {
+    "/api/v1/workflows/{namespace}/{name}/log": {
       "get": {
         "tags": [
           "WorkflowService"
         ],
-        "summary": "DEPRECATED: Cannot work via HTTP if podName is an empty string. Use WorkflowLogs.",
-        "operationId": "WorkflowService_PodLogs",
+        "operationId": "WorkflowService_WorkflowLogs",
         "parameters": [
           {
             "type": "string",
@@ -3334,8 +3456,7 @@
           {
             "type": "string",
             "name": "podName",
-            "in": "path",
-            "required": true
+            "in": "query"
           },
           {
             "type": "string",
@@ -3432,74 +3553,1403 @@
           }
         }
       }
-    }
-  },
-  "definitions": {
-    "eventsource.CreateEventSourceRequest": {
+    },
+    "/api/v1/workflows/{namespace}/{name}/resubmit": {
+      "put": {
+        "tags": [
+          "WorkflowService"
+        ],
+        "operationId": "WorkflowService_ResubmitWorkflow",
+        "parameters": [
+          {
+            "type": "string",
+            "name": "namespace",
+            "in": "path",
+            "required": true
+          },
+          {
+            "type": "string",
+            "name": "name",
+            "in": "path",
+            "required": true
+          },
+          {
+            "name": "body",
+            "in": "body",
+            "required": true,
+            "schema": {
+              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.WorkflowResubmitRequest"
+            }
+          }
+        ],
+        "responses": {
+          "200": {
+            "description": "A successful response.",
+            "schema": {
+              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.Workflow"
+            }
+          },
+          "default": {
+            "description": "An unexpected error response.",
+            "schema": {
+              "$ref": "#/definitions/grpc.gateway.runtime.Error"
+            }
+          }
+        }
+      }
+    },
+    "/api/v1/workflows/{namespace}/{name}/resume": {
+      "put": {
+        "tags": [
+          "WorkflowService"
+        ],
+        "operationId": "WorkflowService_ResumeWorkflow",
+        "parameters": [
+          {
+            "type": "string",
+            "name": "namespace",
+            "in": "path",
+            "required": true
+          },
+          {
+            "type": "string",
+            "name": "name",
+            "in": "path",
+            "required": true
+          },
+          {
+            "name": "body",
+            "in": "body",
+            "required": true,
+            "schema": {
+              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.WorkflowResumeRequest"
+            }
+          }
+        ],
+        "responses": {
+          "200": {
+            "description": "A successful response.",
+            "schema": {
+              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.Workflow"
+            }
+          },
+          "default": {
+            "description": "An unexpected error response.",
+            "schema": {
+              "$ref": "#/definitions/grpc.gateway.runtime.Error"
+            }
+          }
+        }
+      }
+    },
+    "/api/v1/workflows/{namespace}/{name}/retry": {
+      "put": {
+        "tags": [
+          "WorkflowService"
+        ],
+        "operationId": "WorkflowService_RetryWorkflow",
+        "parameters": [
+          {
+            "type": "string",
+            "name": "namespace",
+            "in": "path",
+            "required": true
+          },
+          {
+            "type": "string",
+            "name": "name",
+            "in": "path",
+            "required": true
+          },
+          {
+            "name": "body",
+            "in": "body",
+            "required": true,
+            "schema": {
+              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.WorkflowRetryRequest"
+            }
+          }
+        ],
+        "responses": {
+          "200": {
+            "description": "A successful response.",
+            "schema": {
+              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.Workflow"
+            }
+          },
+          "default": {
+            "description": "An unexpected error response.",
+            "schema": {
+              "$ref": "#/definitions/grpc.gateway.runtime.Error"
+            }
+          }
+        }
+      }
+    },
+    "/api/v1/workflows/{namespace}/{name}/set": {
+      "put": {
+        "tags": [
+          "WorkflowService"
+        ],
+        "operationId": "WorkflowService_SetWorkflow",
+        "parameters": [
+          {
+            "type": "string",
+            "name": "namespace",
+            "in": "path",
+            "required": true
+          },
+          {
+            "type": "string",
+            "name": "name",
+            "in": "path",
+            "required": true
+          },
+          {
+            "name": "body",
+            "in": "body",
+            "required": true,
+            "schema": {
+              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.WorkflowSetRequest"
+            }
+          }
+        ],
+        "responses": {
+          "200": {
+            "description": "A successful response.",
+            "schema": {
+              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.Workflow"
+            }
+          },
+          "default": {
+            "description": "An unexpected error response.",
+            "schema": {
+              "$ref": "#/definitions/grpc.gateway.runtime.Error"
+            }
+          }
+        }
+      }
+    },
+    "/api/v1/workflows/{namespace}/{name}/stop": {
+      "put": {
+        "tags": [
+          "WorkflowService"
+        ],
+        "operationId": "WorkflowService_StopWorkflow",
+        "parameters": [
+          {
+            "type": "string",
+            "name": "namespace",
+            "in": "path",
+            "required": true
+          },
+          {
+            "type": "string",
+            "name": "name",
+            "in": "path",
+            "required": true
+          },
+          {
+            "name": "body",
+            "in": "body",
+            "required": true,
+            "schema": {
+              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.WorkflowStopRequest"
+            }
+          }
+        ],
+        "responses": {
+          "200": {
+            "description": "A successful response.",
+            "schema": {
+              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.Workflow"
+            }
+          },
+          "default": {
+            "description": "An unexpected error response.",
+            "schema": {
+              "$ref": "#/definitions/grpc.gateway.runtime.Error"
+            }
+          }
+        }
+      }
+    },
+    "/api/v1/workflows/{namespace}/{name}/suspend": {
+      "put": {
+        "tags": [
+          "WorkflowService"
+        ],
+        "operationId": "WorkflowService_SuspendWorkflow",
+        "parameters": [
+          {
+            "type": "string",
+            "name": "namespace",
+            "in": "path",
+            "required": true
+          },
+          {
+            "type": "string",
+            "name": "name",
+            "in": "path",
+            "required": true
+          },
+          {
+            "name": "body",
+            "in": "body",
+            "required": true,
+            "schema": {
+              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.WorkflowSuspendRequest"
+            }
+          }
+        ],
+        "responses": {
+          "200": {
+            "description": "A successful response.",
+            "schema": {
+              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.Workflow"
+            }
+          },
+          "default": {
+            "description": "An unexpected error response.",
+            "schema": {
+              "$ref": "#/definitions/grpc.gateway.runtime.Error"
+            }
+          }
+        }
+      }
+    },
+    "/api/v1/workflows/{namespace}/{name}/terminate": {
+      "put": {
+        "tags": [
+          "WorkflowService"
+        ],
+        "operationId": "WorkflowService_TerminateWorkflow",
+        "parameters": [
+          {
+            "type": "string",
+            "name": "namespace",
+            "in": "path",
+            "required": true
+          },
+          {
+            "type": "string",
+            "name": "name",
+            "in": "path",
+            "required": true
+          },
+          {
+            "name": "body",
+            "in": "body",
+            "required": true,
+            "schema": {
+              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.WorkflowTerminateRequest"
+            }
+          }
+        ],
+        "responses": {
+          "200": {
+            "description": "A successful response.",
+            "schema": {
+              "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.Workflow"
+            }
+          },
+          "default": {
+            "description": "An unexpected error response.",
+            "schema": {
+              "$ref": "#/definitions/grpc.gateway.runtime.Error"
+            }
+          }
+        }
+      }
+    },
+    "/api/v1/workflows/{namespace}/{name}/{podName}/log": {
+      "get": {
+        "tags": [
+          "WorkflowService"
+        ],
+        "summary": "DEPRECATED: Cannot work via HTTP if podName is an empty string. Use WorkflowLogs.",
+        "operationId": "WorkflowService_PodLogs",
+        "parameters": [
+          {
+            "type": "string",
+            "name": "namespace",
+            "in": "path",
+            "required": true
+          },
+          {
+            "type": "string",
+            "name": "name",
+            "in": "path",
+            "required": true
+          },
+          {
+            "type": "string",
+            "name": "podName",
+            "in": "path",
+            "required": true
+          },
+          {
+            "type": "string",
+            "description": "The container for which to stream logs. Defaults to only container if there is one container in the pod.\n+optional.",
+            "name": "logOptions.container",
+            "in": "query"
+          },
+          {
+            "type": "boolean",
+            "description": "Follow the log stream of the pod. Defaults to false.\n+optional.",
+            "name": "logOptions.follow",
+            "in": "query"
+          },
+          {
+            "type": "boolean",
+            "description": "Return previous terminated container logs. Defaults to false.\n+optional.",
+            "name": "logOptions.previous",
+            "in": "query"
+          },
+          {
+            "type": "string",
+            "format": "int64",
+            "description": "A relative time in seconds before the current time from which to show logs. If this value\nprecedes the time a pod was started, only logs since the pod start will be returned.\nIf this value is in the future, no logs will be returned.\nOnly one of sinceSeconds or sinceTime may be specified.\n+optional.",
+            "name": "logOptions.sinceSeconds",
+            "in": "query"
+          },
+          {
+            "type": "string",
+            "format": "int64",
+            "description": "Represents seconds of UTC time since Unix epoch\n1970-01-01T00:00:00Z. Must be from 0001-01-01T00:00:00Z to\n9999-12-31T23:59:59Z inclusive.",
+            "name": "logOptions.sinceTime.seconds",
+            "in": "query"
+          },
+          {
+            "type": "integer",
+            "format": "int32",
+            "description": "Non-negative fractions of a second at nanosecond resolution. Negative\nsecond values with fractions must still have non-negative nanos values\nthat count forward in time. Must be from 0 to 999,999,999\ninclusive. This field may be limited in precision depending on context.",
+            "name": "logOptions.sinceTime.nanos",
+            "in": "query"
+          },
+          {
+            "type": "boolean",
+            "description": "If true, add an RFC3339 or RFC3339Nano timestamp at the beginning of every line\nof log output. Defaults to false.\n+optional.",
+            "name": "logOptions.timestamps",
+            "in": "query"
+          },
+          {
+            "type": "string",
+            "format": "int64",
+            "description": "If set, the number of lines from the end of the logs to show. If not specified,\nlogs are shown from the creation of the container or sinceSeconds or sinceTime\n+optional.",
+            "name": "logOptions.tailLines",
+            "in": "query"
+          },
+          {
+            "type": "string",
+            "format": "int64",
+            "description": "If set, the number of bytes to read from the server before terminating the\nlog output. This may not display a complete final line of logging, and may return\nslightly more or slightly less than the specified limit.\n+optional.",
+            "name": "logOptions.limitBytes",
+            "in": "query"
+          },
+          {
+            "type": "boolean",
+            "description": "insecureSkipTLSVerifyBackend indicates that the apiserver should not confirm the validity of the\nserving certificate of the backend it is connecting to.  This will make the HTTPS connection between the apiserver\nand the backend insecure. This means the apiserver cannot verify the log data it is receiving came from the real\nkubelet.  If the kubelet is configured to verify the apiserver's TLS credentials, it does not mean the\nconnection to the real kubelet is vulnerable to a man in the middle attack (e.g. an attacker could not intercept\nthe actual log data coming from the real kubelet).\n+optional.",
+            "name": "logOptions.insecureSkipTLSVerifyBackend",
+            "in": "query"
+          },
+          {
+            "type": "string",
+            "name": "grep",
+            "in": "query"
+          }
+        ],
+        "responses": {
+          "200": {
+            "description": "A successful response.(streaming responses)",
+            "schema": {
+              "type": "object",
+              "title": "Stream result of io.argoproj.workflow.v1alpha1.LogEntry",
+              "properties": {
+                "error": {
+                  "$ref": "#/definitions/grpc.gateway.runtime.StreamError"
+                },
+                "result": {
+                  "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.LogEntry"
+                }
+              }
+            }
+          },
+          "default": {
+            "description": "An unexpected error response.",
+            "schema": {
+              "$ref": "#/definitions/grpc.gateway.runtime.Error"
+            }
+          }
+        }
+      }
+    }
+  },
+  "definitions": {
+    "eventsource.CreateEventSourceRequest": {
+      "type": "object",
+      "properties": {
+        "eventSource": {
+          "$ref": "#/definitions/io.argoproj.events.v1alpha1.EventSource"
+        },
+        "namespace": {
+          "type": "string"
+        }
+      }
+    },
+    "eventsource.EventSourceDeletedResponse": {
+      "type": "object"
+    },
+    "eventsource.EventSourceWatchEvent": {
+      "type": "object",
+      "properties": {
+        "object": {
+          "$ref": "#/definitions/io.argoproj.events.v1alpha1.EventSource"
+        },
+        "type": {
+          "type": "string"
+        }
+      }
+    },
+    "eventsource.LogEntry": {
+      "type": "object",
+      "title": "structured log entry",
+      "properties": {
+        "eventName": {
+          "type": "string",
+          "title": "optional - the event name (e.g. `example`)"
+        },
+        "eventSourceName": {
+          "type": "string"
+        },
+        "eventSourceType": {
+          "type": "string",
+          "title": "optional - the event source type (e.g. `webhook`)"
+        },
+        "level": {
+          "type": "string"
+        },
+        "msg": {
+          "type": "string"
+        },
+        "namespace": {
+          "type": "string"
+        },
+        "time": {
+          "$ref": "#/definitions/io.k8s.apimachinery.pkg.apis.meta.v1.Time"
+        }
+      }
+    },
+    "eventsource.UpdateEventSourceRequest": {
+      "type": "object",
+      "properties": {
+        "eventSource": {
+          "$ref": "#/definitions/io.argoproj.events.v1alpha1.EventSource"
+        },
+        "name": {
+          "type": "string"
+        },
+        "namespace": {
+          "type": "string"
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.AWSCredentials": {
+      "type": "object",
+      "properties": {
+        "accessKeyId": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.SecretKeySelector"
+        },
+        "secretAccessKey": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.SecretKeySelector"
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.AWSEndpoint": {
+      "type": "object",
+      "properties": {
+        "url": {
+          "type": "string"
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Backoff": {
+      "type": "object",
+      "properties": {
+        "FactorPercentage": {
+          "type": "integer",
+          "title": "+kubebuilder:default=200"
+        },
+        "cap": {
+          "title": "+kubebuilder:default=\"0ms\"",
+          "$ref": "#/definitions/io.k8s.apimachinery.pkg.apis.meta.v1.Duration"
+        },
+        "duration": {
+          "title": "+kubebuilder:default=\"100ms\"",
+          "$ref": "#/definitions/io.k8s.apimachinery.pkg.apis.meta.v1.Duration"
+        },
+        "jitterPercentage": {
+          "type": "integer",
+          "title": "the amount of jitter per step, typically 10-20%, \u003e100% is valid, but strange\n+kubebuilder:default=10"
+        },
+        "steps": {
+          "type": "string",
+          "format": "uint64",
+          "title": "the number of backoff steps, zero means no retries\n+kubebuilder:default=20"
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Cat": {
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Code": {
+      "type": "object",
+      "properties": {
+        "runtime": {
+          "type": "string"
+        },
+        "source": {
+          "type": "string"
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Container": {
+      "type": "object",
+      "properties": {
+        "args": {
+          "type": "array",
+          "items": {
+            "type": "string"
+          }
+        },
+        "command": {
+          "type": "array",
+          "items": {
+            "type": "string"
+          }
+        },
+        "env": {
+          "type": "array",
+          "items": {
+            "$ref": "#/definitions/io.k8s.api.core.v1.EnvVar"
+          }
+        },
+        "image": {
+          "type": "string"
+        },
+        "in": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Interface"
+        },
+        "resources": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.ResourceRequirements"
+        },
+        "volumeMounts": {
+          "type": "array",
+          "items": {
+            "$ref": "#/definitions/io.k8s.api.core.v1.VolumeMount"
+          }
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Cron": {
+      "type": "object",
+      "properties": {
+        "layout": {
+          "type": "string",
+          "title": "+kubebuilder:default=\"2006-01-02T15:04:05Z07:00\""
+        },
+        "schedule": {
+          "type": "string"
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.DBDataSource": {
+      "type": "object",
+      "properties": {
+        "value": {
+          "type": "string"
+        },
+        "valueFrom": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.DBDataSourceFrom"
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.DBDataSourceFrom": {
+      "type": "object",
+      "properties": {
+        "secretKeyRef": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.SecretKeySelector"
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.DBSink": {
+      "type": "object",
+      "properties": {
+        "actions": {
+          "type": "array",
+          "items": {
+            "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.SQLAction"
+          }
+        },
+        "database": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Database"
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.DBSource": {
+      "type": "object",
+      "properties": {
+        "commitInterval": {
+          "title": "+kubebuilder:default=\"5s\"",
+          "$ref": "#/definitions/io.k8s.apimachinery.pkg.apis.meta.v1.Duration"
+        },
+        "database": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Database"
+        },
+        "initSchema": {
+          "type": "boolean",
+          "title": "+kubebuilder:default=true"
+        },
+        "offsetColumn": {
+          "type": "string"
+        },
+        "pollInterval": {
+          "title": "+kubebuilder:default=\"1s\"",
+          "$ref": "#/definitions/io.k8s.apimachinery.pkg.apis.meta.v1.Duration"
+        },
+        "query": {
+          "type": "string"
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Database": {
+      "type": "object",
+      "properties": {
+        "dataSource": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.DBDataSource"
+        },
+        "driver": {
+          "type": "string",
+          "title": "+kubebuilder:default=default"
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Dedupe": {
+      "type": "object",
+      "properties": {
+        "maxSize": {
+          "title": "MaxSize is the maximum number of entries to keep in the in-memory database used to store recent UIDs.\nLarger number mean bigger windows of time for dedupe, but greater memory usage.\n+kubebuilder:default=\"1M\"",
+          "$ref": "#/definitions/io.k8s.apimachinery.pkg.api.resource.Quantity"
+        },
+        "uid": {
+          "type": "string",
+          "title": "+kubebuilder:default=\"sha1(msg)\""
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Expand": {
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Flatten": {
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Git": {
+      "type": "object",
+      "properties": {
+        "branch": {
+          "type": "string",
+          "title": "+kubebuilder:default=main"
+        },
+        "command": {
+          "type": "array",
+          "items": {
+            "type": "string"
+          }
+        },
+        "env": {
+          "type": "array",
+          "items": {
+            "$ref": "#/definitions/io.k8s.api.core.v1.EnvVar"
+          }
+        },
+        "image": {
+          "type": "string"
+        },
+        "passwordSecret": {
+          "title": "PasswordSecret is the secret selector to the repository password",
+          "$ref": "#/definitions/io.k8s.api.core.v1.SecretKeySelector"
+        },
+        "path": {
+          "description": "+kubebuilder:default=.",
+          "type": "string"
+        },
+        "sshPrivateKeySecret": {
+          "title": "SSHPrivateKeySecret is the secret selector to the repository ssh private key",
+          "$ref": "#/definitions/io.k8s.api.core.v1.SecretKeySelector"
+        },
+        "url": {
+          "type": "string"
+        },
+        "usernameSecret": {
+          "title": "UsernameSecret is the secret selector to the repository username",
+          "$ref": "#/definitions/io.k8s.api.core.v1.SecretKeySelector"
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Group": {
+      "type": "object",
+      "properties": {
+        "endOfGroup": {
+          "type": "string"
+        },
+        "format": {
+          "type": "string"
+        },
+        "key": {
+          "type": "string"
+        },
+        "storage": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Storage"
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.HTTP": {
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.HTTPHeader": {
+      "type": "object",
+      "properties": {
+        "name": {
+          "type": "string"
+        },
+        "value": {
+          "type": "string"
+        },
+        "valueFrom": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.HTTPHeaderSource"
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.HTTPHeaderSource": {
+      "type": "object",
+      "properties": {
+        "secretKeyRef": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.SecretKeySelector"
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.HTTPSink": {
+      "type": "object",
+      "properties": {
+        "headers": {
+          "type": "array",
+          "items": {
+            "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.HTTPHeader"
+          }
+        },
+        "url": {
+          "type": "string"
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.HTTPSource": {
+      "type": "object",
+      "properties": {
+        "serviceName": {
+          "type": "string"
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Interface": {
+      "type": "object",
+      "properties": {
+        "fifo": {
+          "type": "boolean"
+        },
+        "http": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.HTTP"
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Kafka": {
+      "type": "object",
+      "properties": {
+        "kafkaConfig": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.KafkaConfig"
+        },
+        "name": {
+          "type": "string",
+          "title": "+kubebuilder:default=default"
+        },
+        "topic": {
+          "type": "string"
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.KafkaConfig": {
+      "type": "object",
+      "properties": {
+        "brokers": {
+          "type": "array",
+          "items": {
+            "type": "string"
+          }
+        },
+        "net": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.KafkaNET"
+        },
+        "version": {
+          "type": "string"
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.KafkaNET": {
+      "type": "object",
+      "properties": {
+        "sasl": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.SASL"
+        },
+        "tls": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.TLS"
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.KafkaSink": {
+      "type": "object",
+      "properties": {
+        "async": {
+          "type": "boolean"
+        },
+        "kafka": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Kafka"
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.KafkaSource": {
+      "type": "object",
+      "properties": {
+        "kafka": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Kafka"
+        },
+        "startOffset": {
+          "type": "string",
+          "title": "+kubebuilder:default=Last"
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Log": {
+      "type": "object",
+      "properties": {
+        "truncate": {
+          "type": "string",
+          "format": "uint64"
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Metadata": {
+      "type": "object",
+      "properties": {
+        "annotations": {
+          "type": "object",
+          "additionalProperties": {
+            "type": "string"
+          }
+        },
+        "labels": {
+          "type": "object",
+          "additionalProperties": {
+            "type": "string"
+          }
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Metrics": {
+      "type": "object",
+      "properties": {
+        "errors": {
+          "type": "string",
+          "format": "uint64"
+        },
+        "rate": {
+          "$ref": "#/definitions/io.k8s.apimachinery.pkg.api.resource.Quantity"
+        },
+        "retries": {
+          "type": "string",
+          "format": "uint64",
+          "title": "current rate of messages per second"
+        },
+        "total": {
+          "type": "string",
+          "format": "uint64"
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Pipeline": {
+      "type": "object",
+      "title": "+kubebuilder:object:root=true\n+kubebuilder:resource:shortName=pl\n+kubebuilder:subresource:status\n+kubebuilder:printcolumn:name=\"Phase\",type=string,JSONPath=`.status.phase`\n+kubebuilder:printcolumn:name=\"Message\",type=string,JSONPath=`.status.message`",
+      "properties": {
+        "metadata": {
+          "$ref": "#/definitions/io.k8s.apimachinery.pkg.apis.meta.v1.ObjectMeta"
+        },
+        "spec": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.PipelineSpec"
+        },
+        "status": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.PipelineStatus"
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.PipelineList": {
+      "type": "object",
+      "properties": {
+        "items": {
+          "type": "array",
+          "items": {
+            "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Pipeline"
+          }
+        },
+        "metadata": {
+          "$ref": "#/definitions/io.k8s.apimachinery.pkg.apis.meta.v1.ListMeta"
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.PipelineSpec": {
+      "type": "object",
+      "properties": {
+        "steps": {
+          "type": "array",
+          "title": "+patchStrategy=merge\n+patchMergeKey=name",
+          "items": {
+            "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.StepSpec"
+          }
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.PipelineStatus": {
+      "type": "object",
+      "properties": {
+        "conditions": {
+          "type": "array",
+          "items": {
+            "$ref": "#/definitions/io.k8s.apimachinery.pkg.apis.meta.v1.Condition"
+          }
+        },
+        "lastUpdated": {
+          "$ref": "#/definitions/io.k8s.apimachinery.pkg.apis.meta.v1.Time"
+        },
+        "message": {
+          "type": "string"
+        },
+        "phase": {
+          "type": "string"
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.S3": {
+      "type": "object",
+      "properties": {
+        "bucket": {
+          "type": "string"
+        },
+        "credentials": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.AWSCredentials"
+        },
+        "endpoint": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.AWSEndpoint"
+        },
+        "name": {
+          "type": "string",
+          "title": "+kubebuilder:default=default"
+        },
+        "region": {
+          "type": "string"
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.S3Sink": {
+      "type": "object",
+      "properties": {
+        "s3": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.S3"
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.S3Source": {
+      "type": "object",
+      "properties": {
+        "pollPeriod": {
+          "title": "+kubebuilder:default=\"1m\"",
+          "$ref": "#/definitions/io.k8s.apimachinery.pkg.apis.meta.v1.Duration"
+        },
+        "s3": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.S3"
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.SASL": {
+      "type": "object",
+      "properties": {
+        "mechanism": {
+          "type": "string",
+          "title": "SASLMechanism is the name of the enabled SASL mechanism.\nPossible values: OAUTHBEARER, PLAIN (defaults to PLAIN).\n+optional"
+        },
+        "password": {
+          "title": "Password for SASL/PLAIN authentication",
+          "$ref": "#/definitions/io.k8s.api.core.v1.SecretKeySelector"
+        },
+        "user": {
+          "title": "User is the authentication identity (authcid) to present for\nSASL/PLAIN or SASL/SCRAM authentication",
+          "$ref": "#/definitions/io.k8s.api.core.v1.SecretKeySelector"
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.SQLAction": {
+      "type": "object",
+      "properties": {
+        "onError": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.SQLStatement"
+        },
+        "onRecordNotFound": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.SQLStatement"
+        },
+        "statement": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.SQLStatement"
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.SQLStatement": {
+      "type": "object",
+      "properties": {
+        "args": {
+          "type": "array",
+          "items": {
+            "type": "string"
+          }
+        },
+        "sql": {
+          "type": "string"
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.STAN": {
+      "type": "object",
+      "properties": {
+        "auth": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.STANAuth"
+        },
+        "clusterId": {
+          "type": "string"
+        },
+        "maxInflight": {
+          "type": "integer",
+          "title": "Max inflight messages when subscribing to the stan server, which means how many messages\nbetween commits, therefore potential duplicates during disruption\n+kubebuilder:default=20"
+        },
+        "name": {
+          "type": "string",
+          "title": "+kubebuilder:default=default"
+        },
+        "natsMonitoringUrl": {
+          "type": "string"
+        },
+        "natsUrl": {
+          "type": "string"
+        },
+        "subject": {
+          "type": "string"
+        },
+        "subjectPrefix": {
+          "type": "string"
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.STANAuth": {
+      "type": "object",
+      "properties": {
+        "token": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.SecretKeySelector"
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Scale": {
+      "type": "object",
+      "properties": {
+        "maxReplicas": {
+          "type": "integer"
+        },
+        "minReplicas": {
+          "type": "integer"
+        },
+        "replicaRatio": {
+          "type": "integer",
+          "title": "takes precedence over min"
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Sidecar": {
+      "type": "object",
+      "properties": {
+        "resources": {
+          "title": "+kubebuilder:default={limits: {\"cpu\": \"500m\", \"memory\": \"256Mi\"}, requests: {\"cpu\": \"100m\", \"memory\": \"64Mi\"}}",
+          "$ref": "#/definitions/io.k8s.api.core.v1.ResourceRequirements"
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Sink": {
       "type": "object",
       "properties": {
-        "eventSource": {
-          "$ref": "#/definitions/io.argoproj.events.v1alpha1.EventSource"
+        "db": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.DBSink"
         },
-        "namespace": {
-          "type": "string"
+        "http": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.HTTPSink"
+        },
+        "kafka": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.KafkaSink"
+        },
+        "log": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Log"
+        },
+        "name": {
+          "type": "string",
+          "title": "+kubebuilder:default=default"
+        },
+        "s3": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.S3Sink"
+        },
+        "stan": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.STAN"
         }
       }
     },
-    "eventsource.EventSourceDeletedResponse": {
-      "type": "object"
-    },
-    "eventsource.EventSourceWatchEvent": {
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Source": {
       "type": "object",
       "properties": {
-        "object": {
-          "$ref": "#/definitions/io.argoproj.events.v1alpha1.EventSource"
+        "cron": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Cron"
         },
-        "type": {
-          "type": "string"
+        "db": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.DBSource"
+        },
+        "http": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.HTTPSource"
+        },
+        "kafka": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.KafkaSource"
+        },
+        "name": {
+          "type": "string",
+          "title": "+kubebuilder:default=default"
+        },
+        "retry": {
+          "title": "+kubebuilder:default={duration: \"100ms\", steps: 20, factorPercentage: 200, jitterPercentage: 10}",
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Backoff"
+        },
+        "s3": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.S3Source"
+        },
+        "stan": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.STAN"
         }
       }
     },
-    "eventsource.LogEntry": {
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.SourceStatus": {
       "type": "object",
-      "title": "structured log entry",
       "properties": {
-        "eventName": {
+        "metrics": {
+          "type": "object",
+          "additionalProperties": {
+            "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Metrics"
+          }
+        },
+        "pending": {
           "type": "string",
-          "title": "optional - the event name (e.g. `example`)"
+          "format": "uint64"
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Step": {
+      "type": "object",
+      "title": "+kubebuilder:object:root=true\n+kubebuilder:subresource:status\n+kubebuilder:subresource:scale:specpath=.spec.replicas,statuspath=.status.replicas,selectorpath=.status.selector\n+kubebuilder:printcolumn:name=\"Phase\",type=string,JSONPath=`.status.phase`\n+kubebuilder:printcolumn:name=\"Reason\",type=string,JSONPath=`.status.reason`\n+kubebuilder:printcolumn:name=\"Message\",type=string,JSONPath=`.status.message`\n+kubebuilder:printcolumn:name=\"Desired\",type=string,JSONPath=`.spec.replicas`\n+kubebuilder:printcolumn:name=\"Current\",type=string,JSONPath=`.status.replicas`",
+      "properties": {
+        "metadata": {
+          "$ref": "#/definitions/io.k8s.apimachinery.pkg.apis.meta.v1.ObjectMeta"
         },
-        "eventSourceName": {
+        "spec": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.StepSpec"
+        },
+        "status": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.StepStatus"
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.StepSpec": {
+      "type": "object",
+      "properties": {
+        "affinity": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.Affinity"
+        },
+        "cat": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Cat"
+        },
+        "code": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Code"
+        },
+        "container": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Container"
+        },
+        "dedupe": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Dedupe"
+        },
+        "expand": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Expand"
+        },
+        "filter": {
           "type": "string"
         },
-        "eventSourceType": {
+        "flatten": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Flatten"
+        },
+        "git": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Git"
+        },
+        "group": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Group"
+        },
+        "imagePullSecrets": {
+          "type": "array",
+          "title": "ImagePullSecrets is a list of references to secrets in the same namespace to use for pulling any images\nin pods that reference this ServiceAccount. ImagePullSecrets are distinct from Secrets because Secrets\ncan be mounted in the pod, but ImagePullSecrets are only accessed by the kubelet.\nMore info: https://kubernetes.io/docs/concepts/containers/images/#specifying-imagepullsecrets-on-a-pod\n+patchStrategy=merge\n+patchMergeKey=name",
+          "items": {
+            "$ref": "#/definitions/io.k8s.api.core.v1.LocalObjectReference"
+          }
+        },
+        "map": {
+          "type": "string"
+        },
+        "metadata": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Metadata"
+        },
+        "name": {
           "type": "string",
-          "title": "optional - the event source type (e.g. `webhook`)"
+          "title": "+kubebuilder:default=default"
         },
-        "level": {
+        "nodeSelector": {
+          "type": "object",
+          "additionalProperties": {
+            "type": "string"
+          }
+        },
+        "replicas": {
+          "type": "integer",
+          "title": "+kubebuilder:default=1"
+        },
+        "restartPolicy": {
+          "type": "string",
+          "title": "+kubebuilder:default=OnFailure"
+        },
+        "scale": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Scale"
+        },
+        "serviceAccountName": {
+          "type": "string",
+          "title": "+kubebuilder:default=pipeline"
+        },
+        "sidecar": {
+          "title": "+kubebuilder:default={resources: {limits: {\"cpu\": \"500m\", \"memory\": \"256Mi\"}, requests: {\"cpu\": \"100m\", \"memory\": \"64Mi\"}}}",
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Sidecar"
+        },
+        "sinks": {
+          "type": "array",
+          "title": "+patchStrategy=merge\n+patchMergeKey=name",
+          "items": {
+            "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Sink"
+          }
+        },
+        "sources": {
+          "type": "array",
+          "title": "+patchStrategy=merge\n+patchMergeKey=name",
+          "items": {
+            "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Source"
+          }
+        },
+        "terminator": {
+          "type": "boolean"
+        },
+        "tolerations": {
+          "type": "array",
+          "items": {
+            "$ref": "#/definitions/io.k8s.api.core.v1.Toleration"
+          }
+        },
+        "volumes": {
+          "type": "array",
+          "title": "+patchStrategy=merge\n+patchMergeKey=name",
+          "items": {
+            "$ref": "#/definitions/io.k8s.api.core.v1.Volume"
+          }
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.StepStatus": {
+      "type": "object",
+      "properties": {
+        "lastScaledAt": {
+          "$ref": "#/definitions/io.k8s.apimachinery.pkg.apis.meta.v1.Time"
+        },
+        "message": {
           "type": "string"
         },
-        "msg": {
+        "phase": {
           "type": "string"
         },
-        "namespace": {
+        "reason": {
           "type": "string"
         },
-        "time": {
-          "$ref": "#/definitions/io.k8s.apimachinery.pkg.apis.meta.v1.Time"
+        "replicas": {
+          "type": "integer"
+        },
+        "selector": {
+          "type": "string"
+        },
+        "sinkStatuses": {
+          "type": "object",
+          "additionalProperties": {
+            "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.SourceStatus"
+          }
+        },
+        "sourceStatuses": {
+          "type": "object",
+          "additionalProperties": {
+            "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.SourceStatus"
+          }
         }
       }
     },
-    "eventsource.UpdateEventSourceRequest": {
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Storage": {
       "type": "object",
       "properties": {
-        "eventSource": {
-          "$ref": "#/definitions/io.argoproj.events.v1alpha1.EventSource"
-        },
         "name": {
           "type": "string"
         },
-        "namespace": {
-          "type": "string"
+        "subPath": {
+          "type": "string",
+          "title": "volume name"
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.TLS": {
+      "type": "object",
+      "properties": {
+        "caCertSecret": {
+          "title": "CACertSecret refers to the secret that contains the CA cert",
+          "$ref": "#/definitions/io.k8s.api.core.v1.SecretKeySelector"
+        },
+        "certSecret": {
+          "title": "CertSecret refers to the secret that contains the cert",
+          "$ref": "#/definitions/io.k8s.api.core.v1.SecretKeySelector"
+        },
+        "keySecret": {
+          "title": "KeySecret refers to the secret that contains the key",
+          "$ref": "#/definitions/io.k8s.api.core.v1.SecretKeySelector"
         }
       }
     },
@@ -12742,6 +14192,37 @@
       "description": "Quantity is a fixed-point representation of a number. It provides convenient marshaling/unmarshaling in JSON and YAML, in addition to String() and AsInt64() accessors.\n\nThe serialization format is:\n\n\u003cquantity\u003e        ::= \u003csignedNumber\u003e\u003csuffix\u003e\n  (Note that \u003csuffix\u003e may be empty, from the \"\" case in \u003cdecimalSI\u003e.)\n\u003cdigit\u003e           ::= 0 | 1 | ... | 9 \u003cdigits\u003e          ::= \u003cdigit\u003e | \u003cdigit\u003e\u003cdigits\u003e \u003cnumber\u003e          ::= \u003cdigits\u003e | \u003cdigits\u003e.\u003cdigits\u003e | \u003cdigits\u003e. | .\u003cdigits\u003e \u003csign\u003e            ::= \"+\" | \"-\" \u003csignedNumber\u003e    ::= \u003cnumber\u003e | \u003csign\u003e\u003cnumber\u003e \u003csuffix\u003e          ::= \u003cbinarySI\u003e | \u003cdecimalExponent\u003e | \u003cdecimalSI\u003e \u003cbinarySI\u003e        ::= Ki | Mi | Gi | Ti | Pi | Ei\n  (International System of units; See: http://physics.nist.gov/cuu/Units/binary.html)\n\u003cdecimalSI\u003e       ::= m | \"\" | k | M | G | T | P | E\n  (Note that 1024 = 1Ki but 1000 = 1k; I didn't choose the capitalization.)\n\u003cdecimalExponent\u003e ::= \"e\" \u003csignedNumber\u003e | \"E\" \u003csignedNumber\u003e\n\nNo matter which of the three exponent forms is used, no quantity may represent a number greater than 2^63-1 in magnitude, nor may it have more than 3 decimal places. Numbers larger or more precise will be capped or rounded up. (E.g.: 0.1m will rounded up to 1m.) This may be extended in the future if we require larger or smaller quantities.\n\nWhen a Quantity is parsed from a string, it will remember the type of suffix it had, and will use the same type again when it is serialized.\n\nBefore serializing, Quantity will be put in \"canonical form\". This means that Exponent/suffix will be adjusted up or down (with a corresponding increase or decrease in Mantissa) such that:\n  a. No precision is lost\n  b. No fractional digits will be emitted\n  c. The exponent (or suffix) is as large as possible.\nThe sign will be omitted unless the number is negative.\n\nExamples:\n  1.5 will be serialized as \"1500m\"\n  1.5Gi will be serialized as \"1536Mi\"\n\nNote that the quantity will NEVER be internally represented by a floating point number. That is the whole point of this exercise.\n\nNon-canonical values will still parse as long as they are well formed, but will be re-emitted in their canonical form. (So always use canonical form, or don't diff.)\n\nThis format is intended to make it difficult to use these numbers without writing some sort of special handling code in the hopes that that will cause implementors to also use a fixed point implementation.",
       "type": "string"
     },
+    "io.k8s.apimachinery.pkg.apis.meta.v1.Condition": {
+      "description": "// other fields\n}",
+      "type": "object",
+      "title": "Condition contains details for one aspect of the current state of this API Resource.\n---\nThis struct is intended for direct use as an array at the field path .status.conditions.  For example,\ntype FooStatus struct{\n    // Represents the observations of a foo's current state.\n    // Known .status.conditions.type are: \"Available\", \"Progressing\", and \"Degraded\"\n    // +patchMergeKey=type\n    // +patchStrategy=merge\n    // +listType=map\n    // +listMapKey=type\n    Conditions []metav1.Condition `json:\"conditions,omitempty\" patchStrategy:\"merge\" patchMergeKey:\"type\" protobuf:\"bytes,1,rep,name=conditions\"`",
+      "properties": {
+        "lastTransitionTime": {
+          "title": "lastTransitionTime is the last time the condition transitioned from one status to another.\nThis should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.\n+required\n+kubebuilder:validation:Required\n+kubebuilder:validation:Type=string\n+kubebuilder:validation:Format=date-time",
+          "$ref": "#/definitions/io.k8s.apimachinery.pkg.apis.meta.v1.Time"
+        },
+        "message": {
+          "type": "string",
+          "title": "message is a human readable message indicating details about the transition.\nThis may be an empty string.\n+required\n+kubebuilder:validation:Required\n+kubebuilder:validation:MaxLength=32768"
+        },
+        "observedGeneration": {
+          "type": "string",
+          "title": "observedGeneration represents the .metadata.generation that the condition was set based upon.\nFor instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date\nwith respect to the current state of the instance.\n+optional\n+kubebuilder:validation:Minimum=0"
+        },
+        "reason": {
+          "type": "string",
+          "title": "reason contains a programmatic identifier indicating the reason for the condition's last transition.\nProducers of specific condition types may define expected values and meanings for this field,\nand whether the values are considered a guaranteed API.\nThe value should be a CamelCase string.\nThis field may not be empty.\n+required\n+kubebuilder:validation:Required\n+kubebuilder:validation:MaxLength=1024\n+kubebuilder:validation:MinLength=1\n+kubebuilder:validation:Pattern=`^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$`"
+        },
+        "status": {
+          "type": "string",
+          "title": "status of the condition, one of True, False, Unknown.\n+required\n+kubebuilder:validation:Required\n+kubebuilder:validation:Enum=True;False;Unknown"
+        },
+        "type": {
+          "type": "string",
+          "title": "type of condition in CamelCase or in foo.example.com/CamelCase.\n---\nMany .condition.type values are consistent across resources like Available, but because arbitrary conditions can be\nuseful (see .node.status.conditions), the ability to deconflict is important.\nThe regex it matches is (dns1123SubdomainFmt/)?(qualifiedNameFmt)\n+required\n+kubebuilder:validation:Required\n+kubebuilder:validation:Pattern=`^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$`\n+kubebuilder:validation:MaxLength=316"
+        }
+      }
+    },
     "io.k8s.apimachinery.pkg.apis.meta.v1.CreateOptions": {
       "description": "CreateOptions may be provided when creating an API object.",
       "type": "object",
@@ -12759,6 +14240,15 @@
         }
       }
     },
+    "io.k8s.apimachinery.pkg.apis.meta.v1.Duration": {
+      "description": "Duration is a wrapper around time.Duration which supports correct\nmarshaling to YAML and JSON. In particular, it marshals into strings, which\ncan be used as map keys in json.",
+      "type": "object",
+      "properties": {
+        "duration": {
+          "type": "string"
+        }
+      }
+    },
     "io.k8s.apimachinery.pkg.apis.meta.v1.FieldsV1": {
       "description": "FieldsV1 stores a set of fields in a data structure like a Trie, in JSON format.\n\nEach key is either a '.' representing the field itself, and will always map to an empty set, or a string representing a sub-field or item. The string will follow one of these four formats: 'f:\u003cname\u003e', where \u003cname\u003e is the name of a field in a struct, or key in a map 'v:\u003cvalue\u003e', where \u003cvalue\u003e is the exact json formatted value of a list item 'i:\u003cindex\u003e', where \u003cindex\u003e is position of a item in a list 'k:\u003ckeys\u003e', where \u003ckeys\u003e is a map of  a list item's key fields to their unique values If a key maps to an empty Fields value, the field that key represents is part of the set.\n\nThe exact format is defined in sigs.k8s.io/structured-merge-diff",
       "type": "object"
@@ -13066,6 +14556,55 @@
     "io.k8s.apimachinery.pkg.util.intstr.IntOrString": {
       "type": "string"
     },
+    "pipeline.DeletePipelineResponse": {
+      "type": "object"
+    },
+    "pipeline.LogEntry": {
+      "type": "object",
+      "title": "structured log entry",
+      "properties": {
+        "msg": {
+          "type": "string"
+        },
+        "namespace": {
+          "type": "string"
+        },
+        "pipelineName": {
+          "type": "string"
+        },
+        "stepName": {
+          "type": "string"
+        },
+        "time": {
+          "$ref": "#/definitions/io.k8s.apimachinery.pkg.apis.meta.v1.Time"
+        }
+      }
+    },
+    "pipeline.PipelineWatchEvent": {
+      "type": "object",
+      "properties": {
+        "object": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Pipeline"
+        },
+        "type": {
+          "type": "string"
+        }
+      }
+    },
+    "pipeline.RestartPipelineResponse": {
+      "type": "object"
+    },
+    "pipeline.StepWatchEvent": {
+      "type": "object",
+      "properties": {
+        "object": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Step"
+        },
+        "type": {
+          "type": "string"
+        }
+      }
+    },
     "sensor.CreateSensorRequest": {
       "type": "object",
       "properties": {
diff --git a/cmd/argo/commands/server.go b/cmd/argo/commands/server.go
index 89fbe96ab268..75e08beb0191 100644
--- a/cmd/argo/commands/server.go
+++ b/cmd/argo/commands/server.go
@@ -17,6 +17,7 @@ import (
 	"github.com/skratchdot/open-golang/open"
 	"github.com/spf13/cobra"
 	"golang.org/x/net/context"
+	"k8s.io/client-go/dynamic"
 	"k8s.io/client-go/kubernetes"
 	_ "k8s.io/client-go/plugin/pkg/client/auth"
 	restclient "k8s.io/client-go/rest"
@@ -71,10 +72,11 @@ See %s`, help.ArgoSever),
 
 			namespace := client.Namespace()
 			clients := &types.Clients{
-				Workflow:    wfclientset.NewForConfigOrDie(config),
+				Dynamic:     dynamic.NewForConfigOrDie(config),
 				EventSource: eventsource.NewForConfigOrDie(config),
-				Sensor:      sensor.NewForConfigOrDie(config),
 				Kubernetes:  kubernetes.NewForConfigOrDie(config),
+				Sensor:      sensor.NewForConfigOrDie(config),
+				Workflow:    wfclientset.NewForConfigOrDie(config),
 			}
 			ctx, cancel := context.WithCancel(context.Background())
 			defer cancel()
diff --git a/go.mod b/go.mod
index f416e5096f5f..5cb95a436a99 100644
--- a/go.mod
+++ b/go.mod
@@ -6,11 +6,11 @@ require (
 	cloud.google.com/go v0.55.0 // indirect
 	cloud.google.com/go/storage v1.6.0
 	github.com/Knetic/govaluate v3.0.1-0.20171022003610-9aa49832a739+incompatible
-	github.com/Masterminds/semver v1.5.0 // indirect
 	github.com/Masterminds/sprig v2.22.0+incompatible
 	github.com/TwinProduction/go-color v0.0.3
 	github.com/aliyun/aliyun-oss-go-sdk v2.1.8+incompatible
-	github.com/antonmedv/expr v1.8.8
+	github.com/antonmedv/expr v1.8.9
+	github.com/argoproj-labs/argo-dataflow v0.0.88
 	github.com/argoproj/argo-events v1.4.0
 	github.com/argoproj/pkg v0.10.1
 	github.com/baiyubin/aliyun-sts-go-sdk v0.0.0-20180326062324-cfa1a18b161f // indirect
@@ -26,7 +26,7 @@ require (
 	github.com/go-openapi/jsonreference v0.19.5
 	github.com/go-openapi/spec v0.20.2
 	github.com/go-python/gpython v0.0.3
-	github.com/go-sql-driver/mysql v1.5.0
+	github.com/go-sql-driver/mysql v1.6.0
 	github.com/go-swagger/go-swagger v0.25.0
 	github.com/gogo/protobuf v1.3.2
 	github.com/golang/protobuf v1.4.3
@@ -36,7 +36,6 @@ require (
 	github.com/grpc-ecosystem/go-grpc-prometheus v1.2.0
 	github.com/grpc-ecosystem/grpc-gateway v1.16.0
 	github.com/imkira/go-interpol v1.1.0 // indirect
-	github.com/klauspost/compress v1.11.9 // indirect
 	github.com/klauspost/pgzip v1.2.5
 	github.com/minio/minio-go/v7 v7.0.2
 	github.com/mitchellh/go-ps v0.0.0-20190716172923-621e5597135b
@@ -56,13 +55,12 @@ require (
 	github.com/valyala/fasttemplate v1.1.0
 	github.com/xeipuuv/gojsonpointer v0.0.0-20190905194746-02993c407bfb // indirect
 	github.com/xeipuuv/gojsonschema v1.2.0
-	golang.org/x/crypto v0.0.0-20210322153248-0c34fe9e7dc2
-	golang.org/x/net v0.0.0-20210405180319-a5a99cb37ef4
+	golang.org/x/crypto v0.0.0-20210711020723-a769d52b0f97
+	golang.org/x/net v0.0.0-20210614182718-04defd469f4e
 	golang.org/x/oauth2 v0.0.0-20200107190931-bf48bf16ab8d
 	golang.org/x/sync v0.0.0-20210220032951-036812b2e83c
-	golang.org/x/text v0.3.6 // indirect
 	golang.org/x/time v0.0.0-20200630173020-3af7569d3a1e
-	golang.org/x/tools v0.1.3-0.20210608163600-9ed039809d4c
+	golang.org/x/tools v0.1.5
 	google.golang.org/api v0.20.0
 	google.golang.org/genproto v0.0.0-20200806141610-86f49bd18e98
 	google.golang.org/grpc v1.33.1
@@ -72,7 +70,6 @@ require (
 	gopkg.in/mgo.v2 v2.0.0-20190816093944-a6b53ec6cb22 // indirect
 	gopkg.in/square/go-jose.v2 v2.5.1
 	gopkg.in/src-d/go-git.v4 v4.13.1
-	gopkg.in/yaml.v3 v3.0.0-20210107192922-496545a6307b // indirect
 	honnef.co/go/tools v0.2.0 // indirect
 	k8s.io/api v0.20.4
 	k8s.io/apimachinery v0.20.4
diff --git a/go.sum b/go.sum
index cc40c7c40906..41ecb8c226ae 100644
--- a/go.sum
+++ b/go.sum
@@ -89,8 +89,9 @@ github.com/DATA-DOG/go-sqlmock v1.3.3/go.mod h1:f/Ixk793poVmq4qj/V1dPUg2JEAKC73Q
 github.com/DataDog/datadog-go v2.2.0+incompatible/go.mod h1:LButxg5PwREeZtORoXG3tL4fMGNddJ+vMq1mwgfaqoQ=
 github.com/Knetic/govaluate v3.0.1-0.20171022003610-9aa49832a739+incompatible h1:1G1pk05UrOh0NlF1oeaaix1x8XzrfjIDK47TY0Zehcw=
 github.com/Knetic/govaluate v3.0.1-0.20171022003610-9aa49832a739+incompatible/go.mod h1:r7JcOSlj0wfOMncg0iLm8Leh48TZaKVeNIfJntJ2wa0=
-github.com/Masterminds/goutils v1.1.0 h1:zukEsf/1JZwCMgHiK3GZftabmxiCw4apj3a28RPBiVg=
 github.com/Masterminds/goutils v1.1.0/go.mod h1:8cTjp+g8YejhMuvIA5y2vz3BpJxksy863GQaJW2MFNU=
+github.com/Masterminds/goutils v1.1.1 h1:5nUrii3FMTL5diU80unEVvNevw1nH4+ZV4DSLVJLSYI=
+github.com/Masterminds/goutils v1.1.1/go.mod h1:8cTjp+g8YejhMuvIA5y2vz3BpJxksy863GQaJW2MFNU=
 github.com/Masterminds/semver v1.5.0 h1:H65muMkzWKEuNDnfl9d70GUjFniHKHRbFPGBuZ3QEww=
 github.com/Masterminds/semver v1.5.0/go.mod h1:MB6lktGJrhw8PrUyiEoblNEGEQ+RzHPF078ddwwvV3Y=
 github.com/Masterminds/semver/v3 v3.1.1/go.mod h1:VPu/7SZ7ePZ3QOrcuXROw5FAcLl4a0cBrbBpGY/8hQs=
@@ -111,6 +112,7 @@ github.com/PuerkitoBio/urlesc v0.0.0-20170810143723-de5bf2ad4578 h1:d+Bc7a5rLufV
 github.com/PuerkitoBio/urlesc v0.0.0-20170810143723-de5bf2ad4578/go.mod h1:uGdkoq3SwY9Y+13GIhn11/XLaGBb4BfwItxLd5jeuXE=
 github.com/Shopify/sarama v1.19.0/go.mod h1:FVkBWblsNy7DGZRfXLU0O9RCGt5g3g3yEuWXgklEdEo=
 github.com/Shopify/sarama v1.26.1/go.mod h1:NbSGBSSndYaIhRcBtY9V0U7AyH+x71bG668AuWys/yU=
+github.com/Shopify/sarama v1.29.1/go.mod h1:mdtqvCSg8JOxk8PmpTNGyo6wzd4BMm4QXSfDnTXmgkE=
 github.com/Shopify/toxiproxy v2.1.4+incompatible/go.mod h1:OXgGpZ6Cli1/URJOF1DMxUHB2q5Ap20/P/eIdh4G0pI=
 github.com/TwinProduction/go-color v0.0.3 h1:2asEWaZo0Oh/FCib+KqHmEoideK8fMyX58JujC/dbDA=
 github.com/TwinProduction/go-color v0.0.3/go.mod h1:5hWpSyT+mmKPjCwPNEruBW5Dkbs/2PwOuU468ntEXNQ=
@@ -136,14 +138,17 @@ github.com/andybalholm/brotli v1.0.1/go.mod h1:loMXtMfwqflxFJPmdbJO0a3KNoPuLBgiu
 github.com/anmitsu/go-shlex v0.0.0-20161002113705-648efa622239 h1:kFOfPq6dUM1hTo4JG6LR5AXSUEsOjtdm0kw0FtQtMJA=
 github.com/anmitsu/go-shlex v0.0.0-20161002113705-648efa622239/go.mod h1:2FmKhYUyUczH0OGQWaF5ceTx0UBShxjsH6f8oGKYe2c=
 github.com/antihax/optional v1.0.0/go.mod h1:uupD/76wgC+ih3iEmQUL+0Ugr19nfwCT1kdvxnR2qWY=
-github.com/antonmedv/expr v1.8.8 h1:uVwIkIBNO2yn4vY2u2DQUqXTmv9jEEMCEcHa19G5weY=
 github.com/antonmedv/expr v1.8.8/go.mod h1:5qsM3oLGDND7sDmQGDXHkYfkjYMUX14qsgqmHhwGEk8=
+github.com/antonmedv/expr v1.8.9 h1:O9stiHmHHww9b4ozhPx7T6BK7fXfOCHJ8ybxf0833zw=
+github.com/antonmedv/expr v1.8.9/go.mod h1:5qsM3oLGDND7sDmQGDXHkYfkjYMUX14qsgqmHhwGEk8=
 github.com/apache/openwhisk-client-go v0.0.0-20190915054138-716c6f973eb2/go.mod h1:jLLKYP7+1+LFlIJW1n9U1gqeveLM1HIwa4ZHNOFxjPw=
 github.com/apache/pulsar-client-go v0.1.1/go.mod h1:mlxC65KL1BLhGO2bnT9zWMttVzR2czVPb27D477YpyU=
 github.com/apache/thrift v0.12.0/go.mod h1:cp2SuWMxlEZw2r+iP2GNCdIi4C1qmUzdZFSVb+bacwQ=
 github.com/apache/thrift v0.13.0/go.mod h1:cp2SuWMxlEZw2r+iP2GNCdIi4C1qmUzdZFSVb+bacwQ=
 github.com/ardielle/ardielle-go v1.5.2/go.mod h1:I4hy1n795cUhaVt/ojz83SNVCYIGsAFAONtv2Dr7HUI=
 github.com/ardielle/ardielle-tools v1.5.4/go.mod h1:oZN+JRMnqGiIhrzkRN9l26Cej9dEx4jeNG6A+AdkShk=
+github.com/argoproj-labs/argo-dataflow v0.0.88 h1:Q7LwlK9FbNB00LzZ5/9Qcg3Im1t8/HyHhwVITVSMypY=
+github.com/argoproj-labs/argo-dataflow v0.0.88/go.mod h1:HOdmu21+Xx59R28S8+e+wMx+/ApHWNtglPqLvgLRI2E=
 github.com/argoproj/argo-events v1.4.0 h1:RIzAOomP/4rnv3X6KIDKzXZJ56JKFxSYmksoE98ILWI=
 github.com/argoproj/argo-events v1.4.0/go.mod h1:wI5A0U3Wj9ZvfPn3ioL18Dz29+7aibtlyU9pS0Ry+bg=
 github.com/argoproj/pkg v0.9.0/go.mod h1:ra+bQPmbVAoEL+gYSKesuigt4m49i3Qa3mE/xQcjCiA=
@@ -169,6 +174,12 @@ github.com/aws/aws-sdk-go v1.27.0/go.mod h1:KmX6BPdI08NWTb3/sm4ZGu5ShLoqVDhKgpiN
 github.com/aws/aws-sdk-go v1.33.16 h1:h/3BL2BQMEbS67BPoEo/5jD8IPGVrKBmoa4S9mBBntw=
 github.com/aws/aws-sdk-go v1.33.16/go.mod h1:5zCpMtNQVjRREroY7sYe8lOMRSxkhG6MZveU8YkpAk0=
 github.com/aws/aws-sdk-go-v2 v0.18.0/go.mod h1:JWVYvqSMppoMJC0x5wdwiImzgXTI9FuZwxzkQq9wy+g=
+github.com/aws/aws-sdk-go-v2 v1.7.1/go.mod h1:L5LuPC1ZgDr2xQS7AmIec/Jlc7O/Y1u2KxJyNVab250=
+github.com/aws/aws-sdk-go-v2/service/internal/accept-encoding v1.2.1/go.mod h1:v33JQ57i2nekYTA70Mb+O18KeH4KqhdqxTJZNK1zdRE=
+github.com/aws/aws-sdk-go-v2/service/internal/presigned-url v1.2.1/go.mod h1:zceowr5Z1Nh2WVP8bf/3ikB41IZW59E4yIYbg+pC6mw=
+github.com/aws/aws-sdk-go-v2/service/internal/s3shared v1.5.1/go.mod h1:6EQZIwNNvHpq/2/QSJnp4+ECvqIy55w95Ofs0ze+nGQ=
+github.com/aws/aws-sdk-go-v2/service/s3 v1.11.1/go.mod h1:XLAGFrEjbvMCLvAtWLLP32yTv8GpBquCApZEycDLunI=
+github.com/aws/smithy-go v1.6.0/go.mod h1:SObp3lf9smib00L/v3U2eAKG8FyQ7iLrJnQiAmR5n+E=
 github.com/baiyubin/aliyun-sts-go-sdk v0.0.0-20180326062324-cfa1a18b161f h1:ZNv7On9kyUzm7fvRZumSyy/IUiSC7AzL0I1jKKtwooA=
 github.com/baiyubin/aliyun-sts-go-sdk v0.0.0-20180326062324-cfa1a18b161f/go.mod h1:AuiFmCCPBSrqvVMvuqFuk0qogytodnVFVSN5CeJB8Gc=
 github.com/beefsack/go-rate v0.0.0-20180408011153-efa7637bb9b6/go.mod h1:6YNgTHLutezwnBvyneBbwvB8C82y3dcoOj5EQJIdGXA=
@@ -184,6 +195,7 @@ github.com/blushft/go-diagrams v0.0.0-20201006005127-c78c821223d9/go.mod h1:nDeX
 github.com/bmatcuk/doublestar v1.1.1/go.mod h1:UD6OnuiIn0yFxxA2le/rnRU1G4RaI4UvFv1sNto9p6w=
 github.com/bmizerany/perks v0.0.0-20141205001514-d9a9656a3a4b/go.mod h1:ac9efd0D1fsDb3EJvhqgXRbFx7bs2wqZ10HQPeU8U/Q=
 github.com/boltdb/bolt v1.3.1/go.mod h1:clJnj/oiGkjum5o1McbSZDSLxVThjynRyGBgiAx27Ps=
+github.com/bombsimon/logrusr v1.1.0/go.mod h1:Jq0nHtvxabKE5EMwAAdgTaz7dfWE8C4i11NOltxGQpc=
 github.com/boynton/repl v0.0.0-20170116235056-348863958e3e/go.mod h1:Crc/GCZ3NXDVCio7Yr0o+SSrytpcFhLmVCIzi0s49t4=
 github.com/casbin/casbin/v2 v2.1.2/go.mod h1:YcPU1XXisHhLzuxH9coDNf2FbKpjGlbCg3n9yuLkIJQ=
 github.com/cenkalti/backoff v2.2.1+incompatible/go.mod h1:90ReRw6GdpyfrHakVjL/QHaoyV4aDUVVkXQJJJ3NXXM=
@@ -293,6 +305,7 @@ github.com/fortytw2/leaktest v1.3.0/go.mod h1:jDsjWgpAGjm2CA7WthBh/CdZYEPF31XHqu
 github.com/franela/goblin v0.0.0-20200105215937-c9ffbefa60db/go.mod h1:7dvUGVsVBjqR7JHJk0brhHOZYGmfBYOrK0ZhYMEtBr4=
 github.com/franela/goreq v0.0.0-20171204163338-bcd34c9993f8/go.mod h1:ZhphrRTfi2rbfLwlschooIH4+wKKDR4Pdxhh+TRoA20=
 github.com/frankban/quicktest v1.7.2/go.mod h1:jaStnuzAqU1AJdCO0l53JDCJrVDKcS03DbaAcR7Ks/o=
+github.com/frankban/quicktest v1.11.3/go.mod h1:wRf/ReqHper53s+kmmSZizM8NamnL3IM0I9ntUbOk+k=
 github.com/fsnotify/fsnotify v1.4.7/go.mod h1:jwhsz4b93w/PPRr/qN1Yymfu8t87LnFCMoQvtojpjFo=
 github.com/fsnotify/fsnotify v1.4.9 h1:hsms1Qyu0jgnwNXIxa+/V/PDsU6CfLf6CNO8H7IWoS4=
 github.com/fsnotify/fsnotify v1.4.9/go.mod h1:znqG4EE+3YCdAaPaxE2ZRY/06pZUdp0tY4IgpuI1SZQ=
@@ -411,8 +424,9 @@ github.com/go-python/gpython v0.0.3/go.mod h1:bmk0l57W/7Cs67MMnz4U28SoYyvz5NTMYy
 github.com/go-redis/redis v6.15.8+incompatible/go.mod h1:NAIEuMOZ/fxfXJIrKDQDz8wamY7mA7PouImQ2Jvg6kA=
 github.com/go-resty/resty/v2 v2.3.0/go.mod h1:UpN9CgLZNsv4e9XG50UU8xdI0F43UQ4HmxLBDwaroHU=
 github.com/go-sql-driver/mysql v1.4.0/go.mod h1:zAC/RDZ24gD3HViQzih4MyKcchzm+sOG5ZlKdlhCg5w=
-github.com/go-sql-driver/mysql v1.5.0 h1:ozyZYNQW3x3HtqT1jira07DN2PArx2v7/mN66gGcHOs=
 github.com/go-sql-driver/mysql v1.5.0/go.mod h1:DCzpHaOWr8IXmIStZouvnhqoel9Qv2LBy8hT2VhHyBg=
+github.com/go-sql-driver/mysql v1.6.0 h1:BCTh4TKNUYmOmMUcQ3IipzF5prigylS7XXjEkfCHuOE=
+github.com/go-sql-driver/mysql v1.6.0/go.mod h1:DCzpHaOWr8IXmIStZouvnhqoel9Qv2LBy8hT2VhHyBg=
 github.com/go-stack/stack v1.8.0 h1:5SgMzNM5HxrEjV0ww2lTmX6E2Izsfxas4+YHWRs3Lsk=
 github.com/go-stack/stack v1.8.0/go.mod h1:v0f6uXyyMGvRgIKkXu+yp6POWl0qKG85gN/melR3HDY=
 github.com/go-swagger/go-swagger v0.25.0 h1:FxhyrWWV8V/A9P6GtI5szWordAdbb6Y0nqdY/y9So2w=
@@ -488,6 +502,8 @@ github.com/golang/protobuf v1.4.3 h1:JjCZWpVbqXDqFVmTfYWEVTMIYrL/NPdPSCHPJ0T/raM
 github.com/golang/protobuf v1.4.3/go.mod h1:oDoupMAO8OvCJWAcko0GGGIgR6R6ocIYbsSw735rRwI=
 github.com/golang/snappy v0.0.0-20180518054509-2e65f85255db/go.mod h1:/XxbfmMg8lxefKM7IXC3fBNl/7bRcc72aCRzEWrmP2Q=
 github.com/golang/snappy v0.0.1/go.mod h1:/XxbfmMg8lxefKM7IXC3fBNl/7bRcc72aCRzEWrmP2Q=
+github.com/golang/snappy v0.0.3/go.mod h1:/XxbfmMg8lxefKM7IXC3fBNl/7bRcc72aCRzEWrmP2Q=
+github.com/golang/snappy v0.0.4/go.mod h1:/XxbfmMg8lxefKM7IXC3fBNl/7bRcc72aCRzEWrmP2Q=
 github.com/google/btree v0.0.0-20180813153112-4030bb1f1f0c/go.mod h1:lNA+9X1NB3Zf8V7Ke586lFgjr2dZNuvo3lPJSGZ5JPQ=
 github.com/google/btree v1.0.0/go.mod h1:lNA+9X1NB3Zf8V7Ke586lFgjr2dZNuvo3lPJSGZ5JPQ=
 github.com/google/go-cmp v0.2.0/go.mod h1:oXzfMopK8JAjlY9xF4vHSVASa0yLyX7SntLO5aqRK0M=
@@ -496,8 +512,10 @@ github.com/google/go-cmp v0.3.1/go.mod h1:8QqcDgzrUqlUb/G2PQTWiueGozuR1884gddMyw
 github.com/google/go-cmp v0.4.0/go.mod h1:v8dTdLbMG2kIc/vJvl+f65V22dbkXbowE6jgT/gNBxE=
 github.com/google/go-cmp v0.5.0/go.mod h1:v8dTdLbMG2kIc/vJvl+f65V22dbkXbowE6jgT/gNBxE=
 github.com/google/go-cmp v0.5.1/go.mod h1:v8dTdLbMG2kIc/vJvl+f65V22dbkXbowE6jgT/gNBxE=
-github.com/google/go-cmp v0.5.2 h1:X2ev0eStA3AbceY54o37/0PQ/UWqKEiiO2dKL5OPaFM=
 github.com/google/go-cmp v0.5.2/go.mod h1:v8dTdLbMG2kIc/vJvl+f65V22dbkXbowE6jgT/gNBxE=
+github.com/google/go-cmp v0.5.4/go.mod h1:v8dTdLbMG2kIc/vJvl+f65V22dbkXbowE6jgT/gNBxE=
+github.com/google/go-cmp v0.5.6 h1:BKbKCqvP6I+rmFHt06ZmyQtvB8xAkWdhFyr0ZUNZcxQ=
+github.com/google/go-cmp v0.5.6/go.mod h1:v8dTdLbMG2kIc/vJvl+f65V22dbkXbowE6jgT/gNBxE=
 github.com/google/go-github/v31 v31.0.0/go.mod h1:NQPZol8/1sMoWYGN2yaALIBytu17gAWfhbweiEed3pM=
 github.com/google/go-querystring v1.0.0 h1:Xkwi/a1rcvNg1PPYe5vI8GbeBY/jrVuDX5ASuANWTrk=
 github.com/google/go-querystring v1.0.0/go.mod h1:odCYkC5MyYFN7vkCjXpyrEuKhc/BUO6wN/zVPAxq5ck=
@@ -536,6 +554,8 @@ github.com/gorilla/handlers v1.4.2 h1:0QniY0USkHQ1RGCLfKxeNHK9bkDHGRYGNDFBCS+YAR
 github.com/gorilla/handlers v1.4.2/go.mod h1:Qkdc/uu4tH4g6mTK6auzZ766c4CA0Ng8+o/OAirnOIQ=
 github.com/gorilla/mux v1.6.2/go.mod h1:1lud6UwP+6orDFRuTfBEV8e9/aOM/c4fVVCaMa2zaAs=
 github.com/gorilla/mux v1.7.3/go.mod h1:1lud6UwP+6orDFRuTfBEV8e9/aOM/c4fVVCaMa2zaAs=
+github.com/gorilla/securecookie v1.1.1/go.mod h1:ra0sb63/xPlUeL+yeDciTfxMRAA+MP+HVt/4epWDjd4=
+github.com/gorilla/sessions v1.2.1/go.mod h1:dk2InVEVJ0sfLlnXv9EAgkf6ecYs/i80K/zI+bUmuGM=
 github.com/gorilla/websocket v0.0.0-20170926233335-4201258b820c/go.mod h1:E7qHFY5m1UJ88s3WnNqhKjPHQ0heANvMoAMk2YaljkQ=
 github.com/gorilla/websocket v1.0.0/go.mod h1:E7qHFY5m1UJ88s3WnNqhKjPHQ0heANvMoAMk2YaljkQ=
 github.com/gorilla/websocket v1.4.0/go.mod h1:E7qHFY5m1UJ88s3WnNqhKjPHQ0heANvMoAMk2YaljkQ=
@@ -562,9 +582,11 @@ github.com/hashicorp/go-cleanhttp v0.5.0/go.mod h1:JpRdi6/HCYpAwUzNwuwqhbovhLtng
 github.com/hashicorp/go-cleanhttp v0.5.1/go.mod h1:JpRdi6/HCYpAwUzNwuwqhbovhLtngrth3wmdIIUrZ80=
 github.com/hashicorp/go-hclog v0.9.1/go.mod h1:5CU+agLiy3J7N7QjHK5d05KxGsuXiQLrjA0H7acj2lQ=
 github.com/hashicorp/go-hclog v0.9.2/go.mod h1:5CU+agLiy3J7N7QjHK5d05KxGsuXiQLrjA0H7acj2lQ=
+github.com/hashicorp/go-hclog v0.14.1/go.mod h1:whpDNt7SSdeAju8AWKIWsul05p54N/39EeqMAyrmvFQ=
 github.com/hashicorp/go-immutable-radix v1.0.0/go.mod h1:0y9vanUI8NX6FsYoO3zeMjhV/C5i9g4Q3DwcSNZ4P60=
 github.com/hashicorp/go-msgpack v0.5.3/go.mod h1:ahLV/dePpqEmjfWmKiqvPkv/twdG7iPBM1vqhUKIvfM=
 github.com/hashicorp/go-msgpack v0.5.5/go.mod h1:ahLV/dePpqEmjfWmKiqvPkv/twdG7iPBM1vqhUKIvfM=
+github.com/hashicorp/go-msgpack v1.1.5/go.mod h1:gWVc3sv/wbDmR3rQsj1CAktEZzoz1YNK9NfGLXJ69/4=
 github.com/hashicorp/go-multierror v1.0.0/go.mod h1:dHtQlpGsu+cZNNAkkCN/P3hoUDHhCYQXV3UM06sGGrk=
 github.com/hashicorp/go-retryablehttp v0.5.3/go.mod h1:9B5zBasrRhHXnJnui7y6sL7es7NDiJgTc6Er0maI1Xs=
 github.com/hashicorp/go-retryablehttp v0.6.4/go.mod h1:vAew36LZh98gCBJNLH42IQ1ER/9wtLZZ8meHqQvEYWY=
@@ -589,12 +611,14 @@ github.com/hashicorp/logutils v1.0.0/go.mod h1:QIAnNjmIWmVIIkWDTG1z5v++HQmx9WQRO
 github.com/hashicorp/mdns v1.0.0/go.mod h1:tL+uN++7HEJ6SQLQ2/p+z2pH24WQKWjBPkE0mNTz8vQ=
 github.com/hashicorp/memberlist v0.1.3/go.mod h1:ajVTdAv/9Im8oMAAj5G31PhhMCZJV2pPBoIllUwCN7I=
 github.com/hashicorp/raft v1.1.1/go.mod h1:vPAJM8Asw6u8LxC3eJCUZmRP/E4QmUGE1R7g7k8sG/8=
+github.com/hashicorp/raft v1.2.0/go.mod h1:vPAJM8Asw6u8LxC3eJCUZmRP/E4QmUGE1R7g7k8sG/8=
 github.com/hashicorp/raft-boltdb v0.0.0-20171010151810-6e5ba93211ea/go.mod h1:pNv7Wc3ycL6F5oOWn+tPGo2gWD4a5X+yp/ntwdKLjRk=
 github.com/hashicorp/serf v0.8.2/go.mod h1:6hOLApaqBFA1NXqRQAsxw9QxuDEvNxSQRwA/JwenrHc=
 github.com/hokaccha/go-prettyjson v0.0.0-20190818114111-108c894c2c0e/go.mod h1:pFlLw2CfqZiIBOx6BuCeRLCrfxBJipTY0nIOF/VbGcI=
 github.com/hpcloud/tail v1.0.0/go.mod h1:ab1qPbhIpdTxEkNHXyeSf5vhxWSCs/tWer42PpOxQnU=
-github.com/huandu/xstrings v1.3.1 h1:4jgBlKK6tLKFvO8u5pmYjG91cqytmDCDvGh7ECVFfFs=
 github.com/huandu/xstrings v1.3.1/go.mod h1:y5/lhBue+AyNmUVz9RLU9xbLR0o4KIIExikq4ovT0aE=
+github.com/huandu/xstrings v1.3.2 h1:L18LIDzqlW6xN2rEkpdV8+oL/IXWJ1APd+vsdYy4Wdw=
+github.com/huandu/xstrings v1.3.2/go.mod h1:y5/lhBue+AyNmUVz9RLU9xbLR0o4KIIExikq4ovT0aE=
 github.com/hudl/fargo v1.3.0/go.mod h1:y3CKSmjA+wD2gak7sUSXTAoopbhU08POFhmITJgmKTg=
 github.com/iancoleman/strcase v0.1.1/go.mod h1:SK73tn/9oHe+/Y0h39VT4UCxmurVJkR5NA7kMEAOgSE=
 github.com/ianlancetaylor/demangle v0.0.0-20181102032728-5e5cf60278f6/go.mod h1:aSSvb/t6k1mPoxDqO4vJh6VOCGPwU4O0C2/Eqndh1Sc=
@@ -613,15 +637,23 @@ github.com/jawher/mow.cli v1.0.4/go.mod h1:5hQj2V8g+qYmLUVWqu4Wuja1pI57M83EChYLV
 github.com/jawher/mow.cli v1.1.0/go.mod h1:aNaQlc7ozF3vw6IJ2dHjp2ZFiA4ozMIYY6PyuRJwlUg=
 github.com/jbenet/go-context v0.0.0-20150711004518-d14ea06fba99 h1:BQSFePA1RWJOlocH6Fxy8MmwDt+yVQYULKfN0RoTN8A=
 github.com/jbenet/go-context v0.0.0-20150711004518-d14ea06fba99/go.mod h1:1lJo3i6rXxKeerYnT8Nvf0QmHCRC1n8sfWVwXF2Frvo=
+github.com/jcmturner/aescts/v2 v2.0.0/go.mod h1:AiaICIRyfYg35RUkr8yESTqvSy7csK90qZ5xfvvsoNs=
+github.com/jcmturner/dnsutils/v2 v2.0.0/go.mod h1:b0TnjGOvI/n42bZa+hmXL+kFJZsFT7G4t3HTlQ184QM=
 github.com/jcmturner/gofork v0.0.0-20180107083740-2aebee971930/go.mod h1:MK8+TM0La+2rjBD4jE12Kj1pCCxK7d2LK/UM3ncEo0o=
 github.com/jcmturner/gofork v1.0.0 h1:J7uCkflzTEhUZ64xqKnkDxq3kzc96ajM1Gli5ktUem8=
 github.com/jcmturner/gofork v1.0.0/go.mod h1:MK8+TM0La+2rjBD4jE12Kj1pCCxK7d2LK/UM3ncEo0o=
+github.com/jcmturner/goidentity/v6 v6.0.1/go.mod h1:X1YW3bgtvwAXju7V3LCIMpY0Gbxyjn/mY9zx4tFonSg=
+github.com/jcmturner/gokrb5/v8 v8.4.2/go.mod h1:sb+Xq/fTY5yktf/VxLsE3wlfPqQjp0aWNYyvBVK62bc=
+github.com/jcmturner/rpc/v2 v2.0.3/go.mod h1:VUJYCIDm3PVOEHw8sgt091/20OJjskO/YJki3ELg/Hc=
 github.com/jessevdk/go-flags v1.4.0/go.mod h1:4FA24M0QyGHXBuZZK/XkWh8h0e1EYbRYJSGM75WSRxI=
 github.com/jessevdk/go-flags v1.5.0 h1:1jKYvbxEjfUl0fmqTCOfonvskHHXMjBySTLW4y9LFvc=
 github.com/jessevdk/go-flags v1.5.0/go.mod h1:Fw0T6WPc1dYxT4mKEZRfG5kJhaTDP9pj1c2EWnYs/m4=
 github.com/jmespath/go-jmespath v0.0.0-20180206201540-c2b33e8439af/go.mod h1:Nht3zPeWKUH0NzdCt2Blrr5ys8VGpn0CEB0cQHVjt7k=
-github.com/jmespath/go-jmespath v0.3.0 h1:OS12ieG61fsCg5+qLJ+SsW9NicxNkg3b25OyT2yCeUc=
 github.com/jmespath/go-jmespath v0.3.0/go.mod h1:9QtRXoHjLGCJ5IBSaohpXITPlowMeeYCZ7fLUTSywik=
+github.com/jmespath/go-jmespath v0.4.0 h1:BEgLn5cpjn8UN1mAw4NjwDrS35OdebyEtFe+9YPoQUg=
+github.com/jmespath/go-jmespath v0.4.0/go.mod h1:T8mJZnbsbmF+m6zOOFylbeCJqk5+pHWvzYPziyZiYoo=
+github.com/jmespath/go-jmespath/internal/testify v1.5.1 h1:shLQSRRSCCPj3f2gpwzGwWFoC7ycTf1rcQZHOlsJ6N8=
+github.com/jmespath/go-jmespath/internal/testify v1.5.1/go.mod h1:L3OGu8Wl2/fWfCI6z80xFu9LTZmf1ZRjMHUOPmWr69U=
 github.com/joho/godotenv v1.3.0/go.mod h1:7hK45KPybAkOC6peb+G5yklZfMxEjkZhHbwpqxOKXbg=
 github.com/jonboulle/clockwork v0.1.0/go.mod h1:Ii8DK3G1RaLaWxj9trq07+26W01tbo22gdxWY5EU2bo=
 github.com/joncalhoun/qson v0.0.0-20200422171543-84433dcd3da0/go.mod h1:DFXrEwSRX0p/aSvxE21319menCBFeQO0jXpRj7LEZUA=
@@ -640,6 +672,7 @@ github.com/jstemmer/go-junit-report v0.9.1/go.mod h1:Brl9GWCQeLvo8nXZwPNNblvFj/X
 github.com/jtolds/gls v4.2.1+incompatible/go.mod h1:QJZ7F/aHp+rZTRtaJ1ow/lLfFfVYBRgL+9YlvaHOwJU=
 github.com/jtolds/gls v4.20.0+incompatible h1:xdiiI2gbIgH/gLH7ADydsJ1uDOEzR8yvV7C0MuV77Wo=
 github.com/jtolds/gls v4.20.0+incompatible/go.mod h1:QJZ7F/aHp+rZTRtaJ1ow/lLfFfVYBRgL+9YlvaHOwJU=
+github.com/juju/fslock v0.0.0-20160525022230-4d5c94c67b4b/go.mod h1:HMcgvsgd0Fjj4XXDkbjdmlbI505rUPBs6WBMYg2pXks=
 github.com/julienschmidt/httprouter v1.2.0/go.mod h1:SYymIcj16QtmaHHD7aYtjjsJG7VTCxuUUipMqKk8s4w=
 github.com/julienschmidt/httprouter v1.3.0/go.mod h1:JR6WtHb+2LUe8TCKY3cZOxFyyO8IZAc4RVcycCCAKdM=
 github.com/k0kubun/colorstring v0.0.0-20150214042306-9440f1994b88/go.mod h1:3w7q1U84EfirKl04SVQ/s7nPm1ZPhiXd34z40TNz36k=
@@ -658,8 +691,9 @@ github.com/klauspost/compress v1.9.5/go.mod h1:RyIbtBH6LamlWaDj8nUwkbUhJ87Yi3uG0
 github.com/klauspost/compress v1.9.8/go.mod h1:RyIbtBH6LamlWaDj8nUwkbUhJ87Yi3uG0guNDohfE1A=
 github.com/klauspost/compress v1.10.8/go.mod h1:aoV0uJVorq1K+umq18yTdKaF57EivdYsUV+/s2qKfXs=
 github.com/klauspost/compress v1.11.8/go.mod h1:aoV0uJVorq1K+umq18yTdKaF57EivdYsUV+/s2qKfXs=
-github.com/klauspost/compress v1.11.9 h1:5OCMOdde1TCT2sookEuVeEZzA8bmRSFV3AwPDZAG8AA=
-github.com/klauspost/compress v1.11.9/go.mod h1:aoV0uJVorq1K+umq18yTdKaF57EivdYsUV+/s2qKfXs=
+github.com/klauspost/compress v1.12.2/go.mod h1:8dP1Hq4DHOhN9w426knH3Rhby4rFm6D8eO+e+Dq5Gzg=
+github.com/klauspost/compress v1.13.1 h1:wXr2uRxZTJXHLly6qhJabee5JqIhTRoLBhDOA74hDEQ=
+github.com/klauspost/compress v1.13.1/go.mod h1:8dP1Hq4DHOhN9w426knH3Rhby4rFm6D8eO+e+Dq5Gzg=
 github.com/klauspost/cpuid v1.2.1/go.mod h1:Pj4uuM528wm8OyEC2QMXAi2YiTZ96dNQPGgoMS4s3ek=
 github.com/klauspost/cpuid v1.2.3 h1:CCtW0xUnWGVINKvE/WWOYKdsPV6mawAtvQuSl8guwQs=
 github.com/klauspost/cpuid v1.2.3/go.mod h1:Pj4uuM528wm8OyEC2QMXAi2YiTZ96dNQPGgoMS4s3ek=
@@ -683,8 +717,9 @@ github.com/kr/text v0.2.0 h1:5Nx0Ya0ZqY2ygV366QzturHI13Jq95ApcVaJBhpS+AY=
 github.com/kr/text v0.2.0/go.mod h1:eLer722TekiGuMkidMxC/pM04lWEeraHUUmBw8l2grE=
 github.com/labstack/echo v3.2.1+incompatible/go.mod h1:0INS7j/VjnFxD4E2wkz67b8cVwCLbBmJyDaka6Cmk1s=
 github.com/labstack/gommon v0.2.7/go.mod h1:/tj9csK2iPSBvn+3NLM9e52usepMtrd5ilFYA+wQNJ4=
-github.com/lib/pq v1.3.0 h1:/qkRGz8zljWiDcFvgpwUpwIAPu3r07TDvs3Rws+o/pU=
 github.com/lib/pq v1.3.0/go.mod h1:5WUZQaWbwv1U+lTReE5YruASi9Al49XbQIvNi/34Woo=
+github.com/lib/pq v1.9.0 h1:L8nSXQQzAYByakOFMTwpjRoHsMJklur4Gi59b6VivR8=
+github.com/lib/pq v1.9.0/go.mod h1:AlVN5x4E4T544tWzH6hKfbfQvm3HdbOxrmggDNAPY9o=
 github.com/lightstep/lightstep-tracer-common/golang/gogo v0.0.0-20190605223551-bc2310a04743/go.mod h1:qklhhLq1aX+mtWk9cPHPzaBjWImj5ULL6C7HFJtXQMM=
 github.com/lightstep/lightstep-tracer-go v0.18.1/go.mod h1:jlF1pusYV4pidLvZ+XD0UBX0ZE6WURAspgAczcDHrL4=
 github.com/lightstep/tracecontext.go v0.0.0-20181129014701-1757c391b1ac/go.mod h1:Frd2bnT3w5FB5q49ENTfVlztJES+1k/7lyWX2+9gq/M=
@@ -713,6 +748,7 @@ github.com/mattn/go-colorable v0.1.6/go.mod h1:u6P/XSegPjTcexA+o6vUJrdnUu04hMope
 github.com/mattn/go-isatty v0.0.3/go.mod h1:M+lRXTBqGeGNdLjl/ufCoiOlB5xdOkqRJdNxMWT7Zi4=
 github.com/mattn/go-isatty v0.0.4/go.mod h1:M+lRXTBqGeGNdLjl/ufCoiOlB5xdOkqRJdNxMWT7Zi4=
 github.com/mattn/go-isatty v0.0.8/go.mod h1:Iq45c/XA43vh69/j3iqttzPXn0bhXyGjM0Hdxcsrc5s=
+github.com/mattn/go-isatty v0.0.10/go.mod h1:qgIWMr58cqv1PHHyhnkY9lrL7etaEgOFcMEpPG5Rm84=
 github.com/mattn/go-isatty v0.0.11/go.mod h1:PhnuNfih5lzO57/f3n+odYbM4JtupLOxQOAqxQCu2WE=
 github.com/mattn/go-isatty v0.0.12 h1:wuysRhFDzyxgEmMf5xjvJ2M9dZoWAXNNr5LSBS7uHXY=
 github.com/mattn/go-isatty v0.0.12/go.mod h1:cbi8OIDigv2wuxKPP5vlRcQ1OAZbq2CE4Kysco4FUpU=
@@ -733,8 +769,9 @@ github.com/minio/minio-go/v7 v7.0.2/go.mod h1:dJ80Mv2HeGkYLH1sqS/ksz07ON6csH3S6J
 github.com/minio/sha256-simd v0.1.1 h1:5QHSlgo3nt5yKOJrC7W8w7X+NFl8cMPZm96iu8kKUJU=
 github.com/minio/sha256-simd v0.1.1/go.mod h1:B5e1o+1/KgNmWrSQK08Y6Z1Vb5pwIktudl0J58iy0KM=
 github.com/mitchellh/cli v1.0.0/go.mod h1:hNIlj7HEI86fIcpObd7a0FcrxTWetlwJDGcceTlRvqc=
-github.com/mitchellh/copystructure v1.0.0 h1:Laisrj+bAB6b/yJwB5Bt3ITZhGJdqmxquMKeZ+mmkFQ=
 github.com/mitchellh/copystructure v1.0.0/go.mod h1:SNtv71yrdKgLRyLFxmLdkAbkKEFWgYaq1OVrnRcwhnw=
+github.com/mitchellh/copystructure v1.1.1 h1:Bp6x9R1Wn16SIz3OfeDr0b7RnCG2OB66Y7PQyC/cvq4=
+github.com/mitchellh/copystructure v1.1.1/go.mod h1:EBArHfARyrSWO/+Wyr9zwEkc6XMFB9XyNgFNmRkZZU4=
 github.com/mitchellh/go-homedir v1.0.0/go.mod h1:SfyaCUpYCn1Vlf4IUYiD9fPX4A5wJrkLzIz1N1q0pr0=
 github.com/mitchellh/go-homedir v1.1.0 h1:lukF9ziXFxDFPkA1vsr5zpc1XuPDn/wFntq5mG+4E0Y=
 github.com/mitchellh/go-homedir v1.1.0/go.mod h1:SfyaCUpYCn1Vlf4IUYiD9fPX4A5wJrkLzIz1N1q0pr0=
@@ -771,17 +808,23 @@ github.com/nats-io/go-nats v1.7.2/go.mod h1:+t7RHT5ApZebkrQdnn6AhQJmhJJiKAvJUio1
 github.com/nats-io/graft v0.0.0-20200605173148-348798afea05/go.mod h1:idnzXeCwCx69FMg+R0DyD4/OhrF1A+v3BqF5xSz+tS4=
 github.com/nats-io/jwt v0.3.0/go.mod h1:fRYCDE99xlTsqUzISS1Bi75UBJ6ljOJQOAAu5VglpSg=
 github.com/nats-io/jwt v0.3.2/go.mod h1:/euKqTS1ZD+zzjYrY7pseZrTtWQSjujC7xjPc8wL6eU=
+github.com/nats-io/jwt v1.1.0/go.mod h1:n3cvmLfBfnpV4JJRN7lRYCyZnw48ksGsbThGXEk4w9M=
 github.com/nats-io/nats-server/v2 v2.1.2/go.mod h1:Afk+wRZqkMQs/p45uXdrVLuab3gwv3Z8C4HTBu8GD/k=
 github.com/nats-io/nats-server/v2 v2.1.4/go.mod h1:Jw1Z28soD/QasIA2uWjXyM9El1jly3YwyFOuR8tH1rg=
 github.com/nats-io/nats-server/v2 v2.1.7/go.mod h1:rbRrRE/Iv93O/rUvZ9dh4NfT0Cm9HWjW/BqOWLGgYiE=
+github.com/nats-io/nats-server/v2 v2.1.9/go.mod h1:9qVyoewoYXzG1ME9ox0HwkkzyYvnlBDugfR4Gg/8uHU=
 github.com/nats-io/nats-streaming-server v0.17.0/go.mod h1:ewPBEsmp62Znl3dcRsYtlcfwudxHEdYMtYqUQSt4fE0=
+github.com/nats-io/nats-streaming-server v0.21.1/go.mod h1:2W8QfNVOtcFpmf0bRiwuLtRb0/hkX4NuOxPOFNOThVQ=
 github.com/nats-io/nats.go v1.9.1/go.mod h1:ZjDU1L/7fJ09jvUSRVBR2e7+RnLiiIQyqyzEE/Zbp4w=
 github.com/nats-io/nats.go v1.10.0/go.mod h1:AjGArbfyR50+afOUotNX2Xs5SYHf+CoOa5HH1eEl2HE=
+github.com/nats-io/nats.go v1.11.0/go.mod h1:BPko4oXsySz4aSWeFgOHLZs3G4Jq4ZAyE6/zMCxRT6w=
 github.com/nats-io/nkeys v0.1.0/go.mod h1:xpnFELMwJABBLVhffcfd1MZx6VsNRFpEugbxziKVo7w=
 github.com/nats-io/nkeys v0.1.3/go.mod h1:xpnFELMwJABBLVhffcfd1MZx6VsNRFpEugbxziKVo7w=
 github.com/nats-io/nkeys v0.1.4/go.mod h1:XdZpAbhgyyODYqjTawOnIOI7VlbKSarI9Gfy1tqEu/s=
+github.com/nats-io/nkeys v0.3.0/go.mod h1:gvUNGjVcM2IPr5rCsRsC6Wb3Hr2CQAm08dsxtV6A5y4=
 github.com/nats-io/nuid v1.0.1/go.mod h1:19wcPz3Ph3q0Jbyiqsd0kePYG7A95tJPxeL+1OSON2c=
 github.com/nats-io/stan.go v0.6.0/go.mod h1:eIcD5bi3pqbHT/xIIvXMwvzXYElgouBvaVRftaE+eac=
+github.com/nats-io/stan.go v0.8.3/go.mod h1:Ejm8bbHnMTSptU6uNMAVuxeapMJYBB/Ml3ej6z4GoSY=
 github.com/nicksnyder/go-i18n v1.10.1-0.20190510212457-b280125b035a/go.mod h1:e4Di5xjP9oTVrC6y3C7C0HoSYXjSbhh/dU0eUV32nB4=
 github.com/niemeyer/pretty v0.0.0-20200227124842-a10e7caefd8e/go.mod h1:zD1mROLANZcx1PVRCS0qkT7pwLkGfwJo4zjcN/Tysno=
 github.com/nsf/termbox-go v0.0.0-20190121233118-02980233997d/go.mod h1:IuKpRQcYE1Tfu+oAQqaLisqDeXgjyyltCfsaoYN18NQ=
@@ -823,6 +866,7 @@ github.com/openzipkin/zipkin-go v0.2.2/go.mod h1:NaW6tEwdmWMaCDZzg8sh+IBNOxHMPnh
 github.com/pact-foundation/pact-go v1.0.4/go.mod h1:uExwJY4kCzNPcHRj+hCR/HBbOOIwwtUjcrb0b5/5kLM=
 github.com/pascaldekloe/goe v0.0.0-20180627143212-57f6aae5913c/go.mod h1:lzWF7FIEvWOWxwDKqyGYQf6ZUaNfKdP144TG7ZOy1lc=
 github.com/pascaldekloe/goe v0.1.0/go.mod h1:lzWF7FIEvWOWxwDKqyGYQf6ZUaNfKdP144TG7ZOy1lc=
+github.com/paulbellamy/ratecounter v0.2.0/go.mod h1:Hfx1hDpSGoqxkVVpBi/IlYD7kChlfo5C6hzIHwPqfFE=
 github.com/pborman/getopt v0.0.0-20180729010549-6fdd0a2c7117/go.mod h1:85jBQOZwpVEaDAr341tbn15RS4fCAsIst0qp7i8ex1o=
 github.com/pborman/uuid v1.2.0/go.mod h1:X/NO0urCmaxf9VXbdlT7C2Yzkj2IKimNn4k+gtPdI/k=
 github.com/pelletier/go-buffruneio v0.2.0/go.mod h1:JkE26KsDizTr40EUHkXVtNPvgGtbSNq5BcowyYOWdKo=
@@ -837,6 +881,8 @@ github.com/pierrec/lz4 v1.0.2-0.20190131084431-473cd7ce01a1/go.mod h1:3/3N9NVKO0
 github.com/pierrec/lz4 v2.0.5+incompatible/go.mod h1:pdkljMzZIN41W+lC3N2tnIh5sFi+IEE17M5jbnwPHcY=
 github.com/pierrec/lz4 v2.4.1+incompatible/go.mod h1:pdkljMzZIN41W+lC3N2tnIh5sFi+IEE17M5jbnwPHcY=
 github.com/pierrec/lz4 v2.5.0+incompatible/go.mod h1:pdkljMzZIN41W+lC3N2tnIh5sFi+IEE17M5jbnwPHcY=
+github.com/pierrec/lz4 v2.6.0+incompatible/go.mod h1:pdkljMzZIN41W+lC3N2tnIh5sFi+IEE17M5jbnwPHcY=
+github.com/pierrec/lz4 v2.6.1+incompatible/go.mod h1:pdkljMzZIN41W+lC3N2tnIh5sFi+IEE17M5jbnwPHcY=
 github.com/pkg/errors v0.8.0/go.mod h1:bwawxfHBFNV+L2hUp1rHADufV3IMtnDRdf1r5NINEl0=
 github.com/pkg/errors v0.8.1/go.mod h1:bwawxfHBFNV+L2hUp1rHADufV3IMtnDRdf1r5NINEl0=
 github.com/pkg/errors v0.9.1 h1:FEBLx1zS214owpjy7qsBeixbURkuhQAwrK5UwLGTwt4=
@@ -882,17 +928,20 @@ github.com/prometheus/procfs v0.0.0-20190507164030-5867b95ac084/go.mod h1:TjEm7z
 github.com/prometheus/procfs v0.0.2/go.mod h1:TjEm7ze935MbeOT/UhFTIMYKhuLP4wbCsTZCD3I8kEA=
 github.com/prometheus/procfs v0.0.8/go.mod h1:7Qr8sr6344vo1JqZ6HhLceV9o3AJ1Ff+GxbHq6oeK9A=
 github.com/prometheus/procfs v0.1.3/go.mod h1:lV6e/gmhEcM9IjHGsFOCxxuZ+z1YqCvr4OA4YeYWdaU=
-github.com/prometheus/procfs v0.2.0 h1:wH4vA7pcjKuZzjF7lM8awk4fnuJO6idemZXoKnULUx4=
 github.com/prometheus/procfs v0.2.0/go.mod h1:lV6e/gmhEcM9IjHGsFOCxxuZ+z1YqCvr4OA4YeYWdaU=
+github.com/prometheus/procfs v0.6.0 h1:mxy4L2jP6qMonqmq+aTtOx1ifVWUgG/TAmntgbh3xv4=
+github.com/prometheus/procfs v0.6.0/go.mod h1:cz+aTbrPOrUb4q7XlbU9ygM+/jj0fzG6c1xBZuNvfVA=
 github.com/prometheus/tsdb v0.7.1/go.mod h1:qhTCs0VvXwvX/y3TZrWD7rabWM+ijKTux40TwIPHuXU=
 github.com/radovskyb/watcher v1.0.7/go.mod h1:78okwvY5wPdzcb1UYnip1pvrZNIVEIh/Cm+ZuvsUYIg=
 github.com/rcrowley/go-metrics v0.0.0-20181016184325-3113b8401b8a/go.mod h1:bCqnVzQkZxMG4s8nGwiZ5l3QUCyqpo9Y+/ZMZ9VjZe4=
 github.com/rcrowley/go-metrics v0.0.0-20190826022208-cac0b30c2563/go.mod h1:bCqnVzQkZxMG4s8nGwiZ5l3QUCyqpo9Y+/ZMZ9VjZe4=
 github.com/rcrowley/go-metrics v0.0.0-20200313005456-10cdbea86bc0/go.mod h1:bCqnVzQkZxMG4s8nGwiZ5l3QUCyqpo9Y+/ZMZ9VjZe4=
+github.com/rcrowley/go-metrics v0.0.0-20201227073835-cf1acfcdf475/go.mod h1:bCqnVzQkZxMG4s8nGwiZ5l3QUCyqpo9Y+/ZMZ9VjZe4=
 github.com/rivo/tview v0.0.0-20200219210816-cd38d7432498/go.mod h1:6lkG1x+13OShEf0EaOCaTQYyB7d5nSbb181KtjlS+84=
 github.com/rivo/uniseg v0.1.0/go.mod h1:J6wj4VEh+S6ZtnVlnTBMWIodfgj8LQOQFoIToxlJtxc=
 github.com/robfig/cron v1.2.0 h1:ZjScXvvxeQ63Dbyxy76Fj3AT3Ut0aKsyd2/tl3DTMuQ=
 github.com/robfig/cron v1.2.0/go.mod h1:JGuDeoQd7Z6yL4zQhZ3OPEVHB7fL6Ka6skscFHfmt2k=
+github.com/robfig/cron/v3 v3.0.0/go.mod h1:eQICP3HwyT7UooqI/z+Ov+PtYAWygg1TEWWzGIFLtro=
 github.com/robfig/cron/v3 v3.0.1 h1:WdRxkvbJztn8LMz/QEvLN5sBU+xKpSqwwUO1Pjr4qDs=
 github.com/robfig/cron/v3 v3.0.1/go.mod h1:eQICP3HwyT7UooqI/z+Ov+PtYAWygg1TEWWzGIFLtro=
 github.com/rogpeppe/fastuuid v0.0.0-20150106093220-6724a57986af/go.mod h1:XWv6SoW27p1b0cqNHllgS5HIMJraePCO15w5zCzIWYg=
@@ -1021,8 +1070,10 @@ github.com/xanzy/ssh-agent v0.2.1/go.mod h1:mLlQY/MoOhWBj+gOGMQkOeiEvkx+8pJSI+0B
 github.com/xanzy/ssh-agent v0.3.0 h1:wUMzuKtKilRgBAD1sUb8gOwwRr2FGoBVumcjoOACClI=
 github.com/xanzy/ssh-agent v0.3.0/go.mod h1:3s9xbODqPuuhK9JV1R321M/FlMZSBvE5aY6eAcqrDh0=
 github.com/xdg/scram v0.0.0-20180814205039-7eeb5667e42c/go.mod h1:lB8K/P019DLNhemzwFU4jHLhdvlE6uDZjXFejJXr49I=
+github.com/xdg/scram v1.0.3/go.mod h1:lB8K/P019DLNhemzwFU4jHLhdvlE6uDZjXFejJXr49I=
 github.com/xdg/stringprep v0.0.0-20180714160509-73f8eece6fdc/go.mod h1:Jhud4/sHMO4oL310DaZAKk9ZaJ08SJfe+sJh0HrGL1Y=
 github.com/xdg/stringprep v1.0.0/go.mod h1:Jhud4/sHMO4oL310DaZAKk9ZaJ08SJfe+sJh0HrGL1Y=
+github.com/xdg/stringprep v1.0.3/go.mod h1:Jhud4/sHMO4oL310DaZAKk9ZaJ08SJfe+sJh0HrGL1Y=
 github.com/xeipuuv/gojsonpointer v0.0.0-20180127040702-4e3ac2762d5f/go.mod h1:N2zxlSyiKSe5eX1tZViRH5QA0qijqEDrYZiPEAiq3wU=
 github.com/xeipuuv/gojsonpointer v0.0.0-20190905194746-02993c407bfb h1:zGWFAtiMcyryUHoUjUJX0/lt1H2+i2Ka2n+D3DImSNo=
 github.com/xeipuuv/gojsonpointer v0.0.0-20190905194746-02993c407bfb/go.mod h1:N2zxlSyiKSe5eX1tZViRH5QA0qijqEDrYZiPEAiq3wU=
@@ -1109,9 +1160,13 @@ golang.org/x/crypto v0.0.0-20200622213623-75b288015ac9/go.mod h1:LzIPMQfyMNhhGPh
 golang.org/x/crypto v0.0.0-20200709230013-948cd5f35899/go.mod h1:LzIPMQfyMNhhGPhUkYOs5KpL4U8rLKemX1yGLhDgUto=
 golang.org/x/crypto v0.0.0-20200728195943-123391ffb6de/go.mod h1:LzIPMQfyMNhhGPhUkYOs5KpL4U8rLKemX1yGLhDgUto=
 golang.org/x/crypto v0.0.0-20201002170205-7f63de1d35b0/go.mod h1:LzIPMQfyMNhhGPhUkYOs5KpL4U8rLKemX1yGLhDgUto=
+golang.org/x/crypto v0.0.0-20201112155050-0c6587e931a9/go.mod h1:LzIPMQfyMNhhGPhUkYOs5KpL4U8rLKemX1yGLhDgUto=
 golang.org/x/crypto v0.0.0-20210220033148-5ea612d1eb83/go.mod h1:jdWPYTVW3xRLrWPugEBEK3UY2ZEsg3UU495nc5E+M+I=
-golang.org/x/crypto v0.0.0-20210322153248-0c34fe9e7dc2 h1:It14KIkyBFYkHkwZ7k45minvA9aorojkyjGk9KJ5B/w=
+golang.org/x/crypto v0.0.0-20210314154223-e6e6c4f2bb5b/go.mod h1:T9bdIzuCu7OtxOm1hfPfRQxPLYneinmdGuTeoZ9dtd4=
 golang.org/x/crypto v0.0.0-20210322153248-0c34fe9e7dc2/go.mod h1:T9bdIzuCu7OtxOm1hfPfRQxPLYneinmdGuTeoZ9dtd4=
+golang.org/x/crypto v0.0.0-20210616213533-5ff15b29337e/go.mod h1:GvvjBRRGRdwPK5ydBHafDWAxML/pGHZbMvKqRZ5+Abc=
+golang.org/x/crypto v0.0.0-20210711020723-a769d52b0f97 h1:/UOmuWzQfxxo9UtlXMwuQU8CMgg1eZXqTRwkSQJWKOI=
+golang.org/x/crypto v0.0.0-20210711020723-a769d52b0f97/go.mod h1:GvvjBRRGRdwPK5ydBHafDWAxML/pGHZbMvKqRZ5+Abc=
 golang.org/x/exp v0.0.0-20190121172915-509febef88a4/go.mod h1:CJ0aWSM057203Lf6IL+f9T1iT9GByDxfZKAQTCR3kQA=
 golang.org/x/exp v0.0.0-20190306152737-a1d7652674e8/go.mod h1:CJ0aWSM057203Lf6IL+f9T1iT9GByDxfZKAQTCR3kQA=
 golang.org/x/exp v0.0.0-20190510132918-efd6b22b2522/go.mod h1:ZjyILWgesfNpC6sMxTJOJm9Kp84zZh5NQWvqDGG3Qr8=
@@ -1194,8 +1249,9 @@ golang.org/x/net v0.0.0-20210119194325-5f4716e94777/go.mod h1:m0MpNAwzfU5UDzcl9v
 golang.org/x/net v0.0.0-20210226101413-39120d07d75e/go.mod h1:m0MpNAwzfU5UDzcl9v0D8zg8gWTRqZa9RBIspLL5mdg=
 golang.org/x/net v0.0.0-20210226172049-e18ecbb05110/go.mod h1:m0MpNAwzfU5UDzcl9v0D8zg8gWTRqZa9RBIspLL5mdg=
 golang.org/x/net v0.0.0-20210326060303-6b1517762897/go.mod h1:uSPa2vr4CLtc/ILN5odXGNXS6mhrKVzTaCXzk9m6W3k=
-golang.org/x/net v0.0.0-20210405180319-a5a99cb37ef4 h1:4nGaVu0QrbjT/AK2PRLuQfQuh6DJve+pELhqTdAj3x0=
 golang.org/x/net v0.0.0-20210405180319-a5a99cb37ef4/go.mod h1:p54w0d4576C0XHj96bSt6lcn1PtDYWL6XObtHCRCNQM=
+golang.org/x/net v0.0.0-20210614182718-04defd469f4e h1:XpT3nA5TvE525Ne3hInMh6+GETgn27Zfm9dxsThnX2Q=
+golang.org/x/net v0.0.0-20210614182718-04defd469f4e/go.mod h1:9nx3DQGgdP8bBQD5qxJ1jj9UTztislL4KSBs9R2vV5Y=
 golang.org/x/oauth2 v0.0.0-20180821212333-d2e6202438be/go.mod h1:N/0e6XlmueqKjAGxoOufVs8QHGRruUQn6yWY3a++T0U=
 golang.org/x/oauth2 v0.0.0-20181106182150-f42d05182288/go.mod h1:N/0e6XlmueqKjAGxoOufVs8QHGRruUQn6yWY3a++T0U=
 golang.org/x/oauth2 v0.0.0-20190226205417-e64efc72b421/go.mod h1:gOpvHmFTYa4IltrdGE7lF6nIHvwfUNPOp7c8zoXwtLw=
@@ -1213,6 +1269,7 @@ golang.org/x/sync v0.0.0-20190911185100-cd5d95a43a6e/go.mod h1:RxMgew5VJxzue5/jJ
 golang.org/x/sync v0.0.0-20200317015054-43a5402ce75a/go.mod h1:RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM=
 golang.org/x/sync v0.0.0-20200625203802-6e8e738ad208/go.mod h1:RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM=
 golang.org/x/sync v0.0.0-20201020160332-67f06af15bc9/go.mod h1:RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM=
+golang.org/x/sync v0.0.0-20201207232520-09787c993a3a/go.mod h1:RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM=
 golang.org/x/sync v0.0.0-20210220032951-036812b2e83c h1:5KslGYwFpkhGh+Q16bwMP3cOontH8FOep7tGV86Y7SQ=
 golang.org/x/sync v0.0.0-20210220032951-036812b2e83c/go.mod h1:RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM=
 golang.org/x/sys v0.0.0-20170830134202-bb24a47a89ea/go.mod h1:STP8DvDyc/dI5b8T5hshtkjS+E42TnysNCUPdjciGhY=
@@ -1252,6 +1309,7 @@ golang.org/x/sys v0.0.0-20190904154756-749cb33beabd/go.mod h1:h1NjWce9XRLGQEsW7w
 golang.org/x/sys v0.0.0-20190916202348-b4ddaad3f8a3/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
 golang.org/x/sys v0.0.0-20191001151750-bb3f8db39f24/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
 golang.org/x/sys v0.0.0-20191005200804-aed5e4c7ecf9/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
+golang.org/x/sys v0.0.0-20191008105621-543471e840be/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
 golang.org/x/sys v0.0.0-20191022100944-742c48ecaeb7/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
 golang.org/x/sys v0.0.0-20191026070338-33540a1f6037/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
 golang.org/x/sys v0.0.0-20191120155948-bd437916bb0e/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
@@ -1262,6 +1320,7 @@ golang.org/x/sys v0.0.0-20200106162015-b016eb3dc98e/go.mod h1:h1NjWce9XRLGQEsW7w
 golang.org/x/sys v0.0.0-20200113162924-86b910548bc1/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
 golang.org/x/sys v0.0.0-20200116001909-b77594299b42/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
 golang.org/x/sys v0.0.0-20200122134326-e047566fdf82/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
+golang.org/x/sys v0.0.0-20200124204421-9fbb57f87de9/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
 golang.org/x/sys v0.0.0-20200202164722-d101bd2416d5/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
 golang.org/x/sys v0.0.0-20200212091648-12a6c2dcc1e4/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
 golang.org/x/sys v0.0.0-20200223170610-d5e6a3e2c0ae/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
@@ -1277,12 +1336,15 @@ golang.org/x/sys v0.0.0-20201112073958-5cba982894dd/go.mod h1:h1NjWce9XRLGQEsW7w
 golang.org/x/sys v0.0.0-20201119102817-f84b799fce68/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
 golang.org/x/sys v0.0.0-20201214210602-f9fddec55a1e/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
 golang.org/x/sys v0.0.0-20210119212857-b64e53b001e4/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
+golang.org/x/sys v0.0.0-20210124154548-22da62e12c0c/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
 golang.org/x/sys v0.0.0-20210225134936-a50acf3fe073/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
 golang.org/x/sys v0.0.0-20210320140829-1e4c9ba3b0c4/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
 golang.org/x/sys v0.0.0-20210324051608-47abb6519492/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
 golang.org/x/sys v0.0.0-20210330210617-4fbd30eecc44/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
-golang.org/x/sys v0.0.0-20210510120138-977fb7262007 h1:gG67DSER+11cZvqIMb8S8bt0vZtiN6xWYARwirrOSfE=
+golang.org/x/sys v0.0.0-20210423082822-04245dca01da/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
 golang.org/x/sys v0.0.0-20210510120138-977fb7262007/go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=
+golang.org/x/sys v0.0.0-20210615035016-665e8c7367d1 h1:SrN+KX8Art/Sf4HNj6Zcz06G7VEz+7w9tdXTPOZ7+l4=
+golang.org/x/sys v0.0.0-20210615035016-665e8c7367d1/go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=
 golang.org/x/term v0.0.0-20201117132131-f5c789dd3221/go.mod h1:Nr5EML6q2oocZ2LXRh80K7BxOlk5/8JxuGnuhpl+muw=
 golang.org/x/term v0.0.0-20201126162022-7de9c90e9dd1 h1:v+OssWQX+hTHEmOBgwxdZxK4zHq3yOs8F9J7mk0PY8E=
 golang.org/x/term v0.0.0-20201126162022-7de9c90e9dd1/go.mod h1:bj7SfCRtBDWHUb9snDiAeCFNEtKQo2Wmx5Cou7ajbmo=
@@ -1318,6 +1380,7 @@ golang.org/x/tools v0.0.0-20190328211700-ab21143f2384/go.mod h1:LCzVGOaR6xXOjkQ3
 golang.org/x/tools v0.0.0-20190329151228-23e29df326fe/go.mod h1:LCzVGOaR6xXOjkQ3onu1FJEFr0SW1gC7cKk1uF8kGRs=
 golang.org/x/tools v0.0.0-20190416151739-9c9e1878f421/go.mod h1:LCzVGOaR6xXOjkQ3onu1FJEFr0SW1gC7cKk1uF8kGRs=
 golang.org/x/tools v0.0.0-20190420181800-aa740d480789/go.mod h1:LCzVGOaR6xXOjkQ3onu1FJEFr0SW1gC7cKk1uF8kGRs=
+golang.org/x/tools v0.0.0-20190424220101-1e8e1cfdf96b/go.mod h1:RgjU9mgBXZiqYHBnxXauZ1Gv1EHHAz9KjViQ78xBX0Q=
 golang.org/x/tools v0.0.0-20190425150028-36563e24a262/go.mod h1:RgjU9mgBXZiqYHBnxXauZ1Gv1EHHAz9KjViQ78xBX0Q=
 golang.org/x/tools v0.0.0-20190506145303-2d16b83fe98c/go.mod h1:RgjU9mgBXZiqYHBnxXauZ1Gv1EHHAz9KjViQ78xBX0Q=
 golang.org/x/tools v0.0.0-20190524140312-2c0ae7006135/go.mod h1:RgjU9mgBXZiqYHBnxXauZ1Gv1EHHAz9KjViQ78xBX0Q=
@@ -1362,8 +1425,8 @@ golang.org/x/tools v0.0.0-20200619180055-7c47624df98f/go.mod h1:EkVYQZoAsY45+roY
 golang.org/x/tools v0.0.0-20200717024301-6ddee64345a6/go.mod h1:njjCfa9FT2d7l9Bc6FUM5FLjQPp3cFF28FI3qnDFljA=
 golang.org/x/tools v0.0.0-20210106214847-113979e3529a/go.mod h1:emZCQorbCU4vsT4fOWvOPXz4eW1wZW4PmDk9uLelYpA=
 golang.org/x/tools v0.1.0/go.mod h1:xkSsbof2nBLbhDlRMhhhyNLN/zl3eTqcnHD5viDpcZ0=
-golang.org/x/tools v0.1.3-0.20210608163600-9ed039809d4c h1:Pv9gNyJFYVdpUAVZYJ1BDSU4eGgXQ+0f3DIGAdolO5s=
-golang.org/x/tools v0.1.3-0.20210608163600-9ed039809d4c/go.mod h1:o0xws9oXOQQZyjljx8fwUC0k7L1pTE6eaCbjGeHmOkk=
+golang.org/x/tools v0.1.5 h1:ouewzE6p+/VEB31YYnTbEJdi8pFqKp4P4n85vwo3DHA=
+golang.org/x/tools v0.1.5/go.mod h1:o0xws9oXOQQZyjljx8fwUC0k7L1pTE6eaCbjGeHmOkk=
 golang.org/x/xerrors v0.0.0-20190717185122-a985d3407aa7/go.mod h1:I/5z698sn9Ka8TeJc9MKroUUfqBBauWjQqLJ2OPfmY0=
 golang.org/x/xerrors v0.0.0-20191011141410-1b5146add898/go.mod h1:I/5z698sn9Ka8TeJc9MKroUUfqBBauWjQqLJ2OPfmY0=
 golang.org/x/xerrors v0.0.0-20191204190536-9bdfabe68543/go.mod h1:I/5z698sn9Ka8TeJc9MKroUUfqBBauWjQqLJ2OPfmY0=
@@ -1591,6 +1654,7 @@ rsc.io/quote/v3 v3.1.0/go.mod h1:yEA65RcK8LyAZtP9Kv3t0HmxON59tX3rD+tICJqUlj0=
 rsc.io/sampler v1.3.0/go.mod h1:T1hPZKmBbMNahiBKFy5HrXp6adAjACjK9JXDnKaTXpA=
 sigs.k8s.io/apiserver-network-proxy/konnectivity-client v0.0.7/go.mod h1:PHgbrJT7lCHcxMU+mDHEm+nx46H4zuuHZkDP6icnhu0=
 sigs.k8s.io/apiserver-network-proxy/konnectivity-client v0.0.9/go.mod h1:dzAXnQbTRyDlZPJX2SUPEqvnB+j7AJjtlox7PEwigU0=
+sigs.k8s.io/controller-runtime v0.7.0 h1:bU20IBBEPccWz5+zXpLnpVsgBYxqclaHu1pVDl/gEt8=
 sigs.k8s.io/controller-runtime v0.7.0/go.mod h1:pJ3YBrJiAqMAZKi6UVGuE98ZrroV1p+pIhoHsMm9wdU=
 sigs.k8s.io/controller-tools v0.4.1 h1:VkuV0MxlRPmRu5iTgBZU4UxUX2LiR99n3sdQGRxZF4w=
 sigs.k8s.io/controller-tools v0.4.1/go.mod h1:G9rHdZMVlBDocIxGkK3jHLWqcTMNvveypYJwrvYKjWU=
diff --git a/pkg/apiclient/argo-kube-client.go b/pkg/apiclient/argo-kube-client.go
index 911bc670dd9f..35b39cdca270 100644
--- a/pkg/apiclient/argo-kube-client.go
+++ b/pkg/apiclient/argo-kube-client.go
@@ -6,6 +6,7 @@ import (
 
 	eventsource "github.com/argoproj/argo-events/pkg/client/eventsource/clientset/versioned"
 	sensor "github.com/argoproj/argo-events/pkg/client/sensor/clientset/versioned"
+	"k8s.io/client-go/dynamic"
 	"k8s.io/client-go/kubernetes"
 	"k8s.io/client-go/tools/clientcmd"
 
@@ -43,6 +44,10 @@ func newArgoKubeClient(clientConfig clientcmd.ClientConfig, instanceIDService in
 	if err != nil {
 		return nil, nil, err
 	}
+	dynamicClient, err := dynamic.NewForConfig(restConfig)
+	if err != nil {
+		return nil, nil, fmt.Errorf("failure to create dynamic client: %w", err)
+	}
 	wfClient, err := workflow.NewForConfig(restConfig)
 	if err != nil {
 		return nil, nil, err
@@ -59,7 +64,13 @@ func newArgoKubeClient(clientConfig clientcmd.ClientConfig, instanceIDService in
 	if err != nil {
 		return nil, nil, err
 	}
-	clients := &types.Clients{Workflow: wfClient, EventSource: eventSourceInterface, Sensor: sensorInterface, Kubernetes: kubeClient}
+	clients := &types.Clients{
+		Dynamic:     dynamicClient,
+		EventSource: eventSourceInterface,
+		Kubernetes:  kubeClient,
+		Sensor:      sensorInterface,
+		Workflow:    wfClient,
+	}
 	gatekeeper, err := auth.NewGatekeeper(auth.Modes{auth.Server: true}, clients, restConfig, nil, auth.DefaultClientForAuthorization, "unused")
 	if err != nil {
 		return nil, nil, err
diff --git a/pkg/apiclient/pipeline/forwarder_overwrite.go b/pkg/apiclient/pipeline/forwarder_overwrite.go
new file mode 100644
index 000000000000..9dd891875d68
--- /dev/null
+++ b/pkg/apiclient/pipeline/forwarder_overwrite.go
@@ -0,0 +1,11 @@
+package pipeline
+
+import (
+	"github.com/argoproj/pkg/grpc/http"
+)
+
+func init() {
+	forward_PipelineService_WatchPipelines_0 = http.StreamForwarder
+	forward_PipelineService_PipelineLogs_0 = http.StreamForwarder
+	forward_PipelineService_WatchSteps_0 = http.StreamForwarder
+}
diff --git a/pkg/apiclient/pipeline/pipeline.pb.go b/pkg/apiclient/pipeline/pipeline.pb.go
new file mode 100644
index 000000000000..e1763843a883
--- /dev/null
+++ b/pkg/apiclient/pipeline/pipeline.pb.go
@@ -0,0 +1,3408 @@
+// Code generated by protoc-gen-gogo. DO NOT EDIT.
+// source: pkg/apiclient/pipeline/pipeline.proto
+
+package pipeline
+
+import (
+	context "context"
+	fmt "fmt"
+	v1alpha1 "github.com/argoproj-labs/argo-dataflow/api/v1alpha1"
+	proto "github.com/gogo/protobuf/proto"
+	_ "google.golang.org/genproto/googleapis/api/annotations"
+	grpc "google.golang.org/grpc"
+	codes "google.golang.org/grpc/codes"
+	status "google.golang.org/grpc/status"
+	io "io"
+	v11 "k8s.io/api/core/v1"
+	v1 "k8s.io/apimachinery/pkg/apis/meta/v1"
+	math "math"
+	math_bits "math/bits"
+)
+
+// Reference imports to suppress errors if they are not otherwise used.
+var _ = proto.Marshal
+var _ = fmt.Errorf
+var _ = math.Inf
+
+// This is a compile-time assertion to ensure that this generated file
+// is compatible with the proto package it is being compiled against.
+// A compilation error at this line likely means your copy of the
+// proto package needs to be updated.
+const _ = proto.GoGoProtoPackageIsVersion3 // please upgrade the proto package
+
+type ListPipelinesRequest struct {
+	Namespace            string          `protobuf:"bytes,1,opt,name=namespace,proto3" json:"namespace,omitempty"`
+	ListOptions          *v1.ListOptions `protobuf:"bytes,2,opt,name=listOptions,proto3" json:"listOptions,omitempty"`
+	XXX_NoUnkeyedLiteral struct{}        `json:"-"`
+	XXX_unrecognized     []byte          `json:"-"`
+	XXX_sizecache        int32           `json:"-"`
+}
+
+func (m *ListPipelinesRequest) Reset()         { *m = ListPipelinesRequest{} }
+func (m *ListPipelinesRequest) String() string { return proto.CompactTextString(m) }
+func (*ListPipelinesRequest) ProtoMessage()    {}
+func (*ListPipelinesRequest) Descriptor() ([]byte, []int) {
+	return fileDescriptor_71dfb1a81115c785, []int{0}
+}
+func (m *ListPipelinesRequest) XXX_Unmarshal(b []byte) error {
+	return m.Unmarshal(b)
+}
+func (m *ListPipelinesRequest) XXX_Marshal(b []byte, deterministic bool) ([]byte, error) {
+	if deterministic {
+		return xxx_messageInfo_ListPipelinesRequest.Marshal(b, m, deterministic)
+	} else {
+		b = b[:cap(b)]
+		n, err := m.MarshalToSizedBuffer(b)
+		if err != nil {
+			return nil, err
+		}
+		return b[:n], nil
+	}
+}
+func (m *ListPipelinesRequest) XXX_Merge(src proto.Message) {
+	xxx_messageInfo_ListPipelinesRequest.Merge(m, src)
+}
+func (m *ListPipelinesRequest) XXX_Size() int {
+	return m.Size()
+}
+func (m *ListPipelinesRequest) XXX_DiscardUnknown() {
+	xxx_messageInfo_ListPipelinesRequest.DiscardUnknown(m)
+}
+
+var xxx_messageInfo_ListPipelinesRequest proto.InternalMessageInfo
+
+func (m *ListPipelinesRequest) GetNamespace() string {
+	if m != nil {
+		return m.Namespace
+	}
+	return ""
+}
+
+func (m *ListPipelinesRequest) GetListOptions() *v1.ListOptions {
+	if m != nil {
+		return m.ListOptions
+	}
+	return nil
+}
+
+type PipelineWatchEvent struct {
+	Type                 string             `protobuf:"bytes,1,opt,name=type,proto3" json:"type,omitempty"`
+	Object               *v1alpha1.Pipeline `protobuf:"bytes,2,opt,name=object,proto3" json:"object,omitempty"`
+	XXX_NoUnkeyedLiteral struct{}           `json:"-"`
+	XXX_unrecognized     []byte             `json:"-"`
+	XXX_sizecache        int32              `json:"-"`
+}
+
+func (m *PipelineWatchEvent) Reset()         { *m = PipelineWatchEvent{} }
+func (m *PipelineWatchEvent) String() string { return proto.CompactTextString(m) }
+func (*PipelineWatchEvent) ProtoMessage()    {}
+func (*PipelineWatchEvent) Descriptor() ([]byte, []int) {
+	return fileDescriptor_71dfb1a81115c785, []int{1}
+}
+func (m *PipelineWatchEvent) XXX_Unmarshal(b []byte) error {
+	return m.Unmarshal(b)
+}
+func (m *PipelineWatchEvent) XXX_Marshal(b []byte, deterministic bool) ([]byte, error) {
+	if deterministic {
+		return xxx_messageInfo_PipelineWatchEvent.Marshal(b, m, deterministic)
+	} else {
+		b = b[:cap(b)]
+		n, err := m.MarshalToSizedBuffer(b)
+		if err != nil {
+			return nil, err
+		}
+		return b[:n], nil
+	}
+}
+func (m *PipelineWatchEvent) XXX_Merge(src proto.Message) {
+	xxx_messageInfo_PipelineWatchEvent.Merge(m, src)
+}
+func (m *PipelineWatchEvent) XXX_Size() int {
+	return m.Size()
+}
+func (m *PipelineWatchEvent) XXX_DiscardUnknown() {
+	xxx_messageInfo_PipelineWatchEvent.DiscardUnknown(m)
+}
+
+var xxx_messageInfo_PipelineWatchEvent proto.InternalMessageInfo
+
+func (m *PipelineWatchEvent) GetType() string {
+	if m != nil {
+		return m.Type
+	}
+	return ""
+}
+
+func (m *PipelineWatchEvent) GetObject() *v1alpha1.Pipeline {
+	if m != nil {
+		return m.Object
+	}
+	return nil
+}
+
+type GetPipelineRequest struct {
+	Name                 string         `protobuf:"bytes,1,opt,name=name,proto3" json:"name,omitempty"`
+	Namespace            string         `protobuf:"bytes,2,opt,name=namespace,proto3" json:"namespace,omitempty"`
+	GetOptions           *v1.GetOptions `protobuf:"bytes,3,opt,name=getOptions,proto3" json:"getOptions,omitempty"`
+	XXX_NoUnkeyedLiteral struct{}       `json:"-"`
+	XXX_unrecognized     []byte         `json:"-"`
+	XXX_sizecache        int32          `json:"-"`
+}
+
+func (m *GetPipelineRequest) Reset()         { *m = GetPipelineRequest{} }
+func (m *GetPipelineRequest) String() string { return proto.CompactTextString(m) }
+func (*GetPipelineRequest) ProtoMessage()    {}
+func (*GetPipelineRequest) Descriptor() ([]byte, []int) {
+	return fileDescriptor_71dfb1a81115c785, []int{2}
+}
+func (m *GetPipelineRequest) XXX_Unmarshal(b []byte) error {
+	return m.Unmarshal(b)
+}
+func (m *GetPipelineRequest) XXX_Marshal(b []byte, deterministic bool) ([]byte, error) {
+	if deterministic {
+		return xxx_messageInfo_GetPipelineRequest.Marshal(b, m, deterministic)
+	} else {
+		b = b[:cap(b)]
+		n, err := m.MarshalToSizedBuffer(b)
+		if err != nil {
+			return nil, err
+		}
+		return b[:n], nil
+	}
+}
+func (m *GetPipelineRequest) XXX_Merge(src proto.Message) {
+	xxx_messageInfo_GetPipelineRequest.Merge(m, src)
+}
+func (m *GetPipelineRequest) XXX_Size() int {
+	return m.Size()
+}
+func (m *GetPipelineRequest) XXX_DiscardUnknown() {
+	xxx_messageInfo_GetPipelineRequest.DiscardUnknown(m)
+}
+
+var xxx_messageInfo_GetPipelineRequest proto.InternalMessageInfo
+
+func (m *GetPipelineRequest) GetName() string {
+	if m != nil {
+		return m.Name
+	}
+	return ""
+}
+
+func (m *GetPipelineRequest) GetNamespace() string {
+	if m != nil {
+		return m.Namespace
+	}
+	return ""
+}
+
+func (m *GetPipelineRequest) GetGetOptions() *v1.GetOptions {
+	if m != nil {
+		return m.GetOptions
+	}
+	return nil
+}
+
+type RestartPipelineRequest struct {
+	Name                 string   `protobuf:"bytes,1,opt,name=name,proto3" json:"name,omitempty"`
+	Namespace            string   `protobuf:"bytes,2,opt,name=namespace,proto3" json:"namespace,omitempty"`
+	XXX_NoUnkeyedLiteral struct{} `json:"-"`
+	XXX_unrecognized     []byte   `json:"-"`
+	XXX_sizecache        int32    `json:"-"`
+}
+
+func (m *RestartPipelineRequest) Reset()         { *m = RestartPipelineRequest{} }
+func (m *RestartPipelineRequest) String() string { return proto.CompactTextString(m) }
+func (*RestartPipelineRequest) ProtoMessage()    {}
+func (*RestartPipelineRequest) Descriptor() ([]byte, []int) {
+	return fileDescriptor_71dfb1a81115c785, []int{3}
+}
+func (m *RestartPipelineRequest) XXX_Unmarshal(b []byte) error {
+	return m.Unmarshal(b)
+}
+func (m *RestartPipelineRequest) XXX_Marshal(b []byte, deterministic bool) ([]byte, error) {
+	if deterministic {
+		return xxx_messageInfo_RestartPipelineRequest.Marshal(b, m, deterministic)
+	} else {
+		b = b[:cap(b)]
+		n, err := m.MarshalToSizedBuffer(b)
+		if err != nil {
+			return nil, err
+		}
+		return b[:n], nil
+	}
+}
+func (m *RestartPipelineRequest) XXX_Merge(src proto.Message) {
+	xxx_messageInfo_RestartPipelineRequest.Merge(m, src)
+}
+func (m *RestartPipelineRequest) XXX_Size() int {
+	return m.Size()
+}
+func (m *RestartPipelineRequest) XXX_DiscardUnknown() {
+	xxx_messageInfo_RestartPipelineRequest.DiscardUnknown(m)
+}
+
+var xxx_messageInfo_RestartPipelineRequest proto.InternalMessageInfo
+
+func (m *RestartPipelineRequest) GetName() string {
+	if m != nil {
+		return m.Name
+	}
+	return ""
+}
+
+func (m *RestartPipelineRequest) GetNamespace() string {
+	if m != nil {
+		return m.Namespace
+	}
+	return ""
+}
+
+type RestartPipelineResponse struct {
+	XXX_NoUnkeyedLiteral struct{} `json:"-"`
+	XXX_unrecognized     []byte   `json:"-"`
+	XXX_sizecache        int32    `json:"-"`
+}
+
+func (m *RestartPipelineResponse) Reset()         { *m = RestartPipelineResponse{} }
+func (m *RestartPipelineResponse) String() string { return proto.CompactTextString(m) }
+func (*RestartPipelineResponse) ProtoMessage()    {}
+func (*RestartPipelineResponse) Descriptor() ([]byte, []int) {
+	return fileDescriptor_71dfb1a81115c785, []int{4}
+}
+func (m *RestartPipelineResponse) XXX_Unmarshal(b []byte) error {
+	return m.Unmarshal(b)
+}
+func (m *RestartPipelineResponse) XXX_Marshal(b []byte, deterministic bool) ([]byte, error) {
+	if deterministic {
+		return xxx_messageInfo_RestartPipelineResponse.Marshal(b, m, deterministic)
+	} else {
+		b = b[:cap(b)]
+		n, err := m.MarshalToSizedBuffer(b)
+		if err != nil {
+			return nil, err
+		}
+		return b[:n], nil
+	}
+}
+func (m *RestartPipelineResponse) XXX_Merge(src proto.Message) {
+	xxx_messageInfo_RestartPipelineResponse.Merge(m, src)
+}
+func (m *RestartPipelineResponse) XXX_Size() int {
+	return m.Size()
+}
+func (m *RestartPipelineResponse) XXX_DiscardUnknown() {
+	xxx_messageInfo_RestartPipelineResponse.DiscardUnknown(m)
+}
+
+var xxx_messageInfo_RestartPipelineResponse proto.InternalMessageInfo
+
+type DeletePipelineRequest struct {
+	Name                 string            `protobuf:"bytes,1,opt,name=name,proto3" json:"name,omitempty"`
+	Namespace            string            `protobuf:"bytes,2,opt,name=namespace,proto3" json:"namespace,omitempty"`
+	DeleteOptions        *v1.DeleteOptions `protobuf:"bytes,3,opt,name=deleteOptions,proto3" json:"deleteOptions,omitempty"`
+	XXX_NoUnkeyedLiteral struct{}          `json:"-"`
+	XXX_unrecognized     []byte            `json:"-"`
+	XXX_sizecache        int32             `json:"-"`
+}
+
+func (m *DeletePipelineRequest) Reset()         { *m = DeletePipelineRequest{} }
+func (m *DeletePipelineRequest) String() string { return proto.CompactTextString(m) }
+func (*DeletePipelineRequest) ProtoMessage()    {}
+func (*DeletePipelineRequest) Descriptor() ([]byte, []int) {
+	return fileDescriptor_71dfb1a81115c785, []int{5}
+}
+func (m *DeletePipelineRequest) XXX_Unmarshal(b []byte) error {
+	return m.Unmarshal(b)
+}
+func (m *DeletePipelineRequest) XXX_Marshal(b []byte, deterministic bool) ([]byte, error) {
+	if deterministic {
+		return xxx_messageInfo_DeletePipelineRequest.Marshal(b, m, deterministic)
+	} else {
+		b = b[:cap(b)]
+		n, err := m.MarshalToSizedBuffer(b)
+		if err != nil {
+			return nil, err
+		}
+		return b[:n], nil
+	}
+}
+func (m *DeletePipelineRequest) XXX_Merge(src proto.Message) {
+	xxx_messageInfo_DeletePipelineRequest.Merge(m, src)
+}
+func (m *DeletePipelineRequest) XXX_Size() int {
+	return m.Size()
+}
+func (m *DeletePipelineRequest) XXX_DiscardUnknown() {
+	xxx_messageInfo_DeletePipelineRequest.DiscardUnknown(m)
+}
+
+var xxx_messageInfo_DeletePipelineRequest proto.InternalMessageInfo
+
+func (m *DeletePipelineRequest) GetName() string {
+	if m != nil {
+		return m.Name
+	}
+	return ""
+}
+
+func (m *DeletePipelineRequest) GetNamespace() string {
+	if m != nil {
+		return m.Namespace
+	}
+	return ""
+}
+
+func (m *DeletePipelineRequest) GetDeleteOptions() *v1.DeleteOptions {
+	if m != nil {
+		return m.DeleteOptions
+	}
+	return nil
+}
+
+type DeletePipelineResponse struct {
+	XXX_NoUnkeyedLiteral struct{} `json:"-"`
+	XXX_unrecognized     []byte   `json:"-"`
+	XXX_sizecache        int32    `json:"-"`
+}
+
+func (m *DeletePipelineResponse) Reset()         { *m = DeletePipelineResponse{} }
+func (m *DeletePipelineResponse) String() string { return proto.CompactTextString(m) }
+func (*DeletePipelineResponse) ProtoMessage()    {}
+func (*DeletePipelineResponse) Descriptor() ([]byte, []int) {
+	return fileDescriptor_71dfb1a81115c785, []int{6}
+}
+func (m *DeletePipelineResponse) XXX_Unmarshal(b []byte) error {
+	return m.Unmarshal(b)
+}
+func (m *DeletePipelineResponse) XXX_Marshal(b []byte, deterministic bool) ([]byte, error) {
+	if deterministic {
+		return xxx_messageInfo_DeletePipelineResponse.Marshal(b, m, deterministic)
+	} else {
+		b = b[:cap(b)]
+		n, err := m.MarshalToSizedBuffer(b)
+		if err != nil {
+			return nil, err
+		}
+		return b[:n], nil
+	}
+}
+func (m *DeletePipelineResponse) XXX_Merge(src proto.Message) {
+	xxx_messageInfo_DeletePipelineResponse.Merge(m, src)
+}
+func (m *DeletePipelineResponse) XXX_Size() int {
+	return m.Size()
+}
+func (m *DeletePipelineResponse) XXX_DiscardUnknown() {
+	xxx_messageInfo_DeletePipelineResponse.DiscardUnknown(m)
+}
+
+var xxx_messageInfo_DeletePipelineResponse proto.InternalMessageInfo
+
+type WatchStepRequest struct {
+	Namespace            string          `protobuf:"bytes,1,opt,name=namespace,proto3" json:"namespace,omitempty"`
+	ListOptions          *v1.ListOptions `protobuf:"bytes,2,opt,name=listOptions,proto3" json:"listOptions,omitempty"`
+	XXX_NoUnkeyedLiteral struct{}        `json:"-"`
+	XXX_unrecognized     []byte          `json:"-"`
+	XXX_sizecache        int32           `json:"-"`
+}
+
+func (m *WatchStepRequest) Reset()         { *m = WatchStepRequest{} }
+func (m *WatchStepRequest) String() string { return proto.CompactTextString(m) }
+func (*WatchStepRequest) ProtoMessage()    {}
+func (*WatchStepRequest) Descriptor() ([]byte, []int) {
+	return fileDescriptor_71dfb1a81115c785, []int{7}
+}
+func (m *WatchStepRequest) XXX_Unmarshal(b []byte) error {
+	return m.Unmarshal(b)
+}
+func (m *WatchStepRequest) XXX_Marshal(b []byte, deterministic bool) ([]byte, error) {
+	if deterministic {
+		return xxx_messageInfo_WatchStepRequest.Marshal(b, m, deterministic)
+	} else {
+		b = b[:cap(b)]
+		n, err := m.MarshalToSizedBuffer(b)
+		if err != nil {
+			return nil, err
+		}
+		return b[:n], nil
+	}
+}
+func (m *WatchStepRequest) XXX_Merge(src proto.Message) {
+	xxx_messageInfo_WatchStepRequest.Merge(m, src)
+}
+func (m *WatchStepRequest) XXX_Size() int {
+	return m.Size()
+}
+func (m *WatchStepRequest) XXX_DiscardUnknown() {
+	xxx_messageInfo_WatchStepRequest.DiscardUnknown(m)
+}
+
+var xxx_messageInfo_WatchStepRequest proto.InternalMessageInfo
+
+func (m *WatchStepRequest) GetNamespace() string {
+	if m != nil {
+		return m.Namespace
+	}
+	return ""
+}
+
+func (m *WatchStepRequest) GetListOptions() *v1.ListOptions {
+	if m != nil {
+		return m.ListOptions
+	}
+	return nil
+}
+
+type StepWatchEvent struct {
+	Type                 string         `protobuf:"bytes,1,opt,name=type,proto3" json:"type,omitempty"`
+	Object               *v1alpha1.Step `protobuf:"bytes,2,opt,name=object,proto3" json:"object,omitempty"`
+	XXX_NoUnkeyedLiteral struct{}       `json:"-"`
+	XXX_unrecognized     []byte         `json:"-"`
+	XXX_sizecache        int32          `json:"-"`
+}
+
+func (m *StepWatchEvent) Reset()         { *m = StepWatchEvent{} }
+func (m *StepWatchEvent) String() string { return proto.CompactTextString(m) }
+func (*StepWatchEvent) ProtoMessage()    {}
+func (*StepWatchEvent) Descriptor() ([]byte, []int) {
+	return fileDescriptor_71dfb1a81115c785, []int{8}
+}
+func (m *StepWatchEvent) XXX_Unmarshal(b []byte) error {
+	return m.Unmarshal(b)
+}
+func (m *StepWatchEvent) XXX_Marshal(b []byte, deterministic bool) ([]byte, error) {
+	if deterministic {
+		return xxx_messageInfo_StepWatchEvent.Marshal(b, m, deterministic)
+	} else {
+		b = b[:cap(b)]
+		n, err := m.MarshalToSizedBuffer(b)
+		if err != nil {
+			return nil, err
+		}
+		return b[:n], nil
+	}
+}
+func (m *StepWatchEvent) XXX_Merge(src proto.Message) {
+	xxx_messageInfo_StepWatchEvent.Merge(m, src)
+}
+func (m *StepWatchEvent) XXX_Size() int {
+	return m.Size()
+}
+func (m *StepWatchEvent) XXX_DiscardUnknown() {
+	xxx_messageInfo_StepWatchEvent.DiscardUnknown(m)
+}
+
+var xxx_messageInfo_StepWatchEvent proto.InternalMessageInfo
+
+func (m *StepWatchEvent) GetType() string {
+	if m != nil {
+		return m.Type
+	}
+	return ""
+}
+
+func (m *StepWatchEvent) GetObject() *v1alpha1.Step {
+	if m != nil {
+		return m.Object
+	}
+	return nil
+}
+
+type PipelineLogsRequest struct {
+	Namespace string `protobuf:"bytes,1,opt,name=namespace,proto3" json:"namespace,omitempty"`
+	// optional - only return entries for this pipeline
+	Name string `protobuf:"bytes,2,opt,name=name,proto3" json:"name,omitempty"`
+	// optional - only return entries for this step
+	StepName string `protobuf:"bytes,3,opt,name=stepName,proto3" json:"stepName,omitempty"`
+	// optional - only return entries which match this expresssion
+	Grep                 string             `protobuf:"bytes,4,opt,name=grep,proto3" json:"grep,omitempty"`
+	PodLogOptions        *v11.PodLogOptions `protobuf:"bytes,5,opt,name=podLogOptions,proto3" json:"podLogOptions,omitempty"`
+	XXX_NoUnkeyedLiteral struct{}           `json:"-"`
+	XXX_unrecognized     []byte             `json:"-"`
+	XXX_sizecache        int32              `json:"-"`
+}
+
+func (m *PipelineLogsRequest) Reset()         { *m = PipelineLogsRequest{} }
+func (m *PipelineLogsRequest) String() string { return proto.CompactTextString(m) }
+func (*PipelineLogsRequest) ProtoMessage()    {}
+func (*PipelineLogsRequest) Descriptor() ([]byte, []int) {
+	return fileDescriptor_71dfb1a81115c785, []int{9}
+}
+func (m *PipelineLogsRequest) XXX_Unmarshal(b []byte) error {
+	return m.Unmarshal(b)
+}
+func (m *PipelineLogsRequest) XXX_Marshal(b []byte, deterministic bool) ([]byte, error) {
+	if deterministic {
+		return xxx_messageInfo_PipelineLogsRequest.Marshal(b, m, deterministic)
+	} else {
+		b = b[:cap(b)]
+		n, err := m.MarshalToSizedBuffer(b)
+		if err != nil {
+			return nil, err
+		}
+		return b[:n], nil
+	}
+}
+func (m *PipelineLogsRequest) XXX_Merge(src proto.Message) {
+	xxx_messageInfo_PipelineLogsRequest.Merge(m, src)
+}
+func (m *PipelineLogsRequest) XXX_Size() int {
+	return m.Size()
+}
+func (m *PipelineLogsRequest) XXX_DiscardUnknown() {
+	xxx_messageInfo_PipelineLogsRequest.DiscardUnknown(m)
+}
+
+var xxx_messageInfo_PipelineLogsRequest proto.InternalMessageInfo
+
+func (m *PipelineLogsRequest) GetNamespace() string {
+	if m != nil {
+		return m.Namespace
+	}
+	return ""
+}
+
+func (m *PipelineLogsRequest) GetName() string {
+	if m != nil {
+		return m.Name
+	}
+	return ""
+}
+
+func (m *PipelineLogsRequest) GetStepName() string {
+	if m != nil {
+		return m.StepName
+	}
+	return ""
+}
+
+func (m *PipelineLogsRequest) GetGrep() string {
+	if m != nil {
+		return m.Grep
+	}
+	return ""
+}
+
+func (m *PipelineLogsRequest) GetPodLogOptions() *v11.PodLogOptions {
+	if m != nil {
+		return m.PodLogOptions
+	}
+	return nil
+}
+
+// structured log entry
+type LogEntry struct {
+	Namespace            string   `protobuf:"bytes,1,opt,name=namespace,proto3" json:"namespace,omitempty"`
+	PipelineName         string   `protobuf:"bytes,2,opt,name=pipelineName,proto3" json:"pipelineName,omitempty"`
+	StepName             string   `protobuf:"bytes,3,opt,name=stepName,proto3" json:"stepName,omitempty"`
+	Time                 *v1.Time `protobuf:"bytes,6,opt,name=time,proto3" json:"time,omitempty"`
+	Msg                  string   `protobuf:"bytes,7,opt,name=msg,proto3" json:"msg,omitempty"`
+	XXX_NoUnkeyedLiteral struct{} `json:"-"`
+	XXX_unrecognized     []byte   `json:"-"`
+	XXX_sizecache        int32    `json:"-"`
+}
+
+func (m *LogEntry) Reset()         { *m = LogEntry{} }
+func (m *LogEntry) String() string { return proto.CompactTextString(m) }
+func (*LogEntry) ProtoMessage()    {}
+func (*LogEntry) Descriptor() ([]byte, []int) {
+	return fileDescriptor_71dfb1a81115c785, []int{10}
+}
+func (m *LogEntry) XXX_Unmarshal(b []byte) error {
+	return m.Unmarshal(b)
+}
+func (m *LogEntry) XXX_Marshal(b []byte, deterministic bool) ([]byte, error) {
+	if deterministic {
+		return xxx_messageInfo_LogEntry.Marshal(b, m, deterministic)
+	} else {
+		b = b[:cap(b)]
+		n, err := m.MarshalToSizedBuffer(b)
+		if err != nil {
+			return nil, err
+		}
+		return b[:n], nil
+	}
+}
+func (m *LogEntry) XXX_Merge(src proto.Message) {
+	xxx_messageInfo_LogEntry.Merge(m, src)
+}
+func (m *LogEntry) XXX_Size() int {
+	return m.Size()
+}
+func (m *LogEntry) XXX_DiscardUnknown() {
+	xxx_messageInfo_LogEntry.DiscardUnknown(m)
+}
+
+var xxx_messageInfo_LogEntry proto.InternalMessageInfo
+
+func (m *LogEntry) GetNamespace() string {
+	if m != nil {
+		return m.Namespace
+	}
+	return ""
+}
+
+func (m *LogEntry) GetPipelineName() string {
+	if m != nil {
+		return m.PipelineName
+	}
+	return ""
+}
+
+func (m *LogEntry) GetStepName() string {
+	if m != nil {
+		return m.StepName
+	}
+	return ""
+}
+
+func (m *LogEntry) GetTime() *v1.Time {
+	if m != nil {
+		return m.Time
+	}
+	return nil
+}
+
+func (m *LogEntry) GetMsg() string {
+	if m != nil {
+		return m.Msg
+	}
+	return ""
+}
+
+func init() {
+	proto.RegisterType((*ListPipelinesRequest)(nil), "pipeline.ListPipelinesRequest")
+	proto.RegisterType((*PipelineWatchEvent)(nil), "pipeline.PipelineWatchEvent")
+	proto.RegisterType((*GetPipelineRequest)(nil), "pipeline.GetPipelineRequest")
+	proto.RegisterType((*RestartPipelineRequest)(nil), "pipeline.RestartPipelineRequest")
+	proto.RegisterType((*RestartPipelineResponse)(nil), "pipeline.RestartPipelineResponse")
+	proto.RegisterType((*DeletePipelineRequest)(nil), "pipeline.DeletePipelineRequest")
+	proto.RegisterType((*DeletePipelineResponse)(nil), "pipeline.DeletePipelineResponse")
+	proto.RegisterType((*WatchStepRequest)(nil), "pipeline.WatchStepRequest")
+	proto.RegisterType((*StepWatchEvent)(nil), "pipeline.StepWatchEvent")
+	proto.RegisterType((*PipelineLogsRequest)(nil), "pipeline.PipelineLogsRequest")
+	proto.RegisterType((*LogEntry)(nil), "pipeline.LogEntry")
+}
+
+func init() {
+	proto.RegisterFile("pkg/apiclient/pipeline/pipeline.proto", fileDescriptor_71dfb1a81115c785)
+}
+
+var fileDescriptor_71dfb1a81115c785 = []byte{
+	// 864 bytes of a gzipped FileDescriptorProto
+	0x1f, 0x8b, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0xff, 0xc4, 0x56, 0xcf, 0x6f, 0xdc, 0x44,
+	0x14, 0xd6, 0x24, 0x21, 0x4d, 0x5f, 0x9a, 0xb4, 0x1a, 0xa0, 0x2c, 0x56, 0x9a, 0x6e, 0x47, 0x14,
+	0x85, 0xd2, 0x8e, 0xb3, 0x6d, 0x0f, 0xf4, 0x00, 0x12, 0xd0, 0x2a, 0x12, 0x5a, 0x95, 0xe0, 0x80,
+	0x10, 0x5c, 0xaa, 0x89, 0x33, 0x78, 0xdd, 0xb5, 0x3d, 0x83, 0x67, 0xba, 0x51, 0x84, 0x0a, 0x02,
+	0x89, 0x03, 0x12, 0x37, 0x2e, 0xe5, 0xce, 0x5f, 0xc1, 0x09, 0x89, 0x0b, 0x47, 0x24, 0xfe, 0x01,
+	0x14, 0xf1, 0x87, 0xa0, 0x99, 0xf5, 0xf8, 0xc7, 0xae, 0x69, 0x2d, 0xf6, 0xd0, 0xdb, 0xcc, 0xf8,
+	0xbd, 0xef, 0x7d, 0xef, 0xf3, 0xf3, 0xe7, 0x81, 0xab, 0x72, 0x1c, 0xf9, 0x4c, 0xc6, 0x61, 0x12,
+	0xf3, 0x4c, 0xfb, 0x32, 0x96, 0x3c, 0x89, 0x33, 0x5e, 0x2e, 0xa8, 0xcc, 0x85, 0x16, 0x78, 0xcd,
+	0xed, 0xbd, 0xad, 0x48, 0x88, 0x28, 0xe1, 0x26, 0xc7, 0x67, 0x59, 0x26, 0x34, 0xd3, 0xb1, 0xc8,
+	0xd4, 0x34, 0xce, 0xbb, 0x3d, 0x7e, 0x4b, 0xd1, 0x58, 0x98, 0xa7, 0x29, 0x0b, 0x47, 0x71, 0xc6,
+	0xf3, 0x13, 0xbf, 0x28, 0xa1, 0xfc, 0x94, 0x6b, 0xe6, 0x4f, 0x06, 0x7e, 0xc4, 0x33, 0x9e, 0x33,
+	0xcd, 0x8f, 0x8a, 0x2c, 0x52, 0x65, 0xf9, 0xa1, 0xc8, 0x79, 0x5b, 0xcc, 0xfb, 0x51, 0xac, 0x47,
+	0x8f, 0x0e, 0x69, 0x28, 0x52, 0x9f, 0xe5, 0x91, 0x90, 0xb9, 0x78, 0x78, 0x23, 0x61, 0x87, 0xca,
+	0xee, 0x6e, 0x1c, 0x31, 0xcd, 0xbe, 0x48, 0xc4, 0xb1, 0xc5, 0x98, 0x0c, 0x58, 0x22, 0x47, 0x6c,
+	0x0e, 0x84, 0xfc, 0x80, 0xe0, 0xa5, 0x61, 0xac, 0xf4, 0x7e, 0xd1, 0x8d, 0x0a, 0xf8, 0x97, 0x8f,
+	0xb8, 0xd2, 0x78, 0x0b, 0xce, 0x66, 0x2c, 0xe5, 0x4a, 0xb2, 0x90, 0xf7, 0x50, 0x1f, 0xed, 0x9c,
+	0x0d, 0xaa, 0x03, 0x7c, 0x00, 0xeb, 0x49, 0xac, 0xf4, 0x87, 0xd2, 0xb6, 0xda, 0x5b, 0xea, 0xa3,
+	0x9d, 0xf5, 0x9b, 0x03, 0x3a, 0x65, 0x4d, 0xeb, 0xbd, 0x52, 0x39, 0x8e, 0xcc, 0x81, 0xa2, 0xa6,
+	0x57, 0x3a, 0x19, 0xd0, 0x61, 0x95, 0x18, 0xd4, 0x51, 0xc8, 0x37, 0x80, 0x1d, 0x8d, 0x4f, 0x99,
+	0x0e, 0x47, 0xf7, 0x26, 0x3c, 0xd3, 0x18, 0xc3, 0x8a, 0x3e, 0x91, 0x8e, 0x83, 0x5d, 0xe3, 0x4f,
+	0x60, 0x55, 0x1c, 0x3e, 0xe4, 0xa1, 0x2e, 0x2a, 0xbf, 0x4d, 0x2b, 0x2d, 0xa8, 0xd3, 0xe2, 0x81,
+	0xd1, 0xc2, 0xee, 0x1e, 0x38, 0x2d, 0x0c, 0x11, 0xea, 0xb4, 0xa0, 0xae, 0x58, 0x50, 0x80, 0x91,
+	0x27, 0x08, 0xf0, 0x1e, 0x2f, 0xb5, 0x70, 0x52, 0x60, 0x58, 0x31, 0x9d, 0x3b, 0x06, 0x66, 0xdd,
+	0x94, 0x67, 0x69, 0x56, 0x9e, 0x7d, 0x80, 0x88, 0x97, 0xea, 0x2c, 0x5b, 0x8e, 0xbb, 0xdd, 0xd4,
+	0xd9, 0x2b, 0xf3, 0x82, 0x1a, 0x06, 0xf9, 0x00, 0x2e, 0x06, 0x5c, 0x69, 0x96, 0x2f, 0xce, 0x8e,
+	0xbc, 0x0a, 0xaf, 0xcc, 0x61, 0x29, 0x29, 0x32, 0xc5, 0xc9, 0x2f, 0x08, 0x5e, 0xbe, 0xcb, 0x13,
+	0xae, 0xf9, 0xe2, 0x22, 0x7c, 0x06, 0x1b, 0x47, 0x16, 0xaa, 0xa9, 0xc3, 0xad, 0x6e, 0x3a, 0xdc,
+	0xad, 0xa7, 0x06, 0x4d, 0x24, 0xd2, 0x83, 0x8b, 0xb3, 0x2c, 0x8b, 0x06, 0xbe, 0x47, 0x70, 0xc1,
+	0x0e, 0xcf, 0x81, 0xe6, 0xf2, 0x39, 0xce, 0xf2, 0x31, 0x6c, 0x1a, 0x06, 0xcf, 0x98, 0xe3, 0x8f,
+	0x66, 0xe6, 0xf8, 0xce, 0xff, 0x9a, 0x63, 0xdb, 0xaa, 0x9b, 0xe1, 0xdf, 0x10, 0xbc, 0xe8, 0x54,
+	0x19, 0x8a, 0xa8, 0xe3, 0xf7, 0xec, 0xde, 0xee, 0x52, 0xed, 0xed, 0x7a, 0xb0, 0xa6, 0x34, 0x97,
+	0xf7, 0xcd, 0xf9, 0xb2, 0x3d, 0x2f, 0xf7, 0x26, 0x3e, 0xca, 0xb9, 0xec, 0xad, 0x4c, 0xe3, 0xcd,
+	0x1a, 0xef, 0xc1, 0x86, 0x14, 0x47, 0x43, 0x11, 0x39, 0x25, 0x5f, 0xb0, 0x3d, 0x5d, 0xa9, 0x29,
+	0x49, 0x8d, 0x97, 0x19, 0xdd, 0xf6, 0xeb, 0x81, 0x41, 0x33, 0x8f, 0xfc, 0x8a, 0x60, 0x6d, 0x28,
+	0xa2, 0x7b, 0x99, 0xce, 0x4f, 0x9e, 0xc1, 0x9b, 0xc0, 0x39, 0xe7, 0xc3, 0xf7, 0x2b, 0xfe, 0x8d,
+	0xb3, 0xa7, 0xf6, 0xf1, 0x0e, 0xac, 0xe8, 0x38, 0xe5, 0xbd, 0x55, 0x4b, 0xf5, 0x5a, 0xb7, 0x97,
+	0xfe, 0x71, 0x9c, 0xf2, 0xc0, 0xe6, 0xe1, 0x0b, 0xb0, 0x9c, 0xaa, 0xa8, 0x77, 0xc6, 0xc2, 0x9a,
+	0xe5, 0xcd, 0xdf, 0xcf, 0xc0, 0x79, 0xa7, 0xff, 0x01, 0xcf, 0x27, 0x71, 0xc8, 0xf1, 0xcf, 0x08,
+	0x36, 0x1a, 0x26, 0x8b, 0xb7, 0x69, 0xf9, 0x3b, 0x69, 0x73, 0x5f, 0xef, 0xdd, 0x85, 0x0c, 0xcd,
+	0x40, 0x92, 0xab, 0xdf, 0xfd, 0xf5, 0xcf, 0x4f, 0x4b, 0x97, 0xf1, 0xa5, 0xe2, 0x07, 0x50, 0xfe,
+	0xc0, 0x94, 0xff, 0x55, 0x29, 0xe0, 0x63, 0xfc, 0x35, 0x6c, 0xda, 0x21, 0xed, 0xce, 0x6d, 0xab,
+	0x7a, 0x3e, 0x6f, 0xd7, 0xe4, 0xba, 0x2d, 0xfb, 0x3a, 0x7e, 0xcd, 0x95, 0x55, 0x3a, 0xe7, 0x2c,
+	0x6d, 0xaf, 0xbe, 0x8b, 0xf0, 0x13, 0x04, 0xeb, 0x35, 0xcf, 0xc5, 0x35, 0xf4, 0x79, 0x2b, 0xf6,
+	0x16, 0x33, 0xfa, 0x79, 0x72, 0xad, 0xac, 0xa6, 0xeb, 0xc7, 0xf8, 0x47, 0x04, 0xe7, 0x67, 0x8c,
+	0x12, 0xf7, 0x2b, 0x7a, 0xed, 0x7e, 0xec, 0x5d, 0x79, 0x4a, 0x44, 0x61, 0x52, 0xb7, 0x2d, 0x0d,
+	0x4a, 0xae, 0x77, 0xa1, 0xe1, 0xe7, 0x53, 0x14, 0xfc, 0x2d, 0x82, 0xcd, 0xa6, 0xeb, 0xe1, 0xcb,
+	0x55, 0xad, 0x56, 0xd7, 0xf6, 0xfa, 0xff, 0x1d, 0x50, 0x70, 0x29, 0x24, 0xb9, 0xd6, 0x4d, 0x92,
+	0x09, 0x9c, 0xab, 0x9b, 0x0b, 0xbe, 0x34, 0x3f, 0x0b, 0x35, 0xd3, 0xf1, 0x70, 0x6d, 0x94, 0x8a,
+	0x0f, 0x9a, 0x0c, 0x6c, 0xc1, 0x37, 0xf1, 0x1b, 0x5d, 0x06, 0xc4, 0x4f, 0x44, 0xa4, 0x76, 0x11,
+	0xce, 0x00, 0x4a, 0x57, 0x57, 0xd8, 0xab, 0x60, 0x67, 0xbd, 0xde, 0xeb, 0x55, 0xcf, 0x9a, 0x06,
+	0x4c, 0x76, 0x6c, 0x61, 0x82, 0xfb, 0x33, 0x85, 0x8d, 0x19, 0xcc, 0x4c, 0xe5, 0x7b, 0x7b, 0x7f,
+	0x9c, 0x6e, 0xa3, 0x3f, 0x4f, 0xb7, 0xd1, 0xdf, 0xa7, 0xdb, 0xe8, 0xf3, 0x3b, 0x2d, 0x37, 0xad,
+	0xe9, 0x25, 0xeb, 0x58, 0xe4, 0x63, 0x33, 0x6f, 0xca, 0x6f, 0xbf, 0x35, 0x1e, 0xae, 0xda, 0x6b,
+	0xd6, 0xad, 0x7f, 0x03, 0x00, 0x00, 0xff, 0xff, 0xb8, 0xa0, 0x67, 0xda, 0x56, 0x0a, 0x00, 0x00,
+}
+
+// Reference imports to suppress errors if they are not otherwise used.
+var _ context.Context
+var _ grpc.ClientConn
+
+// This is a compile-time assertion to ensure that this generated file
+// is compatible with the grpc package it is being compiled against.
+const _ = grpc.SupportPackageIsVersion4
+
+// PipelineServiceClient is the client API for PipelineService service.
+//
+// For semantics around ctx use and closing/ending streaming RPCs, please refer to https://godoc.org/google.golang.org/grpc#ClientConn.NewStream.
+type PipelineServiceClient interface {
+	ListPipelines(ctx context.Context, in *ListPipelinesRequest, opts ...grpc.CallOption) (*v1alpha1.PipelineList, error)
+	WatchPipelines(ctx context.Context, in *ListPipelinesRequest, opts ...grpc.CallOption) (PipelineService_WatchPipelinesClient, error)
+	GetPipeline(ctx context.Context, in *GetPipelineRequest, opts ...grpc.CallOption) (*v1alpha1.Pipeline, error)
+	RestartPipeline(ctx context.Context, in *RestartPipelineRequest, opts ...grpc.CallOption) (*RestartPipelineResponse, error)
+	DeletePipeline(ctx context.Context, in *DeletePipelineRequest, opts ...grpc.CallOption) (*DeletePipelineResponse, error)
+	PipelineLogs(ctx context.Context, in *PipelineLogsRequest, opts ...grpc.CallOption) (PipelineService_PipelineLogsClient, error)
+	WatchSteps(ctx context.Context, in *WatchStepRequest, opts ...grpc.CallOption) (PipelineService_WatchStepsClient, error)
+}
+
+type pipelineServiceClient struct {
+	cc *grpc.ClientConn
+}
+
+func NewPipelineServiceClient(cc *grpc.ClientConn) PipelineServiceClient {
+	return &pipelineServiceClient{cc}
+}
+
+func (c *pipelineServiceClient) ListPipelines(ctx context.Context, in *ListPipelinesRequest, opts ...grpc.CallOption) (*v1alpha1.PipelineList, error) {
+	out := new(v1alpha1.PipelineList)
+	err := c.cc.Invoke(ctx, "/pipeline.PipelineService/ListPipelines", in, out, opts...)
+	if err != nil {
+		return nil, err
+	}
+	return out, nil
+}
+
+func (c *pipelineServiceClient) WatchPipelines(ctx context.Context, in *ListPipelinesRequest, opts ...grpc.CallOption) (PipelineService_WatchPipelinesClient, error) {
+	stream, err := c.cc.NewStream(ctx, &_PipelineService_serviceDesc.Streams[0], "/pipeline.PipelineService/WatchPipelines", opts...)
+	if err != nil {
+		return nil, err
+	}
+	x := &pipelineServiceWatchPipelinesClient{stream}
+	if err := x.ClientStream.SendMsg(in); err != nil {
+		return nil, err
+	}
+	if err := x.ClientStream.CloseSend(); err != nil {
+		return nil, err
+	}
+	return x, nil
+}
+
+type PipelineService_WatchPipelinesClient interface {
+	Recv() (*PipelineWatchEvent, error)
+	grpc.ClientStream
+}
+
+type pipelineServiceWatchPipelinesClient struct {
+	grpc.ClientStream
+}
+
+func (x *pipelineServiceWatchPipelinesClient) Recv() (*PipelineWatchEvent, error) {
+	m := new(PipelineWatchEvent)
+	if err := x.ClientStream.RecvMsg(m); err != nil {
+		return nil, err
+	}
+	return m, nil
+}
+
+func (c *pipelineServiceClient) GetPipeline(ctx context.Context, in *GetPipelineRequest, opts ...grpc.CallOption) (*v1alpha1.Pipeline, error) {
+	out := new(v1alpha1.Pipeline)
+	err := c.cc.Invoke(ctx, "/pipeline.PipelineService/GetPipeline", in, out, opts...)
+	if err != nil {
+		return nil, err
+	}
+	return out, nil
+}
+
+func (c *pipelineServiceClient) RestartPipeline(ctx context.Context, in *RestartPipelineRequest, opts ...grpc.CallOption) (*RestartPipelineResponse, error) {
+	out := new(RestartPipelineResponse)
+	err := c.cc.Invoke(ctx, "/pipeline.PipelineService/RestartPipeline", in, out, opts...)
+	if err != nil {
+		return nil, err
+	}
+	return out, nil
+}
+
+func (c *pipelineServiceClient) DeletePipeline(ctx context.Context, in *DeletePipelineRequest, opts ...grpc.CallOption) (*DeletePipelineResponse, error) {
+	out := new(DeletePipelineResponse)
+	err := c.cc.Invoke(ctx, "/pipeline.PipelineService/DeletePipeline", in, out, opts...)
+	if err != nil {
+		return nil, err
+	}
+	return out, nil
+}
+
+func (c *pipelineServiceClient) PipelineLogs(ctx context.Context, in *PipelineLogsRequest, opts ...grpc.CallOption) (PipelineService_PipelineLogsClient, error) {
+	stream, err := c.cc.NewStream(ctx, &_PipelineService_serviceDesc.Streams[1], "/pipeline.PipelineService/PipelineLogs", opts...)
+	if err != nil {
+		return nil, err
+	}
+	x := &pipelineServicePipelineLogsClient{stream}
+	if err := x.ClientStream.SendMsg(in); err != nil {
+		return nil, err
+	}
+	if err := x.ClientStream.CloseSend(); err != nil {
+		return nil, err
+	}
+	return x, nil
+}
+
+type PipelineService_PipelineLogsClient interface {
+	Recv() (*LogEntry, error)
+	grpc.ClientStream
+}
+
+type pipelineServicePipelineLogsClient struct {
+	grpc.ClientStream
+}
+
+func (x *pipelineServicePipelineLogsClient) Recv() (*LogEntry, error) {
+	m := new(LogEntry)
+	if err := x.ClientStream.RecvMsg(m); err != nil {
+		return nil, err
+	}
+	return m, nil
+}
+
+func (c *pipelineServiceClient) WatchSteps(ctx context.Context, in *WatchStepRequest, opts ...grpc.CallOption) (PipelineService_WatchStepsClient, error) {
+	stream, err := c.cc.NewStream(ctx, &_PipelineService_serviceDesc.Streams[2], "/pipeline.PipelineService/WatchSteps", opts...)
+	if err != nil {
+		return nil, err
+	}
+	x := &pipelineServiceWatchStepsClient{stream}
+	if err := x.ClientStream.SendMsg(in); err != nil {
+		return nil, err
+	}
+	if err := x.ClientStream.CloseSend(); err != nil {
+		return nil, err
+	}
+	return x, nil
+}
+
+type PipelineService_WatchStepsClient interface {
+	Recv() (*StepWatchEvent, error)
+	grpc.ClientStream
+}
+
+type pipelineServiceWatchStepsClient struct {
+	grpc.ClientStream
+}
+
+func (x *pipelineServiceWatchStepsClient) Recv() (*StepWatchEvent, error) {
+	m := new(StepWatchEvent)
+	if err := x.ClientStream.RecvMsg(m); err != nil {
+		return nil, err
+	}
+	return m, nil
+}
+
+// PipelineServiceServer is the server API for PipelineService service.
+type PipelineServiceServer interface {
+	ListPipelines(context.Context, *ListPipelinesRequest) (*v1alpha1.PipelineList, error)
+	WatchPipelines(*ListPipelinesRequest, PipelineService_WatchPipelinesServer) error
+	GetPipeline(context.Context, *GetPipelineRequest) (*v1alpha1.Pipeline, error)
+	RestartPipeline(context.Context, *RestartPipelineRequest) (*RestartPipelineResponse, error)
+	DeletePipeline(context.Context, *DeletePipelineRequest) (*DeletePipelineResponse, error)
+	PipelineLogs(*PipelineLogsRequest, PipelineService_PipelineLogsServer) error
+	WatchSteps(*WatchStepRequest, PipelineService_WatchStepsServer) error
+}
+
+// UnimplementedPipelineServiceServer can be embedded to have forward compatible implementations.
+type UnimplementedPipelineServiceServer struct {
+}
+
+func (*UnimplementedPipelineServiceServer) ListPipelines(ctx context.Context, req *ListPipelinesRequest) (*v1alpha1.PipelineList, error) {
+	return nil, status.Errorf(codes.Unimplemented, "method ListPipelines not implemented")
+}
+func (*UnimplementedPipelineServiceServer) WatchPipelines(req *ListPipelinesRequest, srv PipelineService_WatchPipelinesServer) error {
+	return status.Errorf(codes.Unimplemented, "method WatchPipelines not implemented")
+}
+func (*UnimplementedPipelineServiceServer) GetPipeline(ctx context.Context, req *GetPipelineRequest) (*v1alpha1.Pipeline, error) {
+	return nil, status.Errorf(codes.Unimplemented, "method GetPipeline not implemented")
+}
+func (*UnimplementedPipelineServiceServer) RestartPipeline(ctx context.Context, req *RestartPipelineRequest) (*RestartPipelineResponse, error) {
+	return nil, status.Errorf(codes.Unimplemented, "method RestartPipeline not implemented")
+}
+func (*UnimplementedPipelineServiceServer) DeletePipeline(ctx context.Context, req *DeletePipelineRequest) (*DeletePipelineResponse, error) {
+	return nil, status.Errorf(codes.Unimplemented, "method DeletePipeline not implemented")
+}
+func (*UnimplementedPipelineServiceServer) PipelineLogs(req *PipelineLogsRequest, srv PipelineService_PipelineLogsServer) error {
+	return status.Errorf(codes.Unimplemented, "method PipelineLogs not implemented")
+}
+func (*UnimplementedPipelineServiceServer) WatchSteps(req *WatchStepRequest, srv PipelineService_WatchStepsServer) error {
+	return status.Errorf(codes.Unimplemented, "method WatchSteps not implemented")
+}
+
+func RegisterPipelineServiceServer(s *grpc.Server, srv PipelineServiceServer) {
+	s.RegisterService(&_PipelineService_serviceDesc, srv)
+}
+
+func _PipelineService_ListPipelines_Handler(srv interface{}, ctx context.Context, dec func(interface{}) error, interceptor grpc.UnaryServerInterceptor) (interface{}, error) {
+	in := new(ListPipelinesRequest)
+	if err := dec(in); err != nil {
+		return nil, err
+	}
+	if interceptor == nil {
+		return srv.(PipelineServiceServer).ListPipelines(ctx, in)
+	}
+	info := &grpc.UnaryServerInfo{
+		Server:     srv,
+		FullMethod: "/pipeline.PipelineService/ListPipelines",
+	}
+	handler := func(ctx context.Context, req interface{}) (interface{}, error) {
+		return srv.(PipelineServiceServer).ListPipelines(ctx, req.(*ListPipelinesRequest))
+	}
+	return interceptor(ctx, in, info, handler)
+}
+
+func _PipelineService_WatchPipelines_Handler(srv interface{}, stream grpc.ServerStream) error {
+	m := new(ListPipelinesRequest)
+	if err := stream.RecvMsg(m); err != nil {
+		return err
+	}
+	return srv.(PipelineServiceServer).WatchPipelines(m, &pipelineServiceWatchPipelinesServer{stream})
+}
+
+type PipelineService_WatchPipelinesServer interface {
+	Send(*PipelineWatchEvent) error
+	grpc.ServerStream
+}
+
+type pipelineServiceWatchPipelinesServer struct {
+	grpc.ServerStream
+}
+
+func (x *pipelineServiceWatchPipelinesServer) Send(m *PipelineWatchEvent) error {
+	return x.ServerStream.SendMsg(m)
+}
+
+func _PipelineService_GetPipeline_Handler(srv interface{}, ctx context.Context, dec func(interface{}) error, interceptor grpc.UnaryServerInterceptor) (interface{}, error) {
+	in := new(GetPipelineRequest)
+	if err := dec(in); err != nil {
+		return nil, err
+	}
+	if interceptor == nil {
+		return srv.(PipelineServiceServer).GetPipeline(ctx, in)
+	}
+	info := &grpc.UnaryServerInfo{
+		Server:     srv,
+		FullMethod: "/pipeline.PipelineService/GetPipeline",
+	}
+	handler := func(ctx context.Context, req interface{}) (interface{}, error) {
+		return srv.(PipelineServiceServer).GetPipeline(ctx, req.(*GetPipelineRequest))
+	}
+	return interceptor(ctx, in, info, handler)
+}
+
+func _PipelineService_RestartPipeline_Handler(srv interface{}, ctx context.Context, dec func(interface{}) error, interceptor grpc.UnaryServerInterceptor) (interface{}, error) {
+	in := new(RestartPipelineRequest)
+	if err := dec(in); err != nil {
+		return nil, err
+	}
+	if interceptor == nil {
+		return srv.(PipelineServiceServer).RestartPipeline(ctx, in)
+	}
+	info := &grpc.UnaryServerInfo{
+		Server:     srv,
+		FullMethod: "/pipeline.PipelineService/RestartPipeline",
+	}
+	handler := func(ctx context.Context, req interface{}) (interface{}, error) {
+		return srv.(PipelineServiceServer).RestartPipeline(ctx, req.(*RestartPipelineRequest))
+	}
+	return interceptor(ctx, in, info, handler)
+}
+
+func _PipelineService_DeletePipeline_Handler(srv interface{}, ctx context.Context, dec func(interface{}) error, interceptor grpc.UnaryServerInterceptor) (interface{}, error) {
+	in := new(DeletePipelineRequest)
+	if err := dec(in); err != nil {
+		return nil, err
+	}
+	if interceptor == nil {
+		return srv.(PipelineServiceServer).DeletePipeline(ctx, in)
+	}
+	info := &grpc.UnaryServerInfo{
+		Server:     srv,
+		FullMethod: "/pipeline.PipelineService/DeletePipeline",
+	}
+	handler := func(ctx context.Context, req interface{}) (interface{}, error) {
+		return srv.(PipelineServiceServer).DeletePipeline(ctx, req.(*DeletePipelineRequest))
+	}
+	return interceptor(ctx, in, info, handler)
+}
+
+func _PipelineService_PipelineLogs_Handler(srv interface{}, stream grpc.ServerStream) error {
+	m := new(PipelineLogsRequest)
+	if err := stream.RecvMsg(m); err != nil {
+		return err
+	}
+	return srv.(PipelineServiceServer).PipelineLogs(m, &pipelineServicePipelineLogsServer{stream})
+}
+
+type PipelineService_PipelineLogsServer interface {
+	Send(*LogEntry) error
+	grpc.ServerStream
+}
+
+type pipelineServicePipelineLogsServer struct {
+	grpc.ServerStream
+}
+
+func (x *pipelineServicePipelineLogsServer) Send(m *LogEntry) error {
+	return x.ServerStream.SendMsg(m)
+}
+
+func _PipelineService_WatchSteps_Handler(srv interface{}, stream grpc.ServerStream) error {
+	m := new(WatchStepRequest)
+	if err := stream.RecvMsg(m); err != nil {
+		return err
+	}
+	return srv.(PipelineServiceServer).WatchSteps(m, &pipelineServiceWatchStepsServer{stream})
+}
+
+type PipelineService_WatchStepsServer interface {
+	Send(*StepWatchEvent) error
+	grpc.ServerStream
+}
+
+type pipelineServiceWatchStepsServer struct {
+	grpc.ServerStream
+}
+
+func (x *pipelineServiceWatchStepsServer) Send(m *StepWatchEvent) error {
+	return x.ServerStream.SendMsg(m)
+}
+
+var _PipelineService_serviceDesc = grpc.ServiceDesc{
+	ServiceName: "pipeline.PipelineService",
+	HandlerType: (*PipelineServiceServer)(nil),
+	Methods: []grpc.MethodDesc{
+		{
+			MethodName: "ListPipelines",
+			Handler:    _PipelineService_ListPipelines_Handler,
+		},
+		{
+			MethodName: "GetPipeline",
+			Handler:    _PipelineService_GetPipeline_Handler,
+		},
+		{
+			MethodName: "RestartPipeline",
+			Handler:    _PipelineService_RestartPipeline_Handler,
+		},
+		{
+			MethodName: "DeletePipeline",
+			Handler:    _PipelineService_DeletePipeline_Handler,
+		},
+	},
+	Streams: []grpc.StreamDesc{
+		{
+			StreamName:    "WatchPipelines",
+			Handler:       _PipelineService_WatchPipelines_Handler,
+			ServerStreams: true,
+		},
+		{
+			StreamName:    "PipelineLogs",
+			Handler:       _PipelineService_PipelineLogs_Handler,
+			ServerStreams: true,
+		},
+		{
+			StreamName:    "WatchSteps",
+			Handler:       _PipelineService_WatchSteps_Handler,
+			ServerStreams: true,
+		},
+	},
+	Metadata: "pkg/apiclient/pipeline/pipeline.proto",
+}
+
+func (m *ListPipelinesRequest) Marshal() (dAtA []byte, err error) {
+	size := m.Size()
+	dAtA = make([]byte, size)
+	n, err := m.MarshalToSizedBuffer(dAtA[:size])
+	if err != nil {
+		return nil, err
+	}
+	return dAtA[:n], nil
+}
+
+func (m *ListPipelinesRequest) MarshalTo(dAtA []byte) (int, error) {
+	size := m.Size()
+	return m.MarshalToSizedBuffer(dAtA[:size])
+}
+
+func (m *ListPipelinesRequest) MarshalToSizedBuffer(dAtA []byte) (int, error) {
+	i := len(dAtA)
+	_ = i
+	var l int
+	_ = l
+	if m.XXX_unrecognized != nil {
+		i -= len(m.XXX_unrecognized)
+		copy(dAtA[i:], m.XXX_unrecognized)
+	}
+	if m.ListOptions != nil {
+		{
+			size, err := m.ListOptions.MarshalToSizedBuffer(dAtA[:i])
+			if err != nil {
+				return 0, err
+			}
+			i -= size
+			i = encodeVarintPipeline(dAtA, i, uint64(size))
+		}
+		i--
+		dAtA[i] = 0x12
+	}
+	if len(m.Namespace) > 0 {
+		i -= len(m.Namespace)
+		copy(dAtA[i:], m.Namespace)
+		i = encodeVarintPipeline(dAtA, i, uint64(len(m.Namespace)))
+		i--
+		dAtA[i] = 0xa
+	}
+	return len(dAtA) - i, nil
+}
+
+func (m *PipelineWatchEvent) Marshal() (dAtA []byte, err error) {
+	size := m.Size()
+	dAtA = make([]byte, size)
+	n, err := m.MarshalToSizedBuffer(dAtA[:size])
+	if err != nil {
+		return nil, err
+	}
+	return dAtA[:n], nil
+}
+
+func (m *PipelineWatchEvent) MarshalTo(dAtA []byte) (int, error) {
+	size := m.Size()
+	return m.MarshalToSizedBuffer(dAtA[:size])
+}
+
+func (m *PipelineWatchEvent) MarshalToSizedBuffer(dAtA []byte) (int, error) {
+	i := len(dAtA)
+	_ = i
+	var l int
+	_ = l
+	if m.XXX_unrecognized != nil {
+		i -= len(m.XXX_unrecognized)
+		copy(dAtA[i:], m.XXX_unrecognized)
+	}
+	if m.Object != nil {
+		{
+			size, err := m.Object.MarshalToSizedBuffer(dAtA[:i])
+			if err != nil {
+				return 0, err
+			}
+			i -= size
+			i = encodeVarintPipeline(dAtA, i, uint64(size))
+		}
+		i--
+		dAtA[i] = 0x12
+	}
+	if len(m.Type) > 0 {
+		i -= len(m.Type)
+		copy(dAtA[i:], m.Type)
+		i = encodeVarintPipeline(dAtA, i, uint64(len(m.Type)))
+		i--
+		dAtA[i] = 0xa
+	}
+	return len(dAtA) - i, nil
+}
+
+func (m *GetPipelineRequest) Marshal() (dAtA []byte, err error) {
+	size := m.Size()
+	dAtA = make([]byte, size)
+	n, err := m.MarshalToSizedBuffer(dAtA[:size])
+	if err != nil {
+		return nil, err
+	}
+	return dAtA[:n], nil
+}
+
+func (m *GetPipelineRequest) MarshalTo(dAtA []byte) (int, error) {
+	size := m.Size()
+	return m.MarshalToSizedBuffer(dAtA[:size])
+}
+
+func (m *GetPipelineRequest) MarshalToSizedBuffer(dAtA []byte) (int, error) {
+	i := len(dAtA)
+	_ = i
+	var l int
+	_ = l
+	if m.XXX_unrecognized != nil {
+		i -= len(m.XXX_unrecognized)
+		copy(dAtA[i:], m.XXX_unrecognized)
+	}
+	if m.GetOptions != nil {
+		{
+			size, err := m.GetOptions.MarshalToSizedBuffer(dAtA[:i])
+			if err != nil {
+				return 0, err
+			}
+			i -= size
+			i = encodeVarintPipeline(dAtA, i, uint64(size))
+		}
+		i--
+		dAtA[i] = 0x1a
+	}
+	if len(m.Namespace) > 0 {
+		i -= len(m.Namespace)
+		copy(dAtA[i:], m.Namespace)
+		i = encodeVarintPipeline(dAtA, i, uint64(len(m.Namespace)))
+		i--
+		dAtA[i] = 0x12
+	}
+	if len(m.Name) > 0 {
+		i -= len(m.Name)
+		copy(dAtA[i:], m.Name)
+		i = encodeVarintPipeline(dAtA, i, uint64(len(m.Name)))
+		i--
+		dAtA[i] = 0xa
+	}
+	return len(dAtA) - i, nil
+}
+
+func (m *RestartPipelineRequest) Marshal() (dAtA []byte, err error) {
+	size := m.Size()
+	dAtA = make([]byte, size)
+	n, err := m.MarshalToSizedBuffer(dAtA[:size])
+	if err != nil {
+		return nil, err
+	}
+	return dAtA[:n], nil
+}
+
+func (m *RestartPipelineRequest) MarshalTo(dAtA []byte) (int, error) {
+	size := m.Size()
+	return m.MarshalToSizedBuffer(dAtA[:size])
+}
+
+func (m *RestartPipelineRequest) MarshalToSizedBuffer(dAtA []byte) (int, error) {
+	i := len(dAtA)
+	_ = i
+	var l int
+	_ = l
+	if m.XXX_unrecognized != nil {
+		i -= len(m.XXX_unrecognized)
+		copy(dAtA[i:], m.XXX_unrecognized)
+	}
+	if len(m.Namespace) > 0 {
+		i -= len(m.Namespace)
+		copy(dAtA[i:], m.Namespace)
+		i = encodeVarintPipeline(dAtA, i, uint64(len(m.Namespace)))
+		i--
+		dAtA[i] = 0x12
+	}
+	if len(m.Name) > 0 {
+		i -= len(m.Name)
+		copy(dAtA[i:], m.Name)
+		i = encodeVarintPipeline(dAtA, i, uint64(len(m.Name)))
+		i--
+		dAtA[i] = 0xa
+	}
+	return len(dAtA) - i, nil
+}
+
+func (m *RestartPipelineResponse) Marshal() (dAtA []byte, err error) {
+	size := m.Size()
+	dAtA = make([]byte, size)
+	n, err := m.MarshalToSizedBuffer(dAtA[:size])
+	if err != nil {
+		return nil, err
+	}
+	return dAtA[:n], nil
+}
+
+func (m *RestartPipelineResponse) MarshalTo(dAtA []byte) (int, error) {
+	size := m.Size()
+	return m.MarshalToSizedBuffer(dAtA[:size])
+}
+
+func (m *RestartPipelineResponse) MarshalToSizedBuffer(dAtA []byte) (int, error) {
+	i := len(dAtA)
+	_ = i
+	var l int
+	_ = l
+	if m.XXX_unrecognized != nil {
+		i -= len(m.XXX_unrecognized)
+		copy(dAtA[i:], m.XXX_unrecognized)
+	}
+	return len(dAtA) - i, nil
+}
+
+func (m *DeletePipelineRequest) Marshal() (dAtA []byte, err error) {
+	size := m.Size()
+	dAtA = make([]byte, size)
+	n, err := m.MarshalToSizedBuffer(dAtA[:size])
+	if err != nil {
+		return nil, err
+	}
+	return dAtA[:n], nil
+}
+
+func (m *DeletePipelineRequest) MarshalTo(dAtA []byte) (int, error) {
+	size := m.Size()
+	return m.MarshalToSizedBuffer(dAtA[:size])
+}
+
+func (m *DeletePipelineRequest) MarshalToSizedBuffer(dAtA []byte) (int, error) {
+	i := len(dAtA)
+	_ = i
+	var l int
+	_ = l
+	if m.XXX_unrecognized != nil {
+		i -= len(m.XXX_unrecognized)
+		copy(dAtA[i:], m.XXX_unrecognized)
+	}
+	if m.DeleteOptions != nil {
+		{
+			size, err := m.DeleteOptions.MarshalToSizedBuffer(dAtA[:i])
+			if err != nil {
+				return 0, err
+			}
+			i -= size
+			i = encodeVarintPipeline(dAtA, i, uint64(size))
+		}
+		i--
+		dAtA[i] = 0x1a
+	}
+	if len(m.Namespace) > 0 {
+		i -= len(m.Namespace)
+		copy(dAtA[i:], m.Namespace)
+		i = encodeVarintPipeline(dAtA, i, uint64(len(m.Namespace)))
+		i--
+		dAtA[i] = 0x12
+	}
+	if len(m.Name) > 0 {
+		i -= len(m.Name)
+		copy(dAtA[i:], m.Name)
+		i = encodeVarintPipeline(dAtA, i, uint64(len(m.Name)))
+		i--
+		dAtA[i] = 0xa
+	}
+	return len(dAtA) - i, nil
+}
+
+func (m *DeletePipelineResponse) Marshal() (dAtA []byte, err error) {
+	size := m.Size()
+	dAtA = make([]byte, size)
+	n, err := m.MarshalToSizedBuffer(dAtA[:size])
+	if err != nil {
+		return nil, err
+	}
+	return dAtA[:n], nil
+}
+
+func (m *DeletePipelineResponse) MarshalTo(dAtA []byte) (int, error) {
+	size := m.Size()
+	return m.MarshalToSizedBuffer(dAtA[:size])
+}
+
+func (m *DeletePipelineResponse) MarshalToSizedBuffer(dAtA []byte) (int, error) {
+	i := len(dAtA)
+	_ = i
+	var l int
+	_ = l
+	if m.XXX_unrecognized != nil {
+		i -= len(m.XXX_unrecognized)
+		copy(dAtA[i:], m.XXX_unrecognized)
+	}
+	return len(dAtA) - i, nil
+}
+
+func (m *WatchStepRequest) Marshal() (dAtA []byte, err error) {
+	size := m.Size()
+	dAtA = make([]byte, size)
+	n, err := m.MarshalToSizedBuffer(dAtA[:size])
+	if err != nil {
+		return nil, err
+	}
+	return dAtA[:n], nil
+}
+
+func (m *WatchStepRequest) MarshalTo(dAtA []byte) (int, error) {
+	size := m.Size()
+	return m.MarshalToSizedBuffer(dAtA[:size])
+}
+
+func (m *WatchStepRequest) MarshalToSizedBuffer(dAtA []byte) (int, error) {
+	i := len(dAtA)
+	_ = i
+	var l int
+	_ = l
+	if m.XXX_unrecognized != nil {
+		i -= len(m.XXX_unrecognized)
+		copy(dAtA[i:], m.XXX_unrecognized)
+	}
+	if m.ListOptions != nil {
+		{
+			size, err := m.ListOptions.MarshalToSizedBuffer(dAtA[:i])
+			if err != nil {
+				return 0, err
+			}
+			i -= size
+			i = encodeVarintPipeline(dAtA, i, uint64(size))
+		}
+		i--
+		dAtA[i] = 0x12
+	}
+	if len(m.Namespace) > 0 {
+		i -= len(m.Namespace)
+		copy(dAtA[i:], m.Namespace)
+		i = encodeVarintPipeline(dAtA, i, uint64(len(m.Namespace)))
+		i--
+		dAtA[i] = 0xa
+	}
+	return len(dAtA) - i, nil
+}
+
+func (m *StepWatchEvent) Marshal() (dAtA []byte, err error) {
+	size := m.Size()
+	dAtA = make([]byte, size)
+	n, err := m.MarshalToSizedBuffer(dAtA[:size])
+	if err != nil {
+		return nil, err
+	}
+	return dAtA[:n], nil
+}
+
+func (m *StepWatchEvent) MarshalTo(dAtA []byte) (int, error) {
+	size := m.Size()
+	return m.MarshalToSizedBuffer(dAtA[:size])
+}
+
+func (m *StepWatchEvent) MarshalToSizedBuffer(dAtA []byte) (int, error) {
+	i := len(dAtA)
+	_ = i
+	var l int
+	_ = l
+	if m.XXX_unrecognized != nil {
+		i -= len(m.XXX_unrecognized)
+		copy(dAtA[i:], m.XXX_unrecognized)
+	}
+	if m.Object != nil {
+		{
+			size, err := m.Object.MarshalToSizedBuffer(dAtA[:i])
+			if err != nil {
+				return 0, err
+			}
+			i -= size
+			i = encodeVarintPipeline(dAtA, i, uint64(size))
+		}
+		i--
+		dAtA[i] = 0x12
+	}
+	if len(m.Type) > 0 {
+		i -= len(m.Type)
+		copy(dAtA[i:], m.Type)
+		i = encodeVarintPipeline(dAtA, i, uint64(len(m.Type)))
+		i--
+		dAtA[i] = 0xa
+	}
+	return len(dAtA) - i, nil
+}
+
+func (m *PipelineLogsRequest) Marshal() (dAtA []byte, err error) {
+	size := m.Size()
+	dAtA = make([]byte, size)
+	n, err := m.MarshalToSizedBuffer(dAtA[:size])
+	if err != nil {
+		return nil, err
+	}
+	return dAtA[:n], nil
+}
+
+func (m *PipelineLogsRequest) MarshalTo(dAtA []byte) (int, error) {
+	size := m.Size()
+	return m.MarshalToSizedBuffer(dAtA[:size])
+}
+
+func (m *PipelineLogsRequest) MarshalToSizedBuffer(dAtA []byte) (int, error) {
+	i := len(dAtA)
+	_ = i
+	var l int
+	_ = l
+	if m.XXX_unrecognized != nil {
+		i -= len(m.XXX_unrecognized)
+		copy(dAtA[i:], m.XXX_unrecognized)
+	}
+	if m.PodLogOptions != nil {
+		{
+			size, err := m.PodLogOptions.MarshalToSizedBuffer(dAtA[:i])
+			if err != nil {
+				return 0, err
+			}
+			i -= size
+			i = encodeVarintPipeline(dAtA, i, uint64(size))
+		}
+		i--
+		dAtA[i] = 0x2a
+	}
+	if len(m.Grep) > 0 {
+		i -= len(m.Grep)
+		copy(dAtA[i:], m.Grep)
+		i = encodeVarintPipeline(dAtA, i, uint64(len(m.Grep)))
+		i--
+		dAtA[i] = 0x22
+	}
+	if len(m.StepName) > 0 {
+		i -= len(m.StepName)
+		copy(dAtA[i:], m.StepName)
+		i = encodeVarintPipeline(dAtA, i, uint64(len(m.StepName)))
+		i--
+		dAtA[i] = 0x1a
+	}
+	if len(m.Name) > 0 {
+		i -= len(m.Name)
+		copy(dAtA[i:], m.Name)
+		i = encodeVarintPipeline(dAtA, i, uint64(len(m.Name)))
+		i--
+		dAtA[i] = 0x12
+	}
+	if len(m.Namespace) > 0 {
+		i -= len(m.Namespace)
+		copy(dAtA[i:], m.Namespace)
+		i = encodeVarintPipeline(dAtA, i, uint64(len(m.Namespace)))
+		i--
+		dAtA[i] = 0xa
+	}
+	return len(dAtA) - i, nil
+}
+
+func (m *LogEntry) Marshal() (dAtA []byte, err error) {
+	size := m.Size()
+	dAtA = make([]byte, size)
+	n, err := m.MarshalToSizedBuffer(dAtA[:size])
+	if err != nil {
+		return nil, err
+	}
+	return dAtA[:n], nil
+}
+
+func (m *LogEntry) MarshalTo(dAtA []byte) (int, error) {
+	size := m.Size()
+	return m.MarshalToSizedBuffer(dAtA[:size])
+}
+
+func (m *LogEntry) MarshalToSizedBuffer(dAtA []byte) (int, error) {
+	i := len(dAtA)
+	_ = i
+	var l int
+	_ = l
+	if m.XXX_unrecognized != nil {
+		i -= len(m.XXX_unrecognized)
+		copy(dAtA[i:], m.XXX_unrecognized)
+	}
+	if len(m.Msg) > 0 {
+		i -= len(m.Msg)
+		copy(dAtA[i:], m.Msg)
+		i = encodeVarintPipeline(dAtA, i, uint64(len(m.Msg)))
+		i--
+		dAtA[i] = 0x3a
+	}
+	if m.Time != nil {
+		{
+			size, err := m.Time.MarshalToSizedBuffer(dAtA[:i])
+			if err != nil {
+				return 0, err
+			}
+			i -= size
+			i = encodeVarintPipeline(dAtA, i, uint64(size))
+		}
+		i--
+		dAtA[i] = 0x32
+	}
+	if len(m.StepName) > 0 {
+		i -= len(m.StepName)
+		copy(dAtA[i:], m.StepName)
+		i = encodeVarintPipeline(dAtA, i, uint64(len(m.StepName)))
+		i--
+		dAtA[i] = 0x1a
+	}
+	if len(m.PipelineName) > 0 {
+		i -= len(m.PipelineName)
+		copy(dAtA[i:], m.PipelineName)
+		i = encodeVarintPipeline(dAtA, i, uint64(len(m.PipelineName)))
+		i--
+		dAtA[i] = 0x12
+	}
+	if len(m.Namespace) > 0 {
+		i -= len(m.Namespace)
+		copy(dAtA[i:], m.Namespace)
+		i = encodeVarintPipeline(dAtA, i, uint64(len(m.Namespace)))
+		i--
+		dAtA[i] = 0xa
+	}
+	return len(dAtA) - i, nil
+}
+
+func encodeVarintPipeline(dAtA []byte, offset int, v uint64) int {
+	offset -= sovPipeline(v)
+	base := offset
+	for v >= 1<<7 {
+		dAtA[offset] = uint8(v&0x7f | 0x80)
+		v >>= 7
+		offset++
+	}
+	dAtA[offset] = uint8(v)
+	return base
+}
+func (m *ListPipelinesRequest) Size() (n int) {
+	if m == nil {
+		return 0
+	}
+	var l int
+	_ = l
+	l = len(m.Namespace)
+	if l > 0 {
+		n += 1 + l + sovPipeline(uint64(l))
+	}
+	if m.ListOptions != nil {
+		l = m.ListOptions.Size()
+		n += 1 + l + sovPipeline(uint64(l))
+	}
+	if m.XXX_unrecognized != nil {
+		n += len(m.XXX_unrecognized)
+	}
+	return n
+}
+
+func (m *PipelineWatchEvent) Size() (n int) {
+	if m == nil {
+		return 0
+	}
+	var l int
+	_ = l
+	l = len(m.Type)
+	if l > 0 {
+		n += 1 + l + sovPipeline(uint64(l))
+	}
+	if m.Object != nil {
+		l = m.Object.Size()
+		n += 1 + l + sovPipeline(uint64(l))
+	}
+	if m.XXX_unrecognized != nil {
+		n += len(m.XXX_unrecognized)
+	}
+	return n
+}
+
+func (m *GetPipelineRequest) Size() (n int) {
+	if m == nil {
+		return 0
+	}
+	var l int
+	_ = l
+	l = len(m.Name)
+	if l > 0 {
+		n += 1 + l + sovPipeline(uint64(l))
+	}
+	l = len(m.Namespace)
+	if l > 0 {
+		n += 1 + l + sovPipeline(uint64(l))
+	}
+	if m.GetOptions != nil {
+		l = m.GetOptions.Size()
+		n += 1 + l + sovPipeline(uint64(l))
+	}
+	if m.XXX_unrecognized != nil {
+		n += len(m.XXX_unrecognized)
+	}
+	return n
+}
+
+func (m *RestartPipelineRequest) Size() (n int) {
+	if m == nil {
+		return 0
+	}
+	var l int
+	_ = l
+	l = len(m.Name)
+	if l > 0 {
+		n += 1 + l + sovPipeline(uint64(l))
+	}
+	l = len(m.Namespace)
+	if l > 0 {
+		n += 1 + l + sovPipeline(uint64(l))
+	}
+	if m.XXX_unrecognized != nil {
+		n += len(m.XXX_unrecognized)
+	}
+	return n
+}
+
+func (m *RestartPipelineResponse) Size() (n int) {
+	if m == nil {
+		return 0
+	}
+	var l int
+	_ = l
+	if m.XXX_unrecognized != nil {
+		n += len(m.XXX_unrecognized)
+	}
+	return n
+}
+
+func (m *DeletePipelineRequest) Size() (n int) {
+	if m == nil {
+		return 0
+	}
+	var l int
+	_ = l
+	l = len(m.Name)
+	if l > 0 {
+		n += 1 + l + sovPipeline(uint64(l))
+	}
+	l = len(m.Namespace)
+	if l > 0 {
+		n += 1 + l + sovPipeline(uint64(l))
+	}
+	if m.DeleteOptions != nil {
+		l = m.DeleteOptions.Size()
+		n += 1 + l + sovPipeline(uint64(l))
+	}
+	if m.XXX_unrecognized != nil {
+		n += len(m.XXX_unrecognized)
+	}
+	return n
+}
+
+func (m *DeletePipelineResponse) Size() (n int) {
+	if m == nil {
+		return 0
+	}
+	var l int
+	_ = l
+	if m.XXX_unrecognized != nil {
+		n += len(m.XXX_unrecognized)
+	}
+	return n
+}
+
+func (m *WatchStepRequest) Size() (n int) {
+	if m == nil {
+		return 0
+	}
+	var l int
+	_ = l
+	l = len(m.Namespace)
+	if l > 0 {
+		n += 1 + l + sovPipeline(uint64(l))
+	}
+	if m.ListOptions != nil {
+		l = m.ListOptions.Size()
+		n += 1 + l + sovPipeline(uint64(l))
+	}
+	if m.XXX_unrecognized != nil {
+		n += len(m.XXX_unrecognized)
+	}
+	return n
+}
+
+func (m *StepWatchEvent) Size() (n int) {
+	if m == nil {
+		return 0
+	}
+	var l int
+	_ = l
+	l = len(m.Type)
+	if l > 0 {
+		n += 1 + l + sovPipeline(uint64(l))
+	}
+	if m.Object != nil {
+		l = m.Object.Size()
+		n += 1 + l + sovPipeline(uint64(l))
+	}
+	if m.XXX_unrecognized != nil {
+		n += len(m.XXX_unrecognized)
+	}
+	return n
+}
+
+func (m *PipelineLogsRequest) Size() (n int) {
+	if m == nil {
+		return 0
+	}
+	var l int
+	_ = l
+	l = len(m.Namespace)
+	if l > 0 {
+		n += 1 + l + sovPipeline(uint64(l))
+	}
+	l = len(m.Name)
+	if l > 0 {
+		n += 1 + l + sovPipeline(uint64(l))
+	}
+	l = len(m.StepName)
+	if l > 0 {
+		n += 1 + l + sovPipeline(uint64(l))
+	}
+	l = len(m.Grep)
+	if l > 0 {
+		n += 1 + l + sovPipeline(uint64(l))
+	}
+	if m.PodLogOptions != nil {
+		l = m.PodLogOptions.Size()
+		n += 1 + l + sovPipeline(uint64(l))
+	}
+	if m.XXX_unrecognized != nil {
+		n += len(m.XXX_unrecognized)
+	}
+	return n
+}
+
+func (m *LogEntry) Size() (n int) {
+	if m == nil {
+		return 0
+	}
+	var l int
+	_ = l
+	l = len(m.Namespace)
+	if l > 0 {
+		n += 1 + l + sovPipeline(uint64(l))
+	}
+	l = len(m.PipelineName)
+	if l > 0 {
+		n += 1 + l + sovPipeline(uint64(l))
+	}
+	l = len(m.StepName)
+	if l > 0 {
+		n += 1 + l + sovPipeline(uint64(l))
+	}
+	if m.Time != nil {
+		l = m.Time.Size()
+		n += 1 + l + sovPipeline(uint64(l))
+	}
+	l = len(m.Msg)
+	if l > 0 {
+		n += 1 + l + sovPipeline(uint64(l))
+	}
+	if m.XXX_unrecognized != nil {
+		n += len(m.XXX_unrecognized)
+	}
+	return n
+}
+
+func sovPipeline(x uint64) (n int) {
+	return (math_bits.Len64(x|1) + 6) / 7
+}
+func sozPipeline(x uint64) (n int) {
+	return sovPipeline(uint64((x << 1) ^ uint64((int64(x) >> 63))))
+}
+func (m *ListPipelinesRequest) Unmarshal(dAtA []byte) error {
+	l := len(dAtA)
+	iNdEx := 0
+	for iNdEx < l {
+		preIndex := iNdEx
+		var wire uint64
+		for shift := uint(0); ; shift += 7 {
+			if shift >= 64 {
+				return ErrIntOverflowPipeline
+			}
+			if iNdEx >= l {
+				return io.ErrUnexpectedEOF
+			}
+			b := dAtA[iNdEx]
+			iNdEx++
+			wire |= uint64(b&0x7F) << shift
+			if b < 0x80 {
+				break
+			}
+		}
+		fieldNum := int32(wire >> 3)
+		wireType := int(wire & 0x7)
+		if wireType == 4 {
+			return fmt.Errorf("proto: ListPipelinesRequest: wiretype end group for non-group")
+		}
+		if fieldNum <= 0 {
+			return fmt.Errorf("proto: ListPipelinesRequest: illegal tag %d (wire type %d)", fieldNum, wire)
+		}
+		switch fieldNum {
+		case 1:
+			if wireType != 2 {
+				return fmt.Errorf("proto: wrong wireType = %d for field Namespace", wireType)
+			}
+			var stringLen uint64
+			for shift := uint(0); ; shift += 7 {
+				if shift >= 64 {
+					return ErrIntOverflowPipeline
+				}
+				if iNdEx >= l {
+					return io.ErrUnexpectedEOF
+				}
+				b := dAtA[iNdEx]
+				iNdEx++
+				stringLen |= uint64(b&0x7F) << shift
+				if b < 0x80 {
+					break
+				}
+			}
+			intStringLen := int(stringLen)
+			if intStringLen < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			postIndex := iNdEx + intStringLen
+			if postIndex < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			if postIndex > l {
+				return io.ErrUnexpectedEOF
+			}
+			m.Namespace = string(dAtA[iNdEx:postIndex])
+			iNdEx = postIndex
+		case 2:
+			if wireType != 2 {
+				return fmt.Errorf("proto: wrong wireType = %d for field ListOptions", wireType)
+			}
+			var msglen int
+			for shift := uint(0); ; shift += 7 {
+				if shift >= 64 {
+					return ErrIntOverflowPipeline
+				}
+				if iNdEx >= l {
+					return io.ErrUnexpectedEOF
+				}
+				b := dAtA[iNdEx]
+				iNdEx++
+				msglen |= int(b&0x7F) << shift
+				if b < 0x80 {
+					break
+				}
+			}
+			if msglen < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			postIndex := iNdEx + msglen
+			if postIndex < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			if postIndex > l {
+				return io.ErrUnexpectedEOF
+			}
+			if m.ListOptions == nil {
+				m.ListOptions = &v1.ListOptions{}
+			}
+			if err := m.ListOptions.Unmarshal(dAtA[iNdEx:postIndex]); err != nil {
+				return err
+			}
+			iNdEx = postIndex
+		default:
+			iNdEx = preIndex
+			skippy, err := skipPipeline(dAtA[iNdEx:])
+			if err != nil {
+				return err
+			}
+			if (skippy < 0) || (iNdEx+skippy) < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			if (iNdEx + skippy) > l {
+				return io.ErrUnexpectedEOF
+			}
+			m.XXX_unrecognized = append(m.XXX_unrecognized, dAtA[iNdEx:iNdEx+skippy]...)
+			iNdEx += skippy
+		}
+	}
+
+	if iNdEx > l {
+		return io.ErrUnexpectedEOF
+	}
+	return nil
+}
+func (m *PipelineWatchEvent) Unmarshal(dAtA []byte) error {
+	l := len(dAtA)
+	iNdEx := 0
+	for iNdEx < l {
+		preIndex := iNdEx
+		var wire uint64
+		for shift := uint(0); ; shift += 7 {
+			if shift >= 64 {
+				return ErrIntOverflowPipeline
+			}
+			if iNdEx >= l {
+				return io.ErrUnexpectedEOF
+			}
+			b := dAtA[iNdEx]
+			iNdEx++
+			wire |= uint64(b&0x7F) << shift
+			if b < 0x80 {
+				break
+			}
+		}
+		fieldNum := int32(wire >> 3)
+		wireType := int(wire & 0x7)
+		if wireType == 4 {
+			return fmt.Errorf("proto: PipelineWatchEvent: wiretype end group for non-group")
+		}
+		if fieldNum <= 0 {
+			return fmt.Errorf("proto: PipelineWatchEvent: illegal tag %d (wire type %d)", fieldNum, wire)
+		}
+		switch fieldNum {
+		case 1:
+			if wireType != 2 {
+				return fmt.Errorf("proto: wrong wireType = %d for field Type", wireType)
+			}
+			var stringLen uint64
+			for shift := uint(0); ; shift += 7 {
+				if shift >= 64 {
+					return ErrIntOverflowPipeline
+				}
+				if iNdEx >= l {
+					return io.ErrUnexpectedEOF
+				}
+				b := dAtA[iNdEx]
+				iNdEx++
+				stringLen |= uint64(b&0x7F) << shift
+				if b < 0x80 {
+					break
+				}
+			}
+			intStringLen := int(stringLen)
+			if intStringLen < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			postIndex := iNdEx + intStringLen
+			if postIndex < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			if postIndex > l {
+				return io.ErrUnexpectedEOF
+			}
+			m.Type = string(dAtA[iNdEx:postIndex])
+			iNdEx = postIndex
+		case 2:
+			if wireType != 2 {
+				return fmt.Errorf("proto: wrong wireType = %d for field Object", wireType)
+			}
+			var msglen int
+			for shift := uint(0); ; shift += 7 {
+				if shift >= 64 {
+					return ErrIntOverflowPipeline
+				}
+				if iNdEx >= l {
+					return io.ErrUnexpectedEOF
+				}
+				b := dAtA[iNdEx]
+				iNdEx++
+				msglen |= int(b&0x7F) << shift
+				if b < 0x80 {
+					break
+				}
+			}
+			if msglen < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			postIndex := iNdEx + msglen
+			if postIndex < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			if postIndex > l {
+				return io.ErrUnexpectedEOF
+			}
+			if m.Object == nil {
+				m.Object = &v1alpha1.Pipeline{}
+			}
+			if err := m.Object.Unmarshal(dAtA[iNdEx:postIndex]); err != nil {
+				return err
+			}
+			iNdEx = postIndex
+		default:
+			iNdEx = preIndex
+			skippy, err := skipPipeline(dAtA[iNdEx:])
+			if err != nil {
+				return err
+			}
+			if (skippy < 0) || (iNdEx+skippy) < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			if (iNdEx + skippy) > l {
+				return io.ErrUnexpectedEOF
+			}
+			m.XXX_unrecognized = append(m.XXX_unrecognized, dAtA[iNdEx:iNdEx+skippy]...)
+			iNdEx += skippy
+		}
+	}
+
+	if iNdEx > l {
+		return io.ErrUnexpectedEOF
+	}
+	return nil
+}
+func (m *GetPipelineRequest) Unmarshal(dAtA []byte) error {
+	l := len(dAtA)
+	iNdEx := 0
+	for iNdEx < l {
+		preIndex := iNdEx
+		var wire uint64
+		for shift := uint(0); ; shift += 7 {
+			if shift >= 64 {
+				return ErrIntOverflowPipeline
+			}
+			if iNdEx >= l {
+				return io.ErrUnexpectedEOF
+			}
+			b := dAtA[iNdEx]
+			iNdEx++
+			wire |= uint64(b&0x7F) << shift
+			if b < 0x80 {
+				break
+			}
+		}
+		fieldNum := int32(wire >> 3)
+		wireType := int(wire & 0x7)
+		if wireType == 4 {
+			return fmt.Errorf("proto: GetPipelineRequest: wiretype end group for non-group")
+		}
+		if fieldNum <= 0 {
+			return fmt.Errorf("proto: GetPipelineRequest: illegal tag %d (wire type %d)", fieldNum, wire)
+		}
+		switch fieldNum {
+		case 1:
+			if wireType != 2 {
+				return fmt.Errorf("proto: wrong wireType = %d for field Name", wireType)
+			}
+			var stringLen uint64
+			for shift := uint(0); ; shift += 7 {
+				if shift >= 64 {
+					return ErrIntOverflowPipeline
+				}
+				if iNdEx >= l {
+					return io.ErrUnexpectedEOF
+				}
+				b := dAtA[iNdEx]
+				iNdEx++
+				stringLen |= uint64(b&0x7F) << shift
+				if b < 0x80 {
+					break
+				}
+			}
+			intStringLen := int(stringLen)
+			if intStringLen < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			postIndex := iNdEx + intStringLen
+			if postIndex < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			if postIndex > l {
+				return io.ErrUnexpectedEOF
+			}
+			m.Name = string(dAtA[iNdEx:postIndex])
+			iNdEx = postIndex
+		case 2:
+			if wireType != 2 {
+				return fmt.Errorf("proto: wrong wireType = %d for field Namespace", wireType)
+			}
+			var stringLen uint64
+			for shift := uint(0); ; shift += 7 {
+				if shift >= 64 {
+					return ErrIntOverflowPipeline
+				}
+				if iNdEx >= l {
+					return io.ErrUnexpectedEOF
+				}
+				b := dAtA[iNdEx]
+				iNdEx++
+				stringLen |= uint64(b&0x7F) << shift
+				if b < 0x80 {
+					break
+				}
+			}
+			intStringLen := int(stringLen)
+			if intStringLen < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			postIndex := iNdEx + intStringLen
+			if postIndex < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			if postIndex > l {
+				return io.ErrUnexpectedEOF
+			}
+			m.Namespace = string(dAtA[iNdEx:postIndex])
+			iNdEx = postIndex
+		case 3:
+			if wireType != 2 {
+				return fmt.Errorf("proto: wrong wireType = %d for field GetOptions", wireType)
+			}
+			var msglen int
+			for shift := uint(0); ; shift += 7 {
+				if shift >= 64 {
+					return ErrIntOverflowPipeline
+				}
+				if iNdEx >= l {
+					return io.ErrUnexpectedEOF
+				}
+				b := dAtA[iNdEx]
+				iNdEx++
+				msglen |= int(b&0x7F) << shift
+				if b < 0x80 {
+					break
+				}
+			}
+			if msglen < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			postIndex := iNdEx + msglen
+			if postIndex < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			if postIndex > l {
+				return io.ErrUnexpectedEOF
+			}
+			if m.GetOptions == nil {
+				m.GetOptions = &v1.GetOptions{}
+			}
+			if err := m.GetOptions.Unmarshal(dAtA[iNdEx:postIndex]); err != nil {
+				return err
+			}
+			iNdEx = postIndex
+		default:
+			iNdEx = preIndex
+			skippy, err := skipPipeline(dAtA[iNdEx:])
+			if err != nil {
+				return err
+			}
+			if (skippy < 0) || (iNdEx+skippy) < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			if (iNdEx + skippy) > l {
+				return io.ErrUnexpectedEOF
+			}
+			m.XXX_unrecognized = append(m.XXX_unrecognized, dAtA[iNdEx:iNdEx+skippy]...)
+			iNdEx += skippy
+		}
+	}
+
+	if iNdEx > l {
+		return io.ErrUnexpectedEOF
+	}
+	return nil
+}
+func (m *RestartPipelineRequest) Unmarshal(dAtA []byte) error {
+	l := len(dAtA)
+	iNdEx := 0
+	for iNdEx < l {
+		preIndex := iNdEx
+		var wire uint64
+		for shift := uint(0); ; shift += 7 {
+			if shift >= 64 {
+				return ErrIntOverflowPipeline
+			}
+			if iNdEx >= l {
+				return io.ErrUnexpectedEOF
+			}
+			b := dAtA[iNdEx]
+			iNdEx++
+			wire |= uint64(b&0x7F) << shift
+			if b < 0x80 {
+				break
+			}
+		}
+		fieldNum := int32(wire >> 3)
+		wireType := int(wire & 0x7)
+		if wireType == 4 {
+			return fmt.Errorf("proto: RestartPipelineRequest: wiretype end group for non-group")
+		}
+		if fieldNum <= 0 {
+			return fmt.Errorf("proto: RestartPipelineRequest: illegal tag %d (wire type %d)", fieldNum, wire)
+		}
+		switch fieldNum {
+		case 1:
+			if wireType != 2 {
+				return fmt.Errorf("proto: wrong wireType = %d for field Name", wireType)
+			}
+			var stringLen uint64
+			for shift := uint(0); ; shift += 7 {
+				if shift >= 64 {
+					return ErrIntOverflowPipeline
+				}
+				if iNdEx >= l {
+					return io.ErrUnexpectedEOF
+				}
+				b := dAtA[iNdEx]
+				iNdEx++
+				stringLen |= uint64(b&0x7F) << shift
+				if b < 0x80 {
+					break
+				}
+			}
+			intStringLen := int(stringLen)
+			if intStringLen < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			postIndex := iNdEx + intStringLen
+			if postIndex < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			if postIndex > l {
+				return io.ErrUnexpectedEOF
+			}
+			m.Name = string(dAtA[iNdEx:postIndex])
+			iNdEx = postIndex
+		case 2:
+			if wireType != 2 {
+				return fmt.Errorf("proto: wrong wireType = %d for field Namespace", wireType)
+			}
+			var stringLen uint64
+			for shift := uint(0); ; shift += 7 {
+				if shift >= 64 {
+					return ErrIntOverflowPipeline
+				}
+				if iNdEx >= l {
+					return io.ErrUnexpectedEOF
+				}
+				b := dAtA[iNdEx]
+				iNdEx++
+				stringLen |= uint64(b&0x7F) << shift
+				if b < 0x80 {
+					break
+				}
+			}
+			intStringLen := int(stringLen)
+			if intStringLen < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			postIndex := iNdEx + intStringLen
+			if postIndex < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			if postIndex > l {
+				return io.ErrUnexpectedEOF
+			}
+			m.Namespace = string(dAtA[iNdEx:postIndex])
+			iNdEx = postIndex
+		default:
+			iNdEx = preIndex
+			skippy, err := skipPipeline(dAtA[iNdEx:])
+			if err != nil {
+				return err
+			}
+			if (skippy < 0) || (iNdEx+skippy) < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			if (iNdEx + skippy) > l {
+				return io.ErrUnexpectedEOF
+			}
+			m.XXX_unrecognized = append(m.XXX_unrecognized, dAtA[iNdEx:iNdEx+skippy]...)
+			iNdEx += skippy
+		}
+	}
+
+	if iNdEx > l {
+		return io.ErrUnexpectedEOF
+	}
+	return nil
+}
+func (m *RestartPipelineResponse) Unmarshal(dAtA []byte) error {
+	l := len(dAtA)
+	iNdEx := 0
+	for iNdEx < l {
+		preIndex := iNdEx
+		var wire uint64
+		for shift := uint(0); ; shift += 7 {
+			if shift >= 64 {
+				return ErrIntOverflowPipeline
+			}
+			if iNdEx >= l {
+				return io.ErrUnexpectedEOF
+			}
+			b := dAtA[iNdEx]
+			iNdEx++
+			wire |= uint64(b&0x7F) << shift
+			if b < 0x80 {
+				break
+			}
+		}
+		fieldNum := int32(wire >> 3)
+		wireType := int(wire & 0x7)
+		if wireType == 4 {
+			return fmt.Errorf("proto: RestartPipelineResponse: wiretype end group for non-group")
+		}
+		if fieldNum <= 0 {
+			return fmt.Errorf("proto: RestartPipelineResponse: illegal tag %d (wire type %d)", fieldNum, wire)
+		}
+		switch fieldNum {
+		default:
+			iNdEx = preIndex
+			skippy, err := skipPipeline(dAtA[iNdEx:])
+			if err != nil {
+				return err
+			}
+			if (skippy < 0) || (iNdEx+skippy) < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			if (iNdEx + skippy) > l {
+				return io.ErrUnexpectedEOF
+			}
+			m.XXX_unrecognized = append(m.XXX_unrecognized, dAtA[iNdEx:iNdEx+skippy]...)
+			iNdEx += skippy
+		}
+	}
+
+	if iNdEx > l {
+		return io.ErrUnexpectedEOF
+	}
+	return nil
+}
+func (m *DeletePipelineRequest) Unmarshal(dAtA []byte) error {
+	l := len(dAtA)
+	iNdEx := 0
+	for iNdEx < l {
+		preIndex := iNdEx
+		var wire uint64
+		for shift := uint(0); ; shift += 7 {
+			if shift >= 64 {
+				return ErrIntOverflowPipeline
+			}
+			if iNdEx >= l {
+				return io.ErrUnexpectedEOF
+			}
+			b := dAtA[iNdEx]
+			iNdEx++
+			wire |= uint64(b&0x7F) << shift
+			if b < 0x80 {
+				break
+			}
+		}
+		fieldNum := int32(wire >> 3)
+		wireType := int(wire & 0x7)
+		if wireType == 4 {
+			return fmt.Errorf("proto: DeletePipelineRequest: wiretype end group for non-group")
+		}
+		if fieldNum <= 0 {
+			return fmt.Errorf("proto: DeletePipelineRequest: illegal tag %d (wire type %d)", fieldNum, wire)
+		}
+		switch fieldNum {
+		case 1:
+			if wireType != 2 {
+				return fmt.Errorf("proto: wrong wireType = %d for field Name", wireType)
+			}
+			var stringLen uint64
+			for shift := uint(0); ; shift += 7 {
+				if shift >= 64 {
+					return ErrIntOverflowPipeline
+				}
+				if iNdEx >= l {
+					return io.ErrUnexpectedEOF
+				}
+				b := dAtA[iNdEx]
+				iNdEx++
+				stringLen |= uint64(b&0x7F) << shift
+				if b < 0x80 {
+					break
+				}
+			}
+			intStringLen := int(stringLen)
+			if intStringLen < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			postIndex := iNdEx + intStringLen
+			if postIndex < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			if postIndex > l {
+				return io.ErrUnexpectedEOF
+			}
+			m.Name = string(dAtA[iNdEx:postIndex])
+			iNdEx = postIndex
+		case 2:
+			if wireType != 2 {
+				return fmt.Errorf("proto: wrong wireType = %d for field Namespace", wireType)
+			}
+			var stringLen uint64
+			for shift := uint(0); ; shift += 7 {
+				if shift >= 64 {
+					return ErrIntOverflowPipeline
+				}
+				if iNdEx >= l {
+					return io.ErrUnexpectedEOF
+				}
+				b := dAtA[iNdEx]
+				iNdEx++
+				stringLen |= uint64(b&0x7F) << shift
+				if b < 0x80 {
+					break
+				}
+			}
+			intStringLen := int(stringLen)
+			if intStringLen < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			postIndex := iNdEx + intStringLen
+			if postIndex < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			if postIndex > l {
+				return io.ErrUnexpectedEOF
+			}
+			m.Namespace = string(dAtA[iNdEx:postIndex])
+			iNdEx = postIndex
+		case 3:
+			if wireType != 2 {
+				return fmt.Errorf("proto: wrong wireType = %d for field DeleteOptions", wireType)
+			}
+			var msglen int
+			for shift := uint(0); ; shift += 7 {
+				if shift >= 64 {
+					return ErrIntOverflowPipeline
+				}
+				if iNdEx >= l {
+					return io.ErrUnexpectedEOF
+				}
+				b := dAtA[iNdEx]
+				iNdEx++
+				msglen |= int(b&0x7F) << shift
+				if b < 0x80 {
+					break
+				}
+			}
+			if msglen < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			postIndex := iNdEx + msglen
+			if postIndex < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			if postIndex > l {
+				return io.ErrUnexpectedEOF
+			}
+			if m.DeleteOptions == nil {
+				m.DeleteOptions = &v1.DeleteOptions{}
+			}
+			if err := m.DeleteOptions.Unmarshal(dAtA[iNdEx:postIndex]); err != nil {
+				return err
+			}
+			iNdEx = postIndex
+		default:
+			iNdEx = preIndex
+			skippy, err := skipPipeline(dAtA[iNdEx:])
+			if err != nil {
+				return err
+			}
+			if (skippy < 0) || (iNdEx+skippy) < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			if (iNdEx + skippy) > l {
+				return io.ErrUnexpectedEOF
+			}
+			m.XXX_unrecognized = append(m.XXX_unrecognized, dAtA[iNdEx:iNdEx+skippy]...)
+			iNdEx += skippy
+		}
+	}
+
+	if iNdEx > l {
+		return io.ErrUnexpectedEOF
+	}
+	return nil
+}
+func (m *DeletePipelineResponse) Unmarshal(dAtA []byte) error {
+	l := len(dAtA)
+	iNdEx := 0
+	for iNdEx < l {
+		preIndex := iNdEx
+		var wire uint64
+		for shift := uint(0); ; shift += 7 {
+			if shift >= 64 {
+				return ErrIntOverflowPipeline
+			}
+			if iNdEx >= l {
+				return io.ErrUnexpectedEOF
+			}
+			b := dAtA[iNdEx]
+			iNdEx++
+			wire |= uint64(b&0x7F) << shift
+			if b < 0x80 {
+				break
+			}
+		}
+		fieldNum := int32(wire >> 3)
+		wireType := int(wire & 0x7)
+		if wireType == 4 {
+			return fmt.Errorf("proto: DeletePipelineResponse: wiretype end group for non-group")
+		}
+		if fieldNum <= 0 {
+			return fmt.Errorf("proto: DeletePipelineResponse: illegal tag %d (wire type %d)", fieldNum, wire)
+		}
+		switch fieldNum {
+		default:
+			iNdEx = preIndex
+			skippy, err := skipPipeline(dAtA[iNdEx:])
+			if err != nil {
+				return err
+			}
+			if (skippy < 0) || (iNdEx+skippy) < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			if (iNdEx + skippy) > l {
+				return io.ErrUnexpectedEOF
+			}
+			m.XXX_unrecognized = append(m.XXX_unrecognized, dAtA[iNdEx:iNdEx+skippy]...)
+			iNdEx += skippy
+		}
+	}
+
+	if iNdEx > l {
+		return io.ErrUnexpectedEOF
+	}
+	return nil
+}
+func (m *WatchStepRequest) Unmarshal(dAtA []byte) error {
+	l := len(dAtA)
+	iNdEx := 0
+	for iNdEx < l {
+		preIndex := iNdEx
+		var wire uint64
+		for shift := uint(0); ; shift += 7 {
+			if shift >= 64 {
+				return ErrIntOverflowPipeline
+			}
+			if iNdEx >= l {
+				return io.ErrUnexpectedEOF
+			}
+			b := dAtA[iNdEx]
+			iNdEx++
+			wire |= uint64(b&0x7F) << shift
+			if b < 0x80 {
+				break
+			}
+		}
+		fieldNum := int32(wire >> 3)
+		wireType := int(wire & 0x7)
+		if wireType == 4 {
+			return fmt.Errorf("proto: WatchStepRequest: wiretype end group for non-group")
+		}
+		if fieldNum <= 0 {
+			return fmt.Errorf("proto: WatchStepRequest: illegal tag %d (wire type %d)", fieldNum, wire)
+		}
+		switch fieldNum {
+		case 1:
+			if wireType != 2 {
+				return fmt.Errorf("proto: wrong wireType = %d for field Namespace", wireType)
+			}
+			var stringLen uint64
+			for shift := uint(0); ; shift += 7 {
+				if shift >= 64 {
+					return ErrIntOverflowPipeline
+				}
+				if iNdEx >= l {
+					return io.ErrUnexpectedEOF
+				}
+				b := dAtA[iNdEx]
+				iNdEx++
+				stringLen |= uint64(b&0x7F) << shift
+				if b < 0x80 {
+					break
+				}
+			}
+			intStringLen := int(stringLen)
+			if intStringLen < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			postIndex := iNdEx + intStringLen
+			if postIndex < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			if postIndex > l {
+				return io.ErrUnexpectedEOF
+			}
+			m.Namespace = string(dAtA[iNdEx:postIndex])
+			iNdEx = postIndex
+		case 2:
+			if wireType != 2 {
+				return fmt.Errorf("proto: wrong wireType = %d for field ListOptions", wireType)
+			}
+			var msglen int
+			for shift := uint(0); ; shift += 7 {
+				if shift >= 64 {
+					return ErrIntOverflowPipeline
+				}
+				if iNdEx >= l {
+					return io.ErrUnexpectedEOF
+				}
+				b := dAtA[iNdEx]
+				iNdEx++
+				msglen |= int(b&0x7F) << shift
+				if b < 0x80 {
+					break
+				}
+			}
+			if msglen < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			postIndex := iNdEx + msglen
+			if postIndex < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			if postIndex > l {
+				return io.ErrUnexpectedEOF
+			}
+			if m.ListOptions == nil {
+				m.ListOptions = &v1.ListOptions{}
+			}
+			if err := m.ListOptions.Unmarshal(dAtA[iNdEx:postIndex]); err != nil {
+				return err
+			}
+			iNdEx = postIndex
+		default:
+			iNdEx = preIndex
+			skippy, err := skipPipeline(dAtA[iNdEx:])
+			if err != nil {
+				return err
+			}
+			if (skippy < 0) || (iNdEx+skippy) < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			if (iNdEx + skippy) > l {
+				return io.ErrUnexpectedEOF
+			}
+			m.XXX_unrecognized = append(m.XXX_unrecognized, dAtA[iNdEx:iNdEx+skippy]...)
+			iNdEx += skippy
+		}
+	}
+
+	if iNdEx > l {
+		return io.ErrUnexpectedEOF
+	}
+	return nil
+}
+func (m *StepWatchEvent) Unmarshal(dAtA []byte) error {
+	l := len(dAtA)
+	iNdEx := 0
+	for iNdEx < l {
+		preIndex := iNdEx
+		var wire uint64
+		for shift := uint(0); ; shift += 7 {
+			if shift >= 64 {
+				return ErrIntOverflowPipeline
+			}
+			if iNdEx >= l {
+				return io.ErrUnexpectedEOF
+			}
+			b := dAtA[iNdEx]
+			iNdEx++
+			wire |= uint64(b&0x7F) << shift
+			if b < 0x80 {
+				break
+			}
+		}
+		fieldNum := int32(wire >> 3)
+		wireType := int(wire & 0x7)
+		if wireType == 4 {
+			return fmt.Errorf("proto: StepWatchEvent: wiretype end group for non-group")
+		}
+		if fieldNum <= 0 {
+			return fmt.Errorf("proto: StepWatchEvent: illegal tag %d (wire type %d)", fieldNum, wire)
+		}
+		switch fieldNum {
+		case 1:
+			if wireType != 2 {
+				return fmt.Errorf("proto: wrong wireType = %d for field Type", wireType)
+			}
+			var stringLen uint64
+			for shift := uint(0); ; shift += 7 {
+				if shift >= 64 {
+					return ErrIntOverflowPipeline
+				}
+				if iNdEx >= l {
+					return io.ErrUnexpectedEOF
+				}
+				b := dAtA[iNdEx]
+				iNdEx++
+				stringLen |= uint64(b&0x7F) << shift
+				if b < 0x80 {
+					break
+				}
+			}
+			intStringLen := int(stringLen)
+			if intStringLen < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			postIndex := iNdEx + intStringLen
+			if postIndex < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			if postIndex > l {
+				return io.ErrUnexpectedEOF
+			}
+			m.Type = string(dAtA[iNdEx:postIndex])
+			iNdEx = postIndex
+		case 2:
+			if wireType != 2 {
+				return fmt.Errorf("proto: wrong wireType = %d for field Object", wireType)
+			}
+			var msglen int
+			for shift := uint(0); ; shift += 7 {
+				if shift >= 64 {
+					return ErrIntOverflowPipeline
+				}
+				if iNdEx >= l {
+					return io.ErrUnexpectedEOF
+				}
+				b := dAtA[iNdEx]
+				iNdEx++
+				msglen |= int(b&0x7F) << shift
+				if b < 0x80 {
+					break
+				}
+			}
+			if msglen < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			postIndex := iNdEx + msglen
+			if postIndex < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			if postIndex > l {
+				return io.ErrUnexpectedEOF
+			}
+			if m.Object == nil {
+				m.Object = &v1alpha1.Step{}
+			}
+			if err := m.Object.Unmarshal(dAtA[iNdEx:postIndex]); err != nil {
+				return err
+			}
+			iNdEx = postIndex
+		default:
+			iNdEx = preIndex
+			skippy, err := skipPipeline(dAtA[iNdEx:])
+			if err != nil {
+				return err
+			}
+			if (skippy < 0) || (iNdEx+skippy) < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			if (iNdEx + skippy) > l {
+				return io.ErrUnexpectedEOF
+			}
+			m.XXX_unrecognized = append(m.XXX_unrecognized, dAtA[iNdEx:iNdEx+skippy]...)
+			iNdEx += skippy
+		}
+	}
+
+	if iNdEx > l {
+		return io.ErrUnexpectedEOF
+	}
+	return nil
+}
+func (m *PipelineLogsRequest) Unmarshal(dAtA []byte) error {
+	l := len(dAtA)
+	iNdEx := 0
+	for iNdEx < l {
+		preIndex := iNdEx
+		var wire uint64
+		for shift := uint(0); ; shift += 7 {
+			if shift >= 64 {
+				return ErrIntOverflowPipeline
+			}
+			if iNdEx >= l {
+				return io.ErrUnexpectedEOF
+			}
+			b := dAtA[iNdEx]
+			iNdEx++
+			wire |= uint64(b&0x7F) << shift
+			if b < 0x80 {
+				break
+			}
+		}
+		fieldNum := int32(wire >> 3)
+		wireType := int(wire & 0x7)
+		if wireType == 4 {
+			return fmt.Errorf("proto: PipelineLogsRequest: wiretype end group for non-group")
+		}
+		if fieldNum <= 0 {
+			return fmt.Errorf("proto: PipelineLogsRequest: illegal tag %d (wire type %d)", fieldNum, wire)
+		}
+		switch fieldNum {
+		case 1:
+			if wireType != 2 {
+				return fmt.Errorf("proto: wrong wireType = %d for field Namespace", wireType)
+			}
+			var stringLen uint64
+			for shift := uint(0); ; shift += 7 {
+				if shift >= 64 {
+					return ErrIntOverflowPipeline
+				}
+				if iNdEx >= l {
+					return io.ErrUnexpectedEOF
+				}
+				b := dAtA[iNdEx]
+				iNdEx++
+				stringLen |= uint64(b&0x7F) << shift
+				if b < 0x80 {
+					break
+				}
+			}
+			intStringLen := int(stringLen)
+			if intStringLen < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			postIndex := iNdEx + intStringLen
+			if postIndex < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			if postIndex > l {
+				return io.ErrUnexpectedEOF
+			}
+			m.Namespace = string(dAtA[iNdEx:postIndex])
+			iNdEx = postIndex
+		case 2:
+			if wireType != 2 {
+				return fmt.Errorf("proto: wrong wireType = %d for field Name", wireType)
+			}
+			var stringLen uint64
+			for shift := uint(0); ; shift += 7 {
+				if shift >= 64 {
+					return ErrIntOverflowPipeline
+				}
+				if iNdEx >= l {
+					return io.ErrUnexpectedEOF
+				}
+				b := dAtA[iNdEx]
+				iNdEx++
+				stringLen |= uint64(b&0x7F) << shift
+				if b < 0x80 {
+					break
+				}
+			}
+			intStringLen := int(stringLen)
+			if intStringLen < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			postIndex := iNdEx + intStringLen
+			if postIndex < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			if postIndex > l {
+				return io.ErrUnexpectedEOF
+			}
+			m.Name = string(dAtA[iNdEx:postIndex])
+			iNdEx = postIndex
+		case 3:
+			if wireType != 2 {
+				return fmt.Errorf("proto: wrong wireType = %d for field StepName", wireType)
+			}
+			var stringLen uint64
+			for shift := uint(0); ; shift += 7 {
+				if shift >= 64 {
+					return ErrIntOverflowPipeline
+				}
+				if iNdEx >= l {
+					return io.ErrUnexpectedEOF
+				}
+				b := dAtA[iNdEx]
+				iNdEx++
+				stringLen |= uint64(b&0x7F) << shift
+				if b < 0x80 {
+					break
+				}
+			}
+			intStringLen := int(stringLen)
+			if intStringLen < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			postIndex := iNdEx + intStringLen
+			if postIndex < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			if postIndex > l {
+				return io.ErrUnexpectedEOF
+			}
+			m.StepName = string(dAtA[iNdEx:postIndex])
+			iNdEx = postIndex
+		case 4:
+			if wireType != 2 {
+				return fmt.Errorf("proto: wrong wireType = %d for field Grep", wireType)
+			}
+			var stringLen uint64
+			for shift := uint(0); ; shift += 7 {
+				if shift >= 64 {
+					return ErrIntOverflowPipeline
+				}
+				if iNdEx >= l {
+					return io.ErrUnexpectedEOF
+				}
+				b := dAtA[iNdEx]
+				iNdEx++
+				stringLen |= uint64(b&0x7F) << shift
+				if b < 0x80 {
+					break
+				}
+			}
+			intStringLen := int(stringLen)
+			if intStringLen < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			postIndex := iNdEx + intStringLen
+			if postIndex < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			if postIndex > l {
+				return io.ErrUnexpectedEOF
+			}
+			m.Grep = string(dAtA[iNdEx:postIndex])
+			iNdEx = postIndex
+		case 5:
+			if wireType != 2 {
+				return fmt.Errorf("proto: wrong wireType = %d for field PodLogOptions", wireType)
+			}
+			var msglen int
+			for shift := uint(0); ; shift += 7 {
+				if shift >= 64 {
+					return ErrIntOverflowPipeline
+				}
+				if iNdEx >= l {
+					return io.ErrUnexpectedEOF
+				}
+				b := dAtA[iNdEx]
+				iNdEx++
+				msglen |= int(b&0x7F) << shift
+				if b < 0x80 {
+					break
+				}
+			}
+			if msglen < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			postIndex := iNdEx + msglen
+			if postIndex < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			if postIndex > l {
+				return io.ErrUnexpectedEOF
+			}
+			if m.PodLogOptions == nil {
+				m.PodLogOptions = &v11.PodLogOptions{}
+			}
+			if err := m.PodLogOptions.Unmarshal(dAtA[iNdEx:postIndex]); err != nil {
+				return err
+			}
+			iNdEx = postIndex
+		default:
+			iNdEx = preIndex
+			skippy, err := skipPipeline(dAtA[iNdEx:])
+			if err != nil {
+				return err
+			}
+			if (skippy < 0) || (iNdEx+skippy) < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			if (iNdEx + skippy) > l {
+				return io.ErrUnexpectedEOF
+			}
+			m.XXX_unrecognized = append(m.XXX_unrecognized, dAtA[iNdEx:iNdEx+skippy]...)
+			iNdEx += skippy
+		}
+	}
+
+	if iNdEx > l {
+		return io.ErrUnexpectedEOF
+	}
+	return nil
+}
+func (m *LogEntry) Unmarshal(dAtA []byte) error {
+	l := len(dAtA)
+	iNdEx := 0
+	for iNdEx < l {
+		preIndex := iNdEx
+		var wire uint64
+		for shift := uint(0); ; shift += 7 {
+			if shift >= 64 {
+				return ErrIntOverflowPipeline
+			}
+			if iNdEx >= l {
+				return io.ErrUnexpectedEOF
+			}
+			b := dAtA[iNdEx]
+			iNdEx++
+			wire |= uint64(b&0x7F) << shift
+			if b < 0x80 {
+				break
+			}
+		}
+		fieldNum := int32(wire >> 3)
+		wireType := int(wire & 0x7)
+		if wireType == 4 {
+			return fmt.Errorf("proto: LogEntry: wiretype end group for non-group")
+		}
+		if fieldNum <= 0 {
+			return fmt.Errorf("proto: LogEntry: illegal tag %d (wire type %d)", fieldNum, wire)
+		}
+		switch fieldNum {
+		case 1:
+			if wireType != 2 {
+				return fmt.Errorf("proto: wrong wireType = %d for field Namespace", wireType)
+			}
+			var stringLen uint64
+			for shift := uint(0); ; shift += 7 {
+				if shift >= 64 {
+					return ErrIntOverflowPipeline
+				}
+				if iNdEx >= l {
+					return io.ErrUnexpectedEOF
+				}
+				b := dAtA[iNdEx]
+				iNdEx++
+				stringLen |= uint64(b&0x7F) << shift
+				if b < 0x80 {
+					break
+				}
+			}
+			intStringLen := int(stringLen)
+			if intStringLen < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			postIndex := iNdEx + intStringLen
+			if postIndex < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			if postIndex > l {
+				return io.ErrUnexpectedEOF
+			}
+			m.Namespace = string(dAtA[iNdEx:postIndex])
+			iNdEx = postIndex
+		case 2:
+			if wireType != 2 {
+				return fmt.Errorf("proto: wrong wireType = %d for field PipelineName", wireType)
+			}
+			var stringLen uint64
+			for shift := uint(0); ; shift += 7 {
+				if shift >= 64 {
+					return ErrIntOverflowPipeline
+				}
+				if iNdEx >= l {
+					return io.ErrUnexpectedEOF
+				}
+				b := dAtA[iNdEx]
+				iNdEx++
+				stringLen |= uint64(b&0x7F) << shift
+				if b < 0x80 {
+					break
+				}
+			}
+			intStringLen := int(stringLen)
+			if intStringLen < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			postIndex := iNdEx + intStringLen
+			if postIndex < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			if postIndex > l {
+				return io.ErrUnexpectedEOF
+			}
+			m.PipelineName = string(dAtA[iNdEx:postIndex])
+			iNdEx = postIndex
+		case 3:
+			if wireType != 2 {
+				return fmt.Errorf("proto: wrong wireType = %d for field StepName", wireType)
+			}
+			var stringLen uint64
+			for shift := uint(0); ; shift += 7 {
+				if shift >= 64 {
+					return ErrIntOverflowPipeline
+				}
+				if iNdEx >= l {
+					return io.ErrUnexpectedEOF
+				}
+				b := dAtA[iNdEx]
+				iNdEx++
+				stringLen |= uint64(b&0x7F) << shift
+				if b < 0x80 {
+					break
+				}
+			}
+			intStringLen := int(stringLen)
+			if intStringLen < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			postIndex := iNdEx + intStringLen
+			if postIndex < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			if postIndex > l {
+				return io.ErrUnexpectedEOF
+			}
+			m.StepName = string(dAtA[iNdEx:postIndex])
+			iNdEx = postIndex
+		case 6:
+			if wireType != 2 {
+				return fmt.Errorf("proto: wrong wireType = %d for field Time", wireType)
+			}
+			var msglen int
+			for shift := uint(0); ; shift += 7 {
+				if shift >= 64 {
+					return ErrIntOverflowPipeline
+				}
+				if iNdEx >= l {
+					return io.ErrUnexpectedEOF
+				}
+				b := dAtA[iNdEx]
+				iNdEx++
+				msglen |= int(b&0x7F) << shift
+				if b < 0x80 {
+					break
+				}
+			}
+			if msglen < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			postIndex := iNdEx + msglen
+			if postIndex < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			if postIndex > l {
+				return io.ErrUnexpectedEOF
+			}
+			if m.Time == nil {
+				m.Time = &v1.Time{}
+			}
+			if err := m.Time.Unmarshal(dAtA[iNdEx:postIndex]); err != nil {
+				return err
+			}
+			iNdEx = postIndex
+		case 7:
+			if wireType != 2 {
+				return fmt.Errorf("proto: wrong wireType = %d for field Msg", wireType)
+			}
+			var stringLen uint64
+			for shift := uint(0); ; shift += 7 {
+				if shift >= 64 {
+					return ErrIntOverflowPipeline
+				}
+				if iNdEx >= l {
+					return io.ErrUnexpectedEOF
+				}
+				b := dAtA[iNdEx]
+				iNdEx++
+				stringLen |= uint64(b&0x7F) << shift
+				if b < 0x80 {
+					break
+				}
+			}
+			intStringLen := int(stringLen)
+			if intStringLen < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			postIndex := iNdEx + intStringLen
+			if postIndex < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			if postIndex > l {
+				return io.ErrUnexpectedEOF
+			}
+			m.Msg = string(dAtA[iNdEx:postIndex])
+			iNdEx = postIndex
+		default:
+			iNdEx = preIndex
+			skippy, err := skipPipeline(dAtA[iNdEx:])
+			if err != nil {
+				return err
+			}
+			if (skippy < 0) || (iNdEx+skippy) < 0 {
+				return ErrInvalidLengthPipeline
+			}
+			if (iNdEx + skippy) > l {
+				return io.ErrUnexpectedEOF
+			}
+			m.XXX_unrecognized = append(m.XXX_unrecognized, dAtA[iNdEx:iNdEx+skippy]...)
+			iNdEx += skippy
+		}
+	}
+
+	if iNdEx > l {
+		return io.ErrUnexpectedEOF
+	}
+	return nil
+}
+func skipPipeline(dAtA []byte) (n int, err error) {
+	l := len(dAtA)
+	iNdEx := 0
+	depth := 0
+	for iNdEx < l {
+		var wire uint64
+		for shift := uint(0); ; shift += 7 {
+			if shift >= 64 {
+				return 0, ErrIntOverflowPipeline
+			}
+			if iNdEx >= l {
+				return 0, io.ErrUnexpectedEOF
+			}
+			b := dAtA[iNdEx]
+			iNdEx++
+			wire |= (uint64(b) & 0x7F) << shift
+			if b < 0x80 {
+				break
+			}
+		}
+		wireType := int(wire & 0x7)
+		switch wireType {
+		case 0:
+			for shift := uint(0); ; shift += 7 {
+				if shift >= 64 {
+					return 0, ErrIntOverflowPipeline
+				}
+				if iNdEx >= l {
+					return 0, io.ErrUnexpectedEOF
+				}
+				iNdEx++
+				if dAtA[iNdEx-1] < 0x80 {
+					break
+				}
+			}
+		case 1:
+			iNdEx += 8
+		case 2:
+			var length int
+			for shift := uint(0); ; shift += 7 {
+				if shift >= 64 {
+					return 0, ErrIntOverflowPipeline
+				}
+				if iNdEx >= l {
+					return 0, io.ErrUnexpectedEOF
+				}
+				b := dAtA[iNdEx]
+				iNdEx++
+				length |= (int(b) & 0x7F) << shift
+				if b < 0x80 {
+					break
+				}
+			}
+			if length < 0 {
+				return 0, ErrInvalidLengthPipeline
+			}
+			iNdEx += length
+		case 3:
+			depth++
+		case 4:
+			if depth == 0 {
+				return 0, ErrUnexpectedEndOfGroupPipeline
+			}
+			depth--
+		case 5:
+			iNdEx += 4
+		default:
+			return 0, fmt.Errorf("proto: illegal wireType %d", wireType)
+		}
+		if iNdEx < 0 {
+			return 0, ErrInvalidLengthPipeline
+		}
+		if depth == 0 {
+			return iNdEx, nil
+		}
+	}
+	return 0, io.ErrUnexpectedEOF
+}
+
+var (
+	ErrInvalidLengthPipeline        = fmt.Errorf("proto: negative length found during unmarshaling")
+	ErrIntOverflowPipeline          = fmt.Errorf("proto: integer overflow")
+	ErrUnexpectedEndOfGroupPipeline = fmt.Errorf("proto: unexpected end of group")
+)
diff --git a/pkg/apiclient/pipeline/pipeline.pb.gw.go b/pkg/apiclient/pipeline/pipeline.pb.gw.go
new file mode 100644
index 000000000000..d759ffa6b373
--- /dev/null
+++ b/pkg/apiclient/pipeline/pipeline.pb.gw.go
@@ -0,0 +1,843 @@
+// Code generated by protoc-gen-grpc-gateway. DO NOT EDIT.
+// source: pkg/apiclient/pipeline/pipeline.proto
+
+/*
+Package pipeline is a reverse proxy.
+
+It translates gRPC into RESTful JSON APIs.
+*/
+package pipeline
+
+import (
+	"context"
+	"io"
+	"net/http"
+
+	"github.com/golang/protobuf/descriptor"
+	"github.com/golang/protobuf/proto"
+	"github.com/grpc-ecosystem/grpc-gateway/runtime"
+	"github.com/grpc-ecosystem/grpc-gateway/utilities"
+	"google.golang.org/grpc"
+	"google.golang.org/grpc/codes"
+	"google.golang.org/grpc/grpclog"
+	"google.golang.org/grpc/metadata"
+	"google.golang.org/grpc/status"
+)
+
+// Suppress "imported and not used" errors
+var _ codes.Code
+var _ io.Reader
+var _ status.Status
+var _ = runtime.String
+var _ = utilities.NewDoubleArray
+var _ = descriptor.ForMessage
+var _ = metadata.Join
+
+var (
+	filter_PipelineService_ListPipelines_0 = &utilities.DoubleArray{Encoding: map[string]int{"namespace": 0}, Base: []int{1, 1, 0}, Check: []int{0, 1, 2}}
+)
+
+func request_PipelineService_ListPipelines_0(ctx context.Context, marshaler runtime.Marshaler, client PipelineServiceClient, req *http.Request, pathParams map[string]string) (proto.Message, runtime.ServerMetadata, error) {
+	var protoReq ListPipelinesRequest
+	var metadata runtime.ServerMetadata
+
+	var (
+		val string
+		ok  bool
+		err error
+		_   = err
+	)
+
+	val, ok = pathParams["namespace"]
+	if !ok {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "missing parameter %s", "namespace")
+	}
+
+	protoReq.Namespace, err = runtime.String(val)
+
+	if err != nil {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "type mismatch, parameter: %s, error: %v", "namespace", err)
+	}
+
+	if err := req.ParseForm(); err != nil {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "%v", err)
+	}
+	if err := runtime.PopulateQueryParameters(&protoReq, req.Form, filter_PipelineService_ListPipelines_0); err != nil {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "%v", err)
+	}
+
+	msg, err := client.ListPipelines(ctx, &protoReq, grpc.Header(&metadata.HeaderMD), grpc.Trailer(&metadata.TrailerMD))
+	return msg, metadata, err
+
+}
+
+func local_request_PipelineService_ListPipelines_0(ctx context.Context, marshaler runtime.Marshaler, server PipelineServiceServer, req *http.Request, pathParams map[string]string) (proto.Message, runtime.ServerMetadata, error) {
+	var protoReq ListPipelinesRequest
+	var metadata runtime.ServerMetadata
+
+	var (
+		val string
+		ok  bool
+		err error
+		_   = err
+	)
+
+	val, ok = pathParams["namespace"]
+	if !ok {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "missing parameter %s", "namespace")
+	}
+
+	protoReq.Namespace, err = runtime.String(val)
+
+	if err != nil {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "type mismatch, parameter: %s, error: %v", "namespace", err)
+	}
+
+	if err := req.ParseForm(); err != nil {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "%v", err)
+	}
+	if err := runtime.PopulateQueryParameters(&protoReq, req.Form, filter_PipelineService_ListPipelines_0); err != nil {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "%v", err)
+	}
+
+	msg, err := server.ListPipelines(ctx, &protoReq)
+	return msg, metadata, err
+
+}
+
+var (
+	filter_PipelineService_WatchPipelines_0 = &utilities.DoubleArray{Encoding: map[string]int{"namespace": 0}, Base: []int{1, 1, 0}, Check: []int{0, 1, 2}}
+)
+
+func request_PipelineService_WatchPipelines_0(ctx context.Context, marshaler runtime.Marshaler, client PipelineServiceClient, req *http.Request, pathParams map[string]string) (PipelineService_WatchPipelinesClient, runtime.ServerMetadata, error) {
+	var protoReq ListPipelinesRequest
+	var metadata runtime.ServerMetadata
+
+	var (
+		val string
+		ok  bool
+		err error
+		_   = err
+	)
+
+	val, ok = pathParams["namespace"]
+	if !ok {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "missing parameter %s", "namespace")
+	}
+
+	protoReq.Namespace, err = runtime.String(val)
+
+	if err != nil {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "type mismatch, parameter: %s, error: %v", "namespace", err)
+	}
+
+	if err := req.ParseForm(); err != nil {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "%v", err)
+	}
+	if err := runtime.PopulateQueryParameters(&protoReq, req.Form, filter_PipelineService_WatchPipelines_0); err != nil {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "%v", err)
+	}
+
+	stream, err := client.WatchPipelines(ctx, &protoReq)
+	if err != nil {
+		return nil, metadata, err
+	}
+	header, err := stream.Header()
+	if err != nil {
+		return nil, metadata, err
+	}
+	metadata.HeaderMD = header
+	return stream, metadata, nil
+
+}
+
+var (
+	filter_PipelineService_GetPipeline_0 = &utilities.DoubleArray{Encoding: map[string]int{"namespace": 0, "name": 1}, Base: []int{1, 1, 2, 0, 0}, Check: []int{0, 1, 1, 2, 3}}
+)
+
+func request_PipelineService_GetPipeline_0(ctx context.Context, marshaler runtime.Marshaler, client PipelineServiceClient, req *http.Request, pathParams map[string]string) (proto.Message, runtime.ServerMetadata, error) {
+	var protoReq GetPipelineRequest
+	var metadata runtime.ServerMetadata
+
+	var (
+		val string
+		ok  bool
+		err error
+		_   = err
+	)
+
+	val, ok = pathParams["namespace"]
+	if !ok {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "missing parameter %s", "namespace")
+	}
+
+	protoReq.Namespace, err = runtime.String(val)
+
+	if err != nil {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "type mismatch, parameter: %s, error: %v", "namespace", err)
+	}
+
+	val, ok = pathParams["name"]
+	if !ok {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "missing parameter %s", "name")
+	}
+
+	protoReq.Name, err = runtime.String(val)
+
+	if err != nil {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "type mismatch, parameter: %s, error: %v", "name", err)
+	}
+
+	if err := req.ParseForm(); err != nil {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "%v", err)
+	}
+	if err := runtime.PopulateQueryParameters(&protoReq, req.Form, filter_PipelineService_GetPipeline_0); err != nil {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "%v", err)
+	}
+
+	msg, err := client.GetPipeline(ctx, &protoReq, grpc.Header(&metadata.HeaderMD), grpc.Trailer(&metadata.TrailerMD))
+	return msg, metadata, err
+
+}
+
+func local_request_PipelineService_GetPipeline_0(ctx context.Context, marshaler runtime.Marshaler, server PipelineServiceServer, req *http.Request, pathParams map[string]string) (proto.Message, runtime.ServerMetadata, error) {
+	var protoReq GetPipelineRequest
+	var metadata runtime.ServerMetadata
+
+	var (
+		val string
+		ok  bool
+		err error
+		_   = err
+	)
+
+	val, ok = pathParams["namespace"]
+	if !ok {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "missing parameter %s", "namespace")
+	}
+
+	protoReq.Namespace, err = runtime.String(val)
+
+	if err != nil {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "type mismatch, parameter: %s, error: %v", "namespace", err)
+	}
+
+	val, ok = pathParams["name"]
+	if !ok {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "missing parameter %s", "name")
+	}
+
+	protoReq.Name, err = runtime.String(val)
+
+	if err != nil {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "type mismatch, parameter: %s, error: %v", "name", err)
+	}
+
+	if err := req.ParseForm(); err != nil {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "%v", err)
+	}
+	if err := runtime.PopulateQueryParameters(&protoReq, req.Form, filter_PipelineService_GetPipeline_0); err != nil {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "%v", err)
+	}
+
+	msg, err := server.GetPipeline(ctx, &protoReq)
+	return msg, metadata, err
+
+}
+
+func request_PipelineService_RestartPipeline_0(ctx context.Context, marshaler runtime.Marshaler, client PipelineServiceClient, req *http.Request, pathParams map[string]string) (proto.Message, runtime.ServerMetadata, error) {
+	var protoReq RestartPipelineRequest
+	var metadata runtime.ServerMetadata
+
+	var (
+		val string
+		ok  bool
+		err error
+		_   = err
+	)
+
+	val, ok = pathParams["namespace"]
+	if !ok {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "missing parameter %s", "namespace")
+	}
+
+	protoReq.Namespace, err = runtime.String(val)
+
+	if err != nil {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "type mismatch, parameter: %s, error: %v", "namespace", err)
+	}
+
+	val, ok = pathParams["name"]
+	if !ok {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "missing parameter %s", "name")
+	}
+
+	protoReq.Name, err = runtime.String(val)
+
+	if err != nil {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "type mismatch, parameter: %s, error: %v", "name", err)
+	}
+
+	msg, err := client.RestartPipeline(ctx, &protoReq, grpc.Header(&metadata.HeaderMD), grpc.Trailer(&metadata.TrailerMD))
+	return msg, metadata, err
+
+}
+
+func local_request_PipelineService_RestartPipeline_0(ctx context.Context, marshaler runtime.Marshaler, server PipelineServiceServer, req *http.Request, pathParams map[string]string) (proto.Message, runtime.ServerMetadata, error) {
+	var protoReq RestartPipelineRequest
+	var metadata runtime.ServerMetadata
+
+	var (
+		val string
+		ok  bool
+		err error
+		_   = err
+	)
+
+	val, ok = pathParams["namespace"]
+	if !ok {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "missing parameter %s", "namespace")
+	}
+
+	protoReq.Namespace, err = runtime.String(val)
+
+	if err != nil {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "type mismatch, parameter: %s, error: %v", "namespace", err)
+	}
+
+	val, ok = pathParams["name"]
+	if !ok {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "missing parameter %s", "name")
+	}
+
+	protoReq.Name, err = runtime.String(val)
+
+	if err != nil {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "type mismatch, parameter: %s, error: %v", "name", err)
+	}
+
+	msg, err := server.RestartPipeline(ctx, &protoReq)
+	return msg, metadata, err
+
+}
+
+var (
+	filter_PipelineService_DeletePipeline_0 = &utilities.DoubleArray{Encoding: map[string]int{"namespace": 0, "name": 1}, Base: []int{1, 1, 2, 0, 0}, Check: []int{0, 1, 1, 2, 3}}
+)
+
+func request_PipelineService_DeletePipeline_0(ctx context.Context, marshaler runtime.Marshaler, client PipelineServiceClient, req *http.Request, pathParams map[string]string) (proto.Message, runtime.ServerMetadata, error) {
+	var protoReq DeletePipelineRequest
+	var metadata runtime.ServerMetadata
+
+	var (
+		val string
+		ok  bool
+		err error
+		_   = err
+	)
+
+	val, ok = pathParams["namespace"]
+	if !ok {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "missing parameter %s", "namespace")
+	}
+
+	protoReq.Namespace, err = runtime.String(val)
+
+	if err != nil {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "type mismatch, parameter: %s, error: %v", "namespace", err)
+	}
+
+	val, ok = pathParams["name"]
+	if !ok {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "missing parameter %s", "name")
+	}
+
+	protoReq.Name, err = runtime.String(val)
+
+	if err != nil {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "type mismatch, parameter: %s, error: %v", "name", err)
+	}
+
+	if err := req.ParseForm(); err != nil {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "%v", err)
+	}
+	if err := runtime.PopulateQueryParameters(&protoReq, req.Form, filter_PipelineService_DeletePipeline_0); err != nil {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "%v", err)
+	}
+
+	msg, err := client.DeletePipeline(ctx, &protoReq, grpc.Header(&metadata.HeaderMD), grpc.Trailer(&metadata.TrailerMD))
+	return msg, metadata, err
+
+}
+
+func local_request_PipelineService_DeletePipeline_0(ctx context.Context, marshaler runtime.Marshaler, server PipelineServiceServer, req *http.Request, pathParams map[string]string) (proto.Message, runtime.ServerMetadata, error) {
+	var protoReq DeletePipelineRequest
+	var metadata runtime.ServerMetadata
+
+	var (
+		val string
+		ok  bool
+		err error
+		_   = err
+	)
+
+	val, ok = pathParams["namespace"]
+	if !ok {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "missing parameter %s", "namespace")
+	}
+
+	protoReq.Namespace, err = runtime.String(val)
+
+	if err != nil {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "type mismatch, parameter: %s, error: %v", "namespace", err)
+	}
+
+	val, ok = pathParams["name"]
+	if !ok {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "missing parameter %s", "name")
+	}
+
+	protoReq.Name, err = runtime.String(val)
+
+	if err != nil {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "type mismatch, parameter: %s, error: %v", "name", err)
+	}
+
+	if err := req.ParseForm(); err != nil {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "%v", err)
+	}
+	if err := runtime.PopulateQueryParameters(&protoReq, req.Form, filter_PipelineService_DeletePipeline_0); err != nil {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "%v", err)
+	}
+
+	msg, err := server.DeletePipeline(ctx, &protoReq)
+	return msg, metadata, err
+
+}
+
+var (
+	filter_PipelineService_PipelineLogs_0 = &utilities.DoubleArray{Encoding: map[string]int{"namespace": 0}, Base: []int{1, 1, 0}, Check: []int{0, 1, 2}}
+)
+
+func request_PipelineService_PipelineLogs_0(ctx context.Context, marshaler runtime.Marshaler, client PipelineServiceClient, req *http.Request, pathParams map[string]string) (PipelineService_PipelineLogsClient, runtime.ServerMetadata, error) {
+	var protoReq PipelineLogsRequest
+	var metadata runtime.ServerMetadata
+
+	var (
+		val string
+		ok  bool
+		err error
+		_   = err
+	)
+
+	val, ok = pathParams["namespace"]
+	if !ok {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "missing parameter %s", "namespace")
+	}
+
+	protoReq.Namespace, err = runtime.String(val)
+
+	if err != nil {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "type mismatch, parameter: %s, error: %v", "namespace", err)
+	}
+
+	if err := req.ParseForm(); err != nil {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "%v", err)
+	}
+	if err := runtime.PopulateQueryParameters(&protoReq, req.Form, filter_PipelineService_PipelineLogs_0); err != nil {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "%v", err)
+	}
+
+	stream, err := client.PipelineLogs(ctx, &protoReq)
+	if err != nil {
+		return nil, metadata, err
+	}
+	header, err := stream.Header()
+	if err != nil {
+		return nil, metadata, err
+	}
+	metadata.HeaderMD = header
+	return stream, metadata, nil
+
+}
+
+var (
+	filter_PipelineService_WatchSteps_0 = &utilities.DoubleArray{Encoding: map[string]int{"namespace": 0}, Base: []int{1, 1, 0}, Check: []int{0, 1, 2}}
+)
+
+func request_PipelineService_WatchSteps_0(ctx context.Context, marshaler runtime.Marshaler, client PipelineServiceClient, req *http.Request, pathParams map[string]string) (PipelineService_WatchStepsClient, runtime.ServerMetadata, error) {
+	var protoReq WatchStepRequest
+	var metadata runtime.ServerMetadata
+
+	var (
+		val string
+		ok  bool
+		err error
+		_   = err
+	)
+
+	val, ok = pathParams["namespace"]
+	if !ok {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "missing parameter %s", "namespace")
+	}
+
+	protoReq.Namespace, err = runtime.String(val)
+
+	if err != nil {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "type mismatch, parameter: %s, error: %v", "namespace", err)
+	}
+
+	if err := req.ParseForm(); err != nil {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "%v", err)
+	}
+	if err := runtime.PopulateQueryParameters(&protoReq, req.Form, filter_PipelineService_WatchSteps_0); err != nil {
+		return nil, metadata, status.Errorf(codes.InvalidArgument, "%v", err)
+	}
+
+	stream, err := client.WatchSteps(ctx, &protoReq)
+	if err != nil {
+		return nil, metadata, err
+	}
+	header, err := stream.Header()
+	if err != nil {
+		return nil, metadata, err
+	}
+	metadata.HeaderMD = header
+	return stream, metadata, nil
+
+}
+
+// RegisterPipelineServiceHandlerServer registers the http handlers for service PipelineService to "mux".
+// UnaryRPC     :call PipelineServiceServer directly.
+// StreamingRPC :currently unsupported pending https://github.com/grpc/grpc-go/issues/906.
+// Note that using this registration option will cause many gRPC library features to stop working. Consider using RegisterPipelineServiceHandlerFromEndpoint instead.
+func RegisterPipelineServiceHandlerServer(ctx context.Context, mux *runtime.ServeMux, server PipelineServiceServer) error {
+
+	mux.Handle("GET", pattern_PipelineService_ListPipelines_0, func(w http.ResponseWriter, req *http.Request, pathParams map[string]string) {
+		ctx, cancel := context.WithCancel(req.Context())
+		defer cancel()
+		var stream runtime.ServerTransportStream
+		ctx = grpc.NewContextWithServerTransportStream(ctx, &stream)
+		inboundMarshaler, outboundMarshaler := runtime.MarshalerForRequest(mux, req)
+		rctx, err := runtime.AnnotateIncomingContext(ctx, mux, req)
+		if err != nil {
+			runtime.HTTPError(ctx, mux, outboundMarshaler, w, req, err)
+			return
+		}
+		resp, md, err := local_request_PipelineService_ListPipelines_0(rctx, inboundMarshaler, server, req, pathParams)
+		md.HeaderMD, md.TrailerMD = metadata.Join(md.HeaderMD, stream.Header()), metadata.Join(md.TrailerMD, stream.Trailer())
+		ctx = runtime.NewServerMetadataContext(ctx, md)
+		if err != nil {
+			runtime.HTTPError(ctx, mux, outboundMarshaler, w, req, err)
+			return
+		}
+
+		forward_PipelineService_ListPipelines_0(ctx, mux, outboundMarshaler, w, req, resp, mux.GetForwardResponseOptions()...)
+
+	})
+
+	mux.Handle("GET", pattern_PipelineService_WatchPipelines_0, func(w http.ResponseWriter, req *http.Request, pathParams map[string]string) {
+		err := status.Error(codes.Unimplemented, "streaming calls are not yet supported in the in-process transport")
+		_, outboundMarshaler := runtime.MarshalerForRequest(mux, req)
+		runtime.HTTPError(ctx, mux, outboundMarshaler, w, req, err)
+		return
+	})
+
+	mux.Handle("GET", pattern_PipelineService_GetPipeline_0, func(w http.ResponseWriter, req *http.Request, pathParams map[string]string) {
+		ctx, cancel := context.WithCancel(req.Context())
+		defer cancel()
+		var stream runtime.ServerTransportStream
+		ctx = grpc.NewContextWithServerTransportStream(ctx, &stream)
+		inboundMarshaler, outboundMarshaler := runtime.MarshalerForRequest(mux, req)
+		rctx, err := runtime.AnnotateIncomingContext(ctx, mux, req)
+		if err != nil {
+			runtime.HTTPError(ctx, mux, outboundMarshaler, w, req, err)
+			return
+		}
+		resp, md, err := local_request_PipelineService_GetPipeline_0(rctx, inboundMarshaler, server, req, pathParams)
+		md.HeaderMD, md.TrailerMD = metadata.Join(md.HeaderMD, stream.Header()), metadata.Join(md.TrailerMD, stream.Trailer())
+		ctx = runtime.NewServerMetadataContext(ctx, md)
+		if err != nil {
+			runtime.HTTPError(ctx, mux, outboundMarshaler, w, req, err)
+			return
+		}
+
+		forward_PipelineService_GetPipeline_0(ctx, mux, outboundMarshaler, w, req, resp, mux.GetForwardResponseOptions()...)
+
+	})
+
+	mux.Handle("POST", pattern_PipelineService_RestartPipeline_0, func(w http.ResponseWriter, req *http.Request, pathParams map[string]string) {
+		ctx, cancel := context.WithCancel(req.Context())
+		defer cancel()
+		var stream runtime.ServerTransportStream
+		ctx = grpc.NewContextWithServerTransportStream(ctx, &stream)
+		inboundMarshaler, outboundMarshaler := runtime.MarshalerForRequest(mux, req)
+		rctx, err := runtime.AnnotateIncomingContext(ctx, mux, req)
+		if err != nil {
+			runtime.HTTPError(ctx, mux, outboundMarshaler, w, req, err)
+			return
+		}
+		resp, md, err := local_request_PipelineService_RestartPipeline_0(rctx, inboundMarshaler, server, req, pathParams)
+		md.HeaderMD, md.TrailerMD = metadata.Join(md.HeaderMD, stream.Header()), metadata.Join(md.TrailerMD, stream.Trailer())
+		ctx = runtime.NewServerMetadataContext(ctx, md)
+		if err != nil {
+			runtime.HTTPError(ctx, mux, outboundMarshaler, w, req, err)
+			return
+		}
+
+		forward_PipelineService_RestartPipeline_0(ctx, mux, outboundMarshaler, w, req, resp, mux.GetForwardResponseOptions()...)
+
+	})
+
+	mux.Handle("DELETE", pattern_PipelineService_DeletePipeline_0, func(w http.ResponseWriter, req *http.Request, pathParams map[string]string) {
+		ctx, cancel := context.WithCancel(req.Context())
+		defer cancel()
+		var stream runtime.ServerTransportStream
+		ctx = grpc.NewContextWithServerTransportStream(ctx, &stream)
+		inboundMarshaler, outboundMarshaler := runtime.MarshalerForRequest(mux, req)
+		rctx, err := runtime.AnnotateIncomingContext(ctx, mux, req)
+		if err != nil {
+			runtime.HTTPError(ctx, mux, outboundMarshaler, w, req, err)
+			return
+		}
+		resp, md, err := local_request_PipelineService_DeletePipeline_0(rctx, inboundMarshaler, server, req, pathParams)
+		md.HeaderMD, md.TrailerMD = metadata.Join(md.HeaderMD, stream.Header()), metadata.Join(md.TrailerMD, stream.Trailer())
+		ctx = runtime.NewServerMetadataContext(ctx, md)
+		if err != nil {
+			runtime.HTTPError(ctx, mux, outboundMarshaler, w, req, err)
+			return
+		}
+
+		forward_PipelineService_DeletePipeline_0(ctx, mux, outboundMarshaler, w, req, resp, mux.GetForwardResponseOptions()...)
+
+	})
+
+	mux.Handle("GET", pattern_PipelineService_PipelineLogs_0, func(w http.ResponseWriter, req *http.Request, pathParams map[string]string) {
+		err := status.Error(codes.Unimplemented, "streaming calls are not yet supported in the in-process transport")
+		_, outboundMarshaler := runtime.MarshalerForRequest(mux, req)
+		runtime.HTTPError(ctx, mux, outboundMarshaler, w, req, err)
+		return
+	})
+
+	mux.Handle("GET", pattern_PipelineService_WatchSteps_0, func(w http.ResponseWriter, req *http.Request, pathParams map[string]string) {
+		err := status.Error(codes.Unimplemented, "streaming calls are not yet supported in the in-process transport")
+		_, outboundMarshaler := runtime.MarshalerForRequest(mux, req)
+		runtime.HTTPError(ctx, mux, outboundMarshaler, w, req, err)
+		return
+	})
+
+	return nil
+}
+
+// RegisterPipelineServiceHandlerFromEndpoint is same as RegisterPipelineServiceHandler but
+// automatically dials to "endpoint" and closes the connection when "ctx" gets done.
+func RegisterPipelineServiceHandlerFromEndpoint(ctx context.Context, mux *runtime.ServeMux, endpoint string, opts []grpc.DialOption) (err error) {
+	conn, err := grpc.Dial(endpoint, opts...)
+	if err != nil {
+		return err
+	}
+	defer func() {
+		if err != nil {
+			if cerr := conn.Close(); cerr != nil {
+				grpclog.Infof("Failed to close conn to %s: %v", endpoint, cerr)
+			}
+			return
+		}
+		go func() {
+			<-ctx.Done()
+			if cerr := conn.Close(); cerr != nil {
+				grpclog.Infof("Failed to close conn to %s: %v", endpoint, cerr)
+			}
+		}()
+	}()
+
+	return RegisterPipelineServiceHandler(ctx, mux, conn)
+}
+
+// RegisterPipelineServiceHandler registers the http handlers for service PipelineService to "mux".
+// The handlers forward requests to the grpc endpoint over "conn".
+func RegisterPipelineServiceHandler(ctx context.Context, mux *runtime.ServeMux, conn *grpc.ClientConn) error {
+	return RegisterPipelineServiceHandlerClient(ctx, mux, NewPipelineServiceClient(conn))
+}
+
+// RegisterPipelineServiceHandlerClient registers the http handlers for service PipelineService
+// to "mux". The handlers forward requests to the grpc endpoint over the given implementation of "PipelineServiceClient".
+// Note: the gRPC framework executes interceptors within the gRPC handler. If the passed in "PipelineServiceClient"
+// doesn't go through the normal gRPC flow (creating a gRPC client etc.) then it will be up to the passed in
+// "PipelineServiceClient" to call the correct interceptors.
+func RegisterPipelineServiceHandlerClient(ctx context.Context, mux *runtime.ServeMux, client PipelineServiceClient) error {
+
+	mux.Handle("GET", pattern_PipelineService_ListPipelines_0, func(w http.ResponseWriter, req *http.Request, pathParams map[string]string) {
+		ctx, cancel := context.WithCancel(req.Context())
+		defer cancel()
+		inboundMarshaler, outboundMarshaler := runtime.MarshalerForRequest(mux, req)
+		rctx, err := runtime.AnnotateContext(ctx, mux, req)
+		if err != nil {
+			runtime.HTTPError(ctx, mux, outboundMarshaler, w, req, err)
+			return
+		}
+		resp, md, err := request_PipelineService_ListPipelines_0(rctx, inboundMarshaler, client, req, pathParams)
+		ctx = runtime.NewServerMetadataContext(ctx, md)
+		if err != nil {
+			runtime.HTTPError(ctx, mux, outboundMarshaler, w, req, err)
+			return
+		}
+
+		forward_PipelineService_ListPipelines_0(ctx, mux, outboundMarshaler, w, req, resp, mux.GetForwardResponseOptions()...)
+
+	})
+
+	mux.Handle("GET", pattern_PipelineService_WatchPipelines_0, func(w http.ResponseWriter, req *http.Request, pathParams map[string]string) {
+		ctx, cancel := context.WithCancel(req.Context())
+		defer cancel()
+		inboundMarshaler, outboundMarshaler := runtime.MarshalerForRequest(mux, req)
+		rctx, err := runtime.AnnotateContext(ctx, mux, req)
+		if err != nil {
+			runtime.HTTPError(ctx, mux, outboundMarshaler, w, req, err)
+			return
+		}
+		resp, md, err := request_PipelineService_WatchPipelines_0(rctx, inboundMarshaler, client, req, pathParams)
+		ctx = runtime.NewServerMetadataContext(ctx, md)
+		if err != nil {
+			runtime.HTTPError(ctx, mux, outboundMarshaler, w, req, err)
+			return
+		}
+
+		forward_PipelineService_WatchPipelines_0(ctx, mux, outboundMarshaler, w, req, func() (proto.Message, error) { return resp.Recv() }, mux.GetForwardResponseOptions()...)
+
+	})
+
+	mux.Handle("GET", pattern_PipelineService_GetPipeline_0, func(w http.ResponseWriter, req *http.Request, pathParams map[string]string) {
+		ctx, cancel := context.WithCancel(req.Context())
+		defer cancel()
+		inboundMarshaler, outboundMarshaler := runtime.MarshalerForRequest(mux, req)
+		rctx, err := runtime.AnnotateContext(ctx, mux, req)
+		if err != nil {
+			runtime.HTTPError(ctx, mux, outboundMarshaler, w, req, err)
+			return
+		}
+		resp, md, err := request_PipelineService_GetPipeline_0(rctx, inboundMarshaler, client, req, pathParams)
+		ctx = runtime.NewServerMetadataContext(ctx, md)
+		if err != nil {
+			runtime.HTTPError(ctx, mux, outboundMarshaler, w, req, err)
+			return
+		}
+
+		forward_PipelineService_GetPipeline_0(ctx, mux, outboundMarshaler, w, req, resp, mux.GetForwardResponseOptions()...)
+
+	})
+
+	mux.Handle("POST", pattern_PipelineService_RestartPipeline_0, func(w http.ResponseWriter, req *http.Request, pathParams map[string]string) {
+		ctx, cancel := context.WithCancel(req.Context())
+		defer cancel()
+		inboundMarshaler, outboundMarshaler := runtime.MarshalerForRequest(mux, req)
+		rctx, err := runtime.AnnotateContext(ctx, mux, req)
+		if err != nil {
+			runtime.HTTPError(ctx, mux, outboundMarshaler, w, req, err)
+			return
+		}
+		resp, md, err := request_PipelineService_RestartPipeline_0(rctx, inboundMarshaler, client, req, pathParams)
+		ctx = runtime.NewServerMetadataContext(ctx, md)
+		if err != nil {
+			runtime.HTTPError(ctx, mux, outboundMarshaler, w, req, err)
+			return
+		}
+
+		forward_PipelineService_RestartPipeline_0(ctx, mux, outboundMarshaler, w, req, resp, mux.GetForwardResponseOptions()...)
+
+	})
+
+	mux.Handle("DELETE", pattern_PipelineService_DeletePipeline_0, func(w http.ResponseWriter, req *http.Request, pathParams map[string]string) {
+		ctx, cancel := context.WithCancel(req.Context())
+		defer cancel()
+		inboundMarshaler, outboundMarshaler := runtime.MarshalerForRequest(mux, req)
+		rctx, err := runtime.AnnotateContext(ctx, mux, req)
+		if err != nil {
+			runtime.HTTPError(ctx, mux, outboundMarshaler, w, req, err)
+			return
+		}
+		resp, md, err := request_PipelineService_DeletePipeline_0(rctx, inboundMarshaler, client, req, pathParams)
+		ctx = runtime.NewServerMetadataContext(ctx, md)
+		if err != nil {
+			runtime.HTTPError(ctx, mux, outboundMarshaler, w, req, err)
+			return
+		}
+
+		forward_PipelineService_DeletePipeline_0(ctx, mux, outboundMarshaler, w, req, resp, mux.GetForwardResponseOptions()...)
+
+	})
+
+	mux.Handle("GET", pattern_PipelineService_PipelineLogs_0, func(w http.ResponseWriter, req *http.Request, pathParams map[string]string) {
+		ctx, cancel := context.WithCancel(req.Context())
+		defer cancel()
+		inboundMarshaler, outboundMarshaler := runtime.MarshalerForRequest(mux, req)
+		rctx, err := runtime.AnnotateContext(ctx, mux, req)
+		if err != nil {
+			runtime.HTTPError(ctx, mux, outboundMarshaler, w, req, err)
+			return
+		}
+		resp, md, err := request_PipelineService_PipelineLogs_0(rctx, inboundMarshaler, client, req, pathParams)
+		ctx = runtime.NewServerMetadataContext(ctx, md)
+		if err != nil {
+			runtime.HTTPError(ctx, mux, outboundMarshaler, w, req, err)
+			return
+		}
+
+		forward_PipelineService_PipelineLogs_0(ctx, mux, outboundMarshaler, w, req, func() (proto.Message, error) { return resp.Recv() }, mux.GetForwardResponseOptions()...)
+
+	})
+
+	mux.Handle("GET", pattern_PipelineService_WatchSteps_0, func(w http.ResponseWriter, req *http.Request, pathParams map[string]string) {
+		ctx, cancel := context.WithCancel(req.Context())
+		defer cancel()
+		inboundMarshaler, outboundMarshaler := runtime.MarshalerForRequest(mux, req)
+		rctx, err := runtime.AnnotateContext(ctx, mux, req)
+		if err != nil {
+			runtime.HTTPError(ctx, mux, outboundMarshaler, w, req, err)
+			return
+		}
+		resp, md, err := request_PipelineService_WatchSteps_0(rctx, inboundMarshaler, client, req, pathParams)
+		ctx = runtime.NewServerMetadataContext(ctx, md)
+		if err != nil {
+			runtime.HTTPError(ctx, mux, outboundMarshaler, w, req, err)
+			return
+		}
+
+		forward_PipelineService_WatchSteps_0(ctx, mux, outboundMarshaler, w, req, func() (proto.Message, error) { return resp.Recv() }, mux.GetForwardResponseOptions()...)
+
+	})
+
+	return nil
+}
+
+var (
+	pattern_PipelineService_ListPipelines_0 = runtime.MustPattern(runtime.NewPattern(1, []int{2, 0, 2, 1, 2, 2, 1, 0, 4, 1, 5, 3}, []string{"api", "v1", "pipelines", "namespace"}, "", runtime.AssumeColonVerbOpt(true)))
+
+	pattern_PipelineService_WatchPipelines_0 = runtime.MustPattern(runtime.NewPattern(1, []int{2, 0, 2, 1, 2, 2, 2, 3, 1, 0, 4, 1, 5, 4}, []string{"api", "v1", "stream", "pipelines", "namespace"}, "", runtime.AssumeColonVerbOpt(true)))
+
+	pattern_PipelineService_GetPipeline_0 = runtime.MustPattern(runtime.NewPattern(1, []int{2, 0, 2, 1, 2, 2, 1, 0, 4, 1, 5, 3, 1, 0, 4, 1, 5, 4}, []string{"api", "v1", "pipelines", "namespace", "name"}, "", runtime.AssumeColonVerbOpt(true)))
+
+	pattern_PipelineService_RestartPipeline_0 = runtime.MustPattern(runtime.NewPattern(1, []int{2, 0, 2, 1, 2, 2, 1, 0, 4, 1, 5, 3, 1, 0, 4, 1, 5, 4, 2, 5}, []string{"api", "v1", "pipelines", "namespace", "name", "restart"}, "", runtime.AssumeColonVerbOpt(true)))
+
+	pattern_PipelineService_DeletePipeline_0 = runtime.MustPattern(runtime.NewPattern(1, []int{2, 0, 2, 1, 2, 2, 1, 0, 4, 1, 5, 3, 1, 0, 4, 1, 5, 4}, []string{"api", "v1", "pipelines", "namespace", "name"}, "", runtime.AssumeColonVerbOpt(true)))
+
+	pattern_PipelineService_PipelineLogs_0 = runtime.MustPattern(runtime.NewPattern(1, []int{2, 0, 2, 1, 2, 2, 2, 3, 1, 0, 4, 1, 5, 4, 2, 5}, []string{"api", "v1", "stream", "pipelines", "namespace", "logs"}, "", runtime.AssumeColonVerbOpt(true)))
+
+	pattern_PipelineService_WatchSteps_0 = runtime.MustPattern(runtime.NewPattern(1, []int{2, 0, 2, 1, 2, 2, 2, 3, 1, 0, 4, 1, 5, 4}, []string{"api", "v1", "stream", "steps", "namespace"}, "", runtime.AssumeColonVerbOpt(true)))
+)
+
+var (
+	forward_PipelineService_ListPipelines_0 = runtime.ForwardResponseMessage
+
+	forward_PipelineService_WatchPipelines_0 = runtime.ForwardResponseStream
+
+	forward_PipelineService_GetPipeline_0 = runtime.ForwardResponseMessage
+
+	forward_PipelineService_RestartPipeline_0 = runtime.ForwardResponseMessage
+
+	forward_PipelineService_DeletePipeline_0 = runtime.ForwardResponseMessage
+
+	forward_PipelineService_PipelineLogs_0 = runtime.ForwardResponseStream
+
+	forward_PipelineService_WatchSteps_0 = runtime.ForwardResponseStream
+)
diff --git a/pkg/apiclient/pipeline/pipeline.proto b/pkg/apiclient/pipeline/pipeline.proto
new file mode 100644
index 000000000000..3ec84ef13482
--- /dev/null
+++ b/pkg/apiclient/pipeline/pipeline.proto
@@ -0,0 +1,97 @@
+syntax = "proto3";
+option go_package = "github.com/argoproj/argo-workflows/pkg/apiclient/pipeline";
+
+import "google/api/annotations.proto";
+import "k8s.io/apimachinery/pkg/apis/meta/v1/generated.proto";
+import "k8s.io/api/core/v1/generated.proto";
+import "github.com/argoproj-labs/argo-dataflow/api/v1alpha1/generated.proto";
+
+package pipeline;
+
+message ListPipelinesRequest {
+    string namespace = 1;
+    k8s.io.apimachinery.pkg.apis.meta.v1.ListOptions listOptions = 2;
+}
+
+message PipelineWatchEvent {
+    string type = 1;
+    github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Pipeline object = 2;
+}
+
+message GetPipelineRequest {
+    string name = 1;
+    string namespace = 2;
+    k8s.io.apimachinery.pkg.apis.meta.v1.GetOptions getOptions = 3;
+}
+
+message RestartPipelineRequest {
+    string name = 1;
+    string namespace = 2;
+}
+
+message RestartPipelineResponse {
+}
+
+message DeletePipelineRequest {
+    string name = 1;
+    string namespace = 2;
+    k8s.io.apimachinery.pkg.apis.meta.v1.DeleteOptions deleteOptions = 3;
+}
+
+message DeletePipelineResponse {
+}
+
+message WatchStepRequest {
+    string namespace = 1;
+    k8s.io.apimachinery.pkg.apis.meta.v1.ListOptions listOptions = 2;
+}
+
+message StepWatchEvent {
+    string type = 1;
+    github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Step object = 2;
+}
+
+message PipelineLogsRequest {
+    string namespace = 1;
+    // optional - only return entries for this pipeline
+    string name = 2;
+    // optional - only return entries for this step
+    string stepName = 3;
+    // optional - only return entries which match this expresssion
+    string grep = 4;
+    k8s.io.api.core.v1.PodLogOptions podLogOptions = 5;
+}
+
+// structured log entry
+message LogEntry {
+    string namespace = 1;
+    string pipelineName = 2;
+    string stepName = 3;
+    k8s.io.apimachinery.pkg.apis.meta.v1.Time time = 6;
+    string msg = 7;
+}
+
+
+service PipelineService {
+    rpc ListPipelines (ListPipelinesRequest) returns (github.com.argoproj_labs.argo_dataflow.api.v1alpha1.PipelineList) {
+        option (google.api.http).get = "/api/v1/pipelines/{namespace}";
+    }
+    rpc WatchPipelines (ListPipelinesRequest) returns (stream PipelineWatchEvent) {
+        option (google.api.http).get = "/api/v1/stream/pipelines/{namespace}";
+    }
+    rpc GetPipeline (GetPipelineRequest) returns (github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Pipeline) {
+        option (google.api.http).get = "/api/v1/pipelines/{namespace}/{name}";
+    }
+    rpc RestartPipeline (RestartPipelineRequest) returns (RestartPipelineResponse) {
+        option (google.api.http).post = "/api/v1/pipelines/{namespace}/{name}/restart";
+    }
+    rpc DeletePipeline (DeletePipelineRequest) returns (DeletePipelineResponse) {
+        option (google.api.http).delete = "/api/v1/pipelines/{namespace}/{name}";
+    }
+    rpc PipelineLogs (PipelineLogsRequest) returns (stream LogEntry) {
+        option (google.api.http).get = "/api/v1/stream/pipelines/{namespace}/logs";
+    }
+    rpc WatchSteps (WatchStepRequest) returns (stream StepWatchEvent) {
+        option (google.api.http).get = "/api/v1/stream/steps/{namespace}";
+    }
+}
diff --git a/server/apiserver/argoserver.go b/server/apiserver/argoserver.go
index 8ea14a07e477..04ed62b6c50d 100644
--- a/server/apiserver/argoserver.go
+++ b/server/apiserver/argoserver.go
@@ -30,6 +30,7 @@ import (
 	eventpkg "github.com/argoproj/argo-workflows/v3/pkg/apiclient/event"
 	eventsourcepkg "github.com/argoproj/argo-workflows/v3/pkg/apiclient/eventsource"
 	infopkg "github.com/argoproj/argo-workflows/v3/pkg/apiclient/info"
+	pipelinepkg "github.com/argoproj/argo-workflows/v3/pkg/apiclient/pipeline"
 	sensorpkg "github.com/argoproj/argo-workflows/v3/pkg/apiclient/sensor"
 	workflowpkg "github.com/argoproj/argo-workflows/v3/pkg/apiclient/workflow"
 	workflowarchivepkg "github.com/argoproj/argo-workflows/v3/pkg/apiclient/workflowarchive"
@@ -44,6 +45,7 @@ import (
 	"github.com/argoproj/argo-workflows/v3/server/event"
 	"github.com/argoproj/argo-workflows/v3/server/eventsource"
 	"github.com/argoproj/argo-workflows/v3/server/info"
+	pipeline "github.com/argoproj/argo-workflows/v3/server/pipeline"
 	"github.com/argoproj/argo-workflows/v3/server/sensor"
 	"github.com/argoproj/argo-workflows/v3/server/static"
 	"github.com/argoproj/argo-workflows/v3/server/types"
@@ -259,6 +261,7 @@ func (as *argoServer) newGRPCServer(instanceIDService instanceid.Service, offloa
 	infopkg.RegisterInfoServiceServer(grpcServer, info.NewInfoServer(as.managedNamespace, links))
 	eventpkg.RegisterEventServiceServer(grpcServer, eventServer)
 	eventsourcepkg.RegisterEventSourceServiceServer(grpcServer, eventsource.NewEventSourceServer())
+	pipelinepkg.RegisterPipelineServiceServer(grpcServer, pipeline.NewPipelineServer())
 	sensorpkg.RegisterSensorServiceServer(grpcServer, sensor.NewSensorServer())
 	workflowpkg.RegisterWorkflowServiceServer(grpcServer, workflow.NewWorkflowServer(instanceIDService, offloadNodeStatusRepo))
 	workflowtemplatepkg.RegisterWorkflowTemplateServiceServer(grpcServer, workflowtemplate.NewWorkflowTemplateServer(instanceIDService))
@@ -306,6 +309,7 @@ func (as *argoServer) newHTTPServer(ctx context.Context, port int, artifactServe
 	mustRegisterGWHandler(eventpkg.RegisterEventServiceHandlerFromEndpoint, ctx, gwmux, endpoint, dialOpts)
 	mustRegisterGWHandler(eventsourcepkg.RegisterEventSourceServiceHandlerFromEndpoint, ctx, gwmux, endpoint, dialOpts)
 	mustRegisterGWHandler(sensorpkg.RegisterSensorServiceHandlerFromEndpoint, ctx, gwmux, endpoint, dialOpts)
+	mustRegisterGWHandler(pipelinepkg.RegisterPipelineServiceHandlerFromEndpoint, ctx, gwmux, endpoint, dialOpts)
 	mustRegisterGWHandler(workflowpkg.RegisterWorkflowServiceHandlerFromEndpoint, ctx, gwmux, endpoint, dialOpts)
 	mustRegisterGWHandler(workflowtemplatepkg.RegisterWorkflowTemplateServiceHandlerFromEndpoint, ctx, gwmux, endpoint, dialOpts)
 	mustRegisterGWHandler(cronworkflowpkg.RegisterCronWorkflowServiceHandlerFromEndpoint, ctx, gwmux, endpoint, dialOpts)
diff --git a/server/auth/gatekeeper.go b/server/auth/gatekeeper.go
index c3fd21404d4a..827584cd51c1 100644
--- a/server/auth/gatekeeper.go
+++ b/server/auth/gatekeeper.go
@@ -18,6 +18,7 @@ import (
 	"google.golang.org/grpc/status"
 	corev1 "k8s.io/api/core/v1"
 	metav1 "k8s.io/apimachinery/pkg/apis/meta/v1"
+	"k8s.io/client-go/dynamic"
 	"k8s.io/client-go/kubernetes"
 	"k8s.io/client-go/rest"
 
@@ -34,6 +35,7 @@ import (
 type ContextKey string
 
 const (
+	DynamicKey     ContextKey = "dynamic.Interface"
 	WfKey          ContextKey = "workflow.Interface"
 	SensorKey      ContextKey = "sensor.Interface"
 	EventSourceKey ContextKey = "eventsource.Interface"
@@ -96,6 +98,7 @@ func (s *gatekeeper) Context(ctx context.Context) (context.Context, error) {
 	if err != nil {
 		return nil, err
 	}
+	ctx = context.WithValue(ctx, DynamicKey, clients.Dynamic)
 	ctx = context.WithValue(ctx, WfKey, clients.Workflow)
 	ctx = context.WithValue(ctx, EventSourceKey, clients.EventSource)
 	ctx = context.WithValue(ctx, SensorKey, clients.Sensor)
@@ -104,6 +107,10 @@ func (s *gatekeeper) Context(ctx context.Context) (context.Context, error) {
 	return ctx, nil
 }
 
+func GetDynamicClient(ctx context.Context) dynamic.Interface {
+	return ctx.Value(DynamicKey).(dynamic.Interface)
+}
+
 func GetWfClient(ctx context.Context) workflow.Interface {
 	return ctx.Value(WfKey).(workflow.Interface)
 }
@@ -254,6 +261,10 @@ func DefaultClientForAuthorization(authorization string) (*rest.Config, *servert
 	if err != nil {
 		return nil, nil, fmt.Errorf("failed to create REST config: %w", err)
 	}
+	dynamicClient, err := dynamic.NewForConfig(restConfig)
+	if err != nil {
+		return nil, nil, fmt.Errorf("failure to create dynamic client: %w", err)
+	}
 	wfClient, err := workflow.NewForConfig(restConfig)
 	if err != nil {
 		return nil, nil, fmt.Errorf("failure to create workflow client: %w", err)
@@ -270,5 +281,11 @@ func DefaultClientForAuthorization(authorization string) (*rest.Config, *servert
 	if err != nil {
 		return nil, nil, fmt.Errorf("failure to create kubernetes client: %w", err)
 	}
-	return restConfig, &servertypes.Clients{Workflow: wfClient, EventSource: eventSourceClient, Sensor: sensorClient, Kubernetes: kubeClient}, nil
+	return restConfig, &servertypes.Clients{
+		Dynamic:     dynamicClient,
+		Workflow:    wfClient,
+		Sensor:      sensorClient,
+		EventSource: eventSourceClient,
+		Kubernetes:  kubeClient,
+	}, nil
 }
diff --git a/server/eventsource/event_source_server.go b/server/eventsource/event_source_server.go
index cdce916fbb43..9f869229ae8d 100644
--- a/server/eventsource/event_source_server.go
+++ b/server/eventsource/event_source_server.go
@@ -4,7 +4,6 @@ import (
 	"context"
 	"encoding/json"
 	"io"
-	"regexp"
 
 	esv1 "github.com/argoproj/argo-events/pkg/apis/eventsource/v1alpha1"
 	corev1 "k8s.io/api/core/v1"
@@ -70,14 +69,11 @@ func (e *eventSourceServer) EventSourcesLogs(in *eventsourcepkg.EventSourcesLogs
 	if in.Name != "" {
 		labelSelector += "=" + in.Name
 	}
-	grep, err := regexp.Compile(in.Grep)
-	if err != nil {
-		return err
-	}
 	return logs.LogPods(
 		svr.Context(),
 		in.Namespace,
 		labelSelector,
+		in.Grep,
 		in.PodLogOptions,
 		func(pod *corev1.Pod, data []byte) error {
 			now := metav1.Now()
@@ -95,9 +91,6 @@ func (e *eventSourceServer) EventSourcesLogs(in *eventsourcepkg.EventSourcesLogs
 			if in.EventName != "" && in.EventName != e.EventName {
 				return nil
 			}
-			if !grep.MatchString(e.Msg) {
-				return nil
-			}
 			return svr.Send(e)
 		},
 	)
diff --git a/server/pipeline/pipeline_server.go b/server/pipeline/pipeline_server.go
new file mode 100644
index 000000000000..fae785fc0107
--- /dev/null
+++ b/server/pipeline/pipeline_server.go
@@ -0,0 +1,179 @@
+package pipeline
+
+import (
+	"context"
+	"io"
+
+	dfv1 "github.com/argoproj-labs/argo-dataflow/api/v1alpha1"
+	corev1 "k8s.io/api/core/v1"
+	apierr "k8s.io/apimachinery/pkg/api/errors"
+	metav1 "k8s.io/apimachinery/pkg/apis/meta/v1"
+	"k8s.io/apimachinery/pkg/apis/meta/v1/unstructured"
+	"k8s.io/apimachinery/pkg/runtime"
+
+	pipelinepkg "github.com/argoproj/argo-workflows/v3/pkg/apiclient/pipeline"
+	"github.com/argoproj/argo-workflows/v3/server/auth"
+	"github.com/argoproj/argo-workflows/v3/util/logs"
+)
+
+type server struct{}
+
+func (s *server) ListPipelines(ctx context.Context, req *pipelinepkg.ListPipelinesRequest) (*dfv1.PipelineList, error) {
+	client := auth.GetDynamicClient(ctx)
+	opts := metav1.ListOptions{}
+	if req.ListOptions != nil {
+		opts = *req.ListOptions
+	}
+	list, err := client.Resource(dfv1.PipelineGroupVersionResource).Namespace(req.Namespace).List(ctx, opts)
+	if err != nil {
+		return nil, err
+	}
+	items := make([]dfv1.Pipeline, len(list.Items))
+	for i, un := range list.Items {
+		if err := runtime.DefaultUnstructuredConverter.FromUnstructured(un.Object, &items[i]); err != nil {
+			return nil, err
+		}
+	}
+	return &dfv1.PipelineList{Items: items}, nil
+}
+
+func (s *server) WatchPipelines(req *pipelinepkg.ListPipelinesRequest, svr pipelinepkg.PipelineService_WatchPipelinesServer) error {
+	ctx := svr.Context()
+	client := auth.GetDynamicClient(ctx)
+	opts := metav1.ListOptions{}
+	if req.ListOptions != nil {
+		opts = *req.ListOptions
+	}
+	watcher, err := client.Resource(dfv1.PipelineGroupVersionResource).Namespace(req.Namespace).Watch(ctx, opts)
+	if err != nil {
+		return err
+	}
+	defer watcher.Stop()
+	for {
+		select {
+		case <-ctx.Done():
+			return ctx.Err()
+		case event, open := <-watcher.ResultChan():
+			if !open {
+				return io.EOF
+			}
+			un, ok := event.Object.(*unstructured.Unstructured)
+			if !ok {
+				return apierr.FromObject(event.Object)
+			}
+			pl := &dfv1.Pipeline{}
+			if err := runtime.DefaultUnstructuredConverter.FromUnstructured(un.Object, pl); err != nil {
+				return err
+			}
+			if err := svr.Send(&pipelinepkg.PipelineWatchEvent{Type: string(event.Type), Object: pl}); err != nil {
+				return err
+			}
+		}
+	}
+}
+
+func (s *server) GetPipeline(ctx context.Context, req *pipelinepkg.GetPipelineRequest) (*dfv1.Pipeline, error) {
+	client := auth.GetDynamicClient(ctx)
+	opts := metav1.GetOptions{}
+	if req.GetOptions != nil {
+		opts = *req.GetOptions
+	}
+	un, err := client.Resource(dfv1.PipelineGroupVersionResource).Namespace(req.Namespace).Get(ctx, req.Name, opts)
+	if err != nil {
+		return nil, err
+	}
+	item := &dfv1.Pipeline{}
+	return item, runtime.DefaultUnstructuredConverter.FromUnstructured(un.Object, item)
+}
+
+func (s *server) RestartPipeline(ctx context.Context, req *pipelinepkg.RestartPipelineRequest) (*pipelinepkg.RestartPipelineResponse, error) {
+	client := auth.GetKubeClient(ctx)
+	err := client.CoreV1().Pods(req.Namespace).DeleteCollection(
+		ctx,
+		metav1.DeleteOptions{},
+		metav1.ListOptions{LabelSelector: dfv1.KeyPipelineName + "=" + req.Name},
+	)
+	if err != nil {
+		return nil, err
+	}
+	return &pipelinepkg.RestartPipelineResponse{}, nil
+}
+
+func (s *server) DeletePipeline(ctx context.Context, req *pipelinepkg.DeletePipelineRequest) (*pipelinepkg.DeletePipelineResponse, error) {
+	client := auth.GetDynamicClient(ctx)
+	opts := metav1.DeleteOptions{}
+	if req.DeleteOptions != nil {
+		opts = *req.DeleteOptions
+	}
+	err := client.Resource(dfv1.PipelineGroupVersionResource).Namespace(req.Namespace).Delete(ctx, req.Name, opts)
+	if err != nil {
+		return nil, err
+	}
+	return &pipelinepkg.DeletePipelineResponse{}, nil
+}
+
+func (s *server) PipelineLogs(in *pipelinepkg.PipelineLogsRequest, svr pipelinepkg.PipelineService_PipelineLogsServer) error {
+	labelSelector := dfv1.KeyPipelineName
+	if in.Name != "" {
+		labelSelector += "=" + in.Name
+	}
+	if in.StepName != "" {
+		labelSelector += "," + dfv1.KeyStepName + "=" + in.StepName
+	}
+	return logs.LogPods(
+		svr.Context(),
+		in.Namespace,
+		labelSelector,
+		in.Grep,
+		in.PodLogOptions,
+		func(pod *corev1.Pod, data []byte) error {
+			now := metav1.Now()
+			return svr.Send(&pipelinepkg.LogEntry{
+				Namespace:    pod.Namespace,
+				PipelineName: pod.Labels[dfv1.KeyPipelineName],
+				StepName:     pod.Labels[dfv1.KeyStepName],
+				Time:         &now,
+				Msg:          string(data),
+			})
+		},
+	)
+}
+
+func (s *server) WatchSteps(req *pipelinepkg.WatchStepRequest, svr pipelinepkg.PipelineService_WatchStepsServer) error {
+	ctx := svr.Context()
+	client := auth.GetDynamicClient(ctx)
+	opts := metav1.ListOptions{}
+	if req.ListOptions != nil {
+		opts = *req.ListOptions
+	}
+	watcher, err := client.Resource(dfv1.StepGroupVersionResource).Namespace(req.Namespace).Watch(ctx, opts)
+	if err != nil {
+		return err
+	}
+	defer watcher.Stop()
+	for {
+		select {
+		case <-ctx.Done():
+			return ctx.Err()
+		case event, open := <-watcher.ResultChan():
+			if !open {
+				return io.EOF
+			}
+			un, ok := event.Object.(*unstructured.Unstructured)
+			if !ok {
+				return apierr.FromObject(event.Object)
+			}
+			step := &dfv1.Step{}
+			if err := runtime.DefaultUnstructuredConverter.FromUnstructured(un.Object, step); err != nil {
+				return err
+			}
+			if err := svr.Send(&pipelinepkg.StepWatchEvent{Type: string(event.Type), Object: step}); err != nil {
+				return err
+			}
+		}
+	}
+}
+
+func NewPipelineServer() pipelinepkg.PipelineServiceServer {
+	return &server{}
+}
diff --git a/server/sensor/sensor_server.go b/server/sensor/sensor_server.go
index 70a6cd03b4b6..e91cb2b18758 100644
--- a/server/sensor/sensor_server.go
+++ b/server/sensor/sensor_server.go
@@ -4,7 +4,6 @@ import (
 	"context"
 	"encoding/json"
 	"io"
-	"regexp"
 
 	sv1 "github.com/argoproj/argo-events/pkg/apis/sensor/v1alpha1"
 	corev1 "k8s.io/api/core/v1"
@@ -55,14 +54,11 @@ func (s *sensorServer) SensorsLogs(in *sensorpkg.SensorsLogsRequest, svr sensorp
 	if in.Name != "" {
 		labelSelector += "=" + in.Name
 	}
-	grep, err := regexp.Compile(in.Grep)
-	if err != nil {
-		return err
-	}
 	return logs.LogPods(
 		svr.Context(),
 		in.Namespace,
 		labelSelector,
+		in.Grep,
 		in.PodLogOptions,
 		func(pod *corev1.Pod, data []byte) error {
 			now := metav1.Now()
@@ -77,9 +73,6 @@ func (s *sensorServer) SensorsLogs(in *sensorpkg.SensorsLogsRequest, svr sensorp
 			if in.TriggerName != "" && in.TriggerName != e.TriggerName {
 				return nil
 			}
-			if !grep.MatchString(e.Msg) {
-				return nil
-			}
 			return svr.Send(e)
 		},
 	)
diff --git a/server/types/clients.go b/server/types/clients.go
index dfed8f59072e..d9033d82371d 100644
--- a/server/types/clients.go
+++ b/server/types/clients.go
@@ -3,12 +3,14 @@ package types
 import (
 	eventsource "github.com/argoproj/argo-events/pkg/client/eventsource/clientset/versioned"
 	sensor "github.com/argoproj/argo-events/pkg/client/sensor/clientset/versioned"
+	"k8s.io/client-go/dynamic"
 	"k8s.io/client-go/kubernetes"
 
 	workflow "github.com/argoproj/argo-workflows/v3/pkg/client/clientset/versioned"
 )
 
 type Clients struct {
+	Dynamic     dynamic.Interface
 	Workflow    workflow.Interface
 	Sensor      sensor.Interface
 	EventSource eventsource.Interface
diff --git a/test/e2e/argo_server_test.go b/test/e2e/argo_server_test.go
index 9b45d976e0ef..6a8f2c2a3c00 100644
--- a/test/e2e/argo_server_test.go
+++ b/test/e2e/argo_server_test.go
@@ -1642,6 +1642,20 @@ func (s *ArgoServerSuite) TestEventSourcesService() {
 	})
 }
 
+func (s *ArgoServerSuite) TestPipelineService() {
+	s.T().SkipNow()
+	s.Run("GetPipeline", func() {
+		s.e().GET("/api/v1/pipelines/argo/not-exists").
+			Expect().
+			Status(404)
+	})
+	s.Run("ListPipelines", func() {
+		s.e().GET("/api/v1/pipelines/argo").
+			Expect().
+			Status(200)
+	})
+}
+
 func (s *ArgoServerSuite) TestSensorService() {
 	s.Run("CreateSensor", func() {
 		s.e().POST("/api/v1/sensors/argo").
diff --git a/ui/package.json b/ui/package.json
index 4d0f85f32ff1..7d2158e57430 100644
--- a/ui/package.json
+++ b/ui/package.json
@@ -40,7 +40,7 @@
     "devDependencies": {
         "@babel/core": "^7.0.0-0",
         "@babel/preset-env": "^7.12.1",
-        "@fortawesome/fontawesome-free": "^5.12.0",
+        "@fortawesome/fontawesome-free": "^5.15.3",
         "@types/chart.js": "^2.9.24",
         "@types/classnames": "^2.2.3",
         "@types/dagre": "^0.7.44",
diff --git a/ui/src/app/app-router.tsx b/ui/src/app/app-router.tsx
index e9be83a0a072..7b586d486bfb 100644
--- a/ui/src/app/app-router.tsx
+++ b/ui/src/app/app-router.tsx
@@ -13,6 +13,7 @@ import eventflow from './event-flow';
 import eventSources from './event-sources';
 import help from './help';
 import login from './login';
+import pipelines from './pipelines';
 import reports from './reports';
 import sensors from './sensors';
 import {uiUrl} from './shared/base';
@@ -28,6 +29,7 @@ import workflows from './workflows';
 
 const eventFlowUrl = uiUrl('event-flow');
 const sensorUrl = uiUrl('sensors');
+const pipelinesUrl = uiUrl('pipelines');
 const workflowsUrl = uiUrl('workflows');
 const workflowsEventBindingsUrl = uiUrl('workflow-event-bindings');
 const workflowTemplatesUrl = uiUrl('workflow-templates');
@@ -98,6 +100,11 @@ export const AppRouter = ({popupManager, history, notificationsManager}: {popupM
                                 path: cronWorkflowsUrl + namespaceSuffix,
                                 iconClassName: 'fa fa-clock'
                             },
+                            {
+                                title: 'Pipelines',
+                                path: pipelinesUrl + '/' + namespace,
+                                iconClassName: 'fa fa-wind'
+                            },
                             {
                                 title: 'Event Flow',
                                 path: eventFlowUrl + namespaceSuffix,
@@ -152,6 +159,7 @@ export const AppRouter = ({popupManager, history, notificationsManager}: {popupM
                                     <Redirect to={workflowsUrl} />
                                 </Route>
                                 <Route path={eventFlowUrl} component={eventflow.component} />
+                                <Route path={pipelinesUrl} component={pipelines.component} />
                                 <Route path={sensorUrl} component={sensors.component} />
                                 <Route path={eventSourceUrl} component={eventSources.component} />
                                 <Route path={workflowsUrl} component={workflows.component} />
diff --git a/ui/src/app/pipelines/components/pipeline-container.tsx b/ui/src/app/pipelines/components/pipeline-container.tsx
new file mode 100644
index 000000000000..51fb5afdc896
--- /dev/null
+++ b/ui/src/app/pipelines/components/pipeline-container.tsx
@@ -0,0 +1,11 @@
+import * as React from 'react';
+import {Route, RouteComponentProps, Switch} from 'react-router';
+import {PipelineDetails} from './pipeline-details/pipeline-details';
+import {PipelineList} from './pipeline-list/pipeline-list';
+
+export const PipelineContainer = (props: RouteComponentProps<any>) => (
+    <Switch>
+        <Route exact={true} path={`${props.match.path}/:namespace?`} component={PipelineList} />
+        <Route exact={true} path={`${props.match.path}/:namespace/:name`} component={PipelineDetails} />
+    </Switch>
+);
diff --git a/ui/src/app/pipelines/components/pipeline-details/pipeline-details.tsx b/ui/src/app/pipelines/components/pipeline-details/pipeline-details.tsx
new file mode 100644
index 000000000000..182a12191234
--- /dev/null
+++ b/ui/src/app/pipelines/components/pipeline-details/pipeline-details.tsx
@@ -0,0 +1,172 @@
+import {NotificationType, Page} from 'argo-ui';
+import * as React from 'react';
+import {useContext, useEffect, useState} from 'react';
+import {RouteComponentProps} from 'react-router';
+import {Pipeline} from '../../../../models/pipeline';
+import {Step} from '../../../../models/step';
+import {uiUrl} from '../../../shared/base';
+import {ErrorNotice} from '../../../shared/components/error-notice';
+import {GraphPanel} from '../../../shared/components/graph/graph-panel';
+import {Loading} from '../../../shared/components/loading';
+import {Context} from '../../../shared/context';
+import {historyUrl} from '../../../shared/history';
+import {ListWatch} from '../../../shared/list-watch';
+import {services} from '../../../shared/services';
+import {StepSidePanel} from '../step-side-panel';
+import {graph} from './pipeline-graph';
+
+require('./pipeline.scss');
+
+export const PipelineDetails = ({history, match, location}: RouteComponentProps<any>) => {
+    const {notifications, navigation, popup} = useContext(Context);
+    const queryParams = new URLSearchParams(location.search);
+    // state for URL and query parameters
+    const namespace = match.params.namespace;
+    const name = match.params.name;
+
+    const [tab, setTab] = useState(queryParams.get('tab'));
+    const [selectedStep, selectStep] = useState(queryParams.get('selectedStep'));
+
+    useEffect(
+        () =>
+            history.push(
+                historyUrl('pipelines/{namespace}/{name}', {
+                    namespace,
+                    name,
+                    selectedStep,
+                    tab
+                })
+            ),
+        [namespace, name, selectedStep, tab]
+    );
+
+    const [error, setError] = useState<Error>();
+    const [pipeline, setPipeline] = useState<Pipeline>();
+    const [steps, setSteps] = useState<Step[]>([]);
+
+    useEffect(() => {
+        services.pipeline
+            .getPipeline(namespace, name)
+            .then(setPipeline)
+            .then(() => setError(null))
+            .catch(setError);
+        const w = new ListWatch<Step>(
+            () => Promise.resolve({metadata: {}, items: []}),
+            () => services.pipeline.watchSteps(namespace, ['dataflow.argoproj.io/pipeline-name=' + name]),
+            () => setError(null),
+            () => setError(null),
+            items => setSteps([...items]),
+            setError
+        );
+        w.start();
+        return () => w.stop();
+    }, [name, namespace]);
+
+    const step = steps.find(s => s.spec.name === selectedStep);
+    return (
+        <Page
+            title='Pipeline Details'
+            toolbar={{
+                breadcrumbs: [
+                    {title: 'Pipelines', path: uiUrl('pipelines')},
+                    {title: namespace, path: uiUrl('pipelines/' + namespace)},
+                    {title: name, path: uiUrl('pipelines/' + namespace + '/' + name)}
+                ],
+                actionMenu: {
+                    items: [
+                        {
+                            title: 'Restart',
+                            iconClassName: 'fa fa-redo',
+                            action: () => {
+                                services.pipeline
+                                    .restartPipeline(namespace, name)
+                                    .then(() => setError(null))
+                                    .then(() =>
+                                        notifications.show({type: NotificationType.Success, content: 'Your pipeline pods should terminate within ~30s, before being re-created'})
+                                    )
+                                    .catch(setError);
+                            }
+                        },
+                        {
+                            title: 'Delete',
+                            iconClassName: 'fa fa-trash',
+                            action: () => {
+                                popup.confirm('confirm', 'Are you sure you want to delete this pipeline?').then(yes => {
+                                    if (yes) {
+                                        services.pipeline
+                                            .deletePipeline(namespace, name)
+                                            .then(() => navigation.goto(uiUrl('pipelines/' + namespace)))
+                                            .then(() => setError(null))
+                                            .catch(setError);
+                                    }
+                                });
+                            }
+                        }
+                    ]
+                }
+            }}>
+            <>
+                <ErrorNotice error={error} />
+                {!pipeline ? (
+                    <Loading />
+                ) : (
+                    <>
+                        <GraphPanel
+                            storageScope='pipeline'
+                            classNames='pipeline'
+                            graph={graph(pipeline, steps)}
+                            nodeGenresTitle='Type'
+                            nodeGenres={{
+                                cat: true,
+                                code: true,
+                                container: true,
+                                cron: true,
+                                db: true,
+                                dedupe: true,
+                                expand: true,
+                                filter: true,
+                                flatten: true,
+                                git: true,
+                                group: true,
+                                http: true,
+                                kafka: true,
+                                log: true,
+                                map: true,
+                                s3: true,
+                                stan: true,
+                                unknown: true
+                            }}
+                            defaultIconShape='circle'
+                            nodeClassNamesTitle='Status'
+                            nodeClassNames={{
+                                '': true,
+                                'Pending': true,
+                                'Running': true,
+                                'Failed': true,
+                                'Succeeded': true
+                            }}
+                            horizontal={true}
+                            selectedNode={selectedStep}
+                            onNodeSelect={node => {
+                                if (node.startsWith('step/')) {
+                                    selectStep(node.replace('step/', ''));
+                                }
+                            }}
+                        />
+                        {step && (
+                            <StepSidePanel
+                                isShown={!!selectedStep}
+                                namespace={namespace}
+                                pipelineName={name}
+                                step={step}
+                                tab={tab}
+                                setTab={setTab}
+                                onClose={() => selectStep(null)}
+                            />
+                        )}
+                    </>
+                )}
+            </>
+        </Page>
+    );
+};
diff --git a/ui/src/app/pipelines/components/pipeline-details/pipeline-graph.ts b/ui/src/app/pipelines/components/pipeline-details/pipeline-graph.ts
new file mode 100644
index 000000000000..38a6cd0bdf69
--- /dev/null
+++ b/ui/src/app/pipelines/components/pipeline-details/pipeline-graph.ts
@@ -0,0 +1,160 @@
+import {Pipeline} from '../../../../models/pipeline';
+import {Metrics, Step} from '../../../../models/step';
+import {Graph} from '../../../shared/components/graph/types';
+import {Icon} from '../../../shared/components/icon';
+import {totalRate} from '../total-rate';
+
+type Type = '' | 'cat' | 'code' | 'container' | 'dedupe' | 'expand' | 'filter' | 'flatten' | 'git' | 'group' | 'map' | 'split';
+
+const stepIcon = (type: Type): Icon => {
+    switch (type) {
+        case 'cat':
+        case 'map':
+            return 'chevron-right';
+        case 'code':
+            return 'code';
+        case 'container':
+            return 'cube';
+        case 'dedupe':
+            return 'filter';
+        case 'expand':
+            return 'expand';
+        case 'filter':
+            return 'filter';
+        case 'flatten':
+            return 'compress';
+        case 'git':
+            return 'git-alt';
+        case 'group':
+            return 'object-group';
+        case 'split':
+            return 'object-ungroup';
+        default:
+            return 'square';
+    }
+};
+
+const pendingSymbol = '';
+
+function formatRates(metrics: Metrics, replicas: number): string {
+    const rates = Object.entries(metrics || {})
+        // the rate will remain after scale-down, so we must filter out, as it'll be wrong
+        .filter(([replica]) => parseInt(replica, 10) < replicas);
+    return rates.length > 0 ? '' + totalRate(metrics, replicas) : '';
+}
+
+function formatPending(pending: number) {
+    return pending ? ' ' + pendingSymbol + pending.toLocaleString() + ' ' : '';
+}
+
+export const graph = (pipeline: Pipeline, steps: Step[]) => {
+    const g = new Graph();
+
+    steps.forEach(step => {
+        const spec = step.spec;
+        const stepId = 'step/' + spec.name;
+        const status = step.status || {phase: '', replicas: 0};
+
+        const type: Type = spec.cat
+            ? 'cat'
+            : spec.code
+            ? 'code'
+            : spec.container
+            ? 'container'
+            : spec.dedupe
+            ? 'dedupe'
+            : spec.expand
+            ? 'expand'
+            : spec.filter
+            ? 'filter'
+            : spec.git
+            ? 'git'
+            : spec.flatten
+            ? 'flatten'
+            : spec.group
+            ? 'group'
+            : spec.map
+            ? 'map'
+            : '';
+
+        const nodeLabel = status.replicas !== 1 ? spec.name + ' (x' + (status.replicas || 0) + ')' : spec.name;
+        g.nodes.set(stepId, {genre: type, label: nodeLabel, icon: stepIcon(type), classNames: status.phase});
+
+        const classNames = status.phase === 'Running' ? 'flow' : '';
+        (spec.sources || []).forEach(x => {
+            const ss = (status.sourceStatuses || {})[x.name || ''] || {};
+            const label = formatPending(ss.pending) + formatRates(ss.metrics, step.status.replicas);
+            if (x.cron) {
+                const cronId = 'cron/' + stepId + '/sources/' + x.cron.schedule;
+                g.nodes.set(cronId, {genre: 'cron', icon: 'clock', label: x.cron.schedule});
+                g.edges.set({v: cronId, w: stepId}, {classNames, label});
+            } else if (x.db) {
+                const id = 'db/' + +stepId + '/sources/' + x.name;
+                g.nodes.set(id, {genre: 'db', icon: 'database', label: x.name});
+                g.edges.set({v: id, w: stepId}, {classNames, label});
+            } else if (x.kafka) {
+                const kafkaId = x.kafka.name || x.kafka.url || 'default';
+                const topicId = 'kafka/' + kafkaId + '/' + x.kafka.topic;
+                g.nodes.set(topicId, {genre: 'kafka', icon: 'stream', label: x.kafka.topic});
+                g.edges.set({v: topicId, w: stepId}, {classNames, label});
+            } else if (x.stan) {
+                const stanId = x.stan.name || x.stan.url || 'default';
+                const subjectId = 'stan/' + stanId + '/' + x.stan.subject;
+                g.nodes.set(subjectId, {genre: 'stan', icon: 'stream', label: x.stan.subject});
+                g.edges.set({v: subjectId, w: stepId}, {classNames, label});
+            } else if (x.http) {
+                const y = new URL('http://' + (x.http.serviceName || pipeline.metadata.name + '-' + step.spec.name) + '/sources/' + x.name);
+                const subjectId = 'http/' + y;
+                g.nodes.set(subjectId, {genre: 'http', icon: 'cloud', label: y.hostname});
+                g.edges.set({v: subjectId, w: stepId}, {classNames, label});
+            } else if (x.s3) {
+                const bucket = x.s3.bucket;
+                const id = 's3/' + bucket;
+                g.nodes.set(id, {genre: 's3', icon: 'hdd', label: bucket});
+                g.edges.set({v: id, w: stepId}, {classNames, label});
+            } else {
+                const id = 'unknown/' + stepId + '/sources/' + x.name;
+                g.nodes.set(id, {genre: 'unknown', icon: 'square', label: x.name});
+                g.edges.set({v: id, w: stepId}, {classNames, label});
+            }
+        });
+        (spec.sinks || []).forEach(x => {
+            const ss = (status.sinkStatuses || {})[x.name || ''] || {};
+            const label = formatRates(ss.metrics, step.status.replicas);
+            if (x.db) {
+                const id = 'db/' + stepId + '/sinks/' + x.name;
+                g.nodes.set(id, {genre: 'db', icon: 'database', label: x.name});
+                g.edges.set({v: stepId, w: id}, {classNames, label});
+            } else if (x.kafka) {
+                const kafkaId = x.kafka.name || x.kafka.url || 'default';
+                const topicId = 'kafka/' + kafkaId + '/' + x.kafka.topic;
+                g.nodes.set(topicId, {genre: 'kafka', icon: 'stream', label: x.kafka.topic});
+                g.edges.set({v: stepId, w: topicId}, {classNames, label});
+            } else if (x.log) {
+                const logId = 'log/' + stepId + '/sinks/' + x.name;
+                g.nodes.set(logId, {genre: 'log', icon: 'file-alt', label: 'log'});
+                g.edges.set({v: stepId, w: logId}, {classNames, label});
+            } else if (x.stan) {
+                const stanId = x.stan.name || x.stan.url || 'default';
+                const subjectId = 'stan/' + stanId + '/' + x.stan.subject;
+                g.nodes.set(subjectId, {genre: 'stan', icon: 'stream', label: x.stan.subject});
+                g.edges.set({v: stepId, w: subjectId}, {classNames, label});
+            } else if (x.http) {
+                const y = new URL(x.http.url);
+                const subjectId = 'http/' + y;
+                g.nodes.set(subjectId, {genre: 'http', icon: 'cloud', label: y.hostname});
+                g.edges.set({v: stepId, w: subjectId}, {classNames, label});
+            } else if (x.s3) {
+                const bucket = x.s3.bucket;
+                const id = 's3/' + bucket;
+                g.nodes.set(id, {genre: 's3', icon: 'hdd', label: bucket});
+                g.edges.set({v: stepId, w: id}, {classNames, label});
+            } else {
+                const id = 'unknown/' + stepId + '/sinks/' + x.name;
+                g.nodes.set(id, {genre: 'unknown', icon: 'square', label: x.name});
+                g.edges.set({v: stepId, w: id}, {classNames, label});
+            }
+        });
+    });
+    return g;
+};
diff --git a/ui/src/app/pipelines/components/pipeline-details/pipeline.scss b/ui/src/app/pipelines/components/pipeline-details/pipeline.scss
new file mode 100644
index 000000000000..42788d4510c8
--- /dev/null
+++ b/ui/src/app/pipelines/components/pipeline-details/pipeline.scss
@@ -0,0 +1,24 @@
+@import 'node_modules/argo-ui/src/styles/config';
+
+.graph.pipeline {
+  .edge {
+    path {
+      stroke-dasharray: 8;
+    }
+  }
+
+  .node {
+    &.Running {
+      text.icon {
+        animation: none;
+      }
+    }
+  }
+
+  .edge.flow {
+    path {
+      stroke: $argo-running-color;
+      animation: flowing infinite linear 4s;
+    }
+  }
+}
\ No newline at end of file
diff --git a/ui/src/app/pipelines/components/pipeline-details/recent.test.ts b/ui/src/app/pipelines/components/pipeline-details/recent.test.ts
new file mode 100644
index 000000000000..880e31a08695
--- /dev/null
+++ b/ui/src/app/pipelines/components/pipeline-details/recent.test.ts
@@ -0,0 +1,9 @@
+import {recent} from './recent';
+
+describe('recent', () => {
+    test('recency', () => {
+        expect(recent(null)).toEqual(false);
+        expect(recent(new Date())).toEqual(true);
+        expect(recent(new Date(0))).toEqual(false);
+    });
+});
diff --git a/ui/src/app/pipelines/components/pipeline-details/recent.ts b/ui/src/app/pipelines/components/pipeline-details/recent.ts
new file mode 100644
index 000000000000..152000d00dbc
--- /dev/null
+++ b/ui/src/app/pipelines/components/pipeline-details/recent.ts
@@ -0,0 +1,7 @@
+export const recent = (x: Date): boolean => {
+    if (!x) {
+        return false;
+    }
+    const minutesAgo = (new Date().getTime() - new Date(x).getTime()) / (1000 * 60);
+    return minutesAgo < 15;
+};
diff --git a/ui/src/app/pipelines/components/pipeline-list/pipeline-list.scss b/ui/src/app/pipelines/components/pipeline-list/pipeline-list.scss
new file mode 100644
index 000000000000..5551ff460175
--- /dev/null
+++ b/ui/src/app/pipelines/components/pipeline-list/pipeline-list.scss
@@ -0,0 +1 @@
+@import 'node_modules/argo-ui/src/styles/config';
diff --git a/ui/src/app/pipelines/components/pipeline-list/pipeline-list.tsx b/ui/src/app/pipelines/components/pipeline-list/pipeline-list.tsx
new file mode 100644
index 000000000000..bdcbc597186d
--- /dev/null
+++ b/ui/src/app/pipelines/components/pipeline-list/pipeline-list.tsx
@@ -0,0 +1,110 @@
+import {Page} from 'argo-ui';
+import * as React from 'react';
+import {useEffect, useState} from 'react';
+import {Link, RouteComponentProps} from 'react-router-dom';
+import {NodePhase} from '../../../../models';
+import {Pipeline} from '../../../../models/pipeline';
+import {uiUrl} from '../../../shared/base';
+import {ErrorNotice} from '../../../shared/components/error-notice';
+import {Loading} from '../../../shared/components/loading';
+import {NamespaceFilter} from '../../../shared/components/namespace-filter';
+import {PhaseIcon} from '../../../shared/components/phase-icon';
+import {Timestamp} from '../../../shared/components/timestamp';
+import {ZeroState} from '../../../shared/components/zero-state';
+import {historyUrl} from '../../../shared/history';
+import {ListWatch} from '../../../shared/list-watch';
+import {services} from '../../../shared/services';
+
+export const PipelineList = ({match, history}: RouteComponentProps<any>) => {
+    // state for URL and query parameters
+    const [namespace, setNamespace] = useState(match.params.namespace || '');
+
+    useEffect(
+        () =>
+            history.push(
+                historyUrl('pipelines/{namespace}', {
+                    namespace
+                })
+            ),
+        [namespace]
+    );
+
+    // internal state
+    const [error, setError] = useState<Error>();
+    const [pipelines, setPipelines] = useState<Pipeline[]>();
+
+    useEffect(() => {
+        const lw = new ListWatch<Pipeline>(
+            () => services.pipeline.listPipelines(namespace),
+            () => services.pipeline.watchPipelines(namespace),
+            () => setError(null),
+            () => setError(null),
+            items => setPipelines([...items]),
+            setError
+        );
+        lw.start();
+        return () => lw.stop();
+    }, [namespace]);
+
+    return (
+        <Page
+            title='Pipelines'
+            toolbar={{
+                breadcrumbs: [
+                    {title: 'Pipelines', path: uiUrl('pipelines')},
+                    {title: namespace, path: uiUrl('pipelines/' + namespace)}
+                ],
+                tools: [<NamespaceFilter key='namespace-filter' value={namespace} onChange={setNamespace} />]
+            }}>
+            <ErrorNotice error={error} />
+            {!pipelines ? (
+                <Loading />
+            ) : pipelines.length === 0 ? (
+                <ZeroState title='No pipelines'>
+                    <p>Argo Dataflow is a Kubernetes native platform for executing large parallel data-processing pipelines.</p>
+                    <p>
+                        Each pipeline consists of steps. Each step creates zero or more replicas that load-balance messages from one or more sources (such as a cron, HTTP, Kafka,
+                        or NATS Streaming), processes the data, then sink it to one or more sinks (such as a HTTP, log, Kafka, NATS Streaming).
+                    </p>
+                    <p>
+                        Each step can scale horizontally using HPA or based on queue length using built-in scaling rules. Steps can be scaled-to-zero, in which case they
+                        periodically briefly scale-to-one to measure queue length in case the pipeline needs to scale back up.
+                    </p>
+                    <p>
+                        <a href='https://github.com/argoproj-labs/argo-dataflow'>Learn more</a>
+                    </p>
+                </ZeroState>
+            ) : (
+                <>
+                    <div className='argo-table-list'>
+                        <div className='row argo-table-list__head'>
+                            <div className='columns small-1' />
+                            <div className='columns small-2'>NAME</div>
+                            <div className='columns small-2'>NAMESPACE</div>
+                            <div className='columns small-2'>CREATED</div>
+                            <div className='columns small-2'>MESSAGE</div>
+                            <div className='columns small-3'>CONDITIONS</div>
+                        </div>
+                        {pipelines.map(p => (
+                            <Link
+                                className='row argo-table-list__row'
+                                key={`${p.metadata.namespace}/${p.metadata.name}`}
+                                to={uiUrl(`pipelines/${p.metadata.namespace}/${p.metadata.name}`)}>
+                                <div className='columns small-1'>
+                                    <PhaseIcon value={p.status && (p.status.phase as NodePhase)} />
+                                </div>
+                                <div className='columns small-2'>{p.metadata.name}</div>
+                                <div className='columns small-2'>{p.metadata.namespace}</div>
+                                <div className='columns small-2'>
+                                    <Timestamp date={p.metadata.creationTimestamp} />
+                                </div>
+                                <div className='columns small-2'>{p.status && p.status.message}</div>
+                                <div className='columns small-3'>{p.status && p.status.conditions && p.status.conditions.map(c => c.type).join(',')}</div>
+                            </Link>
+                        ))}
+                    </div>
+                </>
+            )}
+        </Page>
+    );
+};
diff --git a/ui/src/app/pipelines/components/pipeline-logs-viewer.tsx b/ui/src/app/pipelines/components/pipeline-logs-viewer.tsx
new file mode 100644
index 000000000000..e1549163057a
--- /dev/null
+++ b/ui/src/app/pipelines/components/pipeline-logs-viewer.tsx
@@ -0,0 +1,80 @@
+import * as React from 'react';
+import {useEffect, useState} from 'react';
+import {Observable} from 'rxjs';
+import {ErrorNotice} from '../../shared/components/error-notice';
+import {services} from '../../shared/services';
+import {FullHeightLogsViewer} from '../../workflows/components/workflow-logs-viewer/full-height-logs-viewer';
+
+function identity<T>(value: T) {
+    return () => value;
+}
+
+export const PipelineLogsViewer = ({namespace, pipelineName, stepName}: {namespace: string; pipelineName: string; stepName: string}) => {
+    const [container, setContainer] = useState('main');
+    const [tailLines, setTailLines] = useState(50);
+    const [error, setError] = useState<Error>();
+    const [grep, setGrep] = useState('');
+    const [logsObservable, setLogsObservable] = useState<Observable<string>>();
+    const [logLoaded, setLogLoaded] = useState(false);
+    // filter allows us to introduce a short delay, before we actually change grep
+    const [filter, setFilter] = useState('');
+    useEffect(() => {
+        const x = setTimeout(() => setGrep(filter), 1000);
+        return () => clearTimeout(x);
+    }, [filter]);
+
+    useEffect(() => {
+        setError(null);
+        setLogLoaded(false);
+        const source = services.pipeline
+            .pipelineLogs(namespace, pipelineName, stepName, container, grep, tailLines)
+            .filter(e => !!e)
+            .map(e => e.msg + '\n')
+            // this next line highlights the search term in bold with a yellow background, white text
+            .map(x => x.replace(new RegExp(grep, 'g'), y => '\u001b[1m\u001b[43;1m\u001b[37m' + y + '\u001b[0m'))
+            .publishReplay()
+            .refCount();
+        const subscription = source.subscribe(() => setLogLoaded(true), setError);
+        setLogsObservable(source);
+        return () => subscription.unsubscribe();
+    }, [namespace, pipelineName, stepName, container, grep, tailLines]);
+
+    return (
+        <div>
+            <div>
+                {['init', 'main', 'sidecar'].map(x => (
+                    <a onClick={() => setContainer(x)} key={x} style={{margin: 10}}>
+                        {x === container ? (
+                            <b>
+                                {' '}
+                                <i className='fa fa-angle-right' />
+                                {x}
+                            </b>
+                        ) : (
+                            <span>&nbsp;&nbsp;{x}</span>
+                        )}
+                    </a>
+                ))}
+                <span className='fa-pull-right'>
+                    <i className='fa fa-filter' /> <input type='search' defaultValue={filter} onChange={v => setFilter(v.target.value)} placeholder='Filter (regexp)...' />
+                </span>
+            </div>
+            <ErrorNotice error={error} />
+            {!logLoaded ? (
+                <div className='log-box'>
+                    <i className='fa fa-circle-notch fa-spin' /> Waiting for data...
+                </div>
+            ) : (
+                <FullHeightLogsViewer source={{key: 'logs', loadLogs: identity(logsObservable), shouldRepeat: () => false}} />
+            )}
+            <div style={{textAlign: 'right'}}>
+                <select style={{width: 'auto'}} value={tailLines} onChange={e => setTailLines(parseInt(e.currentTarget.value, 10))}>
+                    <option>5</option>
+                    <option>50</option>
+                    <option>500</option>
+                    <option>5000</option>
+                </select>
+            </div>
+        </div>
+    );
+};
diff --git a/ui/src/app/pipelines/components/step-side-panel.tsx b/ui/src/app/pipelines/components/step-side-panel.tsx
new file mode 100644
index 000000000000..9ba3d5c03af9
--- /dev/null
+++ b/ui/src/app/pipelines/components/step-side-panel.tsx
@@ -0,0 +1,215 @@
+import {SlidingPanel, Tabs} from 'argo-ui';
+import * as React from 'react';
+import {Step, StepStatus} from '../../../models/step';
+import {ObjectEditor} from '../../shared/components/object-editor/object-editor';
+import {Phase} from '../../shared/components/phase';
+import {TickMeter} from '../../shared/components/tick-meter';
+import {Timestamp} from '../../shared/components/timestamp';
+import {parseResourceQuantity} from '../../shared/resource-quantity';
+import {EventsPanel} from '../../workflows/components/events-panel';
+import {PipelineLogsViewer} from './pipeline-logs-viewer';
+import {totalRate} from './total-rate';
+
+const prettyNumber = (x: number): number => (x < 1 ? x : Math.round(x));
+
+export const StepSidePanel = ({
+    isShown,
+    namespace,
+    pipelineName,
+    step,
+    setTab,
+    tab,
+    onClose
+}: {
+    isShown: boolean;
+    namespace: string;
+    pipelineName: string;
+    step: Step;
+    tab: string;
+    setTab: (tab: string) => void;
+    onClose: () => void;
+}) => {
+    const stepName = step.spec.name;
+    return (
+        <SlidingPanel isShown={isShown} onClose={onClose}>
+            <>
+                <h4>
+                    {pipelineName}/{stepName}
+                </h4>
+                <Tabs
+                    navTransparent={true}
+                    selectedTabKey={tab}
+                    onTabSelected={setTab}
+                    tabs={[
+                        {
+                            title: 'STATUS',
+                            key: 'status',
+                            content: statusPanel(step)
+                        },
+                        {
+                            title: 'LOGS',
+                            key: 'logs',
+                            content: <PipelineLogsViewer namespace={namespace} pipelineName={pipelineName} stepName={stepName} />
+                        },
+                        {
+                            title: 'EVENTS',
+                            key: 'events',
+                            content: <EventsPanel kind='Step' namespace={namespace} name={step.metadata.name} />
+                        },
+                        {
+                            title: 'MANIFEST',
+                            key: 'manifest',
+                            content: <ObjectEditor value={step} />
+                        }
+                    ]}
+                />
+            </>
+        </SlidingPanel>
+    );
+};
+
+const statusPanel = (step: Step) =>
+    step.status && (
+        <>
+            <div className='row'>
+                <div className='columns small-12'>{statusHeader(step.status)}</div>
+            </div>
+            <div className='row' style={{marginTop: 10}}>
+                <div className='columns small-6'>{sourcesPanel(step.status)}</div>
+                <div className='columns small-6'>{sinksPanel(step.status)}</div>
+            </div>
+        </>
+    );
+
+const statusHeader = (status: StepStatus) => (
+    <div className='white-box'>
+        <div className='white-box__details'>
+            <div className='row white-box__details-row'>
+                <div className='columns small-3'>Phase</div>
+                <div className='columns small-9'>
+                    <Phase value={status.phase} /> {status.message}
+                </div>
+            </div>
+            <div className='row white-box__details-row'>
+                <div className='columns small-3'>Replicas</div>
+                <div className='columns small-3'>{status.replicas}</div>
+                {status.lastScaledAt && (
+                    <>
+                        <div className='columns small-3'>Last scaled</div>
+                        <div className='columns small-3'>
+                            <Timestamp date={status.lastScaledAt} />
+                        </div>
+                    </>
+                )}
+            </div>
+        </div>
+    </div>
+);
+
+const sourcesPanel = (status: StepStatus) => (
+    <>
+        <h5>Sources</h5>
+        {status.sourceStatuses ? (
+            Object.entries(status.sourceStatuses).map(([name, x]) => {
+                const total = Object.values(x.metrics || {})
+                    .filter(m => m.total)
+                    .reduce((a, b) => a + b.total, 0);
+                const rate = totalRate(x.metrics, status.replicas);
+                const errors = Object.values(x.metrics || {})
+                    .filter(m => m.errors)
+                    .reduce((a, b) => a + b.errors, 0);
+                const retries = Object.values(x.metrics || {})
+                    .filter(m => m.retries)
+                    .reduce((a, b) => a + b.retries, 0);
+                return (
+                    <div className='white-box' key={name}>
+                        <p>{name}</p>
+                        <div className='white-box__details'>
+                            <div className='row white-box__details-row'>
+                                <div className='columns small-4'>Pending</div>
+                                <div className='columns small-8'>
+                                    <TickMeter value={x.pending || 0} />
+                                </div>
+                            </div>
+                            <div className='row white-box__details-row'>
+                                <div className='columns small-4'>Retries</div>
+                                <div className='columns small-8'>
+                                    <TickMeter value={retries} />
+                                </div>
+                            </div>
+                            <div className='row white-box__details-row'>
+                                <div className='columns small-4'>Total</div>
+                                <div className='columns small-4'>
+                                    <TickMeter value={total} />
+                                </div>
+                                <div className='columns small-4' title='Rate'>
+                                    <TickMeter value={rate} /> <small>TPS</small>
+                                </div>
+                            </div>
+                            <div className='row white-box__details-row'>
+                                <div className='columns small-4'>Errors</div>
+                                <div className='columns small-4'>
+                                    <TickMeter value={errors} />
+                                </div>
+                                <div className='columns small-4'>
+                                    <TickMeter value={Math.floor((10000 * errors) / total) / 100} />%
+                                </div>
+                            </div>
+                        </div>
+                    </div>
+                );
+            })
+        ) : (
+            <div className='white-box'>None</div>
+        )}
+    </>
+);
+
+const sinksPanel = (status: StepStatus) => (
+    <>
+        <h5>Sinks</h5>
+        {status.sinkStatuses ? (
+            Object.entries(status.sinkStatuses).map(([name, x]) => {
+                const total = Object.values(x.metrics || {})
+                    .filter(m => m.total)
+                    .reduce((a, b) => a + b.total, 0);
+                const rate = Object.entries(x.metrics || {})
+                    // the rate will remain after scale-down, so we must filter out, as it'll be wrong
+                    .filter(([replica]) => parseInt(replica, 10) < status.replicas)
+                    .map(([, m]) => m)
+                    .map(m => parseResourceQuantity(m.rate))
+                    .reduce((a, b) => a + b, 0);
+                const errors = Object.values(x.metrics || {})
+                    .filter(m => m.errors)
+                    .reduce((a, b) => a + b.errors, 0);
+                return (
+                    <div className='white-box' key={name}>
+                        <p>{name}</p>
+                        <div className='white-box__details'>
+                            <div className='row white-box__details-row'>
+                                <div className='columns small-4'>Total</div>
+                                <div className='columns small-4'>
+                                    <TickMeter value={total} />
+                                </div>
+                                <div className='columns small-4' title='Rate'>
+                                    <TickMeter value={prettyNumber(rate)} /> <small>TPS</small>
+                                </div>
+                            </div>
+                            <div className='row white-box__details-row'>
+                                <div className='columns small-4'>Errors</div>
+                                <div className='columns small-4'>
+                                    <TickMeter value={errors} />
+                                </div>
+                                <div className='columns small-4'>
+                                    <TickMeter value={prettyNumber(Math.floor((10000 * errors) / total) / 100)} />%
+                                </div>
+                            </div>
+                        </div>
+                    </div>
+                );
+            })
+        ) : (
+            <div className='white-box'>None</div>
+        )}
+    </>
+);
diff --git a/ui/src/app/pipelines/components/total-rate.ts b/ui/src/app/pipelines/components/total-rate.ts
new file mode 100644
index 000000000000..1aeb0267a869
--- /dev/null
+++ b/ui/src/app/pipelines/components/total-rate.ts
@@ -0,0 +1,17 @@
+import {Metrics} from '../../../models/step';
+import {parseResourceQuantity} from '../../shared/resource-quantity';
+
+const prettyNumber = (x: number): number => (x < 1 ? x : Math.round(x));
+export const totalRate = (metrics: Metrics, replicas: number): number => {
+    const rates = Object.entries(metrics || {})
+        // the rate will remain after scale-down, so we must filter out, as it'll be wrong
+        .filter(([replica, m]) => parseInt(replica, 10) < replicas);
+    return rates.length > 0
+        ? prettyNumber(
+              rates
+                  .map(([, m]) => m)
+                  .map(m => parseResourceQuantity(m.rate))
+                  .reduce((a, b) => a + b, 0)
+          )
+        : null;
+};
diff --git a/ui/src/app/pipelines/index.ts b/ui/src/app/pipelines/index.ts
new file mode 100644
index 000000000000..d56ea074ce20
--- /dev/null
+++ b/ui/src/app/pipelines/index.ts
@@ -0,0 +1,5 @@
+import {PipelineContainer} from './components/pipeline-container';
+
+export default {
+    component: PipelineContainer
+};
diff --git a/ui/src/app/shared/components/icon.ts b/ui/src/app/shared/components/icon.ts
index 5981f10ac112..d36be2ca9174 100644
--- a/ui/src/app/shared/components/icon.ts
+++ b/ui/src/app/shared/components/icon.ts
@@ -1,15 +1,22 @@
 export type Icon =
+    | 'arrows-alt-h'
     | 'arrow-left'
     | 'arrow-right'
     | 'bars'
+    | 'bed'
     | 'bell'
     | 'box'
     | 'calendar'
     | 'cloud'
+    | 'compress'
+    | 'cube'
+    | 'chevron-circle-right'
+    | 'chevron-right'
     | 'circle'
     | 'circle-notch'
     | 'clock'
     | 'code'
+    | 'cog'
     | 'comment'
     | 'caret-left'
     | 'caret-right'
@@ -18,21 +25,27 @@ export type Icon =
     | 'check'
     | 'database'
     | 'envelope'
+    | 'expand'
     | 'edit'
     | 'ellipsis-h'
+    | 'exchange-alt'
     | 'external-link-alt'
     | 'file'
     | 'file-alt'
     | 'file-code'
     | 'filter'
     | 'forward'
+    | 'git-alt'
     | 'grip-vertical'
     | 'hdd'
+    | 'inbox'
     | 'info-circle'
     | 'keyboard'
     | 'link'
     | 'list'
     | 'microchip'
+    | 'object-group'
+    | 'object-ungroup'
     | 'play'
     | 'play-circle'
     | 'plus-circle'
diff --git a/ui/src/app/shared/components/icons.ts b/ui/src/app/shared/components/icons.ts
index 099b8bb7761d..6a73226cc3ae 100644
--- a/ui/src/app/shared/components/icons.ts
+++ b/ui/src/app/shared/components/icons.ts
@@ -1,13 +1,20 @@
 export const icons: {[key: string]: string} = {
+    'arrows-alt-h': '\uf337',
     'arrow-right': '\uf061',
+    'bed': '\uf236',
     'bell': '\uf0f3',
     'box': '\uf466',
     'calendar': '\uf133',
     'cloud': '\uf0c2',
+    'chevron-circle-right': '\uf138',
+    'chevron-right': '\uf054',
     'circle': '\uf111',
     'circle-notch': '\uf1ce',
     'clock': '\uf017',
     'code': '\uf121',
+    'compress': '\uf066',
+    'cube': '\uf1b2',
+    'cog': '\uf013',
     'comment': '\uf075',
     'code-branch': '\uf126',
     'credit-card': '\uf09d',
@@ -15,6 +22,8 @@ export const icons: {[key: string]: string} = {
     'database': '\uf1c0',
     'envelope': '\uf0e0',
     'ellipsis-h': '\uf141',
+    'exchange-alt': '\uf362',
+    'expand': '\uf065',
     'file': '\uf15b',
     'file-alt': '\uf15c',
     'file-code': '\uf1c9',
@@ -22,10 +31,12 @@ export const icons: {[key: string]: string} = {
     'forward': '\uf04e',
     'grip-vertical': '\uf58e',
     'hdd': '\uf0a0',
+    'inbox': '\uf01c',
     'keyboard': '\uf11c',
     'link': '\uf0c1',
     'list': '\uf03a',
     'microchip': '\uf2db',
+    'object-group': '\uf247',
     'play': '\uf04b',
     'play-circle': '\uf144',
     'puzzle-piece': '\uf12e',
diff --git a/ui/src/app/shared/components/phase-icon.tsx b/ui/src/app/shared/components/phase-icon.tsx
index c20e9058a0aa..783af3b1712a 100644
--- a/ui/src/app/shared/components/phase-icon.tsx
+++ b/ui/src/app/shared/components/phase-icon.tsx
@@ -1,8 +1,7 @@
 import * as classNames from 'classnames';
 import * as React from 'react';
-import {NodePhase} from '../../../models';
 import {Utils} from '../utils';
 
-export const PhaseIcon = ({value}: {value: NodePhase}) => {
+export const PhaseIcon = ({value}: {value: string}) => {
     return <i className={classNames('fa', Utils.statusIconClasses(value))} aria-hidden='true' />;
 };
diff --git a/ui/src/app/shared/components/phase.tsx b/ui/src/app/shared/components/phase.tsx
index c8ad243bc09b..936aea6edf73 100644
--- a/ui/src/app/shared/components/phase.tsx
+++ b/ui/src/app/shared/components/phase.tsx
@@ -1,8 +1,7 @@
 import * as React from 'react';
-import {NodePhase} from '../../../models';
 import {PhaseIcon} from './phase-icon';
 
-export const Phase = ({value}: {value: NodePhase}) => {
+export const Phase = ({value}: {value: string}) => {
     return (
         <>
             <PhaseIcon value={value} /> {value}
diff --git a/ui/src/app/shared/components/resource-editor/resource-editor.tsx b/ui/src/app/shared/components/resource-editor/resource-editor.tsx
index 8a7c4efa80c0..264d3eb935bb 100644
--- a/ui/src/app/shared/components/resource-editor/resource-editor.tsx
+++ b/ui/src/app/shared/components/resource-editor/resource-editor.tsx
@@ -21,7 +21,7 @@ interface State<T> {
     error?: Error;
 }
 
-export class ResourceEditor<T extends {metadata: kubernetes.ObjectMeta}> extends React.Component<Props<T>, State<T>> {
+export class ResourceEditor<T extends {metadata?: kubernetes.ObjectMeta}> extends React.Component<Props<T>, State<T>> {
     constructor(props: Readonly<Props<T>>) {
         super(props);
         this.state = {editing: this.props.editing, value: this.props.value};
diff --git a/ui/src/app/shared/components/tick-meter.tsx b/ui/src/app/shared/components/tick-meter.tsx
new file mode 100644
index 000000000000..301624a61f3a
--- /dev/null
+++ b/ui/src/app/shared/components/tick-meter.tsx
@@ -0,0 +1,24 @@
+import * as React from 'react';
+import {useEffect, useState} from 'react';
+
+export const TickMeter = ({value}: {value: number}) => {
+    const [change, setChange] = useState<number>(0);
+    const [previousValue, setPreviousValue] = useState<number>();
+    useEffect(() => {
+        if (previousValue && value) {
+            setChange(value - previousValue);
+        }
+        setPreviousValue(value);
+    }, [value]);
+    return (
+        <>
+            {value && value.toLocaleString()}
+            {change !== 0 && (
+                <small style={{color: 'gray'}}>
+                    ({change > 0 ? '+' : ''}
+                    {change.toLocaleString()})
+                </small>
+            )}
+        </>
+    );
+};
diff --git a/ui/src/app/shared/resource-quantity.test.ts b/ui/src/app/shared/resource-quantity.test.ts
new file mode 100644
index 000000000000..a2b6c8343ee8
--- /dev/null
+++ b/ui/src/app/shared/resource-quantity.test.ts
@@ -0,0 +1,16 @@
+import {parseResourceQuantity} from './resource-quantity';
+
+describe('resource quaniity', () => {
+    test('binary SI', () => {
+        expect(parseResourceQuantity('1Ki')).toEqual(1024);
+        expect(parseResourceQuantity('2Ki')).toEqual(2048);
+    });
+    test('decimal SI', () => {
+        expect(parseResourceQuantity('1m')).toEqual(1 / 1000);
+        expect(parseResourceQuantity('1000m')).toEqual(1);
+        expect(parseResourceQuantity('1')).toEqual(1);
+        expect(parseResourceQuantity('2')).toEqual(2);
+        expect(parseResourceQuantity('1k')).toEqual(1000);
+        expect(parseResourceQuantity('56.633')).toEqual(56.633); // this test may not be needed as decimal point is not really valid
+    });
+});
diff --git a/ui/src/app/shared/resource-quantity.ts b/ui/src/app/shared/resource-quantity.ts
new file mode 100644
index 000000000000..591202188956
--- /dev/null
+++ b/ui/src/app/shared/resource-quantity.ts
@@ -0,0 +1,23 @@
+const units: {[key: string]: number} = {
+    // https://github.com/kubernetes/apimachinery/blob/master/pkg/api/resource/quantity.go
+    'Ki': Math.pow(2, 10),
+    'Mi': Math.pow(2, 20),
+    'Gi': Math.pow(2, 30),
+    'Ti': Math.pow(2, 40),
+    'Pi': Math.pow(2, 50),
+    'Ei': Math.pow(2, 60),
+    // https://www.businessballs.com/glossaries-and-terminology/metric-prefixes-table/
+    'm': 0.001,
+    '': 1,
+    'k': Math.pow(10, 3),
+    'M': Math.pow(10, 6),
+    'G': Math.pow(10, 9),
+    'T': Math.pow(10, 12),
+    'P': Math.pow(10, 15),
+    'E': Math.pow(10, 18)
+};
+
+export const parseResourceQuantity = (x: string): number => {
+    const y = /^([.0-9]+)([^0-9]*)$/.exec(x); // we tolerate a decimal point, just because historically rate was a float, but this probably can be removed some day
+    return parseFloat(y[1]) * units[y[2]];
+};
diff --git a/ui/src/app/shared/services/index.ts b/ui/src/app/shared/services/index.ts
index d7afa1201e26..46b1f9f829a8 100644
--- a/ui/src/app/shared/services/index.ts
+++ b/ui/src/app/shared/services/index.ts
@@ -4,6 +4,7 @@ import {CronWorkflowService} from './cron-workflow-service';
 import {EventService} from './event-service';
 import {EventSourceService} from './event-source-service';
 import {InfoService} from './info-service';
+import {PipelineService} from './pipeline-service';
 import {SensorService} from './sensor-service';
 import {WorkflowTemplateService} from './workflow-template-service';
 import {WorkflowsService} from './workflows-service';
@@ -11,6 +12,7 @@ import {WorkflowsService} from './workflows-service';
 interface Services {
     info: InfoService;
     sensor: SensorService;
+    pipeline: PipelineService;
     event: EventService;
     eventSource: EventSourceService;
     workflows: WorkflowsService;
@@ -28,6 +30,7 @@ export const services: Services = {
     event: new EventService(),
     eventSource: new EventSourceService(),
     sensor: new SensorService(),
+    pipeline: new PipelineService(),
     archivedWorkflows: new ArchivedWorkflowsService(),
     cronWorkflows: new CronWorkflowService()
 };
diff --git a/ui/src/app/shared/services/pipeline-service.ts b/ui/src/app/shared/services/pipeline-service.ts
new file mode 100644
index 000000000000..d4efb557a3b8
--- /dev/null
+++ b/ui/src/app/shared/services/pipeline-service.ts
@@ -0,0 +1,51 @@
+import {Pipeline, PipelineList, PipelineWatchEvent} from '../../../models/pipeline';
+import {LogEntry} from '../../../models/pipeline';
+import {StepWatchEvent} from '../../../models/step';
+import requests from './requests';
+
+export class PipelineService {
+    public listPipelines(namespace: string) {
+        return requests.get(`api/v1/pipelines/${namespace}`).then(res => res.body as PipelineList);
+    }
+
+    public watchPipelines(namespace: string) {
+        return requests.loadEventSource(`api/v1/stream/pipelines/${namespace}`).map(line => line && (JSON.parse(line).result as PipelineWatchEvent));
+    }
+
+    public pipelineLogs(namespace: string, name = '', stepName = '', container = 'main', grep = '', tailLines = -1) {
+        const params = ['podLogOptions.follow=true'];
+        if (name) {
+            params.push('name=' + name);
+        }
+        if (stepName) {
+            params.push('stepName=' + stepName);
+        }
+        if (container) {
+            params.push('podLogOptions.container=' + container);
+        }
+        if (grep) {
+            params.push('grep=' + grep);
+        }
+        if (tailLines >= 0) {
+            params.push('podLogOptions.tailLines=' + tailLines);
+        }
+        return requests.loadEventSource(`api/v1/stream/pipelines/${namespace}/logs?${params.join('&')}`).map(line => line && (JSON.parse(line).result as LogEntry));
+    }
+
+    public getPipeline(namespace: string, name: string) {
+        return requests.get(`api/v1/pipelines/${namespace}/${name}`).then(res => res.body as Pipeline);
+    }
+
+    public restartPipeline(namespace: string, name: string) {
+        return requests.post(`api/v1/pipelines/${namespace}/${name}/restart`);
+    }
+    public deletePipeline(namespace: string, name: string) {
+        return requests.delete(`api/v1/pipelines/${namespace}/${name}`);
+    }
+
+    public watchSteps(namespace: string, labels?: Array<string>) {
+        return requests
+            .loadEventSource(`api/v1/stream/steps/${namespace}?listOptions.labelSelector=${labels.join(',')}`)
+            .map(line => line && (JSON.parse(line).result as StepWatchEvent));
+    }
+}
diff --git a/ui/src/app/workflows/components/events-panel.tsx b/ui/src/app/workflows/components/events-panel.tsx
index 847ffe04cfaf..da67a07f0f54 100644
--- a/ui/src/app/workflows/components/events-panel.tsx
+++ b/ui/src/app/workflows/components/events-panel.tsx
@@ -109,21 +109,23 @@ export const EventsPanel = ({namespace, name, kind}: {namespace: string; name: s
                         <div className='columns small-2'>Object</div>
                         <div className='columns small-5'>Message</div>
                     </div>
-                    {events.map(e => (
-                        <div className='row argo-table-list__row' key={e.metadata.uid}>
-                            <div className='columns small-1' title={e.type}>
-                                {e.type === 'Normal' ? <i className='fa fa-check-circle status-icon--init' /> : <i className='fa fa-exclamation-circle status-icon--pending' />}
+                    {events
+                        .sort((a, b) => -a.lastTimestamp.localeCompare(b.lastTimestamp))
+                        .map(e => (
+                            <div className='row argo-table-list__row' key={e.metadata.uid}>
+                                <div className='columns small-1' title={e.type}>
+                                    {e.type === 'Normal' ? <i className='fa fa-check-circle status-icon--init' /> : <i className='fa fa-exclamation-circle status-icon--pending' />}
+                                </div>
+                                <div className='columns small-2'>
+                                    <Timestamp date={e.lastTimestamp} />
+                                </div>
+                                <div className='columns small-2'>{e.reason}</div>
+                                <div className='columns small-2'>
+                                    {e.involvedObject.kind}/{e.involvedObject.name}
+                                </div>
+                                <div className='columns small-5'>{e.message}</div>
                             </div>
-                            <div className='columns small-2'>
-                                <Timestamp date={e.lastTimestamp} />
-                            </div>
-                            <div className='columns small-2'>{e.reason}</div>
-                            <div className='columns small-2'>
-                                {e.involvedObject.kind}/{e.involvedObject.name}
-                            </div>
-                            <div className='columns small-5'>{e.message}</div>
-                        </div>
-                    ))}
+                        ))}
                 </div>
             )}
         </>
diff --git a/ui/src/models/pipeline.ts b/ui/src/models/pipeline.ts
new file mode 100644
index 000000000000..8fa370eb4a0d
--- /dev/null
+++ b/ui/src/models/pipeline.ts
@@ -0,0 +1,24 @@
+import {ListMeta, ObjectMeta, Time, WatchEvent} from 'argo-ui/src/models/kubernetes';
+
+export interface Pipeline {
+    metadata: ObjectMeta;
+    status?: {
+        conditions?: {type?: string}[];
+        phase?: string;
+        message?: string;
+    };
+}
+
+export interface PipelineList {
+    metadata: ListMeta;
+    items: Pipeline[];
+}
+
+export interface LogEntry {
+    namespace: string;
+    stepName?: string;
+    time: Time;
+    msg: string;
+}
+
+export type PipelineWatchEvent = WatchEvent<Pipeline>;
diff --git a/ui/src/models/step.ts b/ui/src/models/step.ts
new file mode 100644
index 000000000000..73c2a4990241
--- /dev/null
+++ b/ui/src/models/step.ts
@@ -0,0 +1,83 @@
+import {ObjectMeta, Time, WatchEvent} from 'argo-ui/src/models/kubernetes';
+
+export interface Metrics {
+    total?: number;
+    errors?: number;
+    retries?: number;
+    rate?: string;
+}
+
+export interface Step {
+    metadata: ObjectMeta;
+    spec: {
+        name: string;
+        cat?: {};
+        code?: {};
+        container?: {};
+        dedupe?: {};
+        expand?: {};
+        filter?: string;
+        flatten?: {};
+        git?: {};
+        group?: {};
+        map?: string;
+        split?: {};
+        sources: {
+            name?: string;
+            cron?: {schedule: string};
+            db?: {};
+            stan?: {name?: string; url?: string; subject: string};
+            kafka?: {
+                name?: string;
+                url?: string;
+                topic: string;
+            };
+            http?: {
+                serviceName?: string;
+            };
+            s3?: {
+                bucket: string;
+            };
+        }[];
+        sinks: {
+            name?: string;
+            db?: {};
+            log?: {};
+            stan?: {name?: string; url?: string; subject: string};
+            kafka?: {
+                name?: string;
+                url?: string;
+                topic: string;
+            };
+            http?: {url: string};
+            s3?: {
+                bucket: string;
+            };
+        }[];
+    };
+    status?: StepStatus;
+}
+
+export interface StepStatus {
+    phase?: string;
+    message?: string;
+    replicas: number;
+    lastScaledAt?: Time;
+    sinkStatuses?: SinkStatuses;
+    sourceStatuses?: SourceStatuses;
+}
+
+interface SourceStatuses {
+    [name: string]: {
+        pending?: number;
+        metrics?: {[name: string]: Metrics};
+    };
+}
+
+interface SinkStatuses {
+    [name: string]: {
+        metrics?: {[replica: string]: Metrics};
+    };
+}
+
+export type StepWatchEvent = WatchEvent<Step>;
diff --git a/ui/yarn.lock b/ui/yarn.lock
index 5bec2679668d..0da66db41b7f 100644
--- a/ui/yarn.lock
+++ b/ui/yarn.lock
@@ -862,10 +862,10 @@
     is-absolute "^1.0.0"
     is-negated-glob "^1.0.0"
 
-"@fortawesome/fontawesome-free@^5.12.0":
-  version "5.12.0"
-  resolved "https://registry.yarnpkg.com/@fortawesome/fontawesome-free/-/fontawesome-free-5.12.0.tgz#8ceb9f09edfb85ea18a6c7bf098f6f5dd5ffd62b"
-  integrity sha512-vKDJUuE2GAdBERaQWmmtsciAMzjwNrROXA5KTGSZvayAsmuTGjam5z6QNqNPCwDfVljLWuov1nEC3mEQf/n6fQ==
+"@fortawesome/fontawesome-free@^5.15.3":
+  version "5.15.3"
+  resolved "https://registry.yarnpkg.com/@fortawesome/fontawesome-free/-/fontawesome-free-5.15.3.tgz#c36ffa64a2a239bf948541a97b6ae8d729e09a9a"
+  integrity sha512-rFnSUN/QOtnOAgqFRooTA3H57JLDm0QEG/jPdk+tLQNL/eWd+Aok8g3qCI+Q1xuDPWpGW/i9JySpJVsq8Q0s9w==
 
 "@fortawesome/fontawesome-free@^5.8.1":
   version "5.15.2"
diff --git a/util/logs/pods-logger.go b/util/logs/pods-logger.go
index 69d39447a0be..5a8cfc5ab33f 100644
--- a/util/logs/pods-logger.go
+++ b/util/logs/pods-logger.go
@@ -4,6 +4,7 @@ import (
 	"bufio"
 	"context"
 	"io"
+	"regexp"
 	"sync"
 
 	log "github.com/sirupsen/logrus"
@@ -16,11 +17,15 @@ import (
 
 type Callback func(pod *corev1.Pod, data []byte) error
 
-func LogPods(ctx context.Context, namespace, labelSelector string, podLogOptions *corev1.PodLogOptions, callback Callback) error {
+func LogPods(ctx context.Context, namespace, labelSelector, grep string, podLogOptions *corev1.PodLogOptions, callback Callback) error {
 	coreV1 := auth.GetKubeClient(ctx).CoreV1()
 	if podLogOptions == nil {
 		podLogOptions = &corev1.PodLogOptions{}
 	}
+	rx, err := regexp.Compile(grep)
+	if err != nil {
+		return err
+	}
 	podInterface := coreV1.Pods(namespace)
 	list, err := podInterface.List(ctx, metav1.ListOptions{LabelSelector: labelSelector})
 	if err != nil {
@@ -52,10 +57,11 @@ func LogPods(ctx context.Context, namespace, labelSelector string, podLogOptions
 							return s.Err()
 						}
 						data := s.Bytes()
-						logCtx.Debugln(string(data))
-						err = callback(pod, data)
-						if err != nil {
-							return err
+						if rx.Match(data) {
+							logCtx.Debugln(string(data))
+							if err := callback(pod, data); err != nil {
+								return err
+							}
 						}
 					}
 				}

From a1a8d4421e3b7e8c6bcd2677e7862ec6f3aed1cc Mon Sep 17 00:00:00 2001
From: Tom Meadows <djw0bbl3@protonmail.com>
Date: Fri, 13 Aug 2021 19:31:16 +0100
Subject: [PATCH 036/137] fix: argo-sever mistype (#6543)

Signed-off-by: Tom Meadows <thomas.meadows@jetstack.io>
---
 cmd/argo/commands/server.go | 2 +-
 util/help/topics.go         | 6 +++---
 2 files changed, 4 insertions(+), 4 deletions(-)

diff --git a/cmd/argo/commands/server.go b/cmd/argo/commands/server.go
index 75e08beb0191..f8f1cc2ac899 100644
--- a/cmd/argo/commands/server.go
+++ b/cmd/argo/commands/server.go
@@ -55,7 +55,7 @@ func NewServerCommand() *cobra.Command {
 		Use:   "server",
 		Short: "start the Argo Server",
 		Example: fmt.Sprintf(`
-See %s`, help.ArgoSever),
+See %s`, help.ArgoServer),
 		RunE: func(c *cobra.Command, args []string) error {
 			cmd.SetLogFormatter(logFormat)
 			stats.RegisterStackDumper()
diff --git a/util/help/topics.go b/util/help/topics.go
index 9ee535453540..b3df474fbab1 100644
--- a/util/help/topics.go
+++ b/util/help/topics.go
@@ -1,9 +1,9 @@
 package help
 
 const (
-	root      = "https://argoproj.github.io/argo-workflows"
-	ArgoSever = root + "/argo-server.md"
-	CLI       = root + "/cli.md"
+	root       = "https://argoproj.github.io/argo-workflows"
+	ArgoServer = root + "/argo-server.md"
+	CLI        = root + "/cli.md"
 
 	WorkflowTemplates                          = root + "/workflow-templates.md"
 	WorkflowTemplatesReferencingOtherTemplates = WorkflowTemplates + "#referencing-other-workflowtemplates"

From 37395d6818ba151213a1bb8338356cf553c2404a Mon Sep 17 00:00:00 2001
From: wanghong230 <wanghong230@gmail.com>
Date: Fri, 13 Aug 2021 13:03:13 -0700
Subject: [PATCH 037/137] fix: replace docker.io with quay.io to avoid the
 image pull limit (#6539)

Signed-off-by: Hong Wang <wanghong230@gmail.com>
---
 manifests/base/argo-server/argo-server-deployment.yaml      | 2 +-
 .../workflow-controller/workflow-controller-deployment.yaml | 4 ++--
 manifests/install.yaml                                      | 6 +++---
 manifests/namespace-install.yaml                            | 6 +++---
 manifests/quick-start-minimal.yaml                          | 6 +++---
 manifests/quick-start-mysql.yaml                            | 6 +++---
 manifests/quick-start-postgres.yaml                         | 6 +++---
 7 files changed, 18 insertions(+), 18 deletions(-)

diff --git a/manifests/base/argo-server/argo-server-deployment.yaml b/manifests/base/argo-server/argo-server-deployment.yaml
index d01698af5368..43bc7480eaa7 100644
--- a/manifests/base/argo-server/argo-server-deployment.yaml
+++ b/manifests/base/argo-server/argo-server-deployment.yaml
@@ -14,7 +14,7 @@ spec:
       serviceAccountName: argo-server
       containers:
         - name: argo-server
-          image: docker.io/argoproj/argocli:latest
+          image: quay.io/argoproj/argocli:latest
           securityContext:
             capabilities:
               drop:
diff --git a/manifests/base/workflow-controller/workflow-controller-deployment.yaml b/manifests/base/workflow-controller/workflow-controller-deployment.yaml
index 3deacb6e0260..465fa1a577b2 100644
--- a/manifests/base/workflow-controller/workflow-controller-deployment.yaml
+++ b/manifests/base/workflow-controller/workflow-controller-deployment.yaml
@@ -14,7 +14,7 @@ spec:
       serviceAccountName: argo
       containers:
         - name: workflow-controller
-          image: docker.io/argoproj/workflow-controller:latest
+          image: quay.io/argoproj/workflow-controller:latest
           securityContext:
             readOnlyRootFilesystem: true
             runAsNonRoot: true
@@ -28,7 +28,7 @@ spec:
             - --configmap
             - workflow-controller-configmap
             - --executor-image
-            - argoproj/argoexec:latest
+            - quay.io/argoproj/argoexec:latest
           env:
             - name: LEADER_ELECTION_IDENTITY
               valueFrom:
diff --git a/manifests/install.yaml b/manifests/install.yaml
index 803627bbaa32..3ea08dc67983 100644
--- a/manifests/install.yaml
+++ b/manifests/install.yaml
@@ -603,7 +603,7 @@ spec:
       containers:
       - args:
         - server
-        image: docker.io/argoproj/argocli:latest
+        image: quay.io/argoproj/argocli:latest
         name: argo-server
         ports:
         - containerPort: 2746
@@ -649,7 +649,7 @@ spec:
         - --configmap
         - workflow-controller-configmap
         - --executor-image
-        - argoproj/argoexec:latest
+        - quay.io/argoproj/argoexec:latest
         command:
         - workflow-controller
         env:
@@ -658,7 +658,7 @@ spec:
             fieldRef:
               apiVersion: v1
               fieldPath: metadata.name
-        image: docker.io/argoproj/workflow-controller:latest
+        image: quay.io/argoproj/workflow-controller:latest
         livenessProbe:
           failureThreshold: 3
           httpGet:
diff --git a/manifests/namespace-install.yaml b/manifests/namespace-install.yaml
index bab1dd7ce1f1..d4d5baa98bfe 100644
--- a/manifests/namespace-install.yaml
+++ b/manifests/namespace-install.yaml
@@ -495,7 +495,7 @@ spec:
       - args:
         - server
         - --namespaced
-        image: docker.io/argoproj/argocli:latest
+        image: quay.io/argoproj/argocli:latest
         name: argo-server
         ports:
         - containerPort: 2746
@@ -541,7 +541,7 @@ spec:
         - --configmap
         - workflow-controller-configmap
         - --executor-image
-        - argoproj/argoexec:latest
+        - quay.io/argoproj/argoexec:latest
         - --namespaced
         command:
         - workflow-controller
@@ -551,7 +551,7 @@ spec:
             fieldRef:
               apiVersion: v1
               fieldPath: metadata.name
-        image: docker.io/argoproj/workflow-controller:latest
+        image: quay.io/argoproj/workflow-controller:latest
         livenessProbe:
           failureThreshold: 3
           httpGet:
diff --git a/manifests/quick-start-minimal.yaml b/manifests/quick-start-minimal.yaml
index 650cc3afbbfd..ec7e827a2824 100644
--- a/manifests/quick-start-minimal.yaml
+++ b/manifests/quick-start-minimal.yaml
@@ -831,7 +831,7 @@ spec:
         - server
         - --auth-mode
         - client
-        image: docker.io/argoproj/argocli:latest
+        image: quay.io/argoproj/argocli:latest
         name: argo-server
         ports:
         - containerPort: 2746
@@ -926,7 +926,7 @@ spec:
         - --configmap
         - workflow-controller-configmap
         - --executor-image
-        - argoproj/argoexec:latest
+        - quay.io/argoproj/argoexec:latest
         - --namespaced
         command:
         - workflow-controller
@@ -936,7 +936,7 @@ spec:
             fieldRef:
               apiVersion: v1
               fieldPath: metadata.name
-        image: docker.io/argoproj/workflow-controller:latest
+        image: quay.io/argoproj/workflow-controller:latest
         livenessProbe:
           failureThreshold: 3
           httpGet:
diff --git a/manifests/quick-start-mysql.yaml b/manifests/quick-start-mysql.yaml
index d087a435c547..248f9dbe4a86 100644
--- a/manifests/quick-start-mysql.yaml
+++ b/manifests/quick-start-mysql.yaml
@@ -875,7 +875,7 @@ spec:
         - server
         - --auth-mode
         - client
-        image: docker.io/argoproj/argocli:latest
+        image: quay.io/argoproj/argocli:latest
         name: argo-server
         ports:
         - containerPort: 2746
@@ -1015,7 +1015,7 @@ spec:
         - --configmap
         - workflow-controller-configmap
         - --executor-image
-        - argoproj/argoexec:latest
+        - quay.io/argoproj/argoexec:latest
         - --namespaced
         command:
         - workflow-controller
@@ -1025,7 +1025,7 @@ spec:
             fieldRef:
               apiVersion: v1
               fieldPath: metadata.name
-        image: docker.io/argoproj/workflow-controller:latest
+        image: quay.io/argoproj/workflow-controller:latest
         livenessProbe:
           failureThreshold: 3
           httpGet:
diff --git a/manifests/quick-start-postgres.yaml b/manifests/quick-start-postgres.yaml
index 748eca575fb1..c697c9bc2b04 100644
--- a/manifests/quick-start-postgres.yaml
+++ b/manifests/quick-start-postgres.yaml
@@ -875,7 +875,7 @@ spec:
         - server
         - --auth-mode
         - client
-        image: docker.io/argoproj/argocli:latest
+        image: quay.io/argoproj/argocli:latest
         name: argo-server
         ports:
         - containerPort: 2746
@@ -1007,7 +1007,7 @@ spec:
         - --configmap
         - workflow-controller-configmap
         - --executor-image
-        - argoproj/argoexec:latest
+        - quay.io/argoproj/argoexec:latest
         - --namespaced
         command:
         - workflow-controller
@@ -1017,7 +1017,7 @@ spec:
             fieldRef:
               apiVersion: v1
               fieldPath: metadata.name
-        image: docker.io/argoproj/workflow-controller:latest
+        image: quay.io/argoproj/workflow-controller:latest
         livenessProbe:
           failureThreshold: 3
           httpGet:

From f711ce4d5352b025f366f8e81ebbe9e457cc9054 Mon Sep 17 00:00:00 2001
From: wanghong230 <wanghong230@gmail.com>
Date: Mon, 16 Aug 2021 11:29:30 -0700
Subject: [PATCH 038/137] fix: use golangci-lint v1.37.0 to support apple M1
 (#6548)

Signed-off-by: Hong Wang <wanghong230@gmail.com>
---
 Makefile | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/Makefile b/Makefile
index d532b826d128..8ec125cd2d8e 100644
--- a/Makefile
+++ b/Makefile
@@ -390,7 +390,7 @@ dist/manifests/%: manifests/%
 # lint/test/etc
 
 $(GOPATH)/bin/golangci-lint:
-	curl -sSfL https://raw.githubusercontent.com/golangci/golangci-lint/master/install.sh | sh -s -- -b `go env GOPATH`/bin v1.36.0
+	curl -sSfL https://raw.githubusercontent.com/golangci/golangci-lint/master/install.sh | sh -s -- -b `go env GOPATH`/bin v1.37.0
 
 .PHONY: lint
 lint: server/static/files.go $(GOPATH)/bin/golangci-lint

From 15e1db9ea65dac0ddaf065687443ffc92b994de1 Mon Sep 17 00:00:00 2001
From: Yuan Tang <terrytangyuan@gmail.com>
Date: Mon, 16 Aug 2021 14:30:24 -0400
Subject: [PATCH 039/137] build: Switch to use kustomize subcommand in kubectl
 (#6546)

Signed-off-by: Yuan Tang <terrytangyuan@gmail.com>
---
 .github/workflows/ci-build.yaml     |  4 ----
 Makefile                            | 32 +++++++++++------------------
 docs/running-locally.md             |  1 -
 manifests/quick-start-minimal.yaml  |  2 +-
 manifests/quick-start-mysql.yaml    |  2 +-
 manifests/quick-start-postgres.yaml |  2 +-
 6 files changed, 15 insertions(+), 28 deletions(-)

diff --git a/.github/workflows/ci-build.yaml b/.github/workflows/ci-build.yaml
index fce413d1e57e..620ebed35559 100644
--- a/.github/workflows/ci-build.yaml
+++ b/.github/workflows/ci-build.yaml
@@ -88,10 +88,6 @@ jobs:
         with:
           path: /home/runner/go/bin
           key: go-bin-v1-${{ hashFiles('**/go.mod') }}
-      - uses: actions/cache@v2
-        with:
-          path: dist/kustomize
-          key: kustomize
       - run: mkdir -p /tmp/log/argo-e2e
       - name: Install and start K3S
         timeout-minutes: 3
diff --git a/Makefile b/Makefile
index 8ec125cd2d8e..a952997a0a34 100644
--- a/Makefile
+++ b/Makefile
@@ -352,14 +352,6 @@ pkg/apiclient/workflowtemplate/workflow-template.swagger.json: $(PROTO_BINARIES)
 manifests/base/crds/full/argoproj.io_workflows.yaml: $(GOPATH)/bin/controller-gen $(TYPES) ./hack/crdgen.sh ./hack/crds.go
 	./hack/crdgen.sh
 
-dist/kustomize:
-	mkdir -p dist
-	rm -f dist/kustomize
-	./hack/recurl.sh dist/install_kustomize.sh https://raw.githubusercontent.com/kubernetes-sigs/kustomize/master/hack/install_kustomize.sh
-	chmod +x ./dist/install_kustomize.sh
-	cd dist && ./install_kustomize.sh 3.8.8
-	dist/kustomize version
-
 manifests: \
 	manifests/install.yaml \
 	manifests/namespace-install.yaml \
@@ -372,16 +364,16 @@ manifests: \
 	dist/manifests/quick-start-mysql.yaml \
 	dist/manifests/quick-start-postgres.yaml
 
-manifests/install.yaml: dist/kustomize /dev/null
-	dist/kustomize build --load_restrictor=none manifests/cluster-install | ./hack/auto-gen-msg.sh > manifests/install.yaml
-manifests/namespace-install.yaml: dist/kustomize /dev/null
-	dist/kustomize build --load_restrictor=none manifests/namespace-install | ./hack/auto-gen-msg.sh > manifests/namespace-install.yaml
-manifests/quick-start-minimal.yaml: dist/kustomize /dev/null
-	dist/kustomize build --load_restrictor=none manifests/quick-start/minimal | ./hack/auto-gen-msg.sh > manifests/quick-start-minimal.yaml
-manifests/quick-start-mysql.yaml: dist/kustomize /dev/null
-	dist/kustomize build --load_restrictor=none manifests/quick-start/mysql | ./hack/auto-gen-msg.sh > manifests/quick-start-mysql.yaml
-manifests/quick-start-postgres.yaml: dist/kustomize /dev/null
-	dist/kustomize build --load_restrictor=none manifests/quick-start/postgres | ./hack/auto-gen-msg.sh > manifests/quick-start-postgres.yaml
+manifests/install.yaml: /dev/null
+	kubectl kustomize --load-restrictor=LoadRestrictionsNone manifests/cluster-install | ./hack/auto-gen-msg.sh > manifests/install.yaml
+manifests/namespace-install.yaml: /dev/null
+	kubectl kustomize --load-restrictor=LoadRestrictionsNone manifests/namespace-install | ./hack/auto-gen-msg.sh > manifests/namespace-install.yaml
+manifests/quick-start-minimal.yaml: /dev/null
+	kubectl kustomize --load-restrictor=LoadRestrictionsNone manifests/quick-start/minimal | ./hack/auto-gen-msg.sh > manifests/quick-start-minimal.yaml
+manifests/quick-start-mysql.yaml: /dev/null
+	kubectl kustomize --load-restrictor=LoadRestrictionsNone manifests/quick-start/mysql | ./hack/auto-gen-msg.sh > manifests/quick-start-mysql.yaml
+manifests/quick-start-postgres.yaml: /dev/null
+	kubectl kustomize --load-restrictor=LoadRestrictionsNone manifests/quick-start/postgres | ./hack/auto-gen-msg.sh > manifests/quick-start-postgres.yaml
 
 dist/manifests/%: manifests/%
 	@mkdir -p dist/manifests
@@ -407,11 +399,11 @@ test: server/static/files.go dist/argosay
 	env KUBECONFIG=/dev/null $(GOTEST) ./...
 
 .PHONY: install
-install: dist/kustomize
+install:
 	kubectl get ns $(KUBE_NAMESPACE) || kubectl create ns $(KUBE_NAMESPACE)
 	kubectl config set-context --current --namespace=$(KUBE_NAMESPACE)
 	@echo "installing PROFILE=$(PROFILE), E2E_EXECUTOR=$(E2E_EXECUTOR)"
-	dist/kustomize build --load_restrictor=none test/e2e/manifests/$(PROFILE) | sed 's/argoproj\//$(IMAGE_NAMESPACE)\//' | sed 's/containerRuntimeExecutor: docker/containerRuntimeExecutor: $(E2E_EXECUTOR)/' | kubectl -n $(KUBE_NAMESPACE) apply --prune -l app.kubernetes.io/part-of=argo -f -
+	kubectl kustomize --load-restrictor=LoadRestrictionsNone test/e2e/manifests/$(PROFILE) | sed 's/argoproj\//$(IMAGE_NAMESPACE)\//' | sed 's/containerRuntimeExecutor: docker/containerRuntimeExecutor: $(E2E_EXECUTOR)/' | kubectl -n $(KUBE_NAMESPACE) apply --prune -l app.kubernetes.io/part-of=argo -f -
 ifeq ($(PROFILE),stress)
 	kubectl -n $(KUBE_NAMESPACE) apply -f test/stress/massive-workflow.yaml
 endif
diff --git a/docs/running-locally.md b/docs/running-locally.md
index a675b56bb128..9b9480a14913 100644
--- a/docs/running-locally.md
+++ b/docs/running-locally.md
@@ -5,7 +5,6 @@
 * [Go](https://golang.org/dl/) (The project currently uses version 1.15)
 * [Yarn](https://classic.yarnpkg.com/en/docs/install/#mac-stable)
 * [Docker](https://docs.docker.com/get-docker/)
-* [Kustomize](https://kubectl.docs.kubernetes.io/installation/kustomize/)
 * [protoc](http://google.github.io/proto-lens/installing-protoc.html) `brew install protobuf`
 * [`jq`](https://stedolan.github.io/jq/download/)
 * A local Kubernetes cluster
diff --git a/manifests/quick-start-minimal.yaml b/manifests/quick-start-minimal.yaml
index ec7e827a2824..78a3bdb31cae 100644
--- a/manifests/quick-start-minimal.yaml
+++ b/manifests/quick-start-minimal.yaml
@@ -754,7 +754,7 @@ stringData:
   github.com: |
     type: github
     secret: "shh!"
-  gitlab.com: |
+  gitlab.com: |-
     type: gitlab
     secret: "shh!"
 ---
diff --git a/manifests/quick-start-mysql.yaml b/manifests/quick-start-mysql.yaml
index 248f9dbe4a86..2f50074bc1ab 100644
--- a/manifests/quick-start-mysql.yaml
+++ b/manifests/quick-start-mysql.yaml
@@ -784,7 +784,7 @@ stringData:
   github.com: |
     type: github
     secret: "shh!"
-  gitlab.com: |
+  gitlab.com: |-
     type: gitlab
     secret: "shh!"
 ---
diff --git a/manifests/quick-start-postgres.yaml b/manifests/quick-start-postgres.yaml
index c697c9bc2b04..dd18dc5724ff 100644
--- a/manifests/quick-start-postgres.yaml
+++ b/manifests/quick-start-postgres.yaml
@@ -784,7 +784,7 @@ stringData:
   github.com: |
     type: github
     secret: "shh!"
-  gitlab.com: |
+  gitlab.com: |-
     type: gitlab
     secret: "shh!"
 ---

From 5464c4c7b7ddacfc02a59322e38c0ed53c28901d Mon Sep 17 00:00:00 2001
From: Yuan Tang <terrytangyuan@gmail.com>
Date: Tue, 17 Aug 2021 15:29:07 -0400
Subject: [PATCH 040/137] build: Add missing libcap binary to fix argoexec
 image build (#6559)

Signed-off-by: Yuan Tang <terrytangyuan@gmail.com>
---
 Dockerfile | 1 +
 1 file changed, 1 insertion(+)

diff --git a/Dockerfile b/Dockerfile
index ad2866e0a570..0800cd693073 100644
--- a/Dockerfile
+++ b/Dockerfile
@@ -16,6 +16,7 @@ RUN apt-get update && apt-get --no-install-recommends install -y \
     ca-certificates \
     wget \
     gcc \
+    libcap2-bin \
     zip && \
     apt-get clean \
     && rm -rf \

From 478d794693b3a965e3ba587da2c67e5e1effa418 Mon Sep 17 00:00:00 2001
From: David Collom <david@collom.co.uk>
Date: Tue, 17 Aug 2021 21:47:27 +0100
Subject: [PATCH 041/137] fix: Generate TLS Certificates on startup and only
 keep in memory (#6540)

Signed-off-by: David Collom <david.collom@jetstack.io>
---
 .gitignore                       |   2 -
 Dockerfile                       |   2 -
 Makefile                         |   9 +--
 cmd/argo/commands/server.go      |  16 ++---
 cmd/argo/commands/server_test.go |  16 +----
 util/tls/tls.go                  | 102 +++++++++++++++++++++++++++++++
 util/tls/tls_test.go             |  39 ++++++++++++
 7 files changed, 152 insertions(+), 34 deletions(-)
 create mode 100644 util/tls/tls.go
 create mode 100644 util/tls/tls_test.go

diff --git a/.gitignore b/.gitignore
index d879edd26677..fe396556a4af 100644
--- a/.gitignore
+++ b/.gitignore
@@ -20,8 +20,6 @@ git-ask-pass.sh
 /workflow-controller
 /.scannerwork/
 /test-results/
-/argo-server.crt
-/argo-server.key
 /package-lock.json
 /pkg/apiclient/_.secondary.swagger.json
 /pkg/apiclient/clusterworkflowtemplate/cluster-workflow-template.swagger.json
diff --git a/Dockerfile b/Dockerfile
index 0800cd693073..3d3a1e6b89ed 100644
--- a/Dockerfile
+++ b/Dockerfile
@@ -146,8 +146,6 @@ WORKDIR /home/argo
 COPY hack/ssh_known_hosts /etc/ssh/
 COPY hack/nsswitch.conf /etc/
 COPY --from=argocli-build /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/
-COPY --from=argocli-build --chown=8737 /go/src/github.com/argoproj/argo-workflows/argo-server.crt /home/argo/
-COPY --from=argocli-build --chown=8737 /go/src/github.com/argoproj/argo-workflows/argo-server.key /home/argo/
 COPY --from=argocli-build /go/src/github.com/argoproj/argo-workflows/dist/argo /bin/
 
 ENTRYPOINT [ "argo" ]
diff --git a/Makefile b/Makefile
index a952997a0a34..0f3480fda9ee 100644
--- a/Makefile
+++ b/Makefile
@@ -174,10 +174,10 @@ dist/argo-linux-s390x: GOARGS = GOOS=linux GOARCH=s390x
 dist/argo-%.gz: dist/argo-%
 	gzip --force --keep dist/argo-$*
 
-dist/argo-%: server/static/files.go argo-server.crt argo-server.key $(CLI_PKGS) go.sum
+dist/argo-%: server/static/files.go $(CLI_PKGS) go.sum
 	CGO_ENABLED=0 $(GOARGS) go build -v -ldflags '${LDFLAGS} -extldflags -static' -o $@ ./cmd/argo
 
-dist/argo: server/static/files.go argo-server.crt argo-server.key $(CLI_PKGS) go.sum
+dist/argo: server/static/files.go $(CLI_PKGS) go.sum
 ifeq ($(shell uname -s),Darwin)
 	# if local, then build fast: use CGO and dynamic-linking
 	go build -v -ldflags '${LDFLAGS}' -o $@ ./cmd/argo
@@ -185,11 +185,6 @@ else
 	CGO_ENABLED=0 go build -v -ldflags '${LDFLAGS} -extldflags -static' -o $@ ./cmd/argo
 endif
 
-argo-server.crt: argo-server.key
-
-argo-server.key:
-	openssl req -x509 -newkey rsa:4096 -keyout argo-server.key -out argo-server.crt -days 365 -nodes -subj /CN=localhost/O=ArgoProj
-
 argocli-image:
 
 .PHONY: clis
diff --git a/cmd/argo/commands/server.go b/cmd/argo/commands/server.go
index f8f1cc2ac899..f96b59b00ca8 100644
--- a/cmd/argo/commands/server.go
+++ b/cmd/argo/commands/server.go
@@ -31,6 +31,7 @@ import (
 	"github.com/argoproj/argo-workflows/v3/server/types"
 	"github.com/argoproj/argo-workflows/v3/util/cmd"
 	"github.com/argoproj/argo-workflows/v3/util/help"
+	tlsutils "github.com/argoproj/argo-workflows/v3/util/tls"
 )
 
 func NewServerCommand() *cobra.Command {
@@ -99,18 +100,19 @@ See %s`, help.ArgoServer),
 
 			var tlsConfig *tls.Config
 			if secure {
-				cer, err := tls.LoadX509KeyPair("argo-server.crt", "argo-server.key")
+				log.Infof("Generating Self Signed TLS Certificates for Secure Mode")
+				tlsMinVersion, err := env.GetInt("TLS_MIN_VERSION", tls.VersionTLS12)
 				if err != nil {
 					return err
 				}
-				tlsMinVersion, err := env.GetInt("TLS_MIN_VERSION", tls.VersionTLS12)
+				var cer *tls.Certificate
+				cer, err = tlsutils.GenerateX509KeyPair()
 				if err != nil {
 					return err
 				}
 				tlsConfig = &tls.Config{
-					Certificates:       []tls.Certificate{cer},
-					InsecureSkipVerify: true,
-					MinVersion:         uint16(tlsMinVersion),
+					Certificates: []tls.Certificate{*cer},
+					MinVersion:   uint16(tlsMinVersion),
 				}
 			} else {
 				log.Warn("You are running in insecure mode. Learn how to enable transport layer security: https://argoproj.github.io/argo-workflows/tls/")
@@ -182,9 +184,7 @@ See %s`, help.ArgoServer),
 	}
 	command.Flags().StringVar(&baseHRef, "basehref", defaultBaseHRef, "Value for base href in index.html. Used if the server is running behind reverse proxy under subpath different from /. Defaults to the environment variable BASE_HREF.")
 	// "-e" for encrypt, like zip
-	// We default to secure mode if we find certs available, otherwise we default to insecure mode.
-	_, err := os.Stat("argo-server.crt")
-	command.Flags().BoolVarP(&secure, "secure", "e", !os.IsNotExist(err), "Whether or not we should listen on TLS.")
+	command.Flags().BoolVarP(&secure, "secure", "e", true, "Whether or not we should listen on TLS.")
 	command.Flags().BoolVar(&htst, "hsts", true, "Whether or not we should add a HTTP Secure Transport Security header. This only has effect if secure is enabled.")
 	command.Flags().StringArrayVar(&authModes, "auth-mode", []string{"client"}, "API server authentication mode. Any 1 or more length permutation of: client,server,sso")
 	command.Flags().StringVar(&configMap, "configmap", "workflow-controller-configmap", "Name of K8s configmap to retrieve workflow controller configuration")
diff --git a/cmd/argo/commands/server_test.go b/cmd/argo/commands/server_test.go
index 965322ed6b9b..2aa3dc70cd6d 100644
--- a/cmd/argo/commands/server_test.go
+++ b/cmd/argo/commands/server_test.go
@@ -1,27 +1,13 @@
 package commands
 
 import (
-	"os"
 	"testing"
 
 	"github.com/stretchr/testify/assert"
 )
 
 func TestDefaultSecureMode(t *testing.T) {
-	// No certs: We should run insecure
+	// Secure mode by default
 	cmd := NewServerCommand()
-	assert.Equal(t, "false", cmd.Flag("secure").Value.String())
-
-	// Clean up and delete tests files
-	defer func() {
-		_ = os.Remove("argo-server.crt")
-		_ = os.Remove("argo-server.key")
-	}()
-
-	_, _ = os.Create("argo-server.crt")
-	_, _ = os.Create("argo-server.key")
-
-	// No certs: We should secure
-	cmd = NewServerCommand()
 	assert.Equal(t, "true", cmd.Flag("secure").Value.String())
 }
diff --git a/util/tls/tls.go b/util/tls/tls.go
new file mode 100644
index 000000000000..227b04e2c9c7
--- /dev/null
+++ b/util/tls/tls.go
@@ -0,0 +1,102 @@
+package tls
+
+import (
+	"crypto"
+	"crypto/ecdsa"
+	"crypto/elliptic"
+	"crypto/rand"
+	"crypto/tls"
+	"crypto/x509"
+	"crypto/x509/pkix"
+	"encoding/pem"
+	"fmt"
+	"log"
+	"math/big"
+	"net"
+	"os"
+	"time"
+)
+
+func pemBlockForKey(priv interface{}) *pem.Block {
+	switch k := priv.(type) {
+	case *ecdsa.PrivateKey:
+		b, err := x509.MarshalECPrivateKey(k)
+		if err != nil {
+			log.Fatal(err)
+			os.Exit(2)
+		}
+		return &pem.Block{Type: "EC PRIVATE KEY", Bytes: b}
+	default:
+		return nil
+	}
+}
+
+func generate() ([]byte, crypto.PrivateKey, error) {
+	hosts := []string{"localhost"}
+
+	var err error
+	privateKey, err := ecdsa.GenerateKey(elliptic.P256(), rand.Reader)
+	if err != nil {
+		return nil, nil, fmt.Errorf("failed to generate private key: %s", err)
+	}
+
+	notBefore := time.Now()
+	notAfter := notBefore.Add(365 * 24 * time.Hour)
+
+	serialNumberLimit := new(big.Int).Lsh(big.NewInt(1), 128)
+	serialNumber, err := rand.Int(rand.Reader, serialNumberLimit)
+	if err != nil {
+		return nil, nil, fmt.Errorf("failed to generate serial number: %s", err)
+	}
+
+	template := x509.Certificate{
+		SerialNumber: serialNumber,
+		Subject: pkix.Name{
+			Organization: []string{"ArgoProj"},
+		},
+		NotBefore: notBefore,
+		NotAfter:  notAfter,
+
+		KeyUsage:              x509.KeyUsageKeyEncipherment | x509.KeyUsageDigitalSignature,
+		ExtKeyUsage:           []x509.ExtKeyUsage{x509.ExtKeyUsageServerAuth},
+		BasicConstraintsValid: true,
+	}
+
+	for _, h := range hosts {
+		if ip := net.ParseIP(h); ip != nil {
+			template.IPAddresses = append(template.IPAddresses, ip)
+		} else {
+			template.DNSNames = append(template.DNSNames, h)
+		}
+	}
+
+	certBytes, err := x509.CreateCertificate(rand.Reader, &template, &template, &privateKey.PublicKey, privateKey)
+	if err != nil {
+		return nil, nil, fmt.Errorf("failed to create certificate: %s", err)
+	}
+	return certBytes, privateKey, nil
+}
+
+// generatePEM generates a new certificate and key and returns it as PEM encoded bytes
+func generatePEM() ([]byte, []byte, error) {
+	certBytes, privateKey, err := generate()
+	if err != nil {
+		return nil, nil, err
+	}
+	certpem := pem.EncodeToMemory(&pem.Block{Type: "CERTIFICATE", Bytes: certBytes})
+	keypem := pem.EncodeToMemory(pemBlockForKey(privateKey))
+	return certpem, keypem, nil
+}
+
+// GenerateX509KeyPair generates a X509 key pair
+func GenerateX509KeyPair() (*tls.Certificate, error) {
+	certpem, keypem, err := generatePEM()
+	if err != nil {
+		return nil, err
+	}
+	cert, err := tls.X509KeyPair(certpem, keypem)
+	if err != nil {
+		return nil, err
+	}
+	return &cert, nil
+}
diff --git a/util/tls/tls_test.go b/util/tls/tls_test.go
new file mode 100644
index 000000000000..834a9f7d3e5d
--- /dev/null
+++ b/util/tls/tls_test.go
@@ -0,0 +1,39 @@
+package tls
+
+import (
+	"crypto/x509"
+	"testing"
+	"time"
+
+	"github.com/stretchr/testify/assert"
+)
+
+func TestGenerate(t *testing.T) {
+	t.Run("Create certificate with default options", func(t *testing.T) {
+		certBytes, privKey, err := generate()
+		assert.NoError(t, err)
+		assert.NotNil(t, privKey)
+		cert, err := x509.ParseCertificate(certBytes)
+		assert.NoError(t, err)
+		assert.NotNil(t, cert)
+		assert.Len(t, cert.DNSNames, 1)
+		assert.Equal(t, "localhost", cert.DNSNames[0])
+		assert.Empty(t, cert.IPAddresses)
+		assert.LessOrEqual(t, int64(time.Since(cert.NotBefore)), int64(10*time.Second))
+	})
+}
+
+func TestGeneratePEM(t *testing.T) {
+	t.Run("Create PEM from certficate options", func(t *testing.T) {
+		cert, key, err := generatePEM()
+		assert.NoError(t, err)
+		assert.NotNil(t, cert)
+		assert.NotNil(t, key)
+	})
+
+	t.Run("Create X509KeyPair", func(t *testing.T) {
+		cert, err := GenerateX509KeyPair()
+		assert.NoError(t, err)
+		assert.NotNil(t, cert)
+	})
+}

From d41c037027e062a149ce821dd377fb6b52269335 Mon Sep 17 00:00:00 2001
From: Aaron Mell <aaronamell@gmail.com>
Date: Tue, 17 Aug 2021 19:48:18 -0500
Subject: [PATCH 042/137] feat: S3 Encryption At Rest (#6549)

Signed-off-by: Aaron Mell <aaronamell@gmail.com>
---
 USERS.md                                      |    1 +
 api/jsonschema/schema.json                    |   32 +-
 api/openapi-spec/swagger.json                 |   32 +-
 docs/fields.md                                |   18 +-
 docs/workflow-controller-configmap.yaml       |   20 +
 go.mod                                        |    2 +-
 go.sum                                        |    4 +-
 .../argoproj.io_clusterworkflowtemplates.yaml |  260 +++
 .../crds/full/argoproj.io_cronworkflows.yaml  |  260 +++
 .../argoproj.io_workfloweventbindings.yaml    |   20 +
 .../base/crds/full/argoproj.io_workflows.yaml |  720 ++++++++
 .../full/argoproj.io_workflowtasksets.yaml    |  140 ++
 .../full/argoproj.io_workflowtemplates.yaml   |  260 +++
 pkg/apis/workflow/v1alpha1/generated.pb.go    | 1510 ++++++++++-------
 pkg/apis/workflow/v1alpha1/generated.proto    |   19 +-
 .../workflow/v1alpha1/openapi_generated.go    |   70 +-
 pkg/apis/workflow/v1alpha1/workflow_types.go  |   19 +-
 .../v1alpha1/zz_generated.deepcopy.go         |   26 +
 workflow/artifacts/artifacts.go               |   41 +-
 workflow/artifacts/s3/s3.go                   |   27 +-
 workflow/artifacts/s3/s3_test.go              |    3 +
 21 files changed, 2869 insertions(+), 615 deletions(-)

diff --git a/USERS.md b/USERS.md
index c0b65edf3438..b73e12f62e4a 100644
--- a/USERS.md
+++ b/USERS.md
@@ -84,6 +84,7 @@ Currently, the following organizations are **officially** using Argo Workflows:
 1. [Kasa](https://www.kasa.co.kr/)
 1. [KintoHub](https://www.kintohub.com/)
 1. [Localytics](https://www.localytics.com/)
+1. [Lumin Digital](https://lumindigital.com/)
 1. [Maersk](https://www.maersk.com/solutions/digital-solutions)
 1. [Marmalade](https://www.marmalade.co/)
 1. [Max Kelsen](https://maxkelsen.com/)
diff --git a/api/jsonschema/schema.json b/api/jsonschema/schema.json
index c1b7805ba304..4dde50a7f74d 100644
--- a/api/jsonschema/schema.json
+++ b/api/jsonschema/schema.json
@@ -5916,7 +5916,10 @@
         },
         "createBucketIfNotPresent": {
           "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.CreateS3BucketOptions",
-          "description": "CreateBucketIfNotPresent tells the driver to attempt to create the S3 bucket for output artifacts, if it doesn't exist"
+          "description": "CreateBucketIfNotPresent tells the driver to attempt to create the S3 bucket for output artifacts, if it doesn't exist. Setting Enabled Encryption will apply either SSE-S3 to the bucket if KmsKeyId is not set or SSE-KMS if it is."
+        },
+        "encryptionOptions": {
+          "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.S3EncryptionOptions"
         },
         "endpoint": {
           "description": "Endpoint is the hostname of the bucket endpoint",
@@ -5962,7 +5965,10 @@
         },
         "createBucketIfNotPresent": {
           "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.CreateS3BucketOptions",
-          "description": "CreateBucketIfNotPresent tells the driver to attempt to create the S3 bucket for output artifacts, if it doesn't exist"
+          "description": "CreateBucketIfNotPresent tells the driver to attempt to create the S3 bucket for output artifacts, if it doesn't exist. Setting Enabled Encryption will apply either SSE-S3 to the bucket if KmsKeyId is not set or SSE-KMS if it is."
+        },
+        "encryptionOptions": {
+          "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.S3EncryptionOptions"
         },
         "endpoint": {
           "description": "Endpoint is the hostname of the bucket endpoint",
@@ -5999,6 +6005,28 @@
       },
       "type": "object"
     },
+    "io.argoproj.workflow.v1alpha1.S3EncryptionOptions": {
+      "description": "S3EncryptionOptions used to determine encryption options during s3 operations",
+      "properties": {
+        "enableEncryption": {
+          "description": "EnableEncryption tells the driver to encrypt objects if set to true. If kmsKeyId and serverSideCustomerKeySecret are not set, SSE-S3 will be used",
+          "type": "boolean"
+        },
+        "kmsEncryptionContext": {
+          "description": "KmsEncryptionContext is a json blob that contains an encryption context. See https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#encrypt_context for more information",
+          "type": "string"
+        },
+        "kmsKeyId": {
+          "description": "KMSKeyId tells the driver to encrypt the object using the specified KMS Key.",
+          "type": "string"
+        },
+        "serverSideCustomerKeySecret": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.SecretKeySelector",
+          "description": "ServerSideCustomerKeySecret tells the driver to encrypt the output artifacts using SSE-C with the specified secret."
+        }
+      },
+      "type": "object"
+    },
     "io.argoproj.workflow.v1alpha1.ScriptTemplate": {
       "description": "ScriptTemplate is a template subtype to enable scripting through code steps",
       "properties": {
diff --git a/api/openapi-spec/swagger.json b/api/openapi-spec/swagger.json
index 70973fa71f73..ed8891fbc598 100644
--- a/api/openapi-spec/swagger.json
+++ b/api/openapi-spec/swagger.json
@@ -9896,9 +9896,12 @@
           "type": "string"
         },
         "createBucketIfNotPresent": {
-          "description": "CreateBucketIfNotPresent tells the driver to attempt to create the S3 bucket for output artifacts, if it doesn't exist",
+          "description": "CreateBucketIfNotPresent tells the driver to attempt to create the S3 bucket for output artifacts, if it doesn't exist. Setting Enabled Encryption will apply either SSE-S3 to the bucket if KmsKeyId is not set or SSE-KMS if it is.",
           "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.CreateS3BucketOptions"
         },
+        "encryptionOptions": {
+          "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.S3EncryptionOptions"
+        },
         "endpoint": {
           "description": "Endpoint is the hostname of the bucket endpoint",
           "type": "string"
@@ -9942,9 +9945,12 @@
           "type": "string"
         },
         "createBucketIfNotPresent": {
-          "description": "CreateBucketIfNotPresent tells the driver to attempt to create the S3 bucket for output artifacts, if it doesn't exist",
+          "description": "CreateBucketIfNotPresent tells the driver to attempt to create the S3 bucket for output artifacts, if it doesn't exist. Setting Enabled Encryption will apply either SSE-S3 to the bucket if KmsKeyId is not set or SSE-KMS if it is.",
           "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.CreateS3BucketOptions"
         },
+        "encryptionOptions": {
+          "$ref": "#/definitions/io.argoproj.workflow.v1alpha1.S3EncryptionOptions"
+        },
         "endpoint": {
           "description": "Endpoint is the hostname of the bucket endpoint",
           "type": "string"
@@ -9979,6 +9985,28 @@
         }
       }
     },
+    "io.argoproj.workflow.v1alpha1.S3EncryptionOptions": {
+      "description": "S3EncryptionOptions used to determine encryption options during s3 operations",
+      "type": "object",
+      "properties": {
+        "enableEncryption": {
+          "description": "EnableEncryption tells the driver to encrypt objects if set to true. If kmsKeyId and serverSideCustomerKeySecret are not set, SSE-S3 will be used",
+          "type": "boolean"
+        },
+        "kmsEncryptionContext": {
+          "description": "KmsEncryptionContext is a json blob that contains an encryption context. See https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#encrypt_context for more information",
+          "type": "string"
+        },
+        "kmsKeyId": {
+          "description": "KMSKeyId tells the driver to encrypt the object using the specified KMS Key.",
+          "type": "string"
+        },
+        "serverSideCustomerKeySecret": {
+          "description": "ServerSideCustomerKeySecret tells the driver to encrypt the output artifacts using SSE-C with the specified secret.",
+          "$ref": "#/definitions/io.k8s.api.core.v1.SecretKeySelector"
+        }
+      }
+    },
     "io.argoproj.workflow.v1alpha1.ScriptTemplate": {
       "description": "ScriptTemplate is a template subtype to enable scripting through code steps",
       "type": "object",
diff --git a/docs/fields.md b/docs/fields.md
index 398b4c2eaaae..a8ffc4920961 100644
--- a/docs/fields.md
+++ b/docs/fields.md
@@ -3701,7 +3701,8 @@ S3Artifact is the location of an S3 artifact
 |:----------:|:----------:|---------------|
 |`accessKeySecret`|[`SecretKeySelector`](#secretkeyselector)|AccessKeySecret is the secret selector to the bucket's access key|
 |`bucket`|`string`|Bucket is the name of the bucket|
-|`createBucketIfNotPresent`|[`CreateS3BucketOptions`](#creates3bucketoptions)|CreateBucketIfNotPresent tells the driver to attempt to create the S3 bucket for output artifacts, if it doesn't exist|
+|`createBucketIfNotPresent`|[`CreateS3BucketOptions`](#creates3bucketoptions)|CreateBucketIfNotPresent tells the driver to attempt to create the S3 bucket for output artifacts, if it doesn't exist. Setting Enabled Encryption will apply either SSE-S3 to the bucket if KmsKeyId is not set or SSE-KMS if it is.|
+|`encryptionOptions`|[`S3EncryptionOptions`](#s3encryptionoptions)|_No description available_|
 |`endpoint`|`string`|Endpoint is the hostname of the bucket endpoint|
 |`insecure`|`boolean`|Insecure will connect to the service with TLS|
 |`key`|`string`|Key is the key in the bucket where the artifact resides|
@@ -4375,7 +4376,8 @@ S3ArtifactRepository defines the controller configuration for an S3 artifact rep
 |:----------:|:----------:|---------------|
 |`accessKeySecret`|[`SecretKeySelector`](#secretkeyselector)|AccessKeySecret is the secret selector to the bucket's access key|
 |`bucket`|`string`|Bucket is the name of the bucket|
-|`createBucketIfNotPresent`|[`CreateS3BucketOptions`](#creates3bucketoptions)|CreateBucketIfNotPresent tells the driver to attempt to create the S3 bucket for output artifacts, if it doesn't exist|
+|`createBucketIfNotPresent`|[`CreateS3BucketOptions`](#creates3bucketoptions)|CreateBucketIfNotPresent tells the driver to attempt to create the S3 bucket for output artifacts, if it doesn't exist. Setting Enabled Encryption will apply either SSE-S3 to the bucket if KmsKeyId is not set or SSE-KMS if it is.|
+|`encryptionOptions`|[`S3EncryptionOptions`](#s3encryptionoptions)|_No description available_|
 |`endpoint`|`string`|Endpoint is the hostname of the bucket endpoint|
 |`insecure`|`boolean`|Insecure will connect to the service with TLS|
 |`keyFormat`|`string`|KeyFormat is defines the format of how to store keys. Can reference workflow variables|
@@ -4471,6 +4473,18 @@ CreateS3BucketOptions options used to determine automatic automatic bucket-creat
 |:----------:|:----------:|---------------|
 |`objectLocking`|`boolean`|ObjectLocking Enable object locking|
 
+## S3EncryptionOptions
+
+S3EncryptionOptions used to determine encryption options during s3 operations
+
+### Fields
+| Field Name | Field Type | Description   |
+|:----------:|:----------:|---------------|
+|`enableEncryption`|`boolean`|EnableEncryption tells the driver to encrypt objects if set to true. If kmsKeyId and serverSideCustomerKeySecret are not set, SSE-S3 will be used|
+|`kmsEncryptionContext`|`string`|KmsEncryptionContext is a json blob that contains an encryption context. See https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#encrypt_context for more information|
+|`kmsKeyId`|`string`|KMSKeyId tells the driver to encrypt the object using the specified KMS Key.|
+|`serverSideCustomerKeySecret`|[`SecretKeySelector`](#secretkeyselector)|ServerSideCustomerKeySecret tells the driver to encrypt the output artifacts using SSE-C with the specified secret.|
+
 ## SuppliedValueFrom
 
 SuppliedValueFrom is a placeholder for a value to be filled in directly, either through the CLI, API, etc.
diff --git a/docs/workflow-controller-configmap.yaml b/docs/workflow-controller-configmap.yaml
index d9ade04fc53b..9cfb71fc13c2 100644
--- a/docs/workflow-controller-configmap.yaml
+++ b/docs/workflow-controller-configmap.yaml
@@ -119,6 +119,26 @@ data:
       # `spec.template.spec.securityContext.fsGroup: 65534` configuration. This is required for IRSA to be able to access 
       # `/var/run/secrets/eks.amazonaws.com/serviceaccount/token` file, and authenticate with AWS.
       useSDKCreds: false
+      
+      encryptionOptions:
+        # If this is set to true, SSE-S3 encryption will be used to store objects
+        # unless kmsKeyId or serverSideCustomerKeySecret is set 
+        enableEncryption: false
+        # A valid kms key id. If this value is set, the object stored in s3 will be encrypted with SSE-KMS
+        # Note: You cannot set both kmsKeyId and serverSideCustomerKeySecret
+        # kmsKeyId: ''
+        # Allows you to set a json blob of simple key value pairs. See 
+        # https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#encrypt_context
+        # for more information
+        # kmsEncryptionContext: ''
+        # The actual secret object (in this example my-s3-credentials), 
+        # should be created when using a custom secret to encrypt objects in using SSE-C
+        # Note: You cannot set both kmsKeyId and serverSideCustomerKeySecret
+        # serverSideCustomerKeySecret:
+        #  name: my-s3-credentials
+        #  key: secretKey
+
+      
 
   # Specifies the container runtime interface to use (default: docker)
   # must be one of: docker, kubelet, k8sapi, pns, emissary
diff --git a/go.mod b/go.mod
index 5cb95a436a99..054811fe93b7 100644
--- a/go.mod
+++ b/go.mod
@@ -12,7 +12,7 @@ require (
 	github.com/antonmedv/expr v1.8.9
 	github.com/argoproj-labs/argo-dataflow v0.0.88
 	github.com/argoproj/argo-events v1.4.0
-	github.com/argoproj/pkg v0.10.1
+	github.com/argoproj/pkg v0.11.0
 	github.com/baiyubin/aliyun-sts-go-sdk v0.0.0-20180326062324-cfa1a18b161f // indirect
 	github.com/blushft/go-diagrams v0.0.0-20201006005127-c78c821223d9
 	github.com/colinmarc/hdfs v1.1.4-0.20180805212432-9746310a4d31
diff --git a/go.sum b/go.sum
index 41ecb8c226ae..d8c9e1a3a3b8 100644
--- a/go.sum
+++ b/go.sum
@@ -152,8 +152,8 @@ github.com/argoproj-labs/argo-dataflow v0.0.88/go.mod h1:HOdmu21+Xx59R28S8+e+wMx
 github.com/argoproj/argo-events v1.4.0 h1:RIzAOomP/4rnv3X6KIDKzXZJ56JKFxSYmksoE98ILWI=
 github.com/argoproj/argo-events v1.4.0/go.mod h1:wI5A0U3Wj9ZvfPn3ioL18Dz29+7aibtlyU9pS0Ry+bg=
 github.com/argoproj/pkg v0.9.0/go.mod h1:ra+bQPmbVAoEL+gYSKesuigt4m49i3Qa3mE/xQcjCiA=
-github.com/argoproj/pkg v0.10.1 h1:B7y7IqEFKNaNGg82U0COeVe/V5uj4Dum027yFe5DxRU=
-github.com/argoproj/pkg v0.10.1/go.mod h1:ra+bQPmbVAoEL+gYSKesuigt4m49i3Qa3mE/xQcjCiA=
+github.com/argoproj/pkg v0.11.0 h1:kho8cjBRe/K7tFiMfNG7vnF6VBy9+p0idV21f9bbUO4=
+github.com/argoproj/pkg v0.11.0/go.mod h1:ra+bQPmbVAoEL+gYSKesuigt4m49i3Qa3mE/xQcjCiA=
 github.com/armon/circbuf v0.0.0-20150827004946-bbbad097214e/go.mod h1:3U/XgcO3hCbHZ8TKRvWD2dDTCfh9M9ya+I9JpbB7O8o=
 github.com/armon/consul-api v0.0.0-20180202201655-eb2c6b5be1b6/go.mod h1:grANhF5doyWs3UAsr3K4I6qtAmlQcZDesFNEHPZAzj8=
 github.com/armon/go-metrics v0.0.0-20180917152333-f0300d1749da/go.mod h1:Q73ZrmVTwzkszR9V5SSuryQ31EELlFMUz1kKyl939pY=
diff --git a/manifests/base/crds/full/argoproj.io_clusterworkflowtemplates.yaml b/manifests/base/crds/full/argoproj.io_clusterworkflowtemplates.yaml
index 58caa4b31879..9f7ba8bb8bed 100644
--- a/manifests/base/crds/full/argoproj.io_clusterworkflowtemplates.yaml
+++ b/manifests/base/crds/full/argoproj.io_clusterworkflowtemplates.yaml
@@ -577,6 +577,26 @@ spec:
                                 objectLocking:
                                   type: boolean
                               type: object
+                            encryptionOptions:
+                              properties:
+                                enableEncryption:
+                                  type: boolean
+                                kmsEncryptionContext:
+                                  type: string
+                                kmsKeyId:
+                                  type: string
+                                serverSideCustomerKeySecret:
+                                  properties:
+                                    key:
+                                      type: string
+                                    name:
+                                      type: string
+                                    optional:
+                                      type: boolean
+                                  required:
+                                  - key
+                                  type: object
+                              type: object
                             endpoint:
                               type: string
                             insecure:
@@ -1500,6 +1520,26 @@ spec:
                               objectLocking:
                                 type: boolean
                             type: object
+                          encryptionOptions:
+                            properties:
+                              enableEncryption:
+                                type: boolean
+                              kmsEncryptionContext:
+                                type: string
+                              kmsKeyId:
+                                type: string
+                              serverSideCustomerKeySecret:
+                                properties:
+                                  key:
+                                    type: string
+                                  name:
+                                    type: string
+                                  optional:
+                                    type: boolean
+                                required:
+                                - key
+                                type: object
+                            type: object
                           endpoint:
                             type: string
                           insecure:
@@ -2942,6 +2982,26 @@ spec:
                                               objectLocking:
                                                 type: boolean
                                             type: object
+                                          encryptionOptions:
+                                            properties:
+                                              enableEncryption:
+                                                type: boolean
+                                              kmsEncryptionContext:
+                                                type: string
+                                              kmsKeyId:
+                                                type: string
+                                              serverSideCustomerKeySecret:
+                                                properties:
+                                                  key:
+                                                    type: string
+                                                  name:
+                                                    type: string
+                                                  optional:
+                                                    type: boolean
+                                                required:
+                                                - key
+                                                type: object
+                                            type: object
                                           endpoint:
                                             type: string
                                           insecure:
@@ -3312,6 +3372,26 @@ spec:
                                                     objectLocking:
                                                       type: boolean
                                                   type: object
+                                                encryptionOptions:
+                                                  properties:
+                                                    enableEncryption:
+                                                      type: boolean
+                                                    kmsEncryptionContext:
+                                                      type: string
+                                                    kmsKeyId:
+                                                      type: string
+                                                    serverSideCustomerKeySecret:
+                                                      properties:
+                                                        key:
+                                                          type: string
+                                                        name:
+                                                          type: string
+                                                        optional:
+                                                          type: boolean
+                                                      required:
+                                                      - key
+                                                      type: object
+                                                  type: object
                                                 endpoint:
                                                   type: string
                                                 insecure:
@@ -3724,6 +3804,26 @@ spec:
                                       objectLocking:
                                         type: boolean
                                     type: object
+                                  encryptionOptions:
+                                    properties:
+                                      enableEncryption:
+                                        type: boolean
+                                      kmsEncryptionContext:
+                                        type: string
+                                      kmsKeyId:
+                                        type: string
+                                      serverSideCustomerKeySecret:
+                                        properties:
+                                          key:
+                                            type: string
+                                          name:
+                                            type: string
+                                          optional:
+                                            type: boolean
+                                        required:
+                                        - key
+                                        type: object
+                                    type: object
                                   endpoint:
                                     type: string
                                   insecure:
@@ -4658,6 +4758,26 @@ spec:
                                     objectLocking:
                                       type: boolean
                                   type: object
+                                encryptionOptions:
+                                  properties:
+                                    enableEncryption:
+                                      type: boolean
+                                    kmsEncryptionContext:
+                                      type: string
+                                    kmsKeyId:
+                                      type: string
+                                    serverSideCustomerKeySecret:
+                                      properties:
+                                        key:
+                                          type: string
+                                        name:
+                                          type: string
+                                        optional:
+                                          type: boolean
+                                      required:
+                                      - key
+                                      type: object
+                                  type: object
                                 endpoint:
                                   type: string
                                 insecure:
@@ -5116,6 +5236,26 @@ spec:
                                     objectLocking:
                                       type: boolean
                                   type: object
+                                encryptionOptions:
+                                  properties:
+                                    enableEncryption:
+                                      type: boolean
+                                    kmsEncryptionContext:
+                                      type: string
+                                    kmsKeyId:
+                                      type: string
+                                    serverSideCustomerKeySecret:
+                                      properties:
+                                        key:
+                                          type: string
+                                        name:
+                                          type: string
+                                        optional:
+                                          type: boolean
+                                      required:
+                                      - key
+                                      type: object
+                                  type: object
                                 endpoint:
                                   type: string
                                 insecure:
@@ -7652,6 +7792,26 @@ spec:
                                 objectLocking:
                                   type: boolean
                               type: object
+                            encryptionOptions:
+                              properties:
+                                enableEncryption:
+                                  type: boolean
+                                kmsEncryptionContext:
+                                  type: string
+                                kmsKeyId:
+                                  type: string
+                                serverSideCustomerKeySecret:
+                                  properties:
+                                    key:
+                                      type: string
+                                    name:
+                                      type: string
+                                    optional:
+                                      type: boolean
+                                  required:
+                                  - key
+                                  type: object
+                              type: object
                             endpoint:
                               type: string
                             insecure:
@@ -9094,6 +9254,26 @@ spec:
                                                 objectLocking:
                                                   type: boolean
                                               type: object
+                                            encryptionOptions:
+                                              properties:
+                                                enableEncryption:
+                                                  type: boolean
+                                                kmsEncryptionContext:
+                                                  type: string
+                                                kmsKeyId:
+                                                  type: string
+                                                serverSideCustomerKeySecret:
+                                                  properties:
+                                                    key:
+                                                      type: string
+                                                    name:
+                                                      type: string
+                                                    optional:
+                                                      type: boolean
+                                                  required:
+                                                  - key
+                                                  type: object
+                                              type: object
                                             endpoint:
                                               type: string
                                             insecure:
@@ -9464,6 +9644,26 @@ spec:
                                                       objectLocking:
                                                         type: boolean
                                                     type: object
+                                                  encryptionOptions:
+                                                    properties:
+                                                      enableEncryption:
+                                                        type: boolean
+                                                      kmsEncryptionContext:
+                                                        type: string
+                                                      kmsKeyId:
+                                                        type: string
+                                                      serverSideCustomerKeySecret:
+                                                        properties:
+                                                          key:
+                                                            type: string
+                                                          name:
+                                                            type: string
+                                                          optional:
+                                                            type: boolean
+                                                        required:
+                                                        - key
+                                                        type: object
+                                                    type: object
                                                   endpoint:
                                                     type: string
                                                   insecure:
@@ -9876,6 +10076,26 @@ spec:
                                         objectLocking:
                                           type: boolean
                                       type: object
+                                    encryptionOptions:
+                                      properties:
+                                        enableEncryption:
+                                          type: boolean
+                                        kmsEncryptionContext:
+                                          type: string
+                                        kmsKeyId:
+                                          type: string
+                                        serverSideCustomerKeySecret:
+                                          properties:
+                                            key:
+                                              type: string
+                                            name:
+                                              type: string
+                                            optional:
+                                              type: boolean
+                                          required:
+                                          - key
+                                          type: object
+                                      type: object
                                     endpoint:
                                       type: string
                                     insecure:
@@ -10810,6 +11030,26 @@ spec:
                                       objectLocking:
                                         type: boolean
                                     type: object
+                                  encryptionOptions:
+                                    properties:
+                                      enableEncryption:
+                                        type: boolean
+                                      kmsEncryptionContext:
+                                        type: string
+                                      kmsKeyId:
+                                        type: string
+                                      serverSideCustomerKeySecret:
+                                        properties:
+                                          key:
+                                            type: string
+                                          name:
+                                            type: string
+                                          optional:
+                                            type: boolean
+                                        required:
+                                        - key
+                                        type: object
+                                    type: object
                                   endpoint:
                                     type: string
                                   insecure:
@@ -11268,6 +11508,26 @@ spec:
                                       objectLocking:
                                         type: boolean
                                     type: object
+                                  encryptionOptions:
+                                    properties:
+                                      enableEncryption:
+                                        type: boolean
+                                      kmsEncryptionContext:
+                                        type: string
+                                      kmsKeyId:
+                                        type: string
+                                      serverSideCustomerKeySecret:
+                                        properties:
+                                          key:
+                                            type: string
+                                          name:
+                                            type: string
+                                          optional:
+                                            type: boolean
+                                        required:
+                                        - key
+                                        type: object
+                                    type: object
                                   endpoint:
                                     type: string
                                   insecure:
diff --git a/manifests/base/crds/full/argoproj.io_cronworkflows.yaml b/manifests/base/crds/full/argoproj.io_cronworkflows.yaml
index 3664c55f9575..660d889c8d10 100644
--- a/manifests/base/crds/full/argoproj.io_cronworkflows.yaml
+++ b/manifests/base/crds/full/argoproj.io_cronworkflows.yaml
@@ -598,6 +598,26 @@ spec:
                                     objectLocking:
                                       type: boolean
                                   type: object
+                                encryptionOptions:
+                                  properties:
+                                    enableEncryption:
+                                      type: boolean
+                                    kmsEncryptionContext:
+                                      type: string
+                                    kmsKeyId:
+                                      type: string
+                                    serverSideCustomerKeySecret:
+                                      properties:
+                                        key:
+                                          type: string
+                                        name:
+                                          type: string
+                                        optional:
+                                          type: boolean
+                                      required:
+                                      - key
+                                      type: object
+                                  type: object
                                 endpoint:
                                   type: string
                                 insecure:
@@ -1521,6 +1541,26 @@ spec:
                                   objectLocking:
                                     type: boolean
                                 type: object
+                              encryptionOptions:
+                                properties:
+                                  enableEncryption:
+                                    type: boolean
+                                  kmsEncryptionContext:
+                                    type: string
+                                  kmsKeyId:
+                                    type: string
+                                  serverSideCustomerKeySecret:
+                                    properties:
+                                      key:
+                                        type: string
+                                      name:
+                                        type: string
+                                      optional:
+                                        type: boolean
+                                    required:
+                                    - key
+                                    type: object
+                                type: object
                               endpoint:
                                 type: string
                               insecure:
@@ -2963,6 +3003,26 @@ spec:
                                                   objectLocking:
                                                     type: boolean
                                                 type: object
+                                              encryptionOptions:
+                                                properties:
+                                                  enableEncryption:
+                                                    type: boolean
+                                                  kmsEncryptionContext:
+                                                    type: string
+                                                  kmsKeyId:
+                                                    type: string
+                                                  serverSideCustomerKeySecret:
+                                                    properties:
+                                                      key:
+                                                        type: string
+                                                      name:
+                                                        type: string
+                                                      optional:
+                                                        type: boolean
+                                                    required:
+                                                    - key
+                                                    type: object
+                                                type: object
                                               endpoint:
                                                 type: string
                                               insecure:
@@ -3333,6 +3393,26 @@ spec:
                                                         objectLocking:
                                                           type: boolean
                                                       type: object
+                                                    encryptionOptions:
+                                                      properties:
+                                                        enableEncryption:
+                                                          type: boolean
+                                                        kmsEncryptionContext:
+                                                          type: string
+                                                        kmsKeyId:
+                                                          type: string
+                                                        serverSideCustomerKeySecret:
+                                                          properties:
+                                                            key:
+                                                              type: string
+                                                            name:
+                                                              type: string
+                                                            optional:
+                                                              type: boolean
+                                                          required:
+                                                          - key
+                                                          type: object
+                                                      type: object
                                                     endpoint:
                                                       type: string
                                                     insecure:
@@ -3745,6 +3825,26 @@ spec:
                                           objectLocking:
                                             type: boolean
                                         type: object
+                                      encryptionOptions:
+                                        properties:
+                                          enableEncryption:
+                                            type: boolean
+                                          kmsEncryptionContext:
+                                            type: string
+                                          kmsKeyId:
+                                            type: string
+                                          serverSideCustomerKeySecret:
+                                            properties:
+                                              key:
+                                                type: string
+                                              name:
+                                                type: string
+                                              optional:
+                                                type: boolean
+                                            required:
+                                            - key
+                                            type: object
+                                        type: object
                                       endpoint:
                                         type: string
                                       insecure:
@@ -4679,6 +4779,26 @@ spec:
                                         objectLocking:
                                           type: boolean
                                       type: object
+                                    encryptionOptions:
+                                      properties:
+                                        enableEncryption:
+                                          type: boolean
+                                        kmsEncryptionContext:
+                                          type: string
+                                        kmsKeyId:
+                                          type: string
+                                        serverSideCustomerKeySecret:
+                                          properties:
+                                            key:
+                                              type: string
+                                            name:
+                                              type: string
+                                            optional:
+                                              type: boolean
+                                          required:
+                                          - key
+                                          type: object
+                                      type: object
                                     endpoint:
                                       type: string
                                     insecure:
@@ -5137,6 +5257,26 @@ spec:
                                         objectLocking:
                                           type: boolean
                                       type: object
+                                    encryptionOptions:
+                                      properties:
+                                        enableEncryption:
+                                          type: boolean
+                                        kmsEncryptionContext:
+                                          type: string
+                                        kmsKeyId:
+                                          type: string
+                                        serverSideCustomerKeySecret:
+                                          properties:
+                                            key:
+                                              type: string
+                                            name:
+                                              type: string
+                                            optional:
+                                              type: boolean
+                                          required:
+                                          - key
+                                          type: object
+                                      type: object
                                     endpoint:
                                       type: string
                                     insecure:
@@ -7673,6 +7813,26 @@ spec:
                                     objectLocking:
                                       type: boolean
                                   type: object
+                                encryptionOptions:
+                                  properties:
+                                    enableEncryption:
+                                      type: boolean
+                                    kmsEncryptionContext:
+                                      type: string
+                                    kmsKeyId:
+                                      type: string
+                                    serverSideCustomerKeySecret:
+                                      properties:
+                                        key:
+                                          type: string
+                                        name:
+                                          type: string
+                                        optional:
+                                          type: boolean
+                                      required:
+                                      - key
+                                      type: object
+                                  type: object
                                 endpoint:
                                   type: string
                                 insecure:
@@ -9115,6 +9275,26 @@ spec:
                                                     objectLocking:
                                                       type: boolean
                                                   type: object
+                                                encryptionOptions:
+                                                  properties:
+                                                    enableEncryption:
+                                                      type: boolean
+                                                    kmsEncryptionContext:
+                                                      type: string
+                                                    kmsKeyId:
+                                                      type: string
+                                                    serverSideCustomerKeySecret:
+                                                      properties:
+                                                        key:
+                                                          type: string
+                                                        name:
+                                                          type: string
+                                                        optional:
+                                                          type: boolean
+                                                      required:
+                                                      - key
+                                                      type: object
+                                                  type: object
                                                 endpoint:
                                                   type: string
                                                 insecure:
@@ -9485,6 +9665,26 @@ spec:
                                                           objectLocking:
                                                             type: boolean
                                                         type: object
+                                                      encryptionOptions:
+                                                        properties:
+                                                          enableEncryption:
+                                                            type: boolean
+                                                          kmsEncryptionContext:
+                                                            type: string
+                                                          kmsKeyId:
+                                                            type: string
+                                                          serverSideCustomerKeySecret:
+                                                            properties:
+                                                              key:
+                                                                type: string
+                                                              name:
+                                                                type: string
+                                                              optional:
+                                                                type: boolean
+                                                            required:
+                                                            - key
+                                                            type: object
+                                                        type: object
                                                       endpoint:
                                                         type: string
                                                       insecure:
@@ -9897,6 +10097,26 @@ spec:
                                             objectLocking:
                                               type: boolean
                                           type: object
+                                        encryptionOptions:
+                                          properties:
+                                            enableEncryption:
+                                              type: boolean
+                                            kmsEncryptionContext:
+                                              type: string
+                                            kmsKeyId:
+                                              type: string
+                                            serverSideCustomerKeySecret:
+                                              properties:
+                                                key:
+                                                  type: string
+                                                name:
+                                                  type: string
+                                                optional:
+                                                  type: boolean
+                                              required:
+                                              - key
+                                              type: object
+                                          type: object
                                         endpoint:
                                           type: string
                                         insecure:
@@ -10831,6 +11051,26 @@ spec:
                                           objectLocking:
                                             type: boolean
                                         type: object
+                                      encryptionOptions:
+                                        properties:
+                                          enableEncryption:
+                                            type: boolean
+                                          kmsEncryptionContext:
+                                            type: string
+                                          kmsKeyId:
+                                            type: string
+                                          serverSideCustomerKeySecret:
+                                            properties:
+                                              key:
+                                                type: string
+                                              name:
+                                                type: string
+                                              optional:
+                                                type: boolean
+                                            required:
+                                            - key
+                                            type: object
+                                        type: object
                                       endpoint:
                                         type: string
                                       insecure:
@@ -11289,6 +11529,26 @@ spec:
                                           objectLocking:
                                             type: boolean
                                         type: object
+                                      encryptionOptions:
+                                        properties:
+                                          enableEncryption:
+                                            type: boolean
+                                          kmsEncryptionContext:
+                                            type: string
+                                          kmsKeyId:
+                                            type: string
+                                          serverSideCustomerKeySecret:
+                                            properties:
+                                              key:
+                                                type: string
+                                              name:
+                                                type: string
+                                              optional:
+                                                type: boolean
+                                            required:
+                                            - key
+                                            type: object
+                                        type: object
                                       endpoint:
                                         type: string
                                       insecure:
diff --git a/manifests/base/crds/full/argoproj.io_workfloweventbindings.yaml b/manifests/base/crds/full/argoproj.io_workfloweventbindings.yaml
index 11bef39e4d09..f18bf97f91a1 100644
--- a/manifests/base/crds/full/argoproj.io_workfloweventbindings.yaml
+++ b/manifests/base/crds/full/argoproj.io_workfloweventbindings.yaml
@@ -320,6 +320,26 @@ spec:
                                     objectLocking:
                                       type: boolean
                                   type: object
+                                encryptionOptions:
+                                  properties:
+                                    enableEncryption:
+                                      type: boolean
+                                    kmsEncryptionContext:
+                                      type: string
+                                    kmsKeyId:
+                                      type: string
+                                    serverSideCustomerKeySecret:
+                                      properties:
+                                        key:
+                                          type: string
+                                        name:
+                                          type: string
+                                        optional:
+                                          type: boolean
+                                      required:
+                                      - key
+                                      type: object
+                                  type: object
                                 endpoint:
                                   type: string
                                 insecure:
diff --git a/manifests/base/crds/full/argoproj.io_workflows.yaml b/manifests/base/crds/full/argoproj.io_workflows.yaml
index 6fd921301a23..3fbbc96b763e 100644
--- a/manifests/base/crds/full/argoproj.io_workflows.yaml
+++ b/manifests/base/crds/full/argoproj.io_workflows.yaml
@@ -586,6 +586,26 @@ spec:
                                 objectLocking:
                                   type: boolean
                               type: object
+                            encryptionOptions:
+                              properties:
+                                enableEncryption:
+                                  type: boolean
+                                kmsEncryptionContext:
+                                  type: string
+                                kmsKeyId:
+                                  type: string
+                                serverSideCustomerKeySecret:
+                                  properties:
+                                    key:
+                                      type: string
+                                    name:
+                                      type: string
+                                    optional:
+                                      type: boolean
+                                  required:
+                                  - key
+                                  type: object
+                              type: object
                             endpoint:
                               type: string
                             insecure:
@@ -1509,6 +1529,26 @@ spec:
                               objectLocking:
                                 type: boolean
                             type: object
+                          encryptionOptions:
+                            properties:
+                              enableEncryption:
+                                type: boolean
+                              kmsEncryptionContext:
+                                type: string
+                              kmsKeyId:
+                                type: string
+                              serverSideCustomerKeySecret:
+                                properties:
+                                  key:
+                                    type: string
+                                  name:
+                                    type: string
+                                  optional:
+                                    type: boolean
+                                required:
+                                - key
+                                type: object
+                            type: object
                           endpoint:
                             type: string
                           insecure:
@@ -2951,6 +2991,26 @@ spec:
                                               objectLocking:
                                                 type: boolean
                                             type: object
+                                          encryptionOptions:
+                                            properties:
+                                              enableEncryption:
+                                                type: boolean
+                                              kmsEncryptionContext:
+                                                type: string
+                                              kmsKeyId:
+                                                type: string
+                                              serverSideCustomerKeySecret:
+                                                properties:
+                                                  key:
+                                                    type: string
+                                                  name:
+                                                    type: string
+                                                  optional:
+                                                    type: boolean
+                                                required:
+                                                - key
+                                                type: object
+                                            type: object
                                           endpoint:
                                             type: string
                                           insecure:
@@ -3321,6 +3381,26 @@ spec:
                                                     objectLocking:
                                                       type: boolean
                                                   type: object
+                                                encryptionOptions:
+                                                  properties:
+                                                    enableEncryption:
+                                                      type: boolean
+                                                    kmsEncryptionContext:
+                                                      type: string
+                                                    kmsKeyId:
+                                                      type: string
+                                                    serverSideCustomerKeySecret:
+                                                      properties:
+                                                        key:
+                                                          type: string
+                                                        name:
+                                                          type: string
+                                                        optional:
+                                                          type: boolean
+                                                      required:
+                                                      - key
+                                                      type: object
+                                                  type: object
                                                 endpoint:
                                                   type: string
                                                 insecure:
@@ -3733,6 +3813,26 @@ spec:
                                       objectLocking:
                                         type: boolean
                                     type: object
+                                  encryptionOptions:
+                                    properties:
+                                      enableEncryption:
+                                        type: boolean
+                                      kmsEncryptionContext:
+                                        type: string
+                                      kmsKeyId:
+                                        type: string
+                                      serverSideCustomerKeySecret:
+                                        properties:
+                                          key:
+                                            type: string
+                                          name:
+                                            type: string
+                                          optional:
+                                            type: boolean
+                                        required:
+                                        - key
+                                        type: object
+                                    type: object
                                   endpoint:
                                     type: string
                                   insecure:
@@ -4667,6 +4767,26 @@ spec:
                                     objectLocking:
                                       type: boolean
                                   type: object
+                                encryptionOptions:
+                                  properties:
+                                    enableEncryption:
+                                      type: boolean
+                                    kmsEncryptionContext:
+                                      type: string
+                                    kmsKeyId:
+                                      type: string
+                                    serverSideCustomerKeySecret:
+                                      properties:
+                                        key:
+                                          type: string
+                                        name:
+                                          type: string
+                                        optional:
+                                          type: boolean
+                                      required:
+                                      - key
+                                      type: object
+                                  type: object
                                 endpoint:
                                   type: string
                                 insecure:
@@ -5125,6 +5245,26 @@ spec:
                                     objectLocking:
                                       type: boolean
                                   type: object
+                                encryptionOptions:
+                                  properties:
+                                    enableEncryption:
+                                      type: boolean
+                                    kmsEncryptionContext:
+                                      type: string
+                                    kmsKeyId:
+                                      type: string
+                                    serverSideCustomerKeySecret:
+                                      properties:
+                                        key:
+                                          type: string
+                                        name:
+                                          type: string
+                                        optional:
+                                          type: boolean
+                                      required:
+                                      - key
+                                      type: object
+                                  type: object
                                 endpoint:
                                   type: string
                                 insecure:
@@ -7661,6 +7801,26 @@ spec:
                                 objectLocking:
                                   type: boolean
                               type: object
+                            encryptionOptions:
+                              properties:
+                                enableEncryption:
+                                  type: boolean
+                                kmsEncryptionContext:
+                                  type: string
+                                kmsKeyId:
+                                  type: string
+                                serverSideCustomerKeySecret:
+                                  properties:
+                                    key:
+                                      type: string
+                                    name:
+                                      type: string
+                                    optional:
+                                      type: boolean
+                                  required:
+                                  - key
+                                  type: object
+                              type: object
                             endpoint:
                               type: string
                             insecure:
@@ -9103,6 +9263,26 @@ spec:
                                                 objectLocking:
                                                   type: boolean
                                               type: object
+                                            encryptionOptions:
+                                              properties:
+                                                enableEncryption:
+                                                  type: boolean
+                                                kmsEncryptionContext:
+                                                  type: string
+                                                kmsKeyId:
+                                                  type: string
+                                                serverSideCustomerKeySecret:
+                                                  properties:
+                                                    key:
+                                                      type: string
+                                                    name:
+                                                      type: string
+                                                    optional:
+                                                      type: boolean
+                                                  required:
+                                                  - key
+                                                  type: object
+                                              type: object
                                             endpoint:
                                               type: string
                                             insecure:
@@ -9473,6 +9653,26 @@ spec:
                                                       objectLocking:
                                                         type: boolean
                                                     type: object
+                                                  encryptionOptions:
+                                                    properties:
+                                                      enableEncryption:
+                                                        type: boolean
+                                                      kmsEncryptionContext:
+                                                        type: string
+                                                      kmsKeyId:
+                                                        type: string
+                                                      serverSideCustomerKeySecret:
+                                                        properties:
+                                                          key:
+                                                            type: string
+                                                          name:
+                                                            type: string
+                                                          optional:
+                                                            type: boolean
+                                                        required:
+                                                        - key
+                                                        type: object
+                                                    type: object
                                                   endpoint:
                                                     type: string
                                                   insecure:
@@ -9885,6 +10085,26 @@ spec:
                                         objectLocking:
                                           type: boolean
                                       type: object
+                                    encryptionOptions:
+                                      properties:
+                                        enableEncryption:
+                                          type: boolean
+                                        kmsEncryptionContext:
+                                          type: string
+                                        kmsKeyId:
+                                          type: string
+                                        serverSideCustomerKeySecret:
+                                          properties:
+                                            key:
+                                              type: string
+                                            name:
+                                              type: string
+                                            optional:
+                                              type: boolean
+                                          required:
+                                          - key
+                                          type: object
+                                      type: object
                                     endpoint:
                                       type: string
                                     insecure:
@@ -10819,6 +11039,26 @@ spec:
                                       objectLocking:
                                         type: boolean
                                     type: object
+                                  encryptionOptions:
+                                    properties:
+                                      enableEncryption:
+                                        type: boolean
+                                      kmsEncryptionContext:
+                                        type: string
+                                      kmsKeyId:
+                                        type: string
+                                      serverSideCustomerKeySecret:
+                                        properties:
+                                          key:
+                                            type: string
+                                          name:
+                                            type: string
+                                          optional:
+                                            type: boolean
+                                        required:
+                                        - key
+                                        type: object
+                                    type: object
                                   endpoint:
                                     type: string
                                   insecure:
@@ -11277,6 +11517,26 @@ spec:
                                       objectLocking:
                                         type: boolean
                                     type: object
+                                  encryptionOptions:
+                                    properties:
+                                      enableEncryption:
+                                        type: boolean
+                                      kmsEncryptionContext:
+                                        type: string
+                                      kmsKeyId:
+                                        type: string
+                                      serverSideCustomerKeySecret:
+                                        properties:
+                                          key:
+                                            type: string
+                                          name:
+                                            type: string
+                                          optional:
+                                            type: boolean
+                                        required:
+                                        - key
+                                        type: object
+                                    type: object
                                   endpoint:
                                     type: string
                                   insecure:
@@ -14289,6 +14549,26 @@ spec:
                               objectLocking:
                                 type: boolean
                             type: object
+                          encryptionOptions:
+                            properties:
+                              enableEncryption:
+                                type: boolean
+                              kmsEncryptionContext:
+                                type: string
+                              kmsKeyId:
+                                type: string
+                              serverSideCustomerKeySecret:
+                                properties:
+                                  key:
+                                    type: string
+                                  name:
+                                    type: string
+                                  optional:
+                                    type: boolean
+                                required:
+                                - key
+                                type: object
+                            type: object
                           endpoint:
                             type: string
                           insecure:
@@ -14652,6 +14932,26 @@ spec:
                                       objectLocking:
                                         type: boolean
                                     type: object
+                                  encryptionOptions:
+                                    properties:
+                                      enableEncryption:
+                                        type: boolean
+                                      kmsEncryptionContext:
+                                        type: string
+                                      kmsKeyId:
+                                        type: string
+                                      serverSideCustomerKeySecret:
+                                        properties:
+                                          key:
+                                            type: string
+                                          name:
+                                            type: string
+                                          optional:
+                                            type: boolean
+                                        required:
+                                        - key
+                                        type: object
+                                    type: object
                                   endpoint:
                                     type: string
                                   insecure:
@@ -15027,6 +15327,26 @@ spec:
                                       objectLocking:
                                         type: boolean
                                     type: object
+                                  encryptionOptions:
+                                    properties:
+                                      enableEncryption:
+                                        type: boolean
+                                      kmsEncryptionContext:
+                                        type: string
+                                      kmsKeyId:
+                                        type: string
+                                      serverSideCustomerKeySecret:
+                                        properties:
+                                          key:
+                                            type: string
+                                          name:
+                                            type: string
+                                          optional:
+                                            type: boolean
+                                        required:
+                                        - key
+                                        type: object
+                                    type: object
                                   endpoint:
                                     type: string
                                   insecure:
@@ -15427,6 +15747,26 @@ spec:
                                 objectLocking:
                                   type: boolean
                               type: object
+                            encryptionOptions:
+                              properties:
+                                enableEncryption:
+                                  type: boolean
+                                kmsEncryptionContext:
+                                  type: string
+                                kmsKeyId:
+                                  type: string
+                                serverSideCustomerKeySecret:
+                                  properties:
+                                    key:
+                                      type: string
+                                    name:
+                                      type: string
+                                    optional:
+                                      type: boolean
+                                  required:
+                                  - key
+                                  type: object
+                              type: object
                             endpoint:
                               type: string
                             insecure:
@@ -16704,6 +17044,26 @@ spec:
                                 objectLocking:
                                   type: boolean
                               type: object
+                            encryptionOptions:
+                              properties:
+                                enableEncryption:
+                                  type: boolean
+                                kmsEncryptionContext:
+                                  type: string
+                                kmsKeyId:
+                                  type: string
+                                serverSideCustomerKeySecret:
+                                  properties:
+                                    key:
+                                      type: string
+                                    name:
+                                      type: string
+                                    optional:
+                                      type: boolean
+                                  required:
+                                  - key
+                                  type: object
+                              type: object
                             endpoint:
                               type: string
                             insecure:
@@ -18146,6 +18506,26 @@ spec:
                                                 objectLocking:
                                                   type: boolean
                                               type: object
+                                            encryptionOptions:
+                                              properties:
+                                                enableEncryption:
+                                                  type: boolean
+                                                kmsEncryptionContext:
+                                                  type: string
+                                                kmsKeyId:
+                                                  type: string
+                                                serverSideCustomerKeySecret:
+                                                  properties:
+                                                    key:
+                                                      type: string
+                                                    name:
+                                                      type: string
+                                                    optional:
+                                                      type: boolean
+                                                  required:
+                                                  - key
+                                                  type: object
+                                              type: object
                                             endpoint:
                                               type: string
                                             insecure:
@@ -18516,6 +18896,26 @@ spec:
                                                       objectLocking:
                                                         type: boolean
                                                     type: object
+                                                  encryptionOptions:
+                                                    properties:
+                                                      enableEncryption:
+                                                        type: boolean
+                                                      kmsEncryptionContext:
+                                                        type: string
+                                                      kmsKeyId:
+                                                        type: string
+                                                      serverSideCustomerKeySecret:
+                                                        properties:
+                                                          key:
+                                                            type: string
+                                                          name:
+                                                            type: string
+                                                          optional:
+                                                            type: boolean
+                                                        required:
+                                                        - key
+                                                        type: object
+                                                    type: object
                                                   endpoint:
                                                     type: string
                                                   insecure:
@@ -18928,6 +19328,26 @@ spec:
                                         objectLocking:
                                           type: boolean
                                       type: object
+                                    encryptionOptions:
+                                      properties:
+                                        enableEncryption:
+                                          type: boolean
+                                        kmsEncryptionContext:
+                                          type: string
+                                        kmsKeyId:
+                                          type: string
+                                        serverSideCustomerKeySecret:
+                                          properties:
+                                            key:
+                                              type: string
+                                            name:
+                                              type: string
+                                            optional:
+                                              type: boolean
+                                          required:
+                                          - key
+                                          type: object
+                                      type: object
                                     endpoint:
                                       type: string
                                     insecure:
@@ -19862,6 +20282,26 @@ spec:
                                       objectLocking:
                                         type: boolean
                                     type: object
+                                  encryptionOptions:
+                                    properties:
+                                      enableEncryption:
+                                        type: boolean
+                                      kmsEncryptionContext:
+                                        type: string
+                                      kmsKeyId:
+                                        type: string
+                                      serverSideCustomerKeySecret:
+                                        properties:
+                                          key:
+                                            type: string
+                                          name:
+                                            type: string
+                                          optional:
+                                            type: boolean
+                                        required:
+                                        - key
+                                        type: object
+                                    type: object
                                   endpoint:
                                     type: string
                                   insecure:
@@ -20320,6 +20760,26 @@ spec:
                                       objectLocking:
                                         type: boolean
                                     type: object
+                                  encryptionOptions:
+                                    properties:
+                                      enableEncryption:
+                                        type: boolean
+                                      kmsEncryptionContext:
+                                        type: string
+                                      kmsKeyId:
+                                        type: string
+                                      serverSideCustomerKeySecret:
+                                        properties:
+                                          key:
+                                            type: string
+                                          name:
+                                            type: string
+                                          optional:
+                                            type: boolean
+                                        required:
+                                        - key
+                                        type: object
+                                    type: object
                                   endpoint:
                                     type: string
                                   insecure:
@@ -22887,6 +23347,26 @@ spec:
                                     objectLocking:
                                       type: boolean
                                   type: object
+                                encryptionOptions:
+                                  properties:
+                                    enableEncryption:
+                                      type: boolean
+                                    kmsEncryptionContext:
+                                      type: string
+                                    kmsKeyId:
+                                      type: string
+                                    serverSideCustomerKeySecret:
+                                      properties:
+                                        key:
+                                          type: string
+                                        name:
+                                          type: string
+                                        optional:
+                                          type: boolean
+                                      required:
+                                      - key
+                                      type: object
+                                  type: object
                                 endpoint:
                                   type: string
                                 insecure:
@@ -23810,6 +24290,26 @@ spec:
                                   objectLocking:
                                     type: boolean
                                 type: object
+                              encryptionOptions:
+                                properties:
+                                  enableEncryption:
+                                    type: boolean
+                                  kmsEncryptionContext:
+                                    type: string
+                                  kmsKeyId:
+                                    type: string
+                                  serverSideCustomerKeySecret:
+                                    properties:
+                                      key:
+                                        type: string
+                                      name:
+                                        type: string
+                                      optional:
+                                        type: boolean
+                                    required:
+                                    - key
+                                    type: object
+                                type: object
                               endpoint:
                                 type: string
                               insecure:
@@ -25252,6 +25752,26 @@ spec:
                                                   objectLocking:
                                                     type: boolean
                                                 type: object
+                                              encryptionOptions:
+                                                properties:
+                                                  enableEncryption:
+                                                    type: boolean
+                                                  kmsEncryptionContext:
+                                                    type: string
+                                                  kmsKeyId:
+                                                    type: string
+                                                  serverSideCustomerKeySecret:
+                                                    properties:
+                                                      key:
+                                                        type: string
+                                                      name:
+                                                        type: string
+                                                      optional:
+                                                        type: boolean
+                                                    required:
+                                                    - key
+                                                    type: object
+                                                type: object
                                               endpoint:
                                                 type: string
                                               insecure:
@@ -25622,6 +26142,26 @@ spec:
                                                         objectLocking:
                                                           type: boolean
                                                       type: object
+                                                    encryptionOptions:
+                                                      properties:
+                                                        enableEncryption:
+                                                          type: boolean
+                                                        kmsEncryptionContext:
+                                                          type: string
+                                                        kmsKeyId:
+                                                          type: string
+                                                        serverSideCustomerKeySecret:
+                                                          properties:
+                                                            key:
+                                                              type: string
+                                                            name:
+                                                              type: string
+                                                            optional:
+                                                              type: boolean
+                                                          required:
+                                                          - key
+                                                          type: object
+                                                      type: object
                                                     endpoint:
                                                       type: string
                                                     insecure:
@@ -26034,6 +26574,26 @@ spec:
                                           objectLocking:
                                             type: boolean
                                         type: object
+                                      encryptionOptions:
+                                        properties:
+                                          enableEncryption:
+                                            type: boolean
+                                          kmsEncryptionContext:
+                                            type: string
+                                          kmsKeyId:
+                                            type: string
+                                          serverSideCustomerKeySecret:
+                                            properties:
+                                              key:
+                                                type: string
+                                              name:
+                                                type: string
+                                              optional:
+                                                type: boolean
+                                            required:
+                                            - key
+                                            type: object
+                                        type: object
                                       endpoint:
                                         type: string
                                       insecure:
@@ -26968,6 +27528,26 @@ spec:
                                         objectLocking:
                                           type: boolean
                                       type: object
+                                    encryptionOptions:
+                                      properties:
+                                        enableEncryption:
+                                          type: boolean
+                                        kmsEncryptionContext:
+                                          type: string
+                                        kmsKeyId:
+                                          type: string
+                                        serverSideCustomerKeySecret:
+                                          properties:
+                                            key:
+                                              type: string
+                                            name:
+                                              type: string
+                                            optional:
+                                              type: boolean
+                                          required:
+                                          - key
+                                          type: object
+                                      type: object
                                     endpoint:
                                       type: string
                                     insecure:
@@ -27426,6 +28006,26 @@ spec:
                                         objectLocking:
                                           type: boolean
                                       type: object
+                                    encryptionOptions:
+                                      properties:
+                                        enableEncryption:
+                                          type: boolean
+                                        kmsEncryptionContext:
+                                          type: string
+                                        kmsKeyId:
+                                          type: string
+                                        serverSideCustomerKeySecret:
+                                          properties:
+                                            key:
+                                              type: string
+                                            name:
+                                              type: string
+                                            optional:
+                                              type: boolean
+                                          required:
+                                          - key
+                                          type: object
+                                      type: object
                                     endpoint:
                                       type: string
                                     insecure:
@@ -29962,6 +30562,26 @@ spec:
                                     objectLocking:
                                       type: boolean
                                   type: object
+                                encryptionOptions:
+                                  properties:
+                                    enableEncryption:
+                                      type: boolean
+                                    kmsEncryptionContext:
+                                      type: string
+                                    kmsKeyId:
+                                      type: string
+                                    serverSideCustomerKeySecret:
+                                      properties:
+                                        key:
+                                          type: string
+                                        name:
+                                          type: string
+                                        optional:
+                                          type: boolean
+                                      required:
+                                      - key
+                                      type: object
+                                  type: object
                                 endpoint:
                                   type: string
                                 insecure:
@@ -31404,6 +32024,26 @@ spec:
                                                     objectLocking:
                                                       type: boolean
                                                   type: object
+                                                encryptionOptions:
+                                                  properties:
+                                                    enableEncryption:
+                                                      type: boolean
+                                                    kmsEncryptionContext:
+                                                      type: string
+                                                    kmsKeyId:
+                                                      type: string
+                                                    serverSideCustomerKeySecret:
+                                                      properties:
+                                                        key:
+                                                          type: string
+                                                        name:
+                                                          type: string
+                                                        optional:
+                                                          type: boolean
+                                                      required:
+                                                      - key
+                                                      type: object
+                                                  type: object
                                                 endpoint:
                                                   type: string
                                                 insecure:
@@ -31774,6 +32414,26 @@ spec:
                                                           objectLocking:
                                                             type: boolean
                                                         type: object
+                                                      encryptionOptions:
+                                                        properties:
+                                                          enableEncryption:
+                                                            type: boolean
+                                                          kmsEncryptionContext:
+                                                            type: string
+                                                          kmsKeyId:
+                                                            type: string
+                                                          serverSideCustomerKeySecret:
+                                                            properties:
+                                                              key:
+                                                                type: string
+                                                              name:
+                                                                type: string
+                                                              optional:
+                                                                type: boolean
+                                                            required:
+                                                            - key
+                                                            type: object
+                                                        type: object
                                                       endpoint:
                                                         type: string
                                                       insecure:
@@ -32186,6 +32846,26 @@ spec:
                                             objectLocking:
                                               type: boolean
                                           type: object
+                                        encryptionOptions:
+                                          properties:
+                                            enableEncryption:
+                                              type: boolean
+                                            kmsEncryptionContext:
+                                              type: string
+                                            kmsKeyId:
+                                              type: string
+                                            serverSideCustomerKeySecret:
+                                              properties:
+                                                key:
+                                                  type: string
+                                                name:
+                                                  type: string
+                                                optional:
+                                                  type: boolean
+                                              required:
+                                              - key
+                                              type: object
+                                          type: object
                                         endpoint:
                                           type: string
                                         insecure:
@@ -33120,6 +33800,26 @@ spec:
                                           objectLocking:
                                             type: boolean
                                         type: object
+                                      encryptionOptions:
+                                        properties:
+                                          enableEncryption:
+                                            type: boolean
+                                          kmsEncryptionContext:
+                                            type: string
+                                          kmsKeyId:
+                                            type: string
+                                          serverSideCustomerKeySecret:
+                                            properties:
+                                              key:
+                                                type: string
+                                              name:
+                                                type: string
+                                              optional:
+                                                type: boolean
+                                            required:
+                                            - key
+                                            type: object
+                                        type: object
                                       endpoint:
                                         type: string
                                       insecure:
@@ -33578,6 +34278,26 @@ spec:
                                           objectLocking:
                                             type: boolean
                                         type: object
+                                      encryptionOptions:
+                                        properties:
+                                          enableEncryption:
+                                            type: boolean
+                                          kmsEncryptionContext:
+                                            type: string
+                                          kmsKeyId:
+                                            type: string
+                                          serverSideCustomerKeySecret:
+                                            properties:
+                                              key:
+                                                type: string
+                                              name:
+                                                type: string
+                                              optional:
+                                                type: boolean
+                                            required:
+                                            - key
+                                            type: object
+                                        type: object
                                       endpoint:
                                         type: string
                                       insecure:
diff --git a/manifests/base/crds/full/argoproj.io_workflowtasksets.yaml b/manifests/base/crds/full/argoproj.io_workflowtasksets.yaml
index 234b9e54dbd5..1ae5c84210a3 100644
--- a/manifests/base/crds/full/argoproj.io_workflowtasksets.yaml
+++ b/manifests/base/crds/full/argoproj.io_workflowtasksets.yaml
@@ -548,6 +548,26 @@ spec:
                                 objectLocking:
                                   type: boolean
                               type: object
+                            encryptionOptions:
+                              properties:
+                                enableEncryption:
+                                  type: boolean
+                                kmsEncryptionContext:
+                                  type: string
+                                kmsKeyId:
+                                  type: string
+                                serverSideCustomerKeySecret:
+                                  properties:
+                                    key:
+                                      type: string
+                                    name:
+                                      type: string
+                                    optional:
+                                      type: boolean
+                                  required:
+                                  - key
+                                  type: object
+                              type: object
                             endpoint:
                               type: string
                             insecure:
@@ -1990,6 +2010,26 @@ spec:
                                                 objectLocking:
                                                   type: boolean
                                               type: object
+                                            encryptionOptions:
+                                              properties:
+                                                enableEncryption:
+                                                  type: boolean
+                                                kmsEncryptionContext:
+                                                  type: string
+                                                kmsKeyId:
+                                                  type: string
+                                                serverSideCustomerKeySecret:
+                                                  properties:
+                                                    key:
+                                                      type: string
+                                                    name:
+                                                      type: string
+                                                    optional:
+                                                      type: boolean
+                                                  required:
+                                                  - key
+                                                  type: object
+                                              type: object
                                             endpoint:
                                               type: string
                                             insecure:
@@ -2360,6 +2400,26 @@ spec:
                                                       objectLocking:
                                                         type: boolean
                                                     type: object
+                                                  encryptionOptions:
+                                                    properties:
+                                                      enableEncryption:
+                                                        type: boolean
+                                                      kmsEncryptionContext:
+                                                        type: string
+                                                      kmsKeyId:
+                                                        type: string
+                                                      serverSideCustomerKeySecret:
+                                                        properties:
+                                                          key:
+                                                            type: string
+                                                          name:
+                                                            type: string
+                                                          optional:
+                                                            type: boolean
+                                                        required:
+                                                        - key
+                                                        type: object
+                                                    type: object
                                                   endpoint:
                                                     type: string
                                                   insecure:
@@ -2772,6 +2832,26 @@ spec:
                                         objectLocking:
                                           type: boolean
                                       type: object
+                                    encryptionOptions:
+                                      properties:
+                                        enableEncryption:
+                                          type: boolean
+                                        kmsEncryptionContext:
+                                          type: string
+                                        kmsKeyId:
+                                          type: string
+                                        serverSideCustomerKeySecret:
+                                          properties:
+                                            key:
+                                              type: string
+                                            name:
+                                              type: string
+                                            optional:
+                                              type: boolean
+                                          required:
+                                          - key
+                                          type: object
+                                      type: object
                                     endpoint:
                                       type: string
                                     insecure:
@@ -3706,6 +3786,26 @@ spec:
                                       objectLocking:
                                         type: boolean
                                     type: object
+                                  encryptionOptions:
+                                    properties:
+                                      enableEncryption:
+                                        type: boolean
+                                      kmsEncryptionContext:
+                                        type: string
+                                      kmsKeyId:
+                                        type: string
+                                      serverSideCustomerKeySecret:
+                                        properties:
+                                          key:
+                                            type: string
+                                          name:
+                                            type: string
+                                          optional:
+                                            type: boolean
+                                        required:
+                                        - key
+                                        type: object
+                                    type: object
                                   endpoint:
                                     type: string
                                   insecure:
@@ -4164,6 +4264,26 @@ spec:
                                       objectLocking:
                                         type: boolean
                                     type: object
+                                  encryptionOptions:
+                                    properties:
+                                      enableEncryption:
+                                        type: boolean
+                                      kmsEncryptionContext:
+                                        type: string
+                                      kmsKeyId:
+                                        type: string
+                                      serverSideCustomerKeySecret:
+                                        properties:
+                                          key:
+                                            type: string
+                                          name:
+                                            type: string
+                                          optional:
+                                            type: boolean
+                                        required:
+                                        - key
+                                        type: object
+                                    type: object
                                   endpoint:
                                     type: string
                                   insecure:
@@ -6472,6 +6592,26 @@ spec:
                                       objectLocking:
                                         type: boolean
                                     type: object
+                                  encryptionOptions:
+                                    properties:
+                                      enableEncryption:
+                                        type: boolean
+                                      kmsEncryptionContext:
+                                        type: string
+                                      kmsKeyId:
+                                        type: string
+                                      serverSideCustomerKeySecret:
+                                        properties:
+                                          key:
+                                            type: string
+                                          name:
+                                            type: string
+                                          optional:
+                                            type: boolean
+                                        required:
+                                        - key
+                                        type: object
+                                    type: object
                                   endpoint:
                                     type: string
                                   insecure:
diff --git a/manifests/base/crds/full/argoproj.io_workflowtemplates.yaml b/manifests/base/crds/full/argoproj.io_workflowtemplates.yaml
index 01960e97aaef..396b98c4ebde 100644
--- a/manifests/base/crds/full/argoproj.io_workflowtemplates.yaml
+++ b/manifests/base/crds/full/argoproj.io_workflowtemplates.yaml
@@ -576,6 +576,26 @@ spec:
                                 objectLocking:
                                   type: boolean
                               type: object
+                            encryptionOptions:
+                              properties:
+                                enableEncryption:
+                                  type: boolean
+                                kmsEncryptionContext:
+                                  type: string
+                                kmsKeyId:
+                                  type: string
+                                serverSideCustomerKeySecret:
+                                  properties:
+                                    key:
+                                      type: string
+                                    name:
+                                      type: string
+                                    optional:
+                                      type: boolean
+                                  required:
+                                  - key
+                                  type: object
+                              type: object
                             endpoint:
                               type: string
                             insecure:
@@ -1499,6 +1519,26 @@ spec:
                               objectLocking:
                                 type: boolean
                             type: object
+                          encryptionOptions:
+                            properties:
+                              enableEncryption:
+                                type: boolean
+                              kmsEncryptionContext:
+                                type: string
+                              kmsKeyId:
+                                type: string
+                              serverSideCustomerKeySecret:
+                                properties:
+                                  key:
+                                    type: string
+                                  name:
+                                    type: string
+                                  optional:
+                                    type: boolean
+                                required:
+                                - key
+                                type: object
+                            type: object
                           endpoint:
                             type: string
                           insecure:
@@ -2941,6 +2981,26 @@ spec:
                                               objectLocking:
                                                 type: boolean
                                             type: object
+                                          encryptionOptions:
+                                            properties:
+                                              enableEncryption:
+                                                type: boolean
+                                              kmsEncryptionContext:
+                                                type: string
+                                              kmsKeyId:
+                                                type: string
+                                              serverSideCustomerKeySecret:
+                                                properties:
+                                                  key:
+                                                    type: string
+                                                  name:
+                                                    type: string
+                                                  optional:
+                                                    type: boolean
+                                                required:
+                                                - key
+                                                type: object
+                                            type: object
                                           endpoint:
                                             type: string
                                           insecure:
@@ -3311,6 +3371,26 @@ spec:
                                                     objectLocking:
                                                       type: boolean
                                                   type: object
+                                                encryptionOptions:
+                                                  properties:
+                                                    enableEncryption:
+                                                      type: boolean
+                                                    kmsEncryptionContext:
+                                                      type: string
+                                                    kmsKeyId:
+                                                      type: string
+                                                    serverSideCustomerKeySecret:
+                                                      properties:
+                                                        key:
+                                                          type: string
+                                                        name:
+                                                          type: string
+                                                        optional:
+                                                          type: boolean
+                                                      required:
+                                                      - key
+                                                      type: object
+                                                  type: object
                                                 endpoint:
                                                   type: string
                                                 insecure:
@@ -3723,6 +3803,26 @@ spec:
                                       objectLocking:
                                         type: boolean
                                     type: object
+                                  encryptionOptions:
+                                    properties:
+                                      enableEncryption:
+                                        type: boolean
+                                      kmsEncryptionContext:
+                                        type: string
+                                      kmsKeyId:
+                                        type: string
+                                      serverSideCustomerKeySecret:
+                                        properties:
+                                          key:
+                                            type: string
+                                          name:
+                                            type: string
+                                          optional:
+                                            type: boolean
+                                        required:
+                                        - key
+                                        type: object
+                                    type: object
                                   endpoint:
                                     type: string
                                   insecure:
@@ -4657,6 +4757,26 @@ spec:
                                     objectLocking:
                                       type: boolean
                                   type: object
+                                encryptionOptions:
+                                  properties:
+                                    enableEncryption:
+                                      type: boolean
+                                    kmsEncryptionContext:
+                                      type: string
+                                    kmsKeyId:
+                                      type: string
+                                    serverSideCustomerKeySecret:
+                                      properties:
+                                        key:
+                                          type: string
+                                        name:
+                                          type: string
+                                        optional:
+                                          type: boolean
+                                      required:
+                                      - key
+                                      type: object
+                                  type: object
                                 endpoint:
                                   type: string
                                 insecure:
@@ -5115,6 +5235,26 @@ spec:
                                     objectLocking:
                                       type: boolean
                                   type: object
+                                encryptionOptions:
+                                  properties:
+                                    enableEncryption:
+                                      type: boolean
+                                    kmsEncryptionContext:
+                                      type: string
+                                    kmsKeyId:
+                                      type: string
+                                    serverSideCustomerKeySecret:
+                                      properties:
+                                        key:
+                                          type: string
+                                        name:
+                                          type: string
+                                        optional:
+                                          type: boolean
+                                      required:
+                                      - key
+                                      type: object
+                                  type: object
                                 endpoint:
                                   type: string
                                 insecure:
@@ -7651,6 +7791,26 @@ spec:
                                 objectLocking:
                                   type: boolean
                               type: object
+                            encryptionOptions:
+                              properties:
+                                enableEncryption:
+                                  type: boolean
+                                kmsEncryptionContext:
+                                  type: string
+                                kmsKeyId:
+                                  type: string
+                                serverSideCustomerKeySecret:
+                                  properties:
+                                    key:
+                                      type: string
+                                    name:
+                                      type: string
+                                    optional:
+                                      type: boolean
+                                  required:
+                                  - key
+                                  type: object
+                              type: object
                             endpoint:
                               type: string
                             insecure:
@@ -9093,6 +9253,26 @@ spec:
                                                 objectLocking:
                                                   type: boolean
                                               type: object
+                                            encryptionOptions:
+                                              properties:
+                                                enableEncryption:
+                                                  type: boolean
+                                                kmsEncryptionContext:
+                                                  type: string
+                                                kmsKeyId:
+                                                  type: string
+                                                serverSideCustomerKeySecret:
+                                                  properties:
+                                                    key:
+                                                      type: string
+                                                    name:
+                                                      type: string
+                                                    optional:
+                                                      type: boolean
+                                                  required:
+                                                  - key
+                                                  type: object
+                                              type: object
                                             endpoint:
                                               type: string
                                             insecure:
@@ -9463,6 +9643,26 @@ spec:
                                                       objectLocking:
                                                         type: boolean
                                                     type: object
+                                                  encryptionOptions:
+                                                    properties:
+                                                      enableEncryption:
+                                                        type: boolean
+                                                      kmsEncryptionContext:
+                                                        type: string
+                                                      kmsKeyId:
+                                                        type: string
+                                                      serverSideCustomerKeySecret:
+                                                        properties:
+                                                          key:
+                                                            type: string
+                                                          name:
+                                                            type: string
+                                                          optional:
+                                                            type: boolean
+                                                        required:
+                                                        - key
+                                                        type: object
+                                                    type: object
                                                   endpoint:
                                                     type: string
                                                   insecure:
@@ -9875,6 +10075,26 @@ spec:
                                         objectLocking:
                                           type: boolean
                                       type: object
+                                    encryptionOptions:
+                                      properties:
+                                        enableEncryption:
+                                          type: boolean
+                                        kmsEncryptionContext:
+                                          type: string
+                                        kmsKeyId:
+                                          type: string
+                                        serverSideCustomerKeySecret:
+                                          properties:
+                                            key:
+                                              type: string
+                                            name:
+                                              type: string
+                                            optional:
+                                              type: boolean
+                                          required:
+                                          - key
+                                          type: object
+                                      type: object
                                     endpoint:
                                       type: string
                                     insecure:
@@ -10809,6 +11029,26 @@ spec:
                                       objectLocking:
                                         type: boolean
                                     type: object
+                                  encryptionOptions:
+                                    properties:
+                                      enableEncryption:
+                                        type: boolean
+                                      kmsEncryptionContext:
+                                        type: string
+                                      kmsKeyId:
+                                        type: string
+                                      serverSideCustomerKeySecret:
+                                        properties:
+                                          key:
+                                            type: string
+                                          name:
+                                            type: string
+                                          optional:
+                                            type: boolean
+                                        required:
+                                        - key
+                                        type: object
+                                    type: object
                                   endpoint:
                                     type: string
                                   insecure:
@@ -11267,6 +11507,26 @@ spec:
                                       objectLocking:
                                         type: boolean
                                     type: object
+                                  encryptionOptions:
+                                    properties:
+                                      enableEncryption:
+                                        type: boolean
+                                      kmsEncryptionContext:
+                                        type: string
+                                      kmsKeyId:
+                                        type: string
+                                      serverSideCustomerKeySecret:
+                                        properties:
+                                          key:
+                                            type: string
+                                          name:
+                                            type: string
+                                          optional:
+                                            type: boolean
+                                        required:
+                                        - key
+                                        type: object
+                                    type: object
                                   endpoint:
                                     type: string
                                   insecure:
diff --git a/pkg/apis/workflow/v1alpha1/generated.pb.go b/pkg/apis/workflow/v1alpha1/generated.pb.go
index 6436c042cb65..99d1b93b2a40 100644
--- a/pkg/apis/workflow/v1alpha1/generated.pb.go
+++ b/pkg/apis/workflow/v1alpha1/generated.pb.go
@@ -2276,10 +2276,38 @@ func (m *S3Bucket) XXX_DiscardUnknown() {
 
 var xxx_messageInfo_S3Bucket proto.InternalMessageInfo
 
+func (m *S3EncryptionOptions) Reset()      { *m = S3EncryptionOptions{} }
+func (*S3EncryptionOptions) ProtoMessage() {}
+func (*S3EncryptionOptions) Descriptor() ([]byte, []int) {
+	return fileDescriptor_724696e352c3df5f, []int{80}
+}
+func (m *S3EncryptionOptions) XXX_Unmarshal(b []byte) error {
+	return m.Unmarshal(b)
+}
+func (m *S3EncryptionOptions) XXX_Marshal(b []byte, deterministic bool) ([]byte, error) {
+	b = b[:cap(b)]
+	n, err := m.MarshalToSizedBuffer(b)
+	if err != nil {
+		return nil, err
+	}
+	return b[:n], nil
+}
+func (m *S3EncryptionOptions) XXX_Merge(src proto.Message) {
+	xxx_messageInfo_S3EncryptionOptions.Merge(m, src)
+}
+func (m *S3EncryptionOptions) XXX_Size() int {
+	return m.Size()
+}
+func (m *S3EncryptionOptions) XXX_DiscardUnknown() {
+	xxx_messageInfo_S3EncryptionOptions.DiscardUnknown(m)
+}
+
+var xxx_messageInfo_S3EncryptionOptions proto.InternalMessageInfo
+
 func (m *ScriptTemplate) Reset()      { *m = ScriptTemplate{} }
 func (*ScriptTemplate) ProtoMessage() {}
 func (*ScriptTemplate) Descriptor() ([]byte, []int) {
-	return fileDescriptor_724696e352c3df5f, []int{80}
+	return fileDescriptor_724696e352c3df5f, []int{81}
 }
 func (m *ScriptTemplate) XXX_Unmarshal(b []byte) error {
 	return m.Unmarshal(b)
@@ -2307,7 +2335,7 @@ var xxx_messageInfo_ScriptTemplate proto.InternalMessageInfo
 func (m *SemaphoreHolding) Reset()      { *m = SemaphoreHolding{} }
 func (*SemaphoreHolding) ProtoMessage() {}
 func (*SemaphoreHolding) Descriptor() ([]byte, []int) {
-	return fileDescriptor_724696e352c3df5f, []int{81}
+	return fileDescriptor_724696e352c3df5f, []int{82}
 }
 func (m *SemaphoreHolding) XXX_Unmarshal(b []byte) error {
 	return m.Unmarshal(b)
@@ -2335,7 +2363,7 @@ var xxx_messageInfo_SemaphoreHolding proto.InternalMessageInfo
 func (m *SemaphoreRef) Reset()      { *m = SemaphoreRef{} }
 func (*SemaphoreRef) ProtoMessage() {}
 func (*SemaphoreRef) Descriptor() ([]byte, []int) {
-	return fileDescriptor_724696e352c3df5f, []int{82}
+	return fileDescriptor_724696e352c3df5f, []int{83}
 }
 func (m *SemaphoreRef) XXX_Unmarshal(b []byte) error {
 	return m.Unmarshal(b)
@@ -2363,7 +2391,7 @@ var xxx_messageInfo_SemaphoreRef proto.InternalMessageInfo
 func (m *SemaphoreStatus) Reset()      { *m = SemaphoreStatus{} }
 func (*SemaphoreStatus) ProtoMessage() {}
 func (*SemaphoreStatus) Descriptor() ([]byte, []int) {
-	return fileDescriptor_724696e352c3df5f, []int{83}
+	return fileDescriptor_724696e352c3df5f, []int{84}
 }
 func (m *SemaphoreStatus) XXX_Unmarshal(b []byte) error {
 	return m.Unmarshal(b)
@@ -2391,7 +2419,7 @@ var xxx_messageInfo_SemaphoreStatus proto.InternalMessageInfo
 func (m *Sequence) Reset()      { *m = Sequence{} }
 func (*Sequence) ProtoMessage() {}
 func (*Sequence) Descriptor() ([]byte, []int) {
-	return fileDescriptor_724696e352c3df5f, []int{84}
+	return fileDescriptor_724696e352c3df5f, []int{85}
 }
 func (m *Sequence) XXX_Unmarshal(b []byte) error {
 	return m.Unmarshal(b)
@@ -2419,7 +2447,7 @@ var xxx_messageInfo_Sequence proto.InternalMessageInfo
 func (m *Submit) Reset()      { *m = Submit{} }
 func (*Submit) ProtoMessage() {}
 func (*Submit) Descriptor() ([]byte, []int) {
-	return fileDescriptor_724696e352c3df5f, []int{85}
+	return fileDescriptor_724696e352c3df5f, []int{86}
 }
 func (m *Submit) XXX_Unmarshal(b []byte) error {
 	return m.Unmarshal(b)
@@ -2447,7 +2475,7 @@ var xxx_messageInfo_Submit proto.InternalMessageInfo
 func (m *SubmitOpts) Reset()      { *m = SubmitOpts{} }
 func (*SubmitOpts) ProtoMessage() {}
 func (*SubmitOpts) Descriptor() ([]byte, []int) {
-	return fileDescriptor_724696e352c3df5f, []int{86}
+	return fileDescriptor_724696e352c3df5f, []int{87}
 }
 func (m *SubmitOpts) XXX_Unmarshal(b []byte) error {
 	return m.Unmarshal(b)
@@ -2475,7 +2503,7 @@ var xxx_messageInfo_SubmitOpts proto.InternalMessageInfo
 func (m *SuppliedValueFrom) Reset()      { *m = SuppliedValueFrom{} }
 func (*SuppliedValueFrom) ProtoMessage() {}
 func (*SuppliedValueFrom) Descriptor() ([]byte, []int) {
-	return fileDescriptor_724696e352c3df5f, []int{87}
+	return fileDescriptor_724696e352c3df5f, []int{88}
 }
 func (m *SuppliedValueFrom) XXX_Unmarshal(b []byte) error {
 	return m.Unmarshal(b)
@@ -2503,7 +2531,7 @@ var xxx_messageInfo_SuppliedValueFrom proto.InternalMessageInfo
 func (m *SuspendTemplate) Reset()      { *m = SuspendTemplate{} }
 func (*SuspendTemplate) ProtoMessage() {}
 func (*SuspendTemplate) Descriptor() ([]byte, []int) {
-	return fileDescriptor_724696e352c3df5f, []int{88}
+	return fileDescriptor_724696e352c3df5f, []int{89}
 }
 func (m *SuspendTemplate) XXX_Unmarshal(b []byte) error {
 	return m.Unmarshal(b)
@@ -2531,7 +2559,7 @@ var xxx_messageInfo_SuspendTemplate proto.InternalMessageInfo
 func (m *Synchronization) Reset()      { *m = Synchronization{} }
 func (*Synchronization) ProtoMessage() {}
 func (*Synchronization) Descriptor() ([]byte, []int) {
-	return fileDescriptor_724696e352c3df5f, []int{89}
+	return fileDescriptor_724696e352c3df5f, []int{90}
 }
 func (m *Synchronization) XXX_Unmarshal(b []byte) error {
 	return m.Unmarshal(b)
@@ -2559,7 +2587,7 @@ var xxx_messageInfo_Synchronization proto.InternalMessageInfo
 func (m *SynchronizationStatus) Reset()      { *m = SynchronizationStatus{} }
 func (*SynchronizationStatus) ProtoMessage() {}
 func (*SynchronizationStatus) Descriptor() ([]byte, []int) {
-	return fileDescriptor_724696e352c3df5f, []int{90}
+	return fileDescriptor_724696e352c3df5f, []int{91}
 }
 func (m *SynchronizationStatus) XXX_Unmarshal(b []byte) error {
 	return m.Unmarshal(b)
@@ -2587,7 +2615,7 @@ var xxx_messageInfo_SynchronizationStatus proto.InternalMessageInfo
 func (m *TTLStrategy) Reset()      { *m = TTLStrategy{} }
 func (*TTLStrategy) ProtoMessage() {}
 func (*TTLStrategy) Descriptor() ([]byte, []int) {
-	return fileDescriptor_724696e352c3df5f, []int{91}
+	return fileDescriptor_724696e352c3df5f, []int{92}
 }
 func (m *TTLStrategy) XXX_Unmarshal(b []byte) error {
 	return m.Unmarshal(b)
@@ -2615,7 +2643,7 @@ var xxx_messageInfo_TTLStrategy proto.InternalMessageInfo
 func (m *TarStrategy) Reset()      { *m = TarStrategy{} }
 func (*TarStrategy) ProtoMessage() {}
 func (*TarStrategy) Descriptor() ([]byte, []int) {
-	return fileDescriptor_724696e352c3df5f, []int{92}
+	return fileDescriptor_724696e352c3df5f, []int{93}
 }
 func (m *TarStrategy) XXX_Unmarshal(b []byte) error {
 	return m.Unmarshal(b)
@@ -2643,7 +2671,7 @@ var xxx_messageInfo_TarStrategy proto.InternalMessageInfo
 func (m *Template) Reset()      { *m = Template{} }
 func (*Template) ProtoMessage() {}
 func (*Template) Descriptor() ([]byte, []int) {
-	return fileDescriptor_724696e352c3df5f, []int{93}
+	return fileDescriptor_724696e352c3df5f, []int{94}
 }
 func (m *Template) XXX_Unmarshal(b []byte) error {
 	return m.Unmarshal(b)
@@ -2671,7 +2699,7 @@ var xxx_messageInfo_Template proto.InternalMessageInfo
 func (m *TemplateRef) Reset()      { *m = TemplateRef{} }
 func (*TemplateRef) ProtoMessage() {}
 func (*TemplateRef) Descriptor() ([]byte, []int) {
-	return fileDescriptor_724696e352c3df5f, []int{94}
+	return fileDescriptor_724696e352c3df5f, []int{95}
 }
 func (m *TemplateRef) XXX_Unmarshal(b []byte) error {
 	return m.Unmarshal(b)
@@ -2699,7 +2727,7 @@ var xxx_messageInfo_TemplateRef proto.InternalMessageInfo
 func (m *TransformationStep) Reset()      { *m = TransformationStep{} }
 func (*TransformationStep) ProtoMessage() {}
 func (*TransformationStep) Descriptor() ([]byte, []int) {
-	return fileDescriptor_724696e352c3df5f, []int{95}
+	return fileDescriptor_724696e352c3df5f, []int{96}
 }
 func (m *TransformationStep) XXX_Unmarshal(b []byte) error {
 	return m.Unmarshal(b)
@@ -2727,7 +2755,7 @@ var xxx_messageInfo_TransformationStep proto.InternalMessageInfo
 func (m *UserContainer) Reset()      { *m = UserContainer{} }
 func (*UserContainer) ProtoMessage() {}
 func (*UserContainer) Descriptor() ([]byte, []int) {
-	return fileDescriptor_724696e352c3df5f, []int{96}
+	return fileDescriptor_724696e352c3df5f, []int{97}
 }
 func (m *UserContainer) XXX_Unmarshal(b []byte) error {
 	return m.Unmarshal(b)
@@ -2755,7 +2783,7 @@ var xxx_messageInfo_UserContainer proto.InternalMessageInfo
 func (m *ValueFrom) Reset()      { *m = ValueFrom{} }
 func (*ValueFrom) ProtoMessage() {}
 func (*ValueFrom) Descriptor() ([]byte, []int) {
-	return fileDescriptor_724696e352c3df5f, []int{97}
+	return fileDescriptor_724696e352c3df5f, []int{98}
 }
 func (m *ValueFrom) XXX_Unmarshal(b []byte) error {
 	return m.Unmarshal(b)
@@ -2783,7 +2811,7 @@ var xxx_messageInfo_ValueFrom proto.InternalMessageInfo
 func (m *Version) Reset()      { *m = Version{} }
 func (*Version) ProtoMessage() {}
 func (*Version) Descriptor() ([]byte, []int) {
-	return fileDescriptor_724696e352c3df5f, []int{98}
+	return fileDescriptor_724696e352c3df5f, []int{99}
 }
 func (m *Version) XXX_Unmarshal(b []byte) error {
 	return m.Unmarshal(b)
@@ -2811,7 +2839,7 @@ var xxx_messageInfo_Version proto.InternalMessageInfo
 func (m *VolumeClaimGC) Reset()      { *m = VolumeClaimGC{} }
 func (*VolumeClaimGC) ProtoMessage() {}
 func (*VolumeClaimGC) Descriptor() ([]byte, []int) {
-	return fileDescriptor_724696e352c3df5f, []int{99}
+	return fileDescriptor_724696e352c3df5f, []int{100}
 }
 func (m *VolumeClaimGC) XXX_Unmarshal(b []byte) error {
 	return m.Unmarshal(b)
@@ -2839,7 +2867,7 @@ var xxx_messageInfo_VolumeClaimGC proto.InternalMessageInfo
 func (m *Workflow) Reset()      { *m = Workflow{} }
 func (*Workflow) ProtoMessage() {}
 func (*Workflow) Descriptor() ([]byte, []int) {
-	return fileDescriptor_724696e352c3df5f, []int{100}
+	return fileDescriptor_724696e352c3df5f, []int{101}
 }
 func (m *Workflow) XXX_Unmarshal(b []byte) error {
 	return m.Unmarshal(b)
@@ -2867,7 +2895,7 @@ var xxx_messageInfo_Workflow proto.InternalMessageInfo
 func (m *WorkflowEventBinding) Reset()      { *m = WorkflowEventBinding{} }
 func (*WorkflowEventBinding) ProtoMessage() {}
 func (*WorkflowEventBinding) Descriptor() ([]byte, []int) {
-	return fileDescriptor_724696e352c3df5f, []int{101}
+	return fileDescriptor_724696e352c3df5f, []int{102}
 }
 func (m *WorkflowEventBinding) XXX_Unmarshal(b []byte) error {
 	return m.Unmarshal(b)
@@ -2895,7 +2923,7 @@ var xxx_messageInfo_WorkflowEventBinding proto.InternalMessageInfo
 func (m *WorkflowEventBindingList) Reset()      { *m = WorkflowEventBindingList{} }
 func (*WorkflowEventBindingList) ProtoMessage() {}
 func (*WorkflowEventBindingList) Descriptor() ([]byte, []int) {
-	return fileDescriptor_724696e352c3df5f, []int{102}
+	return fileDescriptor_724696e352c3df5f, []int{103}
 }
 func (m *WorkflowEventBindingList) XXX_Unmarshal(b []byte) error {
 	return m.Unmarshal(b)
@@ -2923,7 +2951,7 @@ var xxx_messageInfo_WorkflowEventBindingList proto.InternalMessageInfo
 func (m *WorkflowEventBindingSpec) Reset()      { *m = WorkflowEventBindingSpec{} }
 func (*WorkflowEventBindingSpec) ProtoMessage() {}
 func (*WorkflowEventBindingSpec) Descriptor() ([]byte, []int) {
-	return fileDescriptor_724696e352c3df5f, []int{103}
+	return fileDescriptor_724696e352c3df5f, []int{104}
 }
 func (m *WorkflowEventBindingSpec) XXX_Unmarshal(b []byte) error {
 	return m.Unmarshal(b)
@@ -2951,7 +2979,7 @@ var xxx_messageInfo_WorkflowEventBindingSpec proto.InternalMessageInfo
 func (m *WorkflowList) Reset()      { *m = WorkflowList{} }
 func (*WorkflowList) ProtoMessage() {}
 func (*WorkflowList) Descriptor() ([]byte, []int) {
-	return fileDescriptor_724696e352c3df5f, []int{104}
+	return fileDescriptor_724696e352c3df5f, []int{105}
 }
 func (m *WorkflowList) XXX_Unmarshal(b []byte) error {
 	return m.Unmarshal(b)
@@ -2979,7 +3007,7 @@ var xxx_messageInfo_WorkflowList proto.InternalMessageInfo
 func (m *WorkflowSpec) Reset()      { *m = WorkflowSpec{} }
 func (*WorkflowSpec) ProtoMessage() {}
 func (*WorkflowSpec) Descriptor() ([]byte, []int) {
-	return fileDescriptor_724696e352c3df5f, []int{105}
+	return fileDescriptor_724696e352c3df5f, []int{106}
 }
 func (m *WorkflowSpec) XXX_Unmarshal(b []byte) error {
 	return m.Unmarshal(b)
@@ -3007,7 +3035,7 @@ var xxx_messageInfo_WorkflowSpec proto.InternalMessageInfo
 func (m *WorkflowStatus) Reset()      { *m = WorkflowStatus{} }
 func (*WorkflowStatus) ProtoMessage() {}
 func (*WorkflowStatus) Descriptor() ([]byte, []int) {
-	return fileDescriptor_724696e352c3df5f, []int{106}
+	return fileDescriptor_724696e352c3df5f, []int{107}
 }
 func (m *WorkflowStatus) XXX_Unmarshal(b []byte) error {
 	return m.Unmarshal(b)
@@ -3035,7 +3063,7 @@ var xxx_messageInfo_WorkflowStatus proto.InternalMessageInfo
 func (m *WorkflowStep) Reset()      { *m = WorkflowStep{} }
 func (*WorkflowStep) ProtoMessage() {}
 func (*WorkflowStep) Descriptor() ([]byte, []int) {
-	return fileDescriptor_724696e352c3df5f, []int{107}
+	return fileDescriptor_724696e352c3df5f, []int{108}
 }
 func (m *WorkflowStep) XXX_Unmarshal(b []byte) error {
 	return m.Unmarshal(b)
@@ -3063,7 +3091,7 @@ var xxx_messageInfo_WorkflowStep proto.InternalMessageInfo
 func (m *WorkflowTaskSet) Reset()      { *m = WorkflowTaskSet{} }
 func (*WorkflowTaskSet) ProtoMessage() {}
 func (*WorkflowTaskSet) Descriptor() ([]byte, []int) {
-	return fileDescriptor_724696e352c3df5f, []int{108}
+	return fileDescriptor_724696e352c3df5f, []int{109}
 }
 func (m *WorkflowTaskSet) XXX_Unmarshal(b []byte) error {
 	return m.Unmarshal(b)
@@ -3091,7 +3119,7 @@ var xxx_messageInfo_WorkflowTaskSet proto.InternalMessageInfo
 func (m *WorkflowTaskSetList) Reset()      { *m = WorkflowTaskSetList{} }
 func (*WorkflowTaskSetList) ProtoMessage() {}
 func (*WorkflowTaskSetList) Descriptor() ([]byte, []int) {
-	return fileDescriptor_724696e352c3df5f, []int{109}
+	return fileDescriptor_724696e352c3df5f, []int{110}
 }
 func (m *WorkflowTaskSetList) XXX_Unmarshal(b []byte) error {
 	return m.Unmarshal(b)
@@ -3119,7 +3147,7 @@ var xxx_messageInfo_WorkflowTaskSetList proto.InternalMessageInfo
 func (m *WorkflowTaskSetSpec) Reset()      { *m = WorkflowTaskSetSpec{} }
 func (*WorkflowTaskSetSpec) ProtoMessage() {}
 func (*WorkflowTaskSetSpec) Descriptor() ([]byte, []int) {
-	return fileDescriptor_724696e352c3df5f, []int{110}
+	return fileDescriptor_724696e352c3df5f, []int{111}
 }
 func (m *WorkflowTaskSetSpec) XXX_Unmarshal(b []byte) error {
 	return m.Unmarshal(b)
@@ -3147,7 +3175,7 @@ var xxx_messageInfo_WorkflowTaskSetSpec proto.InternalMessageInfo
 func (m *WorkflowTaskSetStatus) Reset()      { *m = WorkflowTaskSetStatus{} }
 func (*WorkflowTaskSetStatus) ProtoMessage() {}
 func (*WorkflowTaskSetStatus) Descriptor() ([]byte, []int) {
-	return fileDescriptor_724696e352c3df5f, []int{111}
+	return fileDescriptor_724696e352c3df5f, []int{112}
 }
 func (m *WorkflowTaskSetStatus) XXX_Unmarshal(b []byte) error {
 	return m.Unmarshal(b)
@@ -3175,7 +3203,7 @@ var xxx_messageInfo_WorkflowTaskSetStatus proto.InternalMessageInfo
 func (m *WorkflowTemplate) Reset()      { *m = WorkflowTemplate{} }
 func (*WorkflowTemplate) ProtoMessage() {}
 func (*WorkflowTemplate) Descriptor() ([]byte, []int) {
-	return fileDescriptor_724696e352c3df5f, []int{112}
+	return fileDescriptor_724696e352c3df5f, []int{113}
 }
 func (m *WorkflowTemplate) XXX_Unmarshal(b []byte) error {
 	return m.Unmarshal(b)
@@ -3203,7 +3231,7 @@ var xxx_messageInfo_WorkflowTemplate proto.InternalMessageInfo
 func (m *WorkflowTemplateList) Reset()      { *m = WorkflowTemplateList{} }
 func (*WorkflowTemplateList) ProtoMessage() {}
 func (*WorkflowTemplateList) Descriptor() ([]byte, []int) {
-	return fileDescriptor_724696e352c3df5f, []int{113}
+	return fileDescriptor_724696e352c3df5f, []int{114}
 }
 func (m *WorkflowTemplateList) XXX_Unmarshal(b []byte) error {
 	return m.Unmarshal(b)
@@ -3231,7 +3259,7 @@ var xxx_messageInfo_WorkflowTemplateList proto.InternalMessageInfo
 func (m *WorkflowTemplateRef) Reset()      { *m = WorkflowTemplateRef{} }
 func (*WorkflowTemplateRef) ProtoMessage() {}
 func (*WorkflowTemplateRef) Descriptor() ([]byte, []int) {
-	return fileDescriptor_724696e352c3df5f, []int{114}
+	return fileDescriptor_724696e352c3df5f, []int{115}
 }
 func (m *WorkflowTemplateRef) XXX_Unmarshal(b []byte) error {
 	return m.Unmarshal(b)
@@ -3259,7 +3287,7 @@ var xxx_messageInfo_WorkflowTemplateRef proto.InternalMessageInfo
 func (m *WorkflowTemplateSpec) Reset()      { *m = WorkflowTemplateSpec{} }
 func (*WorkflowTemplateSpec) ProtoMessage() {}
 func (*WorkflowTemplateSpec) Descriptor() ([]byte, []int) {
-	return fileDescriptor_724696e352c3df5f, []int{115}
+	return fileDescriptor_724696e352c3df5f, []int{116}
 }
 func (m *WorkflowTemplateSpec) XXX_Unmarshal(b []byte) error {
 	return m.Unmarshal(b)
@@ -3287,7 +3315,7 @@ var xxx_messageInfo_WorkflowTemplateSpec proto.InternalMessageInfo
 func (m *ZipStrategy) Reset()      { *m = ZipStrategy{} }
 func (*ZipStrategy) ProtoMessage() {}
 func (*ZipStrategy) Descriptor() ([]byte, []int) {
-	return fileDescriptor_724696e352c3df5f, []int{116}
+	return fileDescriptor_724696e352c3df5f, []int{117}
 }
 func (m *ZipStrategy) XXX_Unmarshal(b []byte) error {
 	return m.Unmarshal(b)
@@ -3397,6 +3425,7 @@ func init() {
 	proto.RegisterType((*S3Artifact)(nil), "github.com.argoproj.argo_workflows.v3.pkg.apis.workflow.v1alpha1.S3Artifact")
 	proto.RegisterType((*S3ArtifactRepository)(nil), "github.com.argoproj.argo_workflows.v3.pkg.apis.workflow.v1alpha1.S3ArtifactRepository")
 	proto.RegisterType((*S3Bucket)(nil), "github.com.argoproj.argo_workflows.v3.pkg.apis.workflow.v1alpha1.S3Bucket")
+	proto.RegisterType((*S3EncryptionOptions)(nil), "github.com.argoproj.argo_workflows.v3.pkg.apis.workflow.v1alpha1.S3EncryptionOptions")
 	proto.RegisterType((*ScriptTemplate)(nil), "github.com.argoproj.argo_workflows.v3.pkg.apis.workflow.v1alpha1.ScriptTemplate")
 	proto.RegisterType((*SemaphoreHolding)(nil), "github.com.argoproj.argo_workflows.v3.pkg.apis.workflow.v1alpha1.SemaphoreHolding")
 	proto.RegisterType((*SemaphoreRef)(nil), "github.com.argoproj.argo_workflows.v3.pkg.apis.workflow.v1alpha1.SemaphoreRef")
@@ -3449,553 +3478,561 @@ func init() {
 }
 
 var fileDescriptor_724696e352c3df5f = []byte{
-	// 8728 bytes of a gzipped FileDescriptorProto
+	// 8855 bytes of a gzipped FileDescriptorProto
 	0x1f, 0x8b, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0xff, 0xec, 0x7d, 0x6d, 0x6c, 0x24, 0xc9,
-	0x75, 0xd8, 0xf5, 0x90, 0x43, 0xce, 0x3c, 0x92, 0x4b, 0x6e, 0xed, 0xd7, 0x1c, 0x6f, 0x77, 0xb9,
-	0xee, 0xf3, 0x5d, 0x6e, 0x9d, 0x13, 0xe9, 0xdb, 0xd5, 0x25, 0x17, 0x09, 0x91, 0xc5, 0x21, 0x97,
-	0xe4, 0x1e, 0x3f, 0xaf, 0x86, 0xbb, 0x9b, 0xfb, 0x88, 0xac, 0xe6, 0x4c, 0x71, 0xa6, 0x8f, 0x33,
-	0xdd, 0x73, 0xdd, 0x3d, 0xfc, 0xd0, 0xdd, 0x49, 0x8a, 0xfc, 0x21, 0x5d, 0x2c, 0xc7, 0xf9, 0x50,
-	0x6c, 0xd9, 0x49, 0x00, 0xc1, 0xb1, 0xe2, 0xc0, 0x31, 0x02, 0x18, 0xc8, 0x2f, 0xfb, 0x6f, 0x60,
-	0x28, 0x48, 0x80, 0x38, 0xb0, 0x12, 0x0b, 0x48, 0x42, 0x45, 0xcc, 0x07, 0x82, 0x04, 0xce, 0x8f,
-	0x20, 0x92, 0x8d, 0x8d, 0x7f, 0x04, 0xf5, 0xd9, 0x55, 0x3d, 0x3d, 0xdc, 0xe1, 0x6e, 0x93, 0x2b,
-	0xc4, 0xfe, 0x37, 0xf3, 0xea, 0xd5, 0x7b, 0x55, 0xd5, 0x55, 0xaf, 0x5e, 0xbd, 0xf7, 0xea, 0x15,
-	0x6c, 0xd4, 0xdd, 0xa8, 0xd1, 0xd9, 0x9a, 0xae, 0xfa, 0xad, 0x19, 0x27, 0xa8, 0xfb, 0xed, 0xc0,
-	0x7f, 0x97, 0xfd, 0xf8, 0xd8, 0x9e, 0x1f, 0xec, 0x6c, 0x37, 0xfd, 0xbd, 0x70, 0x66, 0xf7, 0xf6,
-	0x4c, 0x7b, 0xa7, 0x3e, 0xe3, 0xb4, 0xdd, 0x70, 0x46, 0x42, 0x67, 0x76, 0x5f, 0x71, 0x9a, 0xed,
-	0x86, 0xf3, 0xca, 0x4c, 0x9d, 0x78, 0x24, 0x70, 0x22, 0x52, 0x9b, 0x6e, 0x07, 0x7e, 0xe4, 0xa3,
-	0x4f, 0xc7, 0x14, 0xa7, 0x25, 0x45, 0xf6, 0xe3, 0x27, 0x15, 0xc5, 0xe9, 0xdd, 0xdb, 0xd3, 0xed,
-	0x9d, 0xfa, 0x34, 0xa5, 0x38, 0x2d, 0xa1, 0xd3, 0x92, 0xe2, 0xe4, 0xc7, 0xb4, 0x36, 0xd5, 0xfd,
-	0xba, 0x3f, 0xc3, 0x08, 0x6f, 0x75, 0xb6, 0xd9, 0x3f, 0xf6, 0x87, 0xfd, 0xe2, 0x0c, 0x27, 0xed,
-	0x9d, 0xd7, 0xc2, 0x69, 0xd7, 0xa7, 0xed, 0x9b, 0xa9, 0xfa, 0x01, 0x99, 0xd9, 0xed, 0x6a, 0xd4,
-	0xe4, 0x4d, 0x0d, 0xa7, 0xed, 0x37, 0xdd, 0xea, 0xc1, 0xcc, 0xee, 0x2b, 0x5b, 0x24, 0xea, 0x6e,
-	0xff, 0xe4, 0xc7, 0x63, 0xd4, 0x96, 0x53, 0x6d, 0xb8, 0x1e, 0x09, 0x0e, 0xe2, 0xfe, 0xb7, 0x48,
-	0xe4, 0xa4, 0x31, 0x98, 0xe9, 0x55, 0x2b, 0xe8, 0x78, 0x91, 0xdb, 0x22, 0x5d, 0x15, 0xfe, 0xc2,
-	0xa3, 0x2a, 0x84, 0xd5, 0x06, 0x69, 0x39, 0x5d, 0xf5, 0x6e, 0xf7, 0xaa, 0xd7, 0x89, 0xdc, 0xe6,
-	0x8c, 0xeb, 0x45, 0x61, 0x14, 0x24, 0x2b, 0xd9, 0x77, 0x60, 0x68, 0xb6, 0xe5, 0x77, 0xbc, 0x08,
-	0x7d, 0x12, 0xf2, 0xbb, 0x4e, 0xb3, 0x43, 0x4a, 0xd6, 0x0d, 0xeb, 0xa5, 0x62, 0xf9, 0x85, 0x6f,
-	0x1d, 0x4e, 0x3d, 0x73, 0x74, 0x38, 0x95, 0xbf, 0x4f, 0x81, 0x0f, 0x0f, 0xa7, 0x2e, 0x12, 0xaf,
-	0xea, 0xd7, 0x5c, 0xaf, 0x3e, 0xf3, 0x6e, 0xe8, 0x7b, 0xd3, 0x6b, 0x9d, 0xd6, 0x16, 0x09, 0x30,
-	0xaf, 0x63, 0xff, 0x7e, 0x0e, 0xc6, 0x67, 0x83, 0x6a, 0xc3, 0xdd, 0x25, 0x95, 0x88, 0xd2, 0xaf,
-	0x1f, 0xa0, 0x06, 0x0c, 0x44, 0x4e, 0xc0, 0xc8, 0x8d, 0xdc, 0x5a, 0x9d, 0x7e, 0xd2, 0x8f, 0x3f,
-	0xbd, 0xe9, 0x04, 0x92, 0x76, 0x79, 0xf8, 0xe8, 0x70, 0x6a, 0x60, 0xd3, 0x09, 0x30, 0x65, 0x81,
-	0x9a, 0x30, 0xe8, 0xf9, 0x1e, 0x29, 0xe5, 0x18, 0xab, 0xb5, 0x27, 0x67, 0xb5, 0xe6, 0x7b, 0xaa,
-	0x1f, 0xe5, 0xc2, 0xd1, 0xe1, 0xd4, 0x20, 0x85, 0x60, 0xc6, 0x85, 0xf6, 0xeb, 0x73, 0x6e, 0xbb,
-	0x34, 0x90, 0x55, 0xbf, 0xde, 0x72, 0xdb, 0x66, 0xbf, 0xde, 0x72, 0xdb, 0x98, 0xb2, 0xb0, 0x3f,
-	0xca, 0x41, 0x71, 0x36, 0xa8, 0x77, 0x5a, 0xc4, 0x8b, 0x42, 0xf4, 0x05, 0x80, 0xb6, 0x13, 0x38,
-	0x2d, 0x12, 0x91, 0x20, 0x2c, 0x59, 0x37, 0x06, 0x5e, 0x1a, 0xb9, 0xb5, 0xfc, 0xe4, 0xec, 0x37,
-	0x24, 0xcd, 0x32, 0x12, 0x9f, 0x1c, 0x14, 0x28, 0xc4, 0x1a, 0x4b, 0xf4, 0x3e, 0x14, 0x9d, 0x20,
-	0x72, 0xb7, 0x9d, 0x6a, 0x14, 0x96, 0x72, 0x8c, 0xff, 0xeb, 0x4f, 0xce, 0x7f, 0x56, 0x90, 0x2c,
-	0x9f, 0x17, 0xec, 0x8b, 0x12, 0x12, 0xe2, 0x98, 0x9f, 0xfd, 0xeb, 0x79, 0x28, 0xc8, 0x02, 0x74,
-	0x03, 0x06, 0x3d, 0xa7, 0x25, 0xa7, 0xea, 0xa8, 0xa8, 0x38, 0xb8, 0xe6, 0xb4, 0xe8, 0x47, 0x72,
-	0x5a, 0x84, 0x62, 0xb4, 0x9d, 0xa8, 0xc1, 0xa6, 0x84, 0x86, 0xb1, 0xe1, 0x44, 0x0d, 0xcc, 0x4a,
-	0xd0, 0x55, 0x18, 0x6c, 0xf9, 0x35, 0xc2, 0xbe, 0x63, 0x9e, 0x7f, 0xe4, 0x55, 0xbf, 0x46, 0x30,
-	0x83, 0xd2, 0xfa, 0xdb, 0x81, 0xdf, 0x2a, 0x0d, 0x9a, 0xf5, 0x17, 0x02, 0xbf, 0x85, 0x59, 0x09,
-	0xfa, 0xba, 0x05, 0x13, 0xb2, 0x79, 0x2b, 0x7e, 0xd5, 0x89, 0x5c, 0xdf, 0x2b, 0xe5, 0xd9, 0xa4,
-	0xc0, 0xd9, 0x8d, 0x8a, 0xa4, 0x5c, 0x2e, 0x89, 0x26, 0x4c, 0x24, 0x4b, 0x70, 0x57, 0x2b, 0xd0,
-	0x2d, 0x80, 0x7a, 0xd3, 0xdf, 0x72, 0x9a, 0x74, 0x40, 0x4a, 0x43, 0xac, 0x0b, 0xea, 0xe3, 0x2e,
-	0xaa, 0x12, 0xac, 0x61, 0xa1, 0x7d, 0x18, 0x76, 0xf8, 0x02, 0x2e, 0x0d, 0xb3, 0x4e, 0xbc, 0x91,
-	0x45, 0x27, 0x0c, 0x89, 0x50, 0x1e, 0x39, 0x3a, 0x9c, 0x1a, 0x16, 0x40, 0x2c, 0xd9, 0xa1, 0x97,
-	0xa1, 0xe0, 0xb7, 0x69, 0xbb, 0x9d, 0x66, 0xa9, 0x70, 0xc3, 0x7a, 0xa9, 0x50, 0x9e, 0x10, 0x6d,
-	0x2d, 0xac, 0x0b, 0x38, 0x56, 0x18, 0xe8, 0x26, 0x0c, 0x87, 0x9d, 0x2d, 0xfa, 0x1d, 0x4b, 0x45,
-	0xd6, 0xb1, 0x71, 0x81, 0x3c, 0x5c, 0xe1, 0x60, 0x2c, 0xcb, 0xd1, 0xab, 0x30, 0x12, 0x90, 0x6a,
-	0x27, 0x08, 0x09, 0xfd, 0xb0, 0x25, 0x60, 0xb4, 0x2f, 0x08, 0xf4, 0x11, 0x1c, 0x17, 0x61, 0x1d,
-	0x0f, 0x7d, 0x0a, 0xce, 0xd1, 0x0f, 0x7c, 0x67, 0xbf, 0x1d, 0x90, 0x30, 0xa4, 0x5f, 0x75, 0x84,
-	0x31, 0xba, 0x2c, 0x6a, 0x9e, 0x5b, 0x30, 0x4a, 0x71, 0x02, 0xdb, 0xfe, 0xed, 0x61, 0xe8, 0xfa,
-	0x48, 0xe8, 0x15, 0x18, 0x11, 0xfd, 0x5d, 0xf1, 0xeb, 0x21, 0x9b, 0xb8, 0x85, 0xf2, 0x38, 0x6d,
-	0xc7, 0x6c, 0x0c, 0xc6, 0x3a, 0x0e, 0xaa, 0x41, 0x2e, 0xbc, 0x2d, 0x64, 0xda, 0xca, 0x93, 0x7f,
-	0x8c, 0xca, 0x6d, 0xb5, 0xd2, 0x86, 0x8e, 0x0e, 0xa7, 0x72, 0x95, 0xdb, 0x38, 0x17, 0xde, 0xa6,
-	0xd2, 0xac, 0xee, 0x46, 0xd9, 0x49, 0xb3, 0x45, 0x37, 0x52, 0x7c, 0x98, 0x34, 0x5b, 0x74, 0x23,
-	0x4c, 0x59, 0x50, 0x29, 0xdd, 0x88, 0xa2, 0x36, 0x5b, 0x52, 0x99, 0x48, 0xe9, 0xa5, 0xcd, 0xcd,
-	0x0d, 0xc5, 0x8b, 0x2d, 0x60, 0x0a, 0xc1, 0x8c, 0x0b, 0xfa, 0x8a, 0x45, 0x47, 0x9c, 0x17, 0xfa,
-	0xc1, 0x81, 0x58, 0x99, 0xf7, 0xb2, 0x5b, 0x99, 0x7e, 0x70, 0xa0, 0x98, 0x8b, 0x0f, 0xa9, 0x0a,
-	0xb0, 0xce, 0x9a, 0x75, 0xbc, 0xb6, 0x1d, 0xb2, 0x85, 0x98, 0x4d, 0xc7, 0xe7, 0x17, 0x2a, 0x89,
-	0x8e, 0xcf, 0x2f, 0x54, 0x30, 0xe3, 0x42, 0x3f, 0x68, 0xe0, 0xec, 0x89, 0x45, 0x9c, 0xc1, 0x07,
-	0xc5, 0xce, 0x9e, 0xf9, 0x41, 0xb1, 0xb3, 0x87, 0x29, 0x0b, 0xca, 0xc9, 0x0f, 0x43, 0xb6, 0x66,
-	0x33, 0xe1, 0xb4, 0x5e, 0xa9, 0x98, 0x9c, 0xd6, 0x2b, 0x15, 0x4c, 0x59, 0xb0, 0x49, 0x5a, 0x0d,
-	0xd9, 0x82, 0xcf, 0x66, 0x92, 0xce, 0x25, 0x38, 0x2d, 0xce, 0x55, 0x30, 0x65, 0x61, 0x7f, 0x64,
-	0xc1, 0x98, 0x2c, 0xa2, 0x42, 0x24, 0x44, 0xfb, 0x50, 0x90, 0x1f, 0x53, 0xe8, 0x32, 0x59, 0x6e,
-	0x7a, 0x4a, 0xd4, 0x49, 0x08, 0x56, 0xdc, 0xec, 0xdf, 0xcc, 0x03, 0x52, 0x60, 0xd2, 0xf6, 0x43,
-	0x97, 0x4d, 0xa7, 0xc7, 0x10, 0x25, 0x9e, 0x26, 0x4a, 0xee, 0x67, 0x29, 0x4a, 0xe2, 0x66, 0x19,
-	0x42, 0xe5, 0x6f, 0x27, 0x16, 0x1f, 0x97, 0x2e, 0x3f, 0x79, 0x2a, 0x8b, 0x4f, 0x6b, 0xc2, 0xf1,
-	0xcb, 0x70, 0x57, 0x2c, 0x43, 0x2e, 0x7f, 0xfe, 0x4a, 0xb6, 0xcb, 0x50, 0x6b, 0x45, 0x72, 0x41,
-	0x06, 0x7c, 0x99, 0x70, 0x01, 0xf4, 0x20, 0xd3, 0x65, 0xa2, 0x71, 0x35, 0x17, 0x4c, 0xc0, 0x17,
-	0xcc, 0x50, 0x56, 0x3c, 0xb5, 0x05, 0x93, 0xe4, 0xa9, 0x96, 0xce, 0x7b, 0x70, 0xa9, 0x1b, 0x07,
-	0x93, 0x6d, 0x34, 0x03, 0xc5, 0xaa, 0xef, 0x6d, 0xbb, 0xf5, 0x55, 0xa7, 0x2d, 0x54, 0x36, 0xa5,
-	0xeb, 0xcd, 0xc9, 0x02, 0x1c, 0xe3, 0xa0, 0x6b, 0x30, 0xb0, 0x43, 0x0e, 0x84, 0xee, 0x36, 0x22,
-	0x50, 0x07, 0x96, 0xc9, 0x01, 0xa6, 0xf0, 0x4f, 0x14, 0xbe, 0xfe, 0x8d, 0xa9, 0x67, 0xbe, 0xf8,
-	0x1f, 0x6e, 0x3c, 0x63, 0xff, 0x9b, 0x01, 0x78, 0x2e, 0x95, 0x67, 0x25, 0x72, 0xa2, 0x4e, 0x88,
-	0x7e, 0xd3, 0x82, 0x4b, 0x4e, 0x5a, 0xb9, 0x58, 0xc9, 0x0f, 0xb2, 0x9b, 0x91, 0x06, 0xf9, 0xf2,
-	0x35, 0xd1, 0xe8, 0xf4, 0x11, 0xc1, 0xe9, 0x8d, 0xa2, 0x03, 0x45, 0x95, 0xd7, 0xb0, 0xed, 0x54,
-	0x89, 0xe8, 0xbd, 0x1a, 0xa8, 0x35, 0x59, 0x80, 0x63, 0x1c, 0xaa, 0x0c, 0xd5, 0xc8, 0xb6, 0xd3,
-	0x69, 0xf2, 0x0d, 0xbc, 0x10, 0x2b, 0x43, 0xf3, 0x1c, 0x8c, 0x65, 0x39, 0xfa, 0xfb, 0x16, 0xa0,
-	0x6e, 0xae, 0x62, 0x31, 0x6c, 0x9e, 0xc6, 0x38, 0x94, 0x2f, 0x1f, 0x1d, 0x4e, 0xa5, 0x08, 0x30,
-	0x9c, 0xd2, 0x0e, 0xed, 0x9b, 0xfe, 0x4b, 0x0b, 0x2e, 0xa4, 0x2c, 0x73, 0x3a, 0x29, 0x3a, 0x41,
-	0x53, 0xcc, 0x1f, 0x35, 0x29, 0xee, 0xe1, 0x15, 0x4c, 0xe1, 0xe8, 0x6b, 0x16, 0x8c, 0x6b, 0xab,
-	0x7d, 0xb6, 0x23, 0x94, 0xff, 0x8c, 0x14, 0x59, 0x83, 0x70, 0xf9, 0x8a, 0x60, 0x3f, 0x9e, 0x28,
-	0xc0, 0xc9, 0x26, 0xd8, 0xdf, 0xb3, 0xe0, 0xda, 0xb1, 0x42, 0x2b, 0xb5, 0xe1, 0xd6, 0x53, 0x6f,
-	0x38, 0x9d, 0x5a, 0x01, 0x69, 0xfb, 0xf7, 0xf0, 0x8a, 0x98, 0x89, 0x6a, 0x6a, 0x61, 0x0e, 0xc6,
-	0xb2, 0xdc, 0xfe, 0x03, 0x0b, 0x92, 0xf4, 0x90, 0x03, 0xe7, 0x3a, 0x21, 0x09, 0xe8, 0x54, 0xad,
-	0x90, 0x6a, 0x40, 0xe4, 0xde, 0xf9, 0xc2, 0x34, 0xb7, 0x52, 0xd0, 0x06, 0x4f, 0x57, 0xfd, 0x80,
-	0x4c, 0xef, 0xbe, 0x32, 0xcd, 0x31, 0x96, 0xc9, 0x41, 0x85, 0x34, 0x09, 0xa5, 0x51, 0x46, 0x54,
-	0xcf, 0xbe, 0x67, 0x10, 0xc0, 0x09, 0x82, 0x94, 0x45, 0xdb, 0x09, 0xc3, 0x3d, 0x3f, 0xa8, 0x09,
-	0x16, 0xb9, 0x13, 0xb3, 0xd8, 0x30, 0x08, 0xe0, 0x04, 0x41, 0xfb, 0x9f, 0x5b, 0x30, 0x5c, 0x76,
-	0xaa, 0x3b, 0xfe, 0xf6, 0x36, 0x3d, 0xa6, 0xd4, 0x3a, 0x01, 0x3f, 0xe6, 0xf1, 0x49, 0xa8, 0xf6,
-	0xee, 0x79, 0x01, 0xc7, 0x0a, 0x03, 0x6d, 0xc2, 0x10, 0x1f, 0x0e, 0xd1, 0xa8, 0x1f, 0xd7, 0x1a,
-	0xa5, 0xac, 0x33, 0xec, 0xcb, 0x75, 0x22, 0xb7, 0x39, 0xcd, 0xad, 0x33, 0xd3, 0x77, 0xbd, 0x68,
-	0x3d, 0xa8, 0x44, 0x81, 0xeb, 0xd5, 0xcb, 0x70, 0x74, 0x38, 0x35, 0xb4, 0xc0, 0x68, 0x60, 0x41,
-	0x8b, 0x9e, 0x68, 0x5a, 0xce, 0xbe, 0x64, 0xc7, 0xd6, 0x7c, 0x31, 0x3e, 0xd1, 0xac, 0xc6, 0x45,
-	0x58, 0xc7, 0xb3, 0x3f, 0x03, 0xf9, 0x39, 0xa7, 0xda, 0x20, 0xe8, 0x5e, 0x52, 0x12, 0x8f, 0xdc,
-	0x7a, 0x29, 0x6d, 0xb4, 0x94, 0x54, 0xd6, 0x07, 0x6c, 0xac, 0x97, 0xbc, 0xb6, 0xbf, 0x6f, 0xc1,
-	0x95, 0xb9, 0x66, 0x27, 0x8c, 0x48, 0xf0, 0x40, 0x4c, 0xc1, 0x4d, 0xd2, 0x6a, 0x37, 0x9d, 0x88,
-	0xa0, 0xcf, 0x42, 0xa1, 0x45, 0x22, 0xa7, 0xe6, 0x44, 0x8e, 0xe0, 0xd8, 0x7b, 0x28, 0xd8, 0x24,
-	0xa6, 0xd8, 0xb4, 0x0d, 0xeb, 0x5b, 0xef, 0x92, 0x6a, 0xb4, 0x4a, 0x22, 0x27, 0x3e, 0xbb, 0xc6,
-	0x30, 0xac, 0xa8, 0xa2, 0x7d, 0x18, 0x0c, 0xdb, 0xa4, 0x9a, 0x9d, 0x7a, 0x93, 0xec, 0x43, 0xa5,
-	0x4d, 0xaa, 0xb1, 0x09, 0x80, 0xfe, 0xc3, 0x8c, 0xa3, 0xfd, 0x7f, 0x2d, 0x78, 0xae, 0x47, 0xbf,
-	0x57, 0xdc, 0x30, 0x42, 0xef, 0x74, 0xf5, 0x7d, 0xba, 0xbf, 0xbe, 0xd3, 0xda, 0xac, 0xe7, 0x6a,
-	0x8a, 0x49, 0x88, 0xd6, 0xef, 0xcf, 0x43, 0xde, 0x8d, 0x48, 0x4b, 0x9a, 0x62, 0xde, 0x7c, 0xf2,
-	0x8e, 0xf7, 0xe8, 0x4b, 0x79, 0x4c, 0xda, 0x02, 0xef, 0x52, 0x7e, 0x98, 0xb3, 0xb5, 0xff, 0x85,
-	0x05, 0x74, 0x3a, 0xd4, 0x5c, 0x71, 0xc0, 0x1d, 0x8c, 0x0e, 0xda, 0xd2, 0x24, 0x23, 0xf7, 0xbf,
-	0xc1, 0xcd, 0x83, 0x36, 0x79, 0x78, 0x38, 0x35, 0xa6, 0x10, 0x29, 0x00, 0x33, 0x54, 0xf4, 0x19,
-	0x18, 0x0a, 0xd9, 0x3e, 0x2d, 0x24, 0xcc, 0x82, 0xa8, 0x34, 0xc4, 0x77, 0xef, 0x87, 0x87, 0x53,
-	0x7d, 0x59, 0x5c, 0xa7, 0x15, 0x6d, 0x5e, 0x0f, 0x0b, 0xaa, 0x54, 0x84, 0xb5, 0x48, 0x18, 0x3a,
-	0x75, 0x22, 0x56, 0x8a, 0x12, 0x61, 0xab, 0x1c, 0x8c, 0x65, 0xb9, 0xfd, 0x77, 0x2d, 0xa0, 0x4d,
-	0x8c, 0x1c, 0xca, 0x62, 0xcd, 0xaf, 0x11, 0xb4, 0xc6, 0x96, 0x0a, 0x07, 0x88, 0x8f, 0x77, 0xad,
-	0xc7, 0x52, 0xe1, 0x48, 0x86, 0x4e, 0xc3, 0x41, 0x38, 0x26, 0x81, 0x3e, 0x0e, 0xa3, 0x35, 0xd2,
-	0x26, 0x5e, 0x8d, 0x78, 0x55, 0x97, 0xf0, 0x8f, 0x56, 0x2c, 0x4f, 0x1c, 0x1d, 0x4e, 0x8d, 0xce,
-	0x6b, 0x70, 0x6c, 0x60, 0xd9, 0x7f, 0x64, 0xc1, 0x45, 0x45, 0xae, 0x42, 0x22, 0xb5, 0xac, 0x7e,
-	0xca, 0x02, 0x50, 0xc4, 0xa9, 0x4e, 0x4b, 0xa7, 0xc0, 0x7a, 0x06, 0x53, 0x40, 0x1f, 0x84, 0x78,
-	0xe1, 0x29, 0x70, 0x88, 0x35, 0xb6, 0xe8, 0x4d, 0x18, 0xdd, 0xf5, 0x9b, 0x9d, 0x16, 0x59, 0xf5,
-	0x3b, 0x5e, 0x14, 0x96, 0x06, 0x58, 0x33, 0xa6, 0xd2, 0xc6, 0xe9, 0x7e, 0x8c, 0x57, 0xbe, 0x28,
-	0xc8, 0x8e, 0x6a, 0xc0, 0x10, 0x1b, 0xa4, 0xec, 0x37, 0x81, 0x31, 0x75, 0xbd, 0x0e, 0x59, 0xf7,
-	0xd0, 0xf3, 0x90, 0x27, 0x41, 0xe0, 0x07, 0xe2, 0xb4, 0xa3, 0x26, 0xe4, 0x1d, 0x0a, 0xc4, 0xbc,
-	0x0c, 0xbd, 0x48, 0x65, 0xae, 0xdb, 0x24, 0x35, 0x36, 0x9f, 0x0a, 0xe5, 0x73, 0x72, 0x3e, 0x2d,
-	0x30, 0x28, 0x16, 0xa5, 0xf6, 0x34, 0x0c, 0xcf, 0x51, 0x26, 0x24, 0xa0, 0x74, 0x75, 0xa3, 0xf7,
-	0x98, 0x61, 0xf4, 0x96, 0xc6, 0xed, 0x4d, 0xb8, 0x34, 0x17, 0x10, 0x2a, 0x08, 0x6e, 0x97, 0x3b,
-	0xd5, 0x1d, 0x12, 0x71, 0xb3, 0x54, 0x88, 0x3e, 0x09, 0x63, 0x3e, 0x93, 0x48, 0x2b, 0x7e, 0x75,
-	0xc7, 0xf5, 0xea, 0x42, 0x09, 0xbb, 0x24, 0xa8, 0x8c, 0xad, 0xeb, 0x85, 0xd8, 0xc4, 0xb5, 0xff,
-	0x4b, 0x0e, 0x46, 0xe7, 0x02, 0xdf, 0x93, 0xab, 0xed, 0x0c, 0x24, 0x65, 0x64, 0x48, 0xca, 0x0c,
-	0xac, 0x94, 0x7a, 0xfb, 0x7b, 0x49, 0x49, 0xf4, 0x81, 0x5a, 0xe6, 0x03, 0x59, 0x29, 0x9b, 0x06,
-	0x5f, 0x46, 0x3b, 0xfe, 0xd8, 0xa6, 0x10, 0xb0, 0xff, 0xab, 0x05, 0x13, 0x3a, 0xfa, 0x19, 0x08,
-	0xe6, 0xd0, 0x14, 0xcc, 0x6b, 0xd9, 0xf6, 0xb7, 0x87, 0x34, 0xfe, 0x68, 0xc8, 0xec, 0x27, 0xfd,
-	0x00, 0xe8, 0xeb, 0x16, 0x8c, 0xee, 0x69, 0x00, 0xd1, 0xd9, 0xb5, 0xec, 0xf6, 0x48, 0xf6, 0xd5,
-	0x7f, 0x54, 0xae, 0x67, 0x1d, 0xfa, 0x30, 0xf1, 0x1f, 0x1b, 0x2d, 0xa1, 0xea, 0x54, 0x58, 0x6d,
-	0x90, 0x5a, 0xa7, 0x29, 0x8f, 0x3a, 0x6a, 0x48, 0x2b, 0x02, 0x8e, 0x15, 0x06, 0x7a, 0x07, 0xce,
-	0x57, 0x7d, 0xaf, 0xda, 0x09, 0x02, 0xe2, 0x55, 0x0f, 0x36, 0x98, 0x9f, 0x4e, 0x08, 0xf5, 0x69,
-	0x51, 0xed, 0xfc, 0x5c, 0x12, 0xe1, 0x61, 0x1a, 0x10, 0x77, 0x13, 0xe2, 0x36, 0xe5, 0x90, 0x8a,
-	0x5d, 0x76, 0x1e, 0x2a, 0xe8, 0x36, 0x65, 0x06, 0xc6, 0xb2, 0x1c, 0xdd, 0x83, 0x2b, 0x61, 0x44,
-	0x75, 0x65, 0xaf, 0x3e, 0x4f, 0x9c, 0x5a, 0xd3, 0xf5, 0xa8, 0x3a, 0xea, 0x7b, 0x35, 0x7e, 0xc0,
-	0x1f, 0x28, 0x3f, 0x77, 0x74, 0x38, 0x75, 0xa5, 0x92, 0x8e, 0x82, 0x7b, 0xd5, 0x45, 0x9f, 0x81,
-	0xc9, 0xb0, 0x53, 0xad, 0x92, 0x30, 0xdc, 0xee, 0x34, 0x5f, 0xf7, 0xb7, 0xc2, 0x25, 0x37, 0xa4,
-	0xba, 0xf4, 0x8a, 0xdb, 0x72, 0x23, 0x76, 0x8c, 0xcf, 0x97, 0xaf, 0x1f, 0x1d, 0x4e, 0x4d, 0x56,
-	0x7a, 0x62, 0xe1, 0x63, 0x28, 0x20, 0x0c, 0x97, 0xb9, 0xf0, 0xeb, 0xa2, 0x3d, 0xcc, 0x68, 0x4f,
-	0x1e, 0x1d, 0x4e, 0x5d, 0x5e, 0x48, 0xc5, 0xc0, 0x3d, 0x6a, 0xd2, 0x2f, 0x18, 0xb9, 0x2d, 0xf2,
-	0x39, 0xdf, 0x23, 0xcc, 0x06, 0xa8, 0x7d, 0xc1, 0x4d, 0x01, 0xc7, 0x0a, 0x03, 0xbd, 0x1b, 0xcf,
-	0x44, 0xba, 0x5c, 0x84, 0x2d, 0xef, 0xe4, 0x12, 0xee, 0xe2, 0xd1, 0xe1, 0xd4, 0xc4, 0x03, 0x8d,
-	0x12, 0x5d, 0x72, 0xd8, 0xa0, 0x6d, 0xff, 0x7e, 0x0e, 0x50, 0xb7, 0x88, 0x40, 0xcb, 0x30, 0xe4,
-	0x54, 0x23, 0x77, 0x97, 0x08, 0xe7, 0xd9, 0xf3, 0x69, 0xfb, 0x14, 0x67, 0x85, 0xc9, 0x36, 0xa1,
-	0x33, 0x84, 0xc4, 0x72, 0x65, 0x96, 0x55, 0xc5, 0x82, 0x04, 0xf2, 0xe1, 0x7c, 0xd3, 0x09, 0x23,
-	0x39, 0x57, 0x6b, 0xb4, 0xcb, 0x42, 0xb0, 0xfe, 0x58, 0x7f, 0x9d, 0xa2, 0x35, 0xca, 0x97, 0xe8,
-	0xcc, 0x5d, 0x49, 0x12, 0xc2, 0xdd, 0xb4, 0xd1, 0x17, 0xd8, 0x86, 0xcf, 0x15, 0x1d, 0xb9, 0xd3,
-	0x2e, 0x67, 0xb2, 0xe1, 0x73, 0x9a, 0xc6, 0x66, 0x2f, 0xd8, 0x60, 0x8d, 0xa5, 0xfd, 0xaf, 0x00,
-	0x86, 0xe7, 0x67, 0x17, 0x37, 0x9d, 0x70, 0xa7, 0x0f, 0x07, 0x1c, 0x9d, 0x1d, 0x42, 0x59, 0x49,
-	0xae, 0x6f, 0xa9, 0xc4, 0x60, 0x85, 0x81, 0x3c, 0x18, 0x72, 0x3d, 0xba, 0x20, 0x4a, 0xe7, 0xb2,
-	0x32, 0xb1, 0x2a, 0xed, 0x95, 0x1d, 0xa4, 0xee, 0x32, 0xea, 0x58, 0x70, 0x41, 0x1f, 0x40, 0xd1,
-	0x91, 0x8e, 0x55, 0xb1, 0x2d, 0x2d, 0x67, 0x71, 0xda, 0x16, 0x24, 0x75, 0x5f, 0xa6, 0x00, 0xe1,
-	0x98, 0x21, 0xfa, 0xa2, 0x05, 0x23, 0xb2, 0xeb, 0x98, 0x6c, 0x0b, 0x23, 0xcc, 0x6a, 0x76, 0x7d,
-	0xc6, 0x64, 0x9b, 0x1b, 0x43, 0x35, 0x00, 0xd6, 0x59, 0x76, 0xa9, 0xa3, 0xf9, 0x7e, 0xd4, 0x51,
-	0xb4, 0x07, 0xc5, 0x3d, 0x37, 0x6a, 0xb0, 0x8d, 0xa7, 0x34, 0xc4, 0xa6, 0xe0, 0xc2, 0x93, 0xb7,
-	0x9a, 0x92, 0x8b, 0x47, 0xec, 0x81, 0x64, 0x80, 0x63, 0x5e, 0x68, 0x86, 0x33, 0x66, 0x8e, 0x69,
-	0x26, 0xb2, 0x8a, 0x66, 0x05, 0x56, 0x80, 0x63, 0x1c, 0x3a, 0xc4, 0xa3, 0xf4, 0x5f, 0x85, 0xbc,
-	0xd7, 0xa1, 0xeb, 0x58, 0x78, 0x29, 0x32, 0x98, 0x57, 0x92, 0x22, 0x1f, 0xac, 0x07, 0x1a, 0x0f,
-	0x6c, 0x70, 0xa4, 0x6b, 0x64, 0xaf, 0x41, 0x3c, 0xe1, 0xa6, 0x54, 0x6b, 0xe4, 0x41, 0x83, 0x78,
-	0x98, 0x95, 0xa0, 0x0f, 0xb8, 0x0e, 0xcf, 0x75, 0x5c, 0xe6, 0x9f, 0xcc, 0xc4, 0xd3, 0x17, 0xeb,
-	0xcd, 0xe5, 0x73, 0x52, 0x79, 0xe7, 0xff, 0xb1, 0xc6, 0x8f, 0xaa, 0xcb, 0xbe, 0x77, 0x67, 0xdf,
-	0x8d, 0x84, 0x7f, 0x53, 0x49, 0xba, 0x75, 0x06, 0xc5, 0xa2, 0x94, 0x1b, 0x19, 0xe9, 0x24, 0x08,
-	0x4b, 0xa3, 0xe6, 0x31, 0x8a, 0xcf, 0x94, 0x10, 0xcb, 0x72, 0xf4, 0x0f, 0x2c, 0xc8, 0x37, 0x7c,
-	0x7f, 0x27, 0x2c, 0x8d, 0xb1, 0xc9, 0x91, 0x81, 0xaa, 0x27, 0x24, 0xce, 0xf4, 0x12, 0x25, 0x7b,
-	0xc7, 0x8b, 0x82, 0x83, 0xf2, 0x2b, 0x52, 0x01, 0x62, 0xb0, 0x87, 0x87, 0x53, 0xe7, 0x56, 0xdc,
-	0x6d, 0x52, 0x3d, 0xa8, 0x36, 0x09, 0x83, 0x7c, 0xe9, 0xbb, 0x1a, 0xe4, 0xce, 0x2e, 0xf1, 0x22,
-	0xcc, 0x5b, 0x35, 0xf9, 0x91, 0x05, 0x10, 0x13, 0x42, 0x13, 0xdc, 0xce, 0xcc, 0x84, 0x18, 0x33,
-	0x2d, 0x23, 0x22, 0xcf, 0x03, 0x5c, 0x92, 0x67, 0x70, 0xa0, 0x32, 0x9a, 0x26, 0x4e, 0x14, 0x9f,
-	0xc8, 0xbd, 0x66, 0xd9, 0xff, 0xda, 0x82, 0x11, 0xda, 0x39, 0x29, 0x02, 0x5f, 0x84, 0xa1, 0xc8,
-	0x09, 0xea, 0xc2, 0x52, 0xa6, 0x7d, 0x8e, 0x4d, 0x06, 0xc5, 0xa2, 0x14, 0x79, 0x90, 0x8f, 0x9c,
-	0x70, 0x47, 0x6a, 0x97, 0x77, 0x33, 0x1b, 0xe2, 0x58, 0xb1, 0xa4, 0xff, 0x42, 0xcc, 0xd9, 0xa0,
-	0x97, 0xa0, 0x40, 0x15, 0x80, 0x05, 0x27, 0x94, 0x46, 0xe6, 0x51, 0x2a, 0xc4, 0x17, 0x04, 0x0c,
-	0xab, 0x52, 0xfb, 0xef, 0xe4, 0x60, 0x70, 0x9e, 0x9f, 0x33, 0x86, 0x42, 0xbf, 0x13, 0x54, 0x89,
-	0xd0, 0x37, 0x33, 0x98, 0xd3, 0x94, 0x6e, 0x85, 0xd1, 0xd4, 0x34, 0x7d, 0xf6, 0x1f, 0x0b, 0x5e,
-	0xe8, 0x6b, 0x16, 0x9c, 0x8b, 0x02, 0xc7, 0x0b, 0xb7, 0xfd, 0xa0, 0xc5, 0x0d, 0x64, 0xb9, 0xac,
-	0x66, 0xe1, 0xa6, 0x41, 0xb7, 0x12, 0x91, 0x76, 0x1c, 0x0e, 0x60, 0x96, 0xe1, 0x44, 0x1b, 0xec,
-	0x5f, 0xb2, 0x00, 0xe2, 0xd6, 0xa3, 0xaf, 0x58, 0x30, 0xe6, 0xe8, 0x0e, 0x46, 0x31, 0x46, 0xeb,
-	0xd9, 0x19, 0x7b, 0x19, 0xd9, 0xf2, 0x79, 0x7a, 0x02, 0x35, 0x40, 0xd8, 0x64, 0x6c, 0xbf, 0x0a,
-	0x79, 0xb6, 0x3a, 0x98, 0x2e, 0x2e, 0xac, 0x7c, 0x49, 0xd3, 0xa6, 0xb4, 0xfe, 0x61, 0x85, 0x61,
-	0xbf, 0x03, 0xe7, 0xee, 0xec, 0x93, 0x6a, 0x27, 0xf2, 0x03, 0x6e, 0x0d, 0x44, 0xaf, 0x03, 0x0a,
-	0x49, 0xb0, 0xeb, 0x56, 0xc9, 0x6c, 0xb5, 0x4a, 0x4f, 0xd6, 0x6b, 0xb1, 0x6e, 0x30, 0x29, 0x28,
-	0xa1, 0x4a, 0x17, 0x06, 0x4e, 0xa9, 0x65, 0xff, 0x86, 0x05, 0x23, 0x9a, 0xb7, 0x89, 0xee, 0xd4,
-	0xf5, 0xb9, 0x0a, 0x3f, 0x77, 0x8b, 0xa1, 0x5a, 0xce, 0xc4, 0x9f, 0xc5, 0x49, 0xc6, 0xdb, 0x88,
-	0x02, 0xe1, 0x98, 0xe1, 0x23, 0x3c, 0x51, 0xf6, 0xef, 0x5a, 0x70, 0x29, 0xd5, 0x35, 0xf6, 0x94,
-	0x9b, 0x3d, 0x03, 0xc5, 0x1d, 0x72, 0xb0, 0xc0, 0xe6, 0x60, 0xd2, 0x91, 0xb4, 0x2c, 0x0b, 0x70,
-	0x8c, 0x63, 0xff, 0x96, 0x05, 0x31, 0x25, 0x2a, 0x8a, 0xb6, 0xe2, 0x96, 0x6b, 0xa2, 0x48, 0x70,
-	0x12, 0xa5, 0xe8, 0x03, 0xb8, 0x62, 0x7e, 0x41, 0x66, 0x2e, 0x3e, 0xb9, 0x29, 0x9e, 0x9f, 0x99,
-	0xd2, 0x29, 0xe1, 0x5e, 0x2c, 0xec, 0xfb, 0x90, 0x5f, 0x74, 0x3a, 0x75, 0xd2, 0x97, 0x11, 0x87,
-	0x8a, 0xb1, 0x80, 0x38, 0xcd, 0x48, 0xaa, 0xe9, 0x42, 0x8c, 0x61, 0x01, 0xc3, 0xaa, 0xd4, 0xfe,
-	0xfe, 0x20, 0x8c, 0x68, 0x51, 0x2c, 0x74, 0x1f, 0x0f, 0x48, 0xdb, 0x4f, 0xea, 0xba, 0xf4, 0x63,
-	0x63, 0x56, 0x42, 0xd7, 0x4f, 0x40, 0x76, 0xdd, 0x90, 0x8b, 0x1c, 0x63, 0xfd, 0x60, 0x01, 0xc7,
-	0x0a, 0x03, 0x4d, 0x41, 0xbe, 0x46, 0xda, 0x51, 0x83, 0x49, 0xd3, 0xc1, 0x72, 0x91, 0x36, 0x75,
-	0x9e, 0x02, 0x30, 0x87, 0x53, 0x84, 0x6d, 0x12, 0x55, 0x1b, 0xcc, 0xaa, 0x57, 0xe4, 0x08, 0x0b,
-	0x14, 0x80, 0x39, 0x3c, 0xc5, 0xb9, 0x92, 0x3f, 0x7d, 0xe7, 0xca, 0x50, 0xc6, 0xce, 0x15, 0xd4,
-	0x86, 0x0b, 0x61, 0xd8, 0xd8, 0x08, 0xdc, 0x5d, 0x27, 0x22, 0xf1, 0xcc, 0x19, 0x3e, 0x09, 0x9f,
-	0x2b, 0x47, 0x87, 0x53, 0x17, 0x2a, 0x95, 0xa5, 0x24, 0x15, 0x9c, 0x46, 0x1a, 0x55, 0xe0, 0x92,
-	0xeb, 0x85, 0xa4, 0xda, 0x09, 0xc8, 0xdd, 0xba, 0xe7, 0x07, 0x64, 0xc9, 0x0f, 0x29, 0x39, 0x11,
-	0x76, 0xa6, 0x9c, 0xb6, 0x77, 0xd3, 0x90, 0x70, 0x7a, 0x5d, 0xb4, 0x08, 0xe7, 0x6b, 0x6e, 0xe8,
-	0x6c, 0x35, 0x49, 0xa5, 0xb3, 0xd5, 0xf2, 0xe9, 0x81, 0x8d, 0x47, 0xaa, 0x14, 0xca, 0xcf, 0x4a,
-	0xd3, 0xc4, 0x7c, 0x12, 0x01, 0x77, 0xd7, 0xb1, 0xbf, 0x63, 0xc1, 0xa8, 0x1e, 0x52, 0x40, 0x75,
-	0x58, 0x68, 0xcc, 0x2f, 0x54, 0xb8, 0x94, 0xcd, 0x6e, 0x2f, 0x5d, 0x52, 0x34, 0xe3, 0x33, 0x5f,
-	0x0c, 0xc3, 0x1a, 0xcf, 0x3e, 0xc2, 0x28, 0x9f, 0x87, 0xfc, 0xb6, 0x4f, 0xb7, 0xfa, 0x01, 0xd3,
-	0x32, 0xbb, 0x40, 0x81, 0x98, 0x97, 0xd9, 0xff, 0xc7, 0x82, 0xcb, 0xe9, 0xd1, 0x12, 0x3f, 0x0c,
-	0x9d, 0xbc, 0x05, 0x40, 0xbb, 0x62, 0x88, 0x4b, 0x2d, 0x16, 0x56, 0x96, 0x60, 0x0d, 0xab, 0xbf,
-	0x6e, 0xff, 0x80, 0xaa, 0x9b, 0x31, 0x9f, 0xaf, 0x5a, 0x30, 0x46, 0xd9, 0x2e, 0x07, 0x5b, 0x46,
-	0x6f, 0xd7, 0xb3, 0xe9, 0xad, 0x22, 0x1b, 0x1b, 0xa0, 0x0d, 0x30, 0x36, 0x99, 0xa3, 0x3f, 0x0f,
-	0x45, 0xa7, 0x56, 0x0b, 0x48, 0x18, 0x2a, 0x77, 0x04, 0x73, 0xf1, 0xcd, 0x4a, 0x20, 0x8e, 0xcb,
-	0xa9, 0x88, 0x6b, 0xd4, 0xb6, 0x43, 0x2a, 0x35, 0x84, 0xdd, 0x4d, 0x89, 0x38, 0xca, 0x84, 0xc2,
-	0xb1, 0xc2, 0xb0, 0x7f, 0x7e, 0x10, 0x4c, 0xde, 0xa8, 0x06, 0xe3, 0x3b, 0xc1, 0xd6, 0x1c, 0x73,
-	0x43, 0x3e, 0x8e, 0x43, 0xf8, 0xc2, 0xd1, 0xe1, 0xd4, 0xf8, 0xb2, 0x49, 0x01, 0x27, 0x49, 0x0a,
-	0x2e, 0xcb, 0xe4, 0x20, 0x72, 0xb6, 0x1e, 0x67, 0x23, 0x92, 0x5c, 0x74, 0x0a, 0x38, 0x49, 0x12,
-	0xbd, 0x0a, 0x23, 0x3b, 0xc1, 0x96, 0x14, 0xa0, 0x49, 0x2f, 0xec, 0x72, 0x5c, 0x84, 0x75, 0x3c,
-	0x3a, 0x84, 0x3b, 0xc1, 0x16, 0xdd, 0x70, 0x64, 0x58, 0xb1, 0x1a, 0xc2, 0x65, 0x01, 0xc7, 0x0a,
-	0x03, 0xb5, 0x01, 0xed, 0xc8, 0xd1, 0x53, 0x4e, 0x57, 0x21, 0xe7, 0xfb, 0xf7, 0xd9, 0xb2, 0x10,
-	0x8c, 0xe5, 0x2e, 0x3a, 0x38, 0x85, 0x36, 0x7a, 0x13, 0xae, 0xec, 0x04, 0x5b, 0x62, 0x1b, 0xde,
-	0x08, 0x5c, 0xaf, 0xea, 0xb6, 0x8d, 0x10, 0xe2, 0x29, 0xd1, 0xdc, 0x2b, 0xcb, 0xe9, 0x68, 0xb8,
-	0x57, 0x7d, 0xfb, 0x1b, 0x39, 0x60, 0xb1, 0x99, 0x54, 0xb3, 0x68, 0x91, 0xa8, 0xe1, 0xd7, 0x92,
-	0x9a, 0xc5, 0x2a, 0x83, 0x62, 0x51, 0x2a, 0x83, 0x3d, 0x72, 0x3d, 0x82, 0x3d, 0xf6, 0x60, 0xb8,
-	0x41, 0x9c, 0x1a, 0x09, 0xa4, 0x21, 0x6c, 0x25, 0x9b, 0x68, 0xd2, 0x25, 0x46, 0x34, 0x3e, 0xe0,
-	0xf2, 0xff, 0x21, 0x96, 0xdc, 0xd0, 0x27, 0xe0, 0x1c, 0xd5, 0x11, 0xfc, 0x4e, 0x24, 0xad, 0xbe,
-	0x83, 0xcc, 0xea, 0xcb, 0xf6, 0xbb, 0x4d, 0xa3, 0x04, 0x27, 0x30, 0xd1, 0x55, 0x18, 0xdc, 0xf2,
-	0x6b, 0x3c, 0x12, 0x75, 0x94, 0x47, 0x89, 0x95, 0xfd, 0xda, 0x01, 0x66, 0x50, 0xfb, 0x57, 0xa9,
-	0xf4, 0xd7, 0x02, 0x5a, 0x1f, 0x15, 0xef, 0x12, 0xc6, 0x43, 0xc0, 0x4f, 0x39, 0x4b, 0x19, 0x0c,
-	0xc1, 0x23, 0xba, 0x6f, 0x7f, 0x9b, 0x0a, 0x34, 0x35, 0x4e, 0x7d, 0x58, 0x01, 0x9f, 0xd7, 0xcf,
-	0xd3, 0xbd, 0x54, 0xb3, 0x2f, 0x40, 0x91, 0xfd, 0x58, 0x08, 0xfc, 0x96, 0x30, 0xc6, 0xe1, 0x2c,
-	0xbf, 0xa7, 0x38, 0x37, 0x32, 0xe1, 0x76, 0x5f, 0x32, 0xc2, 0x31, 0x4f, 0xdb, 0x87, 0x89, 0x24,
-	0x36, 0x7a, 0x1b, 0x46, 0x43, 0x29, 0x1f, 0xe2, 0x80, 0xb1, 0x3e, 0xe5, 0x08, 0x33, 0x0d, 0x55,
-	0xb4, 0xea, 0xd8, 0x20, 0x66, 0xaf, 0xc3, 0x50, 0xa6, 0x43, 0x68, 0x7f, 0xd3, 0x82, 0x22, 0x33,
-	0xce, 0xd7, 0x03, 0xa7, 0x15, 0x57, 0x19, 0x38, 0x66, 0xd4, 0x43, 0x18, 0xe6, 0x6a, 0xbc, 0xf4,
-	0x1e, 0x67, 0x30, 0x81, 0xf8, 0x55, 0xa2, 0x78, 0x02, 0xf1, 0xf3, 0x42, 0x88, 0x25, 0x27, 0xfb,
-	0x67, 0x73, 0x30, 0x74, 0xd7, 0x6b, 0x77, 0xfe, 0xd4, 0x5f, 0x67, 0x59, 0x85, 0xc1, 0xbb, 0x11,
-	0x69, 0x99, 0xb7, 0xae, 0x46, 0xcb, 0x2f, 0xe8, 0x37, 0xae, 0x4a, 0xe6, 0x8d, 0x2b, 0xec, 0xec,
-	0xc9, 0xb8, 0x05, 0x61, 0x46, 0x8a, 0x83, 0xe6, 0x7e, 0xc7, 0x82, 0x31, 0xc3, 0xd2, 0x64, 0xd8,
-	0xdf, 0xad, 0x47, 0xda, 0xdf, 0x0d, 0x7b, 0x78, 0xee, 0x8c, 0xed, 0xe1, 0x76, 0x13, 0x06, 0x57,
-	0x5c, 0x6f, 0xa7, 0xbf, 0xc5, 0x10, 0x56, 0xfd, 0x76, 0xd7, 0x62, 0xa8, 0x50, 0x20, 0xe6, 0x65,
-	0x52, 0x72, 0x0e, 0xa4, 0x4b, 0x4e, 0xfb, 0x4b, 0x16, 0x9c, 0x5f, 0x25, 0x2d, 0xdf, 0xfd, 0x9c,
-	0x13, 0x07, 0x8d, 0xd0, 0x4a, 0x0d, 0x37, 0x12, 0xf1, 0x05, 0xaa, 0xd2, 0x92, 0x1b, 0x61, 0x0a,
-	0x7f, 0x84, 0x21, 0x80, 0x85, 0xb8, 0x52, 0x3d, 0x64, 0x2d, 0x56, 0x08, 0xe2, 0x70, 0x10, 0x59,
-	0x80, 0x63, 0x1c, 0xfb, 0xb7, 0x2d, 0x18, 0xe6, 0x8d, 0x20, 0x92, 0xb6, 0xd5, 0x83, 0x76, 0x03,
-	0xf2, 0xac, 0x9e, 0xf8, 0x2e, 0x8b, 0x19, 0x18, 0x88, 0x29, 0x39, 0x7e, 0xae, 0x64, 0x3f, 0x31,
-	0x67, 0xc0, 0x76, 0x67, 0x67, 0x7f, 0x56, 0xc5, 0xcb, 0xc4, 0xbb, 0x33, 0x83, 0x62, 0x51, 0x6a,
-	0xff, 0xca, 0x00, 0x14, 0xa4, 0xeb, 0x8d, 0xc7, 0x7a, 0x7b, 0x9e, 0x1f, 0x39, 0xdc, 0x33, 0xc5,
-	0x57, 0xf2, 0xdb, 0x4f, 0xde, 0x4a, 0xc9, 0x61, 0x7a, 0x36, 0xa6, 0xce, 0x0d, 0xc0, 0x4a, 0xd7,
-	0xd2, 0x4a, 0xb0, 0xde, 0x08, 0xf4, 0x79, 0x18, 0x6a, 0x3a, 0x5b, 0xa4, 0x29, 0x17, 0xf6, 0xfd,
-	0x0c, 0x9b, 0xb3, 0xc2, 0x08, 0xf3, 0x96, 0xa8, 0x11, 0xe2, 0x40, 0x2c, 0xb8, 0x4e, 0x7e, 0x0a,
-	0x26, 0x92, 0xad, 0x4e, 0xb1, 0x36, 0x5f, 0x34, 0x44, 0xbb, 0x66, 0x1c, 0x9e, 0xfc, 0x4b, 0x30,
-	0xa2, 0xb1, 0x39, 0x49, 0x55, 0xfb, 0x0d, 0x18, 0x59, 0x25, 0x51, 0xe0, 0x56, 0x19, 0x81, 0x47,
-	0x4d, 0xae, 0xbe, 0x76, 0x97, 0x2f, 0xb3, 0xc9, 0x4a, 0x69, 0x86, 0xe8, 0x03, 0x80, 0x76, 0xe0,
-	0x53, 0x35, 0x8d, 0x74, 0xe4, 0xc7, 0xce, 0x40, 0xfb, 0xda, 0x50, 0x34, 0xb9, 0xcf, 0x22, 0xfe,
-	0x8f, 0x35, 0x7e, 0xf6, 0x4d, 0xc8, 0xaf, 0x76, 0x22, 0xb2, 0xff, 0x68, 0x51, 0x61, 0xbf, 0x0d,
-	0xa3, 0x0c, 0x75, 0xc9, 0x6f, 0x52, 0x19, 0x4a, 0x7b, 0xda, 0xa2, 0xff, 0x93, 0x56, 0x22, 0x86,
-	0x84, 0x79, 0x19, 0x5d, 0x01, 0x0d, 0xbf, 0x59, 0x23, 0x81, 0x18, 0x0f, 0xf5, 0x7d, 0x97, 0x18,
-	0x14, 0x8b, 0x52, 0xfb, 0xa7, 0x72, 0x30, 0xc2, 0x2a, 0x0a, 0xe9, 0x71, 0x00, 0xc3, 0x0d, 0xce,
-	0x47, 0x0c, 0x49, 0x06, 0x21, 0x16, 0x7a, 0xeb, 0x35, 0x9d, 0x8c, 0x03, 0xb0, 0xe4, 0x47, 0x59,
-	0xef, 0x39, 0x6e, 0x44, 0x59, 0xe7, 0x4e, 0x97, 0xf5, 0x03, 0xce, 0x06, 0x4b, 0x7e, 0xf6, 0xbf,
-	0xb7, 0x00, 0xd6, 0xfc, 0x1a, 0xc1, 0x24, 0xec, 0x34, 0x23, 0xf4, 0xe3, 0x90, 0x6f, 0x37, 0x9c,
-	0x30, 0x69, 0xf9, 0xcd, 0x6f, 0x50, 0xe0, 0xc3, 0xc3, 0xa9, 0x22, 0xc5, 0x65, 0x7f, 0x30, 0x47,
-	0xd4, 0x23, 0xf4, 0x72, 0xc7, 0x47, 0xe8, 0xa1, 0x36, 0x0c, 0xfb, 0x9d, 0x88, 0x6a, 0x0e, 0x42,
-	0x45, 0xcc, 0xc0, 0xf1, 0xb1, 0xce, 0x09, 0xf2, 0x7b, 0x89, 0xe2, 0x0f, 0x96, 0x6c, 0xec, 0xff,
-	0x36, 0xce, 0x7b, 0x27, 0x3e, 0xf1, 0x24, 0xe4, 0x5c, 0x79, 0x6c, 0x01, 0xd1, 0xcc, 0xdc, 0xdd,
-	0x79, 0x9c, 0x73, 0x6b, 0x6a, 0x36, 0xe6, 0x7a, 0x6e, 0x5c, 0xaf, 0xc2, 0x48, 0xcd, 0x0d, 0xdb,
-	0x4d, 0xe7, 0x60, 0x2d, 0xe5, 0xcc, 0x38, 0x1f, 0x17, 0x61, 0x1d, 0x0f, 0xbd, 0x2c, 0xa2, 0x2a,
-	0xf9, 0x79, 0xb1, 0x94, 0x88, 0xaa, 0x2c, 0xd0, 0xe6, 0x69, 0x01, 0x95, 0xaf, 0xc1, 0xa8, 0xdc,
-	0xd1, 0x19, 0x97, 0x3c, 0xab, 0xa5, 0xa2, 0xed, 0x36, 0xb5, 0x32, 0x6c, 0x60, 0x76, 0x79, 0xa4,
-	0x87, 0xce, 0xde, 0x23, 0xfd, 0x49, 0x18, 0x93, 0x7f, 0xd9, 0x6e, 0x5e, 0xba, 0xc8, 0x5a, 0xaf,
-	0x6c, 0x19, 0x9b, 0x7a, 0x21, 0x36, 0x71, 0xe3, 0xa9, 0x37, 0xdc, 0xef, 0xd4, 0xbb, 0x05, 0xb0,
-	0xe5, 0x77, 0xbc, 0x9a, 0x13, 0x1c, 0xdc, 0x9d, 0x17, 0xf1, 0x2b, 0x4a, 0x63, 0x2c, 0xab, 0x12,
-	0xac, 0x61, 0xe9, 0xd3, 0xb5, 0xf8, 0x88, 0xe9, 0xfa, 0x36, 0x14, 0x59, 0xac, 0x0f, 0xa9, 0xcd,
-	0x46, 0xc2, 0xb3, 0x7b, 0x92, 0xb0, 0x10, 0xa5, 0x3c, 0x54, 0x24, 0x11, 0x1c, 0xd3, 0x43, 0x9f,
-	0x01, 0xd8, 0x76, 0x3d, 0x37, 0x6c, 0x30, 0xea, 0x23, 0x27, 0xa6, 0xae, 0xfa, 0xb9, 0xa0, 0xa8,
-	0x60, 0x8d, 0x22, 0x7a, 0x07, 0xce, 0x93, 0x30, 0x72, 0x5b, 0x4e, 0x44, 0x6a, 0x2a, 0xd8, 0xbc,
-	0xc4, 0x0e, 0xba, 0x2a, 0xda, 0xea, 0x4e, 0x12, 0xe1, 0x61, 0x1a, 0x10, 0x77, 0x13, 0x42, 0xaf,
-	0x41, 0xa1, 0x1d, 0xf8, 0xf5, 0x80, 0x84, 0x61, 0x69, 0x92, 0x0d, 0xe3, 0x55, 0xa9, 0x99, 0x6e,
-	0x08, 0xf8, 0x43, 0xed, 0x37, 0x56, 0xd8, 0xe8, 0x8f, 0x2d, 0x38, 0x1f, 0x10, 0xee, 0xee, 0x0b,
-	0x55, 0xc3, 0x2e, 0x31, 0xa9, 0x57, 0xcd, 0xe2, 0xd6, 0xbf, 0x5c, 0xec, 0xd3, 0x38, 0xc9, 0x85,
-	0x6f, 0xf7, 0x44, 0xf6, 0xbe, 0xab, 0xfc, 0x61, 0x1a, 0xf0, 0x4b, 0xdf, 0x9d, 0x9a, 0xea, 0x4e,
-	0x41, 0xa1, 0x88, 0xd3, 0x95, 0xf7, 0xd7, 0xbf, 0x3b, 0x35, 0x21, 0xff, 0xc7, 0x83, 0xd6, 0xd5,
-	0x49, 0xba, 0x7b, 0xb5, 0xfd, 0xda, 0xdd, 0x0d, 0xe1, 0x82, 0x57, 0xbb, 0xd7, 0x06, 0x05, 0x62,
-	0x5e, 0x86, 0x5e, 0x82, 0x42, 0xcd, 0x21, 0x2d, 0xdf, 0x23, 0xb5, 0xd2, 0x58, 0xec, 0xe3, 0x98,
-	0x17, 0x30, 0xac, 0x4a, 0x51, 0x13, 0x86, 0x5c, 0x76, 0x0c, 0x13, 0xf1, 0x36, 0x19, 0x9c, 0xfd,
-	0xf8, 0xb1, 0x4e, 0x46, 0xdb, 0x30, 0x51, 0x2a, 0x78, 0xe8, 0xb2, 0x7b, 0xfc, 0x4c, 0x64, 0x37,
-	0x1d, 0x89, 0x6a, 0xc3, 0x6d, 0xd6, 0x02, 0xe2, 0x95, 0x26, 0x98, 0x69, 0x93, 0x8d, 0xc4, 0x9c,
-	0x80, 0x61, 0x55, 0x8a, 0xfe, 0x22, 0x8c, 0xf9, 0x9d, 0x88, 0x2d, 0x72, 0xfa, 0xfd, 0xc3, 0xd2,
-	0x79, 0x86, 0xce, 0xbc, 0xa7, 0xeb, 0x7a, 0x01, 0x36, 0xf1, 0xa8, 0xb0, 0x6d, 0xf8, 0x61, 0x44,
-	0xff, 0x30, 0x61, 0x7b, 0xd9, 0x14, 0xb6, 0x4b, 0x5a, 0x19, 0x36, 0x30, 0xd1, 0xd7, 0x2d, 0x38,
-	0xdf, 0x4a, 0x1e, 0x40, 0x4a, 0x57, 0xd8, 0xc8, 0x54, 0xb2, 0x50, 0x54, 0x13, 0xa4, 0x79, 0x90,
-	0x59, 0x17, 0x18, 0x77, 0x37, 0x82, 0x5d, 0x98, 0x0b, 0x0f, 0xbc, 0x6a, 0x23, 0xf0, 0x3d, 0xb3,
-	0x79, 0xcf, 0xb2, 0xe6, 0xbd, 0x9d, 0xd1, 0x2a, 0x4b, 0x63, 0x51, 0x7e, 0xf6, 0xe8, 0x70, 0xea,
-	0x52, 0x6a, 0x11, 0x4e, 0x6f, 0xd4, 0xe4, 0x3c, 0x5c, 0x4e, 0x5f, 0xa9, 0x8f, 0xd2, 0x98, 0x07,
-	0x74, 0x8d, 0x79, 0x01, 0x9e, 0xed, 0xd9, 0x28, 0x2a, 0xf3, 0xa5, 0x7a, 0x65, 0x99, 0x32, 0xbf,
-	0x4b, 0x1d, 0x3a, 0x07, 0xa3, 0x7a, 0xe2, 0x10, 0xe6, 0xca, 0xd6, 0x2e, 0x6b, 0xd2, 0x43, 0xb6,
-	0x5f, 0xc9, 0xdc, 0x27, 0xbc, 0x5e, 0xe9, 0xf2, 0x09, 0x2b, 0x10, 0x8e, 0x19, 0xf6, 0xe3, 0xca,
-	0x4e, 0xbd, 0x59, 0xfa, 0x94, 0x9b, 0x7d, 0x62, 0x57, 0xf6, 0xbf, 0x1b, 0x84, 0x98, 0x12, 0x7a,
-	0x19, 0x0a, 0xc4, 0xab, 0xb5, 0x7d, 0xd7, 0x8b, 0x92, 0x66, 0x90, 0x3b, 0x02, 0x8e, 0x15, 0x86,
-	0xe6, 0xf8, 0xce, 0x1d, 0xeb, 0xf8, 0xae, 0xc1, 0xb8, 0xc3, 0x62, 0x6d, 0x63, 0xb7, 0xe5, 0xc0,
-	0x89, 0xfd, 0x0c, 0xb3, 0x26, 0x05, 0x9c, 0x24, 0x49, 0xb9, 0x84, 0x71, 0x55, 0xc6, 0x65, 0xf0,
-	0xc4, 0x5c, 0x2a, 0x26, 0x05, 0x9c, 0x24, 0x89, 0xde, 0x81, 0x52, 0x95, 0xdd, 0x6e, 0xe0, 0x7d,
-	0xbc, 0xbb, 0xbd, 0xe6, 0x47, 0x1b, 0x01, 0x09, 0x89, 0xc7, 0xdd, 0xca, 0x85, 0xf2, 0x0d, 0x31,
-	0x0a, 0xa5, 0xb9, 0x1e, 0x78, 0xb8, 0x27, 0x05, 0xaa, 0xd5, 0x31, 0xa7, 0xa9, 0x1b, 0x1d, 0x6c,
-	0xfa, 0x3b, 0xc4, 0x13, 0xae, 0x04, 0xa5, 0xd5, 0x55, 0xf4, 0x42, 0x6c, 0xe2, 0xa2, 0x9f, 0xb3,
-	0x60, 0xac, 0x29, 0xad, 0x5a, 0xb8, 0xd3, 0x94, 0xa9, 0x49, 0x70, 0x26, 0xd3, 0x6f, 0x45, 0xa7,
-	0xcc, 0x05, 0xbe, 0x01, 0xc2, 0x26, 0x6f, 0xfb, 0xdb, 0x16, 0x4c, 0x24, 0xab, 0xa1, 0x1d, 0xb8,
-	0xd6, 0x72, 0x82, 0x9d, 0xbb, 0xde, 0x76, 0xc0, 0xe2, 0xfe, 0x22, 0xfe, 0x55, 0x67, 0xb7, 0x23,
-	0x12, 0xcc, 0x3b, 0x07, 0x3c, 0xba, 0x27, 0xaf, 0xb2, 0x29, 0x5d, 0x5b, 0x3d, 0x0e, 0x19, 0x1f,
-	0x4f, 0x0b, 0x55, 0xe0, 0x12, 0x45, 0x98, 0x27, 0x4d, 0x42, 0x25, 0x54, 0xcc, 0x24, 0xc7, 0x98,
-	0x28, 0xff, 0xf5, 0x6a, 0x1a, 0x12, 0x4e, 0xaf, 0x6b, 0xff, 0xdb, 0x1c, 0xc8, 0xfd, 0xf3, 0x4f,
-	0xb7, 0x4d, 0x16, 0xd9, 0x30, 0x14, 0xb0, 0x93, 0xac, 0x38, 0x9e, 0x31, 0x55, 0x86, 0x9f, 0x6d,
-	0xb1, 0x28, 0xa1, 0x8a, 0x05, 0xd9, 0x77, 0xa3, 0x39, 0xbf, 0x26, 0x0f, 0x65, 0x4c, 0xb1, 0xb8,
-	0x23, 0x60, 0x58, 0x95, 0xda, 0x3f, 0x6d, 0xc1, 0x18, 0xed, 0x65, 0xb3, 0x49, 0x9a, 0x95, 0x88,
-	0xb4, 0x43, 0x14, 0x42, 0x3e, 0xa4, 0x3f, 0xb2, 0x33, 0x11, 0xc4, 0x01, 0xee, 0xa4, 0xad, 0x19,
-	0x43, 0x29, 0x13, 0xcc, 0x79, 0xd9, 0xff, 0x3d, 0x07, 0x45, 0x35, 0xd8, 0x7d, 0x58, 0x58, 0x6f,
-	0xc5, 0x57, 0xca, 0xb9, 0x0c, 0x2c, 0x69, 0xd7, 0xc9, 0xe9, 0x49, 0x6a, 0xd6, 0x3b, 0xe0, 0x37,
-	0x54, 0xe3, 0xbb, 0xe5, 0x2f, 0x9b, 0xfe, 0x86, 0xcb, 0xba, 0x11, 0x5b, 0xc3, 0x17, 0x8e, 0x87,
-	0x7d, 0xdd, 0xdd, 0x33, 0x98, 0xd5, 0x7e, 0xa2, 0x1c, 0x3b, 0xbd, 0xfd, 0x3c, 0x89, 0xbc, 0x48,
-	0xf9, 0xbe, 0xf2, 0x22, 0xdd, 0x84, 0x41, 0xe2, 0x75, 0x5a, 0x2c, 0xda, 0xb9, 0xc8, 0x34, 0xa9,
-	0xc1, 0x3b, 0x5e, 0xa7, 0x65, 0xf6, 0x8c, 0xa1, 0xd8, 0xff, 0xcc, 0x02, 0xaa, 0x8f, 0x2f, 0xce,
-	0xa1, 0xbf, 0x0c, 0x85, 0x50, 0x68, 0x01, 0x62, 0xa8, 0x7f, 0x44, 0x05, 0xd4, 0x09, 0xf8, 0xc3,
-	0xc3, 0xa9, 0x31, 0x86, 0x2c, 0x01, 0x58, 0x55, 0x41, 0x4d, 0x18, 0x63, 0x76, 0x44, 0x29, 0xc9,
-	0x85, 0xe5, 0xf7, 0x76, 0x9f, 0x77, 0x94, 0xf4, 0xaa, 0x42, 0xae, 0xe9, 0x20, 0x6c, 0x12, 0xb7,
-	0x7f, 0x67, 0x10, 0x34, 0x73, 0x5b, 0x1f, 0x53, 0xe4, 0xbd, 0x84, 0x71, 0x75, 0x35, 0x13, 0xe3,
-	0xaa, 0xb4, 0x58, 0xf2, 0x65, 0x67, 0xda, 0x53, 0x69, 0xa3, 0x1a, 0xa4, 0xd9, 0x16, 0x13, 0x4c,
-	0x35, 0x6a, 0x89, 0x34, 0xdb, 0x98, 0x95, 0xa8, 0x68, 0xeb, 0xc1, 0x9e, 0xd1, 0xd6, 0x0d, 0xc8,
-	0xd7, 0x9d, 0x4e, 0x9d, 0x08, 0x27, 0x7a, 0x06, 0x76, 0x74, 0x16, 0x7e, 0xc6, 0xed, 0xe8, 0xec,
-	0x27, 0xe6, 0x0c, 0xe8, 0x0c, 0x6f, 0x48, 0x67, 0x9c, 0x30, 0xa5, 0x64, 0x30, 0xc3, 0x95, 0x7f,
-	0x8f, 0xcf, 0x70, 0xf5, 0x17, 0xc7, 0xcc, 0xe8, 0x49, 0xab, 0xca, 0xaf, 0x36, 0x8a, 0xad, 0xf2,
-	0x6e, 0x16, 0xe1, 0xe4, 0x8c, 0x20, 0x3f, 0x69, 0x89, 0x3f, 0x58, 0xb2, 0xb1, 0x67, 0x60, 0x44,
-	0xcb, 0x10, 0x44, 0x3f, 0x83, 0xba, 0x55, 0xa7, 0x7d, 0x86, 0x79, 0x27, 0x72, 0x30, 0x2b, 0xb1,
-	0xff, 0xde, 0x00, 0xa8, 0x13, 0xaf, 0x1e, 0xfc, 0xec, 0x54, 0xb5, 0xab, 0xf5, 0xc6, 0xad, 0x1b,
-	0xdf, 0xc3, 0xa2, 0x94, 0xaa, 0x13, 0x2d, 0x12, 0xd4, 0x95, 0x8e, 0x2d, 0x64, 0x94, 0x52, 0x27,
-	0x56, 0xf5, 0x42, 0x6c, 0xe2, 0x52, 0x5d, 0xb0, 0xe5, 0x78, 0xee, 0x36, 0x09, 0xa3, 0x64, 0x0c,
-	0xcb, 0xaa, 0x80, 0x63, 0x85, 0x81, 0x16, 0xe1, 0x7c, 0x48, 0xa2, 0xf5, 0x3d, 0x8f, 0x04, 0xea,
-	0x36, 0x90, 0xb8, 0x1e, 0xa6, 0xe2, 0xba, 0x2a, 0x49, 0x04, 0xdc, 0x5d, 0x07, 0xcd, 0xc3, 0x84,
-	0xb8, 0x99, 0xa5, 0x2e, 0xd6, 0x08, 0xd9, 0xa3, 0x72, 0xba, 0x55, 0x12, 0xe5, 0xb8, 0xab, 0x06,
-	0xa5, 0xb2, 0xed, 0xb8, 0xcd, 0x4e, 0x40, 0x62, 0x2a, 0x43, 0x26, 0x95, 0x85, 0x44, 0x39, 0xee,
-	0xaa, 0xc1, 0x42, 0x0b, 0x9b, 0x4e, 0x3d, 0x2c, 0x0d, 0x6b, 0xa1, 0x85, 0x14, 0x80, 0x39, 0xdc,
-	0xfe, 0x27, 0x16, 0x8c, 0x61, 0x12, 0x05, 0x07, 0xb3, 0xdb, 0xdb, 0xae, 0xe7, 0x46, 0x07, 0xe8,
-	0x97, 0x2d, 0x98, 0xf0, 0xfc, 0x1a, 0x99, 0xf5, 0x22, 0x57, 0x02, 0xb3, 0x4b, 0x9f, 0xc2, 0x78,
-	0xad, 0x25, 0xc8, 0xf3, 0x4b, 0x5e, 0x49, 0x28, 0xee, 0x6a, 0x86, 0x7d, 0x05, 0x2e, 0xa5, 0x12,
-	0xb0, 0xbf, 0x3d, 0x20, 0xba, 0xa1, 0x3e, 0xfe, 0x1b, 0x90, 0x6f, 0xb2, 0x0b, 0x6f, 0xd6, 0x63,
-	0xe6, 0x63, 0x60, 0x63, 0xc5, 0x6f, 0xc4, 0x71, 0x4a, 0x68, 0x1e, 0x46, 0x02, 0xca, 0x43, 0x5c,
-	0x47, 0xe4, 0x53, 0xd1, 0x8e, 0xf3, 0xcb, 0xa9, 0xa2, 0x87, 0xe6, 0x5f, 0xac, 0x57, 0x43, 0xef,
-	0xc3, 0xf0, 0x16, 0x4f, 0x31, 0x91, 0x9d, 0x61, 0x5b, 0xe4, 0xac, 0x60, 0x3b, 0xb1, 0x4c, 0x60,
-	0xf1, 0x30, 0xfe, 0x89, 0x25, 0x47, 0x74, 0x00, 0x05, 0x47, 0x7e, 0xd3, 0xc1, 0xac, 0x82, 0xd1,
-	0x8c, 0xf9, 0xc3, 0xf5, 0x23, 0xf5, 0x0d, 0x15, 0x3b, 0xba, 0x19, 0x93, 0x38, 0xc5, 0x5e, 0x62,
-	0x33, 0xd6, 0xd2, 0xeb, 0x69, 0x58, 0xf6, 0x37, 0x2d, 0x80, 0x38, 0xf9, 0x14, 0xda, 0x87, 0x42,
-	0x78, 0xdb, 0x38, 0x98, 0x66, 0x71, 0xbf, 0x47, 0x50, 0xd4, 0x62, 0xe0, 0x05, 0x04, 0x2b, 0x6e,
-	0x8f, 0x3a, 0x4c, 0xff, 0x6f, 0x0b, 0x2e, 0xa6, 0x25, 0xc9, 0x7a, 0x8a, 0x2d, 0x3e, 0xe9, 0x39,
-	0x5a, 0x54, 0xd8, 0x08, 0xc8, 0xb6, 0xbb, 0x9f, 0x74, 0x69, 0x2f, 0xcb, 0x02, 0x1c, 0xe3, 0xd8,
-	0x5f, 0xcb, 0x83, 0x62, 0x7c, 0x4a, 0xe7, 0xee, 0x17, 0xa9, 0x86, 0x5e, 0x8f, 0x53, 0x9f, 0x28,
-	0x3c, 0xcc, 0xa0, 0x58, 0x94, 0x52, 0x2d, 0x5d, 0x06, 0xeb, 0x0a, 0x91, 0xcd, 0x66, 0xa1, 0x8c,
-	0xeb, 0xc5, 0xaa, 0x34, 0xed, 0x24, 0x9f, 0x3f, 0x93, 0x93, 0xfc, 0x50, 0xf6, 0x27, 0xf9, 0x9b,
-	0x30, 0x1c, 0xf8, 0x4d, 0x32, 0x8b, 0xd7, 0x84, 0x1b, 0x24, 0x4e, 0xd9, 0xc3, 0xc1, 0x58, 0x96,
-	0xa3, 0x57, 0x61, 0xa4, 0x13, 0x92, 0xca, 0xfc, 0xf2, 0x5c, 0x40, 0x6a, 0xa1, 0x88, 0x7f, 0x56,
-	0xee, 0xa8, 0x7b, 0x71, 0x11, 0xd6, 0xf1, 0xd0, 0x6f, 0x59, 0xc7, 0x18, 0x0b, 0x8a, 0x59, 0xed,
-	0x09, 0xa9, 0xc9, 0x16, 0xca, 0x57, 0x1f, 0xcf, 0x02, 0x61, 0x7f, 0xc5, 0x82, 0x73, 0x95, 0x6a,
-	0xe0, 0xb6, 0xe3, 0xe4, 0x19, 0x59, 0xe7, 0xf6, 0x78, 0x51, 0xdd, 0x77, 0x4a, 0x4c, 0x5f, 0xf3,
-	0x86, 0x92, 0xfd, 0x2e, 0x4c, 0x54, 0x48, 0xcb, 0x69, 0x37, 0x58, 0xf8, 0x38, 0x77, 0xdf, 0xce,
-	0x40, 0x31, 0x94, 0xb0, 0x64, 0x72, 0x34, 0x85, 0x8c, 0x63, 0x1c, 0xf4, 0x02, 0x77, 0x35, 0xcb,
-	0xc0, 0xbf, 0x22, 0xd7, 0xcb, 0xb8, 0x7f, 0x3a, 0xc4, 0xb2, 0xcc, 0xde, 0x83, 0xd1, 0xb8, 0x3a,
-	0xd9, 0x46, 0x75, 0x18, 0xaf, 0x6a, 0x11, 0xa2, 0x71, 0x48, 0x5b, 0xff, 0xc1, 0xa4, 0x6c, 0x16,
-	0xce, 0x99, 0x44, 0x70, 0x92, 0xaa, 0xfd, 0x0b, 0x39, 0x18, 0x57, 0x9c, 0x85, 0x11, 0xf5, 0xc3,
-	0xa4, 0x7b, 0x1c, 0x67, 0x71, 0x0f, 0xd3, 0x1c, 0xc9, 0x63, 0x5c, 0xe4, 0x1f, 0x26, 0x5d, 0xe4,
-	0xa7, 0xca, 0xbe, 0xcb, 0x2e, 0xfc, 0xcd, 0x1c, 0x14, 0xd4, 0xad, 0xd0, 0x37, 0x20, 0xcf, 0x54,
-	0xe7, 0x27, 0xd3, 0x43, 0x98, 0x1a, 0x8e, 0x39, 0x25, 0x4a, 0x92, 0xf9, 0x06, 0x1f, 0x3b, 0xd5,
-	0x54, 0x91, 0x5b, 0x0d, 0x9c, 0x20, 0xc2, 0x9c, 0x12, 0x5a, 0x86, 0x01, 0xe2, 0xd5, 0x84, 0x42,
-	0x72, 0x72, 0x82, 0x2c, 0x31, 0xe0, 0x1d, 0xaf, 0x86, 0x29, 0x15, 0x96, 0x97, 0x85, 0xef, 0x3b,
-	0x83, 0xe6, 0xf2, 0x10, 0x9b, 0x8e, 0x28, 0xb5, 0x7f, 0x6e, 0x00, 0x86, 0x2a, 0x9d, 0x2d, 0xaa,
-	0x5a, 0xfd, 0x9a, 0x05, 0x17, 0xf6, 0x12, 0x69, 0x88, 0xe2, 0x29, 0x7b, 0x2f, 0xfb, 0x1c, 0x4f,
-	0x98, 0x6c, 0x97, 0x9f, 0x13, 0xed, 0xba, 0x90, 0x52, 0x88, 0xd3, 0x9a, 0x63, 0xa4, 0x6c, 0x19,
-	0x38, 0xa5, 0xe4, 0x56, 0xa7, 0x1b, 0x98, 0x37, 0xd6, 0x33, 0x28, 0xef, 0x4f, 0x06, 0x01, 0xf8,
-	0xd7, 0x58, 0x6f, 0x47, 0xfd, 0x98, 0x05, 0x5e, 0x83, 0x51, 0x99, 0x5d, 0x7e, 0x2d, 0x0e, 0x86,
-	0x50, 0x0e, 0xb1, 0x45, 0xad, 0x0c, 0x1b, 0x98, 0x4c, 0x15, 0xf4, 0xa2, 0xe0, 0x80, 0xab, 0x0b,
-	0x83, 0x09, 0x55, 0x50, 0x95, 0x60, 0x0d, 0x0b, 0x4d, 0x1b, 0xa6, 0x4a, 0x7e, 0x7d, 0xfd, 0xdc,
-	0x31, 0x96, 0xc5, 0x4f, 0xc2, 0x98, 0xfa, 0xb7, 0xe0, 0x36, 0x49, 0xd2, 0x10, 0xbd, 0xa1, 0x17,
-	0x62, 0x13, 0x17, 0x7d, 0x0a, 0xce, 0x99, 0xb7, 0xd0, 0xc4, 0x06, 0xab, 0xee, 0x80, 0x9a, 0x97,
-	0xd7, 0x70, 0x02, 0x9b, 0xae, 0x80, 0x5a, 0x70, 0x80, 0x3b, 0x9e, 0xd8, 0x69, 0xd5, 0x0a, 0x98,
-	0x67, 0x50, 0x2c, 0x4a, 0xe9, 0x10, 0xd2, 0x9a, 0x24, 0xe0, 0x70, 0x71, 0x8d, 0x48, 0x0d, 0x61,
-	0x45, 0x2b, 0xc3, 0x06, 0x26, 0xe5, 0x20, 0x6c, 0x32, 0x60, 0xae, 0xb1, 0x84, 0x21, 0xa5, 0x0d,
-	0xe7, 0x7c, 0xf3, 0x48, 0xcb, 0xc3, 0x07, 0x3e, 0xde, 0xe7, 0xbc, 0x35, 0xea, 0xf2, 0xb0, 0xf7,
-	0xc4, 0x09, 0x38, 0x41, 0x9f, 0xaa, 0x1a, 0x7a, 0x78, 0xe0, 0xa8, 0x19, 0xf9, 0xd2, 0x2b, 0x82,
-	0xcf, 0xbe, 0x00, 0xe7, 0x2b, 0x9d, 0x76, 0xbb, 0xe9, 0x92, 0x9a, 0xb2, 0xe5, 0xd9, 0x3f, 0x01,
-	0xe3, 0x22, 0x23, 0x8b, 0xda, 0xcb, 0x4f, 0x94, 0x96, 0xcf, 0xfe, 0x63, 0x0b, 0xc6, 0x13, 0x7e,
-	0x3e, 0xf4, 0x7e, 0x72, 0x07, 0xce, 0xc4, 0x34, 0xab, 0x6f, 0xbe, 0x7c, 0x95, 0xa5, 0xee, 0xe6,
-	0x0d, 0x19, 0x95, 0x96, 0x59, 0x70, 0x27, 0x8b, 0xdd, 0xe2, 0x22, 0x5d, 0x0f, 0x6d, 0xb3, 0xbf,
-	0x9c, 0x83, 0x74, 0xe7, 0x2a, 0xfa, 0x7c, 0xf7, 0x00, 0xbc, 0x91, 0xe1, 0x00, 0x08, 0xef, 0x6e,
-	0xef, 0x31, 0xf0, 0xcc, 0x31, 0x58, 0xcd, 0x68, 0x0c, 0x04, 0xdf, 0xee, 0x91, 0xf8, 0x23, 0x0b,
-	0x46, 0x36, 0x37, 0x57, 0x94, 0x69, 0x00, 0xc3, 0xe5, 0x90, 0xdf, 0xd1, 0x60, 0x5e, 0x91, 0x39,
-	0xbf, 0xd5, 0xe6, 0x4e, 0x12, 0xe1, 0xbc, 0x61, 0xc9, 0x71, 0x2a, 0xa9, 0x18, 0xb8, 0x47, 0x4d,
-	0x74, 0x17, 0x2e, 0xe8, 0x25, 0xc2, 0xc0, 0x23, 0x1c, 0x35, 0xfc, 0xd6, 0x62, 0x77, 0x31, 0x4e,
-	0xab, 0x93, 0x24, 0x25, 0xac, 0x3c, 0xe2, 0xdd, 0x82, 0x2e, 0x52, 0xa2, 0x18, 0xa7, 0xd5, 0xb1,
-	0xd7, 0x61, 0x44, 0x7b, 0x45, 0x03, 0x7d, 0x1a, 0x26, 0xaa, 0x7e, 0x4b, 0x9e, 0xae, 0x57, 0xc8,
-	0x2e, 0x69, 0x8a, 0x2e, 0x33, 0x03, 0xcc, 0x5c, 0xa2, 0x0c, 0x77, 0x61, 0xdb, 0x5f, 0xba, 0x0e,
-	0x2a, 0x9c, 0xbc, 0x8f, 0x2d, 0xa2, 0xad, 0xc2, 0x4e, 0xf2, 0x19, 0x87, 0x9d, 0x28, 0x79, 0x97,
-	0x08, 0x3d, 0x89, 0xe2, 0xd0, 0x93, 0xa1, 0xac, 0x43, 0x4f, 0x94, 0xc6, 0xd7, 0x15, 0x7e, 0xf2,
-	0x8b, 0x16, 0x8c, 0x7a, 0x7e, 0x8d, 0x28, 0x03, 0xfe, 0x30, 0x53, 0x3b, 0xdf, 0xc9, 0x2e, 0x9e,
-	0x8e, 0x87, 0x51, 0x08, 0xf2, 0x3c, 0x38, 0x49, 0x6d, 0x13, 0x7a, 0x11, 0x36, 0xda, 0x81, 0x16,
-	0x34, 0x7b, 0x0f, 0xcf, 0x88, 0x72, 0x35, 0x4d, 0xfd, 0x7f, 0xa4, 0xf1, 0x66, 0x5f, 0x53, 0x7c,
-	0x8a, 0x59, 0xd9, 0x31, 0x64, 0x84, 0xb5, 0x66, 0x96, 0x95, 0xf9, 0x9d, 0x62, 0x85, 0xc8, 0x86,
-	0x21, 0x1e, 0xc5, 0x24, 0xde, 0x73, 0x60, 0xde, 0x02, 0x1e, 0xe1, 0x84, 0x45, 0x09, 0x8a, 0xa4,
-	0xa3, 0x6d, 0x24, 0xab, 0xb4, 0x88, 0x86, 0x23, 0x2f, 0xdd, 0xd3, 0x86, 0x5e, 0xd7, 0x4f, 0x95,
-	0xa3, 0xfd, 0x9c, 0x2a, 0xc7, 0x7a, 0x9e, 0x28, 0xbf, 0x6a, 0xc1, 0x68, 0x55, 0xcb, 0xfb, 0x58,
-	0x7a, 0x29, 0xab, 0xe4, 0xa6, 0x69, 0xd9, 0x24, 0xf9, 0x7d, 0x25, 0xbd, 0x04, 0x1b, 0xdc, 0x59,
-	0x42, 0x0f, 0x76, 0x84, 0x66, 0x61, 0x65, 0x23, 0xb7, 0x36, 0x32, 0xd8, 0x1e, 0x8c, 0x23, 0x39,
-	0xff, 0x8c, 0x1c, 0x86, 0x05, 0x2f, 0xf4, 0x01, 0x14, 0x64, 0x20, 0x9c, 0x08, 0x53, 0xc3, 0x59,
-	0x18, 0x27, 0x4d, 0xd7, 0x83, 0x4c, 0x03, 0xc0, 0xa1, 0x58, 0x71, 0x44, 0x0d, 0x18, 0xa8, 0x39,
-	0x75, 0x11, 0xb0, 0xb6, 0x9a, 0x4d, 0x96, 0x15, 0xc9, 0x93, 0x9d, 0x8f, 0xe6, 0x67, 0x17, 0x31,
-	0x65, 0x81, 0xf6, 0xe3, 0xf4, 0x73, 0x13, 0x99, 0xed, 0xbe, 0xa6, 0x9a, 0xc4, 0x8d, 0x04, 0x5d,
-	0xd9, 0xec, 0x6a, 0xc2, 0x5b, 0xf3, 0xe7, 0x18, 0xdb, 0x85, 0x6c, 0xd2, 0xb4, 0xf0, 0xab, 0x8d,
-	0xb1, 0xc7, 0x87, 0x72, 0x61, 0x0f, 0x7f, 0xfc, 0x58, 0x56, 0x5c, 0x96, 0x36, 0x37, 0x37, 0xba,
-	0x1e, 0xfc, 0xb8, 0x03, 0xc3, 0x3c, 0x81, 0x28, 0x0f, 0xe1, 0x1b, 0xb9, 0x35, 0xd9, 0x3b, 0x0d,
-	0x69, 0x2c, 0xba, 0xf9, 0xff, 0x10, 0xcb, 0xba, 0xe8, 0x17, 0x2c, 0x38, 0x47, 0x65, 0x5c, 0x9c,
-	0xf1, 0xb4, 0x84, 0xb2, 0x92, 0x22, 0xf7, 0x42, 0xaa, 0x23, 0xc8, 0xd5, 0xaf, 0x0e, 0x0f, 0x77,
-	0x0d, 0x76, 0x38, 0xc1, 0x1e, 0x7d, 0x08, 0x85, 0xd0, 0xad, 0x91, 0xaa, 0x13, 0x84, 0xa5, 0x0b,
-	0xa7, 0xd3, 0x94, 0xd8, 0x70, 0x2c, 0x18, 0x61, 0xc5, 0x12, 0xfd, 0x2d, 0x96, 0x9f, 0x5c, 0xbc,
-	0x25, 0x21, 0x9e, 0x39, 0xba, 0x78, 0x6a, 0xcf, 0x1c, 0x71, 0x7b, 0xaa, 0xc9, 0x0e, 0x27, 0xf9,
-	0xa3, 0xbf, 0x66, 0xc1, 0x25, 0x9e, 0x87, 0x2f, 0x99, 0x84, 0xf1, 0xd2, 0x63, 0x5a, 0x2c, 0x58,
-	0xec, 0xe1, 0x6c, 0x1a, 0x49, 0x9c, 0xce, 0x89, 0x25, 0xf2, 0x09, 0x74, 0x17, 0x13, 0x8b, 0x00,
-	0xcd, 0xce, 0x81, 0xa2, 0x5e, 0x4d, 0x62, 0x1e, 0x7c, 0x03, 0x84, 0x4d, 0xc6, 0xe8, 0x15, 0x18,
-	0x69, 0x8b, 0x0d, 0xca, 0x0d, 0x5b, 0x2c, 0x92, 0x74, 0x80, 0x47, 0xdb, 0x6f, 0xc4, 0x60, 0xac,
-	0xe3, 0x18, 0x59, 0x9d, 0x6e, 0x1e, 0x97, 0xd5, 0x09, 0xdd, 0x83, 0x91, 0xc8, 0x6f, 0x92, 0x40,
-	0x9c, 0xdf, 0x4a, 0x6c, 0x06, 0x5e, 0x4f, 0x5b, 0x5b, 0x9b, 0x0a, 0x2d, 0x3e, 0xdf, 0xc5, 0xb0,
-	0x10, 0xeb, 0x74, 0x58, 0x60, 0x98, 0xc8, 0x6f, 0x18, 0x30, 0x73, 0xc1, 0xb3, 0x89, 0xc0, 0x30,
-	0xbd, 0x10, 0x9b, 0xb8, 0x68, 0x11, 0xce, 0xb7, 0x03, 0xd7, 0x0f, 0xdc, 0xe8, 0x60, 0xae, 0xe9,
-	0x84, 0x21, 0x23, 0xc0, 0x63, 0xc9, 0x95, 0x6f, 0x76, 0x23, 0x89, 0x80, 0xbb, 0xeb, 0xd0, 0x61,
-	0x90, 0xc0, 0xd2, 0x73, 0x4c, 0xf3, 0x1d, 0xe5, 0x71, 0xe8, 0x1c, 0x86, 0x55, 0x69, 0x8f, 0x1c,
-	0x47, 0x57, 0x1f, 0x27, 0xc7, 0x11, 0xaa, 0xc1, 0x55, 0xa7, 0x13, 0xf9, 0xec, 0xb2, 0xac, 0x59,
-	0x85, 0xc7, 0xc8, 0xdd, 0xe0, 0x61, 0x77, 0x47, 0x87, 0x53, 0x57, 0x67, 0x8f, 0xc1, 0xc3, 0xc7,
-	0x52, 0x41, 0x9f, 0x83, 0x02, 0x11, 0x79, 0x9a, 0x4a, 0x3f, 0x92, 0xd5, 0xb6, 0x6d, 0x66, 0x7e,
-	0x92, 0xc1, 0x4f, 0x1c, 0x86, 0x15, 0x3f, 0xb4, 0x09, 0x23, 0x0d, 0x3f, 0x8c, 0x66, 0x9b, 0xae,
-	0x13, 0x92, 0xb0, 0x74, 0x8d, 0x4d, 0x9a, 0x54, 0x6d, 0x68, 0x49, 0xa2, 0xc5, 0x73, 0x66, 0x29,
-	0xae, 0x89, 0x75, 0x32, 0x88, 0x30, 0x37, 0x0a, 0x0b, 0x10, 0xa4, 0xb2, 0x8b, 0xec, 0x47, 0xa5,
-	0xeb, 0xac, 0x63, 0x2f, 0xa6, 0x51, 0xde, 0xf0, 0x6b, 0x15, 0x13, 0x5b, 0xf9, 0x51, 0x74, 0x20,
-	0x4e, 0xd2, 0x44, 0xaf, 0xc1, 0x68, 0xdb, 0xaf, 0x55, 0xda, 0xa4, 0xba, 0xe1, 0x44, 0xd5, 0x46,
-	0x69, 0xca, 0x34, 0x64, 0x6d, 0x68, 0x65, 0xd8, 0xc0, 0x44, 0x6d, 0x18, 0x6e, 0xf1, 0x7b, 0x72,
-	0xa5, 0xe7, 0xb3, 0x3a, 0x6d, 0x88, 0x8b, 0x77, 0x7c, 0x07, 0x17, 0x7f, 0xb0, 0x64, 0x83, 0xfe,
-	0xa1, 0x05, 0xe3, 0x89, 0xd8, 0xe8, 0xd2, 0x8f, 0x66, 0xa6, 0x44, 0x98, 0x84, 0xcb, 0x2f, 0xb2,
-	0xe1, 0x33, 0x81, 0x0f, 0xbb, 0x41, 0x38, 0xd9, 0x22, 0x3e, 0x2e, 0xec, 0xb2, 0x6b, 0xe9, 0x85,
-	0xec, 0xc6, 0x85, 0x11, 0x94, 0xe3, 0xc2, 0xfe, 0x60, 0xc9, 0x06, 0xdd, 0x84, 0x61, 0x91, 0x7e,
-	0xa1, 0xf4, 0xa2, 0xe9, 0x0b, 0x13, 0x59, 0x1a, 0xb0, 0x2c, 0x9f, 0xfc, 0x09, 0x38, 0xdf, 0x75,
-	0x98, 0x3a, 0xd1, 0x8d, 0xcb, 0x5f, 0xb2, 0x40, 0xbf, 0xd6, 0x94, 0x79, 0x72, 0xd4, 0xd7, 0x60,
-	0xb4, 0xca, 0x33, 0xf3, 0xf3, 0x8b, 0x51, 0x83, 0xa6, 0x55, 0x70, 0x4e, 0x2b, 0xc3, 0x06, 0xa6,
-	0xbd, 0x04, 0xa8, 0x3b, 0x73, 0x5d, 0xc2, 0xf3, 0x6e, 0xf5, 0xe5, 0x79, 0xff, 0x75, 0x0b, 0xc6,
-	0x0c, 0x9d, 0x21, 0x73, 0x27, 0xda, 0x02, 0xa0, 0x96, 0x1b, 0x04, 0x7e, 0xa0, 0x27, 0x85, 0x17,
-	0xa9, 0xba, 0x58, 0x1a, 0x93, 0xd5, 0xae, 0x52, 0x9c, 0x52, 0xc3, 0xfe, 0xdd, 0x01, 0x88, 0xa3,
-	0xff, 0x54, 0x02, 0x23, 0xab, 0x67, 0x02, 0xa3, 0x97, 0xa1, 0xf0, 0x6e, 0xe8, 0x7b, 0x1b, 0x71,
-	0x9a, 0x23, 0xf5, 0x2d, 0x5e, 0xaf, 0xac, 0xaf, 0x31, 0x4c, 0x85, 0xc1, 0xb0, 0xdf, 0x5b, 0x70,
-	0x9b, 0x51, 0x77, 0x1e, 0x9c, 0xd7, 0xdf, 0xe0, 0x70, 0xac, 0x30, 0x58, 0xda, 0xfa, 0x5d, 0xa2,
-	0xcc, 0xc5, 0x71, 0xda, 0x7a, 0x9e, 0x94, 0x92, 0x95, 0xa1, 0x19, 0x28, 0x2a, 0x6b, 0xb3, 0x30,
-	0x7e, 0xab, 0x91, 0x52, 0x56, 0x69, 0x1c, 0xe3, 0x30, 0x85, 0x50, 0x98, 0x46, 0x85, 0x51, 0xa3,
-	0x92, 0xc5, 0x81, 0x21, 0x61, 0x6c, 0xe5, 0xb2, 0x5d, 0x82, 0xb1, 0x62, 0xa9, 0x47, 0x88, 0xe6,
-	0xfb, 0x8d, 0x10, 0x35, 0xa7, 0x5c, 0xa1, 0xaf, 0x29, 0xf7, 0x33, 0x03, 0x30, 0x7c, 0x9f, 0x04,
-	0x2c, 0x67, 0xda, 0x4d, 0x18, 0xde, 0xe5, 0x3f, 0x93, 0xb7, 0x30, 0x04, 0x06, 0x96, 0xe5, 0x74,
-	0x38, 0xb7, 0x3a, 0x6e, 0xb3, 0x36, 0x1f, 0x2f, 0x2e, 0x35, 0x9c, 0x65, 0x59, 0x80, 0x63, 0x1c,
-	0x5a, 0xa1, 0x4e, 0x15, 0xee, 0x56, 0xcb, 0x8d, 0x92, 0x81, 0x0e, 0x8b, 0xb2, 0x00, 0xc7, 0x38,
-	0xe8, 0x45, 0x18, 0xaa, 0xbb, 0xd1, 0xa6, 0x53, 0x4f, 0xfa, 0xb3, 0x16, 0x19, 0x14, 0x8b, 0x52,
-	0xe6, 0x10, 0x71, 0xa3, 0xcd, 0x80, 0x30, 0x13, 0x68, 0xd7, 0x75, 0xcc, 0x45, 0xad, 0x0c, 0x1b,
-	0x98, 0xac, 0x49, 0xbe, 0xe8, 0x99, 0x70, 0x54, 0xc4, 0x4d, 0x92, 0x05, 0x38, 0xc6, 0xa1, 0xd3,
-	0xb2, 0xea, 0xb7, 0xda, 0x6e, 0x53, 0x04, 0xfe, 0x69, 0xd3, 0x72, 0x4e, 0xc0, 0xb1, 0xc2, 0xa0,
-	0xd8, 0x54, 0xb2, 0x50, 0xa9, 0x90, 0xcc, 0xdc, 0xbd, 0x21, 0xe0, 0x58, 0x61, 0xd8, 0xf7, 0x61,
-	0x8c, 0x2f, 0xb0, 0xb9, 0xa6, 0xe3, 0xb6, 0x16, 0xe7, 0xd0, 0x9d, 0xae, 0xe8, 0xd6, 0x9b, 0x29,
-	0xd1, 0xad, 0x97, 0x8c, 0x4a, 0xdd, 0x51, 0xae, 0xf6, 0x77, 0x72, 0x50, 0x38, 0xc3, 0xc7, 0x0f,
-	0xda, 0xc6, 0xe3, 0x07, 0x59, 0xa7, 0xc0, 0x4f, 0x7b, 0xf8, 0x60, 0x3f, 0xf1, 0xf0, 0xc1, 0x46,
-	0x96, 0x01, 0xdf, 0xc7, 0x3e, 0x7a, 0xf0, 0x03, 0x0b, 0x2e, 0x4a, 0x54, 0x26, 0x6b, 0xca, 0xae,
-	0xc7, 0x3c, 0xe1, 0xa7, 0x3f, 0xcc, 0x1f, 0x18, 0xc3, 0xfc, 0x56, 0x76, 0x5d, 0xd6, 0xfb, 0xd1,
-	0xf3, 0x45, 0x9e, 0xef, 0x5b, 0x50, 0x4a, 0xab, 0x70, 0x06, 0xaf, 0x3e, 0xbc, 0x6f, 0xbe, 0xfa,
-	0x70, 0xff, 0x74, 0x7a, 0xde, 0xe3, 0xf5, 0x87, 0x1f, 0xf4, 0xe8, 0x37, 0x7b, 0x6a, 0xa1, 0x29,
-	0x77, 0x21, 0x2b, 0x2b, 0x1f, 0x13, 0x67, 0x91, 0xbe, 0x9d, 0x35, 0x61, 0x28, 0x64, 0x6e, 0x63,
-	0x31, 0x05, 0x96, 0xb2, 0xd8, 0x9b, 0x28, 0x3d, 0x61, 0x23, 0x64, 0xbf, 0xb1, 0xe0, 0x61, 0xff,
-	0x47, 0x0b, 0x46, 0xcf, 0xf0, 0x69, 0x0f, 0xdf, 0xfc, 0xc8, 0xaf, 0x67, 0xf7, 0x91, 0x7b, 0x7c,
-	0xd8, 0xff, 0x71, 0x0d, 0x8c, 0x57, 0x34, 0xd0, 0xfb, 0x50, 0x94, 0x8a, 0xa1, 0xbc, 0x48, 0x92,
-	0x65, 0xb2, 0x7c, 0xb5, 0xcd, 0x48, 0x48, 0x88, 0x63, 0x7e, 0x09, 0x47, 0x7d, 0xae, 0x2f, 0x47,
-	0xfd, 0xd3, 0x4d, 0xb5, 0x9f, 0x7e, 0x6c, 0x1f, 0x3c, 0x95, 0x63, 0xfb, 0xd5, 0xcc, 0x8f, 0xed,
-	0xd7, 0xce, 0xf8, 0xd8, 0xae, 0xd9, 0x50, 0xf3, 0x4f, 0x60, 0x43, 0x7d, 0x1f, 0x2e, 0xee, 0xc6,
-	0x9b, 0xbf, 0x9a, 0x49, 0xe2, 0xc5, 0x80, 0x9b, 0xa9, 0x87, 0x75, 0xaa, 0xc8, 0x84, 0x11, 0xf1,
-	0x22, 0x4d, 0x6d, 0x50, 0x89, 0x01, 0x2e, 0xde, 0x4f, 0x21, 0x87, 0x53, 0x99, 0x24, 0x8d, 0x61,
-	0xc3, 0x7d, 0x18, 0xc3, 0xfe, 0x71, 0xcf, 0x67, 0x42, 0x0b, 0xa7, 0xfb, 0x4c, 0xe8, 0xb3, 0x27,
-	0x7e, 0x22, 0xf4, 0x85, 0xd8, 0x57, 0xc0, 0x83, 0x43, 0xd2, 0x0d, 0xfb, 0xbf, 0x92, 0x74, 0x40,
-	0x02, 0x1b, 0xfa, 0xcf, 0x66, 0xab, 0xf5, 0x64, 0xe0, 0x84, 0x1c, 0x79, 0x02, 0x27, 0x64, 0xc2,
-	0x32, 0x39, 0x9a, 0x91, 0x65, 0xd2, 0x83, 0x09, 0xb7, 0xe5, 0xd4, 0xc9, 0x46, 0xa7, 0xd9, 0xe4,
-	0x91, 0xb5, 0xf2, 0x39, 0x83, 0xd4, 0x50, 0xc9, 0x15, 0xbf, 0xea, 0x34, 0x93, 0xaf, 0xc6, 0xa8,
-	0x3b, 0x19, 0x77, 0x13, 0x94, 0x70, 0x17, 0x6d, 0x3a, 0x61, 0x59, 0x7a, 0x00, 0x12, 0xd1, 0xd1,
-	0x66, 0x9e, 0x2e, 0xf1, 0x9e, 0xf3, 0x52, 0x0c, 0xc6, 0x3a, 0x0e, 0x5a, 0x86, 0x62, 0xcd, 0x0b,
-	0xc5, 0xbd, 0x83, 0x71, 0x26, 0xcc, 0x3e, 0x46, 0x45, 0xe0, 0xfc, 0x5a, 0x45, 0xdd, 0x38, 0xb8,
-	0x9a, 0x92, 0x79, 0x42, 0x95, 0xe3, 0xb8, 0x3e, 0x5a, 0x65, 0xc4, 0x44, 0x46, 0x5a, 0xee, 0x80,
-	0xba, 0xd1, 0xc3, 0x9e, 0x36, 0xbf, 0x26, 0x73, 0xea, 0x8e, 0x09, 0x76, 0x22, 0xb5, 0x6c, 0x4c,
-	0x41, 0x7b, 0x56, 0xe2, 0xfc, 0xb1, 0xcf, 0x4a, 0xb0, 0x94, 0x33, 0x51, 0x53, 0x59, 0xcf, 0xaf,
-	0x67, 0x96, 0x72, 0x26, 0x0e, 0xed, 0x10, 0x29, 0x67, 0x62, 0x00, 0xd6, 0x59, 0xa2, 0xf5, 0x5e,
-	0x5e, 0x84, 0x0b, 0x4c, 0x68, 0x9c, 0xdc, 0x27, 0xa0, 0x9b, 0x93, 0x2f, 0x1e, 0x6b, 0x4e, 0xee,
-	0x32, 0x7f, 0x5f, 0x3a, 0x81, 0xf9, 0xbb, 0xc1, 0x92, 0x81, 0x2c, 0xce, 0x09, 0x8f, 0x43, 0x06,
-	0x0a, 0x1d, 0xbb, 0x89, 0xc8, 0x43, 0x65, 0xd8, 0x4f, 0xcc, 0x19, 0xa0, 0x0d, 0xb8, 0xd8, 0xf6,
-	0x6b, 0x5d, 0xa6, 0x74, 0xe6, 0x62, 0x88, 0xf3, 0xb6, 0x5c, 0xdc, 0x48, 0xc1, 0xc1, 0xa9, 0x35,
-	0x99, 0x78, 0x8e, 0xe1, 0x2c, 0xab, 0x4c, 0x5e, 0x88, 0xe7, 0x18, 0x8c, 0x75, 0x9c, 0xa4, 0x31,
-	0xf9, 0xd9, 0x53, 0x33, 0x26, 0x4f, 0x9e, 0x81, 0x31, 0xf9, 0xb9, 0xbe, 0x8d, 0xc9, 0x1f, 0xc2,
-	0x85, 0xb6, 0x5f, 0x9b, 0x77, 0xc3, 0xa0, 0xc3, 0x42, 0xe0, 0xcb, 0x9d, 0x5a, 0x9d, 0x44, 0xcc,
-	0x1a, 0x3d, 0x72, 0xeb, 0x96, 0xde, 0xc8, 0x36, 0x5b, 0xc8, 0xd3, 0xbb, 0xaf, 0x6c, 0x91, 0x88,
-	0x7f, 0xcc, 0x64, 0x2d, 0x76, 0x60, 0x62, 0xb1, 0x42, 0x29, 0x85, 0x38, 0x8d, 0x8f, 0x6e, 0xcb,
-	0xbe, 0x71, 0x36, 0xb6, 0xec, 0x4f, 0x43, 0x21, 0x6c, 0x74, 0xa2, 0x9a, 0xbf, 0xe7, 0x31, 0x87,
-	0x45, 0x51, 0x3d, 0x2c, 0x57, 0xa8, 0x08, 0xf8, 0xc3, 0xc3, 0xa9, 0x09, 0xf9, 0x5b, 0x33, 0x29,
-	0x08, 0x08, 0xfa, 0x46, 0x8f, 0xb0, 0x61, 0xfb, 0x34, 0xc3, 0x86, 0xaf, 0x9c, 0x28, 0x64, 0x38,
-	0xcd, 0x60, 0xff, 0xfc, 0x0f, 0x9d, 0xc1, 0xfe, 0x97, 0x2d, 0x18, 0xdb, 0xd5, 0xed, 0x37, 0xc2,
-	0xa9, 0x90, 0x81, 0x73, 0xd3, 0x30, 0x0b, 0x95, 0x6d, 0x2a, 0xec, 0x0c, 0xd0, 0xc3, 0x24, 0x00,
-	0x9b, 0x2d, 0x49, 0x71, 0xbc, 0xbe, 0xf0, 0xb4, 0x1c, 0xaf, 0x1f, 0x32, 0x61, 0x26, 0xa3, 0x94,
-	0x98, 0xa7, 0x21, 0xdb, 0x48, 0x28, 0x29, 0x18, 0x55, 0x20, 0x94, 0xce, 0x0f, 0x7d, 0xd5, 0x82,
-	0x09, 0x79, 0x38, 0x13, 0xf6, 0xd7, 0x50, 0xc4, 0x72, 0x64, 0x79, 0x26, 0x64, 0xc1, 0x80, 0x9b,
-	0x09, 0x3e, 0xb8, 0x8b, 0xf3, 0x93, 0x3b, 0x52, 0xfe, 0x00, 0xc1, 0xb9, 0xc4, 0x9b, 0x7d, 0x1f,
-	0x37, 0x73, 0x0a, 0x5e, 0x4f, 0x26, 0x76, 0x1b, 0x93, 0xf8, 0x46, 0x72, 0x37, 0x23, 0xfb, 0x5a,
-	0xee, 0x54, 0xb3, 0xaf, 0x0d, 0x9c, 0x4d, 0xf6, 0xb5, 0x89, 0xd3, 0xc8, 0xbe, 0x76, 0xfe, 0x44,
-	0xd9, 0xd7, 0xb4, 0xec, 0x77, 0x83, 0x8f, 0xc8, 0x7e, 0x37, 0x0b, 0xe3, 0x32, 0x54, 0x94, 0x88,
-	0xb4, 0x5a, 0xdc, 0xf8, 0xad, 0xde, 0x9f, 0x9f, 0x33, 0x8b, 0x71, 0x12, 0x1f, 0x7d, 0x64, 0x41,
-	0xde, 0x63, 0x35, 0x87, 0xb2, 0x4a, 0x28, 0x6b, 0x4e, 0x2d, 0x76, 0x78, 0x11, 0x69, 0x5c, 0x65,
-	0x28, 0x4e, 0x9e, 0xc1, 0x1e, 0xca, 0x1f, 0x98, 0xb7, 0x00, 0xbd, 0x03, 0x25, 0x7f, 0x7b, 0xbb,
-	0xe9, 0x3b, 0xb5, 0x38, 0x45, 0x9c, 0xb4, 0xce, 0xf3, 0x70, 0x7b, 0x95, 0x22, 0x67, 0xbd, 0x07,
-	0x1e, 0xee, 0x49, 0x81, 0x9e, 0x3e, 0xc7, 0xc3, 0xc8, 0x0f, 0x48, 0x2d, 0x3e, 0x29, 0x17, 0x59,
-	0x9f, 0x49, 0xe6, 0x7d, 0xae, 0x98, 0x7c, 0x78, 0xef, 0xd5, 0x47, 0x49, 0x94, 0xe2, 0x64, 0xb3,
-	0x50, 0x00, 0x97, 0xdb, 0x69, 0x07, 0xf5, 0x50, 0x04, 0xb8, 0x1e, 0x67, 0x2e, 0x90, 0x4b, 0xf7,
-	0x72, 0xea, 0x51, 0x3f, 0xc4, 0x3d, 0x28, 0xeb, 0xc9, 0xe3, 0x0a, 0x67, 0x93, 0x3c, 0xce, 0x7c,
-	0x69, 0x73, 0xec, 0xcc, 0x5f, 0xda, 0x44, 0x7f, 0x92, 0x9a, 0xe7, 0x90, 0x9f, 0x6f, 0xeb, 0x99,
-	0xcf, 0x89, 0x1f, 0xba, 0x5c, 0x87, 0xff, 0xc8, 0x82, 0x49, 0x3e, 0xf3, 0xd2, 0x5e, 0xe2, 0x17,
-	0xa1, 0xa0, 0x59, 0x3b, 0x70, 0x98, 0x8b, 0xb9, 0x62, 0x70, 0x65, 0x7e, 0x85, 0x63, 0x5a, 0x82,
-	0x7e, 0x31, 0x45, 0x97, 0x1b, 0xcf, 0xca, 0x62, 0x94, 0x9e, 0x23, 0xef, 0xc2, 0x51, 0x3f, 0xea,
-	0xdb, 0x3f, 0xed, 0x69, 0xd0, 0x42, 0xac, 0x79, 0x7f, 0xf5, 0x94, 0x0c, 0x5a, 0x7a, 0x22, 0xbf,
-	0x93, 0x98, 0xb5, 0x26, 0x7f, 0x56, 0x64, 0x12, 0xee, 0x99, 0xef, 0x7a, 0xcb, 0x7c, 0x98, 0x71,
-	0x25, 0xcb, 0x6c, 0x9f, 0x7a, 0xe2, 0xed, 0xbf, 0x61, 0xc1, 0xc5, 0x34, 0x21, 0x99, 0xd2, 0xa4,
-	0xcf, 0x9a, 0x4d, 0xca, 0x50, 0xe3, 0xd2, 0x1b, 0x94, 0x4d, 0x8a, 0xc3, 0xef, 0x17, 0x35, 0x37,
-	0x42, 0x44, 0xda, 0xa7, 0xf8, 0x80, 0xef, 0xd8, 0x9f, 0x3d, 0xe0, 0x7b, 0x16, 0xe9, 0x92, 0x8d,
-	0xa7, 0x78, 0xf3, 0x4f, 0xeb, 0x29, 0xde, 0xa1, 0xc7, 0x79, 0x8a, 0x77, 0xf8, 0xa9, 0x3d, 0xc5,
-	0x5b, 0xe8, 0xf3, 0x29, 0xde, 0xe2, 0x0f, 0xe9, 0x53, 0xbc, 0xbf, 0xaa, 0xde, 0xd7, 0xe5, 0xca,
-	0xc0, 0x9b, 0xd9, 0xa6, 0x90, 0xfb, 0xff, 0xef, 0x91, 0xdd, 0x3f, 0xcc, 0xc1, 0xb8, 0xda, 0xba,
-	0x9d, 0x70, 0xa7, 0x42, 0xa2, 0x33, 0x88, 0x81, 0xd8, 0x33, 0x62, 0x20, 0xb2, 0x34, 0x3b, 0xf1,
-	0x2e, 0xf4, 0x8c, 0x38, 0xf9, 0x42, 0x22, 0xe2, 0xe4, 0x41, 0xf6, 0xac, 0x8f, 0x0f, 0x3c, 0xf9,
-	0x9f, 0x16, 0x5c, 0x48, 0xd4, 0x38, 0x03, 0xaf, 0xfc, 0xae, 0xe9, 0x95, 0x7f, 0x23, 0xf3, 0x5e,
-	0xf7, 0x70, 0xce, 0xff, 0x5a, 0xae, 0xab, 0xb7, 0x4c, 0x2f, 0xfc, 0x19, 0x4b, 0xbe, 0xd1, 0x6c,
-	0x65, 0xed, 0x76, 0xd3, 0xd8, 0x4c, 0xb3, 0x67, 0x9a, 0xf9, 0x6a, 0x4d, 0x7d, 0xba, 0x79, 0xf2,
-	0xa7, 0x2d, 0x80, 0x18, 0xe9, 0x69, 0xa9, 0x30, 0xf6, 0x6f, 0xe4, 0xe0, 0x52, 0xea, 0x34, 0x42,
-	0x5f, 0x56, 0x87, 0x7c, 0x3e, 0x50, 0x5b, 0xa7, 0x34, 0x5f, 0xf5, 0xb3, 0xfe, 0x98, 0x71, 0xd6,
-	0x17, 0x47, 0xfc, 0xa7, 0xa5, 0x80, 0x8a, 0xec, 0xa2, 0xda, 0x60, 0xfd, 0x2f, 0x0b, 0x26, 0x92,
-	0x87, 0x8d, 0x33, 0x10, 0x59, 0xfb, 0x86, 0xc8, 0xba, 0x9f, 0xbd, 0xa5, 0xbc, 0x67, 0xc8, 0xd6,
-	0x1f, 0x6a, 0xb1, 0x6a, 0x12, 0xf9, 0x0c, 0x64, 0xc6, 0x9e, 0x29, 0x33, 0x70, 0xf6, 0x3d, 0xee,
-	0x21, 0x34, 0xde, 0x83, 0x34, 0x67, 0x41, 0x7f, 0xf9, 0x35, 0x8c, 0x30, 0xf0, 0x5c, 0xdf, 0x61,
-	0xe0, 0x3f, 0x9f, 0xeb, 0x1e, 0x62, 0x26, 0xa8, 0xbe, 0x42, 0x55, 0x33, 0xed, 0xb4, 0x9b, 0x5d,
-	0xfa, 0x03, 0xe3, 0x6c, 0xad, 0xda, 0x68, 0x9c, 0xac, 0x0d, 0xce, 0xe8, 0xdd, 0xb8, 0x25, 0xf4,
-	0x4b, 0x3d, 0x32, 0x97, 0x4d, 0xaf, 0x69, 0xce, 0x8c, 0xd5, 0x0f, 0x34, 0x4a, 0xcc, 0x6c, 0x6e,
-	0xd0, 0xb6, 0xc7, 0x60, 0xe4, 0x2d, 0xb7, 0xad, 0xec, 0xfc, 0xd3, 0xdf, 0xfa, 0xde, 0xf5, 0x67,
-	0x7e, 0xef, 0x7b, 0xd7, 0x9f, 0xf9, 0xce, 0xf7, 0xae, 0x3f, 0xf3, 0xc5, 0xa3, 0xeb, 0xd6, 0xb7,
-	0x8e, 0xae, 0x5b, 0xbf, 0x77, 0x74, 0xdd, 0xfa, 0xce, 0xd1, 0x75, 0xeb, 0x3f, 0x1d, 0x5d, 0xb7,
-	0xfe, 0xe6, 0x7f, 0xbe, 0xfe, 0xcc, 0x5b, 0x05, 0xd9, 0xb7, 0xff, 0x17, 0x00, 0x00, 0xff, 0xff,
-	0x0f, 0x31, 0xc5, 0x9e, 0x1a, 0xa5, 0x00, 0x00,
+	0x75, 0xd8, 0xf5, 0x90, 0x43, 0x0e, 0x1f, 0xc9, 0x25, 0xb7, 0xf6, 0x6b, 0x8e, 0xb7, 0xb7, 0x3c,
+	0xf7, 0xf9, 0x2e, 0xb7, 0x8e, 0x4c, 0xfa, 0x76, 0x75, 0xc9, 0x45, 0x42, 0x64, 0x71, 0xc8, 0xe5,
+	0x72, 0x8f, 0xcb, 0x8f, 0x7b, 0xc3, 0xdd, 0xcd, 0x7d, 0x44, 0x56, 0x73, 0xa6, 0x38, 0xd3, 0xc7,
+	0x99, 0xee, 0xb9, 0xee, 0x1e, 0x72, 0xa9, 0xbb, 0x93, 0x14, 0xf9, 0x43, 0x77, 0xb1, 0x1c, 0xe7,
+	0xc3, 0xb1, 0x65, 0x25, 0x01, 0x04, 0xc7, 0x8a, 0x03, 0xc7, 0x08, 0x20, 0x20, 0xbf, 0xec, 0xbf,
+	0x81, 0xa1, 0x20, 0x01, 0xe2, 0xc0, 0x4a, 0x2c, 0x20, 0x09, 0x15, 0x31, 0x89, 0x11, 0x24, 0x70,
+	0x7e, 0x04, 0x91, 0x6c, 0x6c, 0xfc, 0x23, 0xa8, 0xcf, 0xae, 0xee, 0xe9, 0xe1, 0x92, 0xbb, 0x4d,
+	0xae, 0x10, 0xe7, 0xdf, 0xcc, 0xab, 0x57, 0xef, 0x55, 0x55, 0x57, 0xbd, 0x7a, 0xf5, 0xde, 0xab,
+	0x57, 0xb0, 0xde, 0x70, 0xa3, 0x66, 0x77, 0x73, 0xa6, 0xe6, 0xb7, 0x67, 0x9d, 0xa0, 0xe1, 0x77,
+	0x02, 0xff, 0x1d, 0xfe, 0xe3, 0xc7, 0x77, 0xfd, 0x60, 0x7b, 0xab, 0xe5, 0xef, 0x86, 0xb3, 0x3b,
+	0xd7, 0x67, 0x3b, 0xdb, 0x8d, 0x59, 0xa7, 0xe3, 0x86, 0xb3, 0x0a, 0x3a, 0xbb, 0xf3, 0xb2, 0xd3,
+	0xea, 0x34, 0x9d, 0x97, 0x67, 0x1b, 0xd4, 0xa3, 0x81, 0x13, 0xd1, 0xfa, 0x4c, 0x27, 0xf0, 0x23,
+	0x9f, 0x7c, 0x3a, 0xa6, 0x38, 0xa3, 0x28, 0xf2, 0x1f, 0x3f, 0xa5, 0x29, 0xce, 0xec, 0x5c, 0x9f,
+	0xe9, 0x6c, 0x37, 0x66, 0x18, 0xc5, 0x19, 0x05, 0x9d, 0x51, 0x14, 0xa7, 0x7e, 0xdc, 0x68, 0x53,
+	0xc3, 0x6f, 0xf8, 0xb3, 0x9c, 0xf0, 0x66, 0x77, 0x8b, 0xff, 0xe3, 0x7f, 0xf8, 0x2f, 0xc1, 0x70,
+	0xca, 0xde, 0x7e, 0x35, 0x9c, 0x71, 0x7d, 0xd6, 0xbe, 0xd9, 0x9a, 0x1f, 0xd0, 0xd9, 0x9d, 0x9e,
+	0x46, 0x4d, 0x5d, 0x35, 0x70, 0x3a, 0x7e, 0xcb, 0xad, 0xed, 0xcd, 0xee, 0xbc, 0xbc, 0x49, 0xa3,
+	0xde, 0xf6, 0x4f, 0x7d, 0x3c, 0x46, 0x6d, 0x3b, 0xb5, 0xa6, 0xeb, 0xd1, 0x60, 0x2f, 0xee, 0x7f,
+	0x9b, 0x46, 0x4e, 0x16, 0x83, 0xd9, 0x7e, 0xb5, 0x82, 0xae, 0x17, 0xb9, 0x6d, 0xda, 0x53, 0xe1,
+	0x2f, 0x3c, 0xac, 0x42, 0x58, 0x6b, 0xd2, 0xb6, 0xd3, 0x53, 0xef, 0x7a, 0xbf, 0x7a, 0xdd, 0xc8,
+	0x6d, 0xcd, 0xba, 0x5e, 0x14, 0x46, 0x41, 0xba, 0x92, 0x7d, 0x03, 0x86, 0xe6, 0xda, 0x7e, 0xd7,
+	0x8b, 0xc8, 0x27, 0xa1, 0xb8, 0xe3, 0xb4, 0xba, 0xb4, 0x6c, 0x3d, 0x67, 0xbd, 0x34, 0x52, 0x79,
+	0xe1, 0x5b, 0xfb, 0xd3, 0x4f, 0x1d, 0xec, 0x4f, 0x17, 0xef, 0x32, 0xe0, 0x83, 0xfd, 0xe9, 0xf3,
+	0xd4, 0xab, 0xf9, 0x75, 0xd7, 0x6b, 0xcc, 0xbe, 0x13, 0xfa, 0xde, 0xcc, 0x6a, 0xb7, 0xbd, 0x49,
+	0x03, 0x14, 0x75, 0xec, 0xdf, 0x2f, 0xc0, 0xc4, 0x5c, 0x50, 0x6b, 0xba, 0x3b, 0xb4, 0x1a, 0x31,
+	0xfa, 0x8d, 0x3d, 0xd2, 0x84, 0x81, 0xc8, 0x09, 0x38, 0xb9, 0xd1, 0x6b, 0x2b, 0x33, 0x8f, 0xfb,
+	0xf1, 0x67, 0x36, 0x9c, 0x40, 0xd1, 0xae, 0x0c, 0x1f, 0xec, 0x4f, 0x0f, 0x6c, 0x38, 0x01, 0x32,
+	0x16, 0xa4, 0x05, 0x83, 0x9e, 0xef, 0xd1, 0x72, 0x81, 0xb3, 0x5a, 0x7d, 0x7c, 0x56, 0xab, 0xbe,
+	0xa7, 0xfb, 0x51, 0x29, 0x1d, 0xec, 0x4f, 0x0f, 0x32, 0x08, 0x72, 0x2e, 0xac, 0x5f, 0x9f, 0x73,
+	0x3b, 0xe5, 0x81, 0xbc, 0xfa, 0xf5, 0xa6, 0xdb, 0x49, 0xf6, 0xeb, 0x4d, 0xb7, 0x83, 0x8c, 0x85,
+	0xfd, 0x51, 0x01, 0x46, 0xe6, 0x82, 0x46, 0xb7, 0x4d, 0xbd, 0x28, 0x24, 0x5f, 0x00, 0xe8, 0x38,
+	0x81, 0xd3, 0xa6, 0x11, 0x0d, 0xc2, 0xb2, 0xf5, 0xdc, 0xc0, 0x4b, 0xa3, 0xd7, 0x96, 0x1f, 0x9f,
+	0xfd, 0xba, 0xa2, 0x59, 0x21, 0xf2, 0x93, 0x83, 0x06, 0x85, 0x68, 0xb0, 0x24, 0xef, 0xc1, 0x88,
+	0x13, 0x44, 0xee, 0x96, 0x53, 0x8b, 0xc2, 0x72, 0x81, 0xf3, 0x7f, 0xed, 0xf1, 0xf9, 0xcf, 0x49,
+	0x92, 0x95, 0xb3, 0x92, 0xfd, 0x88, 0x82, 0x84, 0x18, 0xf3, 0xb3, 0x7f, 0xa3, 0x08, 0x25, 0x55,
+	0x40, 0x9e, 0x83, 0x41, 0xcf, 0x69, 0xab, 0xa9, 0x3a, 0x26, 0x2b, 0x0e, 0xae, 0x3a, 0x6d, 0xf6,
+	0x91, 0x9c, 0x36, 0x65, 0x18, 0x1d, 0x27, 0x6a, 0xf2, 0x29, 0x61, 0x60, 0xac, 0x3b, 0x51, 0x13,
+	0x79, 0x09, 0xb9, 0x0c, 0x83, 0x6d, 0xbf, 0x4e, 0xf9, 0x77, 0x2c, 0x8a, 0x8f, 0xbc, 0xe2, 0xd7,
+	0x29, 0x72, 0x28, 0xab, 0xbf, 0x15, 0xf8, 0xed, 0xf2, 0x60, 0xb2, 0xfe, 0x62, 0xe0, 0xb7, 0x91,
+	0x97, 0x90, 0xaf, 0x5a, 0x30, 0xa9, 0x9a, 0x77, 0xdb, 0xaf, 0x39, 0x91, 0xeb, 0x7b, 0xe5, 0x22,
+	0x9f, 0x14, 0x98, 0xdf, 0xa8, 0x28, 0xca, 0x95, 0xb2, 0x6c, 0xc2, 0x64, 0xba, 0x04, 0x7b, 0x5a,
+	0x41, 0xae, 0x01, 0x34, 0x5a, 0xfe, 0xa6, 0xd3, 0x62, 0x03, 0x52, 0x1e, 0xe2, 0x5d, 0xd0, 0x1f,
+	0xf7, 0xa6, 0x2e, 0x41, 0x03, 0x8b, 0xdc, 0x87, 0x61, 0x47, 0x2c, 0xe0, 0xf2, 0x30, 0xef, 0xc4,
+	0xeb, 0x79, 0x74, 0x22, 0x21, 0x11, 0x2a, 0xa3, 0x07, 0xfb, 0xd3, 0xc3, 0x12, 0x88, 0x8a, 0x1d,
+	0xf9, 0x18, 0x94, 0xfc, 0x0e, 0x6b, 0xb7, 0xd3, 0x2a, 0x97, 0x9e, 0xb3, 0x5e, 0x2a, 0x55, 0x26,
+	0x65, 0x5b, 0x4b, 0x6b, 0x12, 0x8e, 0x1a, 0x83, 0x5c, 0x85, 0xe1, 0xb0, 0xbb, 0xc9, 0xbe, 0x63,
+	0x79, 0x84, 0x77, 0x6c, 0x42, 0x22, 0x0f, 0x57, 0x05, 0x18, 0x55, 0x39, 0x79, 0x05, 0x46, 0x03,
+	0x5a, 0xeb, 0x06, 0x21, 0x65, 0x1f, 0xb6, 0x0c, 0x9c, 0xf6, 0x39, 0x89, 0x3e, 0x8a, 0x71, 0x11,
+	0x9a, 0x78, 0xe4, 0x53, 0x70, 0x86, 0x7d, 0xe0, 0x1b, 0xf7, 0x3b, 0x01, 0x0d, 0x43, 0xf6, 0x55,
+	0x47, 0x39, 0xa3, 0x8b, 0xb2, 0xe6, 0x99, 0xc5, 0x44, 0x29, 0xa6, 0xb0, 0xed, 0xdf, 0x1e, 0x86,
+	0x9e, 0x8f, 0x44, 0x5e, 0x86, 0x51, 0xd9, 0xdf, 0xdb, 0x7e, 0x23, 0xe4, 0x13, 0xb7, 0x54, 0x99,
+	0x60, 0xed, 0x98, 0x8b, 0xc1, 0x68, 0xe2, 0x90, 0x3a, 0x14, 0xc2, 0xeb, 0x52, 0xa6, 0xdd, 0x7e,
+	0xfc, 0x8f, 0x51, 0xbd, 0xae, 0x57, 0xda, 0xd0, 0xc1, 0xfe, 0x74, 0xa1, 0x7a, 0x1d, 0x0b, 0xe1,
+	0x75, 0x26, 0xcd, 0x1a, 0x6e, 0x94, 0x9f, 0x34, 0xbb, 0xe9, 0x46, 0x9a, 0x0f, 0x97, 0x66, 0x37,
+	0xdd, 0x08, 0x19, 0x0b, 0x26, 0xa5, 0x9b, 0x51, 0xd4, 0xe1, 0x4b, 0x2a, 0x17, 0x29, 0xbd, 0xb4,
+	0xb1, 0xb1, 0xae, 0x79, 0xf1, 0x05, 0xcc, 0x20, 0xc8, 0xb9, 0x90, 0x0f, 0x2d, 0x36, 0xe2, 0xa2,
+	0xd0, 0x0f, 0xf6, 0xe4, 0xca, 0xbc, 0x93, 0xdf, 0xca, 0xf4, 0x83, 0x3d, 0xcd, 0x5c, 0x7e, 0x48,
+	0x5d, 0x80, 0x26, 0x6b, 0xde, 0xf1, 0xfa, 0x56, 0xc8, 0x17, 0x62, 0x3e, 0x1d, 0x5f, 0x58, 0xac,
+	0xa6, 0x3a, 0xbe, 0xb0, 0x58, 0x45, 0xce, 0x85, 0x7d, 0xd0, 0xc0, 0xd9, 0x95, 0x8b, 0x38, 0x87,
+	0x0f, 0x8a, 0xce, 0x6e, 0xf2, 0x83, 0xa2, 0xb3, 0x8b, 0x8c, 0x05, 0xe3, 0xe4, 0x87, 0x21, 0x5f,
+	0xb3, 0xb9, 0x70, 0x5a, 0xab, 0x56, 0x93, 0x9c, 0xd6, 0xaa, 0x55, 0x64, 0x2c, 0xf8, 0x24, 0xad,
+	0x85, 0x7c, 0xc1, 0xe7, 0x33, 0x49, 0xe7, 0x53, 0x9c, 0x6e, 0xce, 0x57, 0x91, 0xb1, 0xb0, 0x3f,
+	0xb2, 0x60, 0x5c, 0x15, 0x31, 0x21, 0x12, 0x92, 0xfb, 0x50, 0x52, 0x1f, 0x53, 0xea, 0x32, 0x79,
+	0x6e, 0x7a, 0x5a, 0xd4, 0x29, 0x08, 0x6a, 0x6e, 0xf6, 0x6f, 0x15, 0x81, 0x68, 0x30, 0xed, 0xf8,
+	0xa1, 0xcb, 0xa7, 0xd3, 0x23, 0x88, 0x12, 0xcf, 0x10, 0x25, 0x77, 0xf3, 0x14, 0x25, 0x71, 0xb3,
+	0x12, 0x42, 0xe5, 0x6f, 0xa7, 0x16, 0x9f, 0x90, 0x2e, 0x3f, 0x75, 0x22, 0x8b, 0xcf, 0x68, 0xc2,
+	0xe1, 0xcb, 0x70, 0x47, 0x2e, 0x43, 0x21, 0x7f, 0xfe, 0x4a, 0xbe, 0xcb, 0xd0, 0x68, 0x45, 0x7a,
+	0x41, 0x06, 0x62, 0x99, 0x08, 0x01, 0x74, 0x2f, 0xd7, 0x65, 0x62, 0x70, 0x4d, 0x2e, 0x98, 0x40,
+	0x2c, 0x98, 0xa1, 0xbc, 0x78, 0x1a, 0x0b, 0x26, 0xcd, 0x53, 0x2f, 0x9d, 0x77, 0xe1, 0x42, 0x2f,
+	0x0e, 0xd2, 0x2d, 0x32, 0x0b, 0x23, 0x35, 0xdf, 0xdb, 0x72, 0x1b, 0x2b, 0x4e, 0x47, 0xaa, 0x6c,
+	0x5a, 0xd7, 0x9b, 0x57, 0x05, 0x18, 0xe3, 0x90, 0x67, 0x61, 0x60, 0x9b, 0xee, 0x49, 0xdd, 0x6d,
+	0x54, 0xa2, 0x0e, 0x2c, 0xd3, 0x3d, 0x64, 0xf0, 0x4f, 0x94, 0xbe, 0xfa, 0xf5, 0xe9, 0xa7, 0xbe,
+	0xf8, 0x1f, 0x9e, 0x7b, 0xca, 0xfe, 0x37, 0x03, 0xf0, 0x4c, 0x26, 0xcf, 0x6a, 0xe4, 0x44, 0xdd,
+	0x90, 0xfc, 0x96, 0x05, 0x17, 0x9c, 0xac, 0x72, 0xb9, 0x92, 0xef, 0xe5, 0x37, 0x23, 0x13, 0xe4,
+	0x2b, 0xcf, 0xca, 0x46, 0x67, 0x8f, 0x08, 0x66, 0x37, 0x8a, 0x0d, 0x14, 0x53, 0x5e, 0xc3, 0x8e,
+	0x53, 0xa3, 0xb2, 0xf7, 0x7a, 0xa0, 0x56, 0x55, 0x01, 0xc6, 0x38, 0x4c, 0x19, 0xaa, 0xd3, 0x2d,
+	0xa7, 0xdb, 0x12, 0x1b, 0x78, 0x29, 0x56, 0x86, 0x16, 0x04, 0x18, 0x55, 0x39, 0xf9, 0xfb, 0x16,
+	0x90, 0x5e, 0xae, 0x72, 0x31, 0x6c, 0x9c, 0xc4, 0x38, 0x54, 0x2e, 0x1e, 0xec, 0x4f, 0x67, 0x08,
+	0x30, 0xcc, 0x68, 0x87, 0xf1, 0x4d, 0xff, 0xa5, 0x05, 0xe7, 0x32, 0x96, 0x39, 0x9b, 0x14, 0xdd,
+	0xa0, 0x25, 0xe7, 0x8f, 0x9e, 0x14, 0x77, 0xf0, 0x36, 0x32, 0x38, 0xf9, 0x25, 0x0b, 0x26, 0x8c,
+	0xd5, 0x3e, 0xd7, 0x95, 0xca, 0x7f, 0x4e, 0x8a, 0x6c, 0x82, 0x70, 0xe5, 0x92, 0x64, 0x3f, 0x91,
+	0x2a, 0xc0, 0x74, 0x13, 0xec, 0xef, 0x59, 0xf0, 0xec, 0xa1, 0x42, 0x2b, 0xb3, 0xe1, 0xd6, 0x13,
+	0x6f, 0x38, 0x9b, 0x5a, 0x01, 0xed, 0xf8, 0x77, 0xf0, 0xb6, 0x9c, 0x89, 0x7a, 0x6a, 0xa1, 0x00,
+	0xa3, 0x2a, 0xb7, 0xff, 0xc0, 0x82, 0x34, 0x3d, 0xe2, 0xc0, 0x99, 0x6e, 0x48, 0x03, 0x36, 0x55,
+	0xab, 0xb4, 0x16, 0x50, 0xb5, 0x77, 0xbe, 0x30, 0x23, 0xac, 0x14, 0xac, 0xc1, 0x33, 0x35, 0x3f,
+	0xa0, 0x33, 0x3b, 0x2f, 0xcf, 0x08, 0x8c, 0x65, 0xba, 0x57, 0xa5, 0x2d, 0xca, 0x68, 0x54, 0x08,
+	0xd3, 0xb3, 0xef, 0x24, 0x08, 0x60, 0x8a, 0x20, 0x63, 0xd1, 0x71, 0xc2, 0x70, 0xd7, 0x0f, 0xea,
+	0x92, 0x45, 0xe1, 0xd8, 0x2c, 0xd6, 0x13, 0x04, 0x30, 0x45, 0xd0, 0xfe, 0xe7, 0x16, 0x0c, 0x57,
+	0x9c, 0xda, 0xb6, 0xbf, 0xb5, 0xc5, 0x8e, 0x29, 0xf5, 0x6e, 0x20, 0x8e, 0x79, 0x62, 0x12, 0xea,
+	0xbd, 0x7b, 0x41, 0xc2, 0x51, 0x63, 0x90, 0x0d, 0x18, 0x12, 0xc3, 0x21, 0x1b, 0xf5, 0x13, 0x46,
+	0xa3, 0xb4, 0x75, 0x86, 0x7f, 0xb9, 0x6e, 0xe4, 0xb6, 0x66, 0x84, 0x75, 0x66, 0xe6, 0x96, 0x17,
+	0xad, 0x05, 0xd5, 0x28, 0x70, 0xbd, 0x46, 0x05, 0x0e, 0xf6, 0xa7, 0x87, 0x16, 0x39, 0x0d, 0x94,
+	0xb4, 0xd8, 0x89, 0xa6, 0xed, 0xdc, 0x57, 0xec, 0xf8, 0x9a, 0x1f, 0x89, 0x4f, 0x34, 0x2b, 0x71,
+	0x11, 0x9a, 0x78, 0xf6, 0x67, 0xa0, 0x38, 0xef, 0xd4, 0x9a, 0x94, 0xdc, 0x49, 0x4b, 0xe2, 0xd1,
+	0x6b, 0x2f, 0x65, 0x8d, 0x96, 0x96, 0xca, 0xe6, 0x80, 0x8d, 0xf7, 0x93, 0xd7, 0xf6, 0xf7, 0x2d,
+	0xb8, 0x34, 0xdf, 0xea, 0x86, 0x11, 0x0d, 0xee, 0xc9, 0x29, 0xb8, 0x41, 0xdb, 0x9d, 0x96, 0x13,
+	0x51, 0xf2, 0x59, 0x28, 0xb5, 0x69, 0xe4, 0xd4, 0x9d, 0xc8, 0x91, 0x1c, 0xfb, 0x0f, 0x05, 0x9f,
+	0xc4, 0x0c, 0x9b, 0xb5, 0x61, 0x6d, 0xf3, 0x1d, 0x5a, 0x8b, 0x56, 0x68, 0xe4, 0xc4, 0x67, 0xd7,
+	0x18, 0x86, 0x9a, 0x2a, 0xb9, 0x0f, 0x83, 0x61, 0x87, 0xd6, 0xf2, 0x53, 0x6f, 0xd2, 0x7d, 0xa8,
+	0x76, 0x68, 0x2d, 0x36, 0x01, 0xb0, 0x7f, 0xc8, 0x39, 0xda, 0xff, 0xc7, 0x82, 0x67, 0xfa, 0xf4,
+	0xfb, 0xb6, 0x1b, 0x46, 0xe4, 0xed, 0x9e, 0xbe, 0xcf, 0x1c, 0xad, 0xef, 0xac, 0x36, 0xef, 0xb9,
+	0x9e, 0x62, 0x0a, 0x62, 0xf4, 0xfb, 0xf3, 0x50, 0x74, 0x23, 0xda, 0x56, 0xa6, 0x98, 0x37, 0x1e,
+	0xbf, 0xe3, 0x7d, 0xfa, 0x52, 0x19, 0x57, 0xb6, 0xc0, 0x5b, 0x8c, 0x1f, 0x0a, 0xb6, 0xf6, 0xbf,
+	0xb0, 0x80, 0x4d, 0x87, 0xba, 0x2b, 0x0f, 0xb8, 0x83, 0xd1, 0x5e, 0x47, 0x99, 0x64, 0xd4, 0xfe,
+	0x37, 0xb8, 0xb1, 0xd7, 0xa1, 0x0f, 0xf6, 0xa7, 0xc7, 0x35, 0x22, 0x03, 0x20, 0x47, 0x25, 0x9f,
+	0x81, 0xa1, 0x90, 0xef, 0xd3, 0x52, 0xc2, 0x2c, 0xca, 0x4a, 0x43, 0x62, 0xf7, 0x7e, 0xb0, 0x3f,
+	0x7d, 0x24, 0x8b, 0xeb, 0x8c, 0xa6, 0x2d, 0xea, 0xa1, 0xa4, 0xca, 0x44, 0x58, 0x9b, 0x86, 0xa1,
+	0xd3, 0xa0, 0x72, 0xa5, 0x68, 0x11, 0xb6, 0x22, 0xc0, 0xa8, 0xca, 0xed, 0xbf, 0x6b, 0x01, 0x6b,
+	0x62, 0xe4, 0x30, 0x16, 0xab, 0x7e, 0x9d, 0x92, 0x55, 0xbe, 0x54, 0x04, 0x40, 0x7e, 0xbc, 0x67,
+	0xfb, 0x2c, 0x15, 0x81, 0x94, 0xd0, 0x69, 0x04, 0x08, 0x63, 0x12, 0xe4, 0xe3, 0x30, 0x56, 0xa7,
+	0x1d, 0xea, 0xd5, 0xa9, 0x57, 0x73, 0xa9, 0xf8, 0x68, 0x23, 0x95, 0xc9, 0x83, 0xfd, 0xe9, 0xb1,
+	0x05, 0x03, 0x8e, 0x09, 0x2c, 0xfb, 0x8f, 0x2d, 0x38, 0xaf, 0xc9, 0x55, 0x69, 0xa4, 0x97, 0xd5,
+	0x4f, 0x5b, 0x00, 0x9a, 0x38, 0xd3, 0x69, 0xd9, 0x14, 0x58, 0xcb, 0x61, 0x0a, 0x98, 0x83, 0x10,
+	0x2f, 0x3c, 0x0d, 0x0e, 0xd1, 0x60, 0x4b, 0xde, 0x80, 0xb1, 0x1d, 0xbf, 0xd5, 0x6d, 0xd3, 0x15,
+	0xbf, 0xeb, 0x45, 0x61, 0x79, 0x80, 0x37, 0x63, 0x3a, 0x6b, 0x9c, 0xee, 0xc6, 0x78, 0x95, 0xf3,
+	0x92, 0xec, 0x98, 0x01, 0x0c, 0x31, 0x41, 0xca, 0x7e, 0x03, 0x38, 0x53, 0xd7, 0xeb, 0xd2, 0x35,
+	0x8f, 0x3c, 0x0f, 0x45, 0x1a, 0x04, 0x7e, 0x20, 0x4f, 0x3b, 0x7a, 0x42, 0xde, 0x60, 0x40, 0x14,
+	0x65, 0xe4, 0x45, 0x26, 0x73, 0xdd, 0x16, 0xad, 0xf3, 0xf9, 0x54, 0xaa, 0x9c, 0x51, 0xf3, 0x69,
+	0x91, 0x43, 0x51, 0x96, 0xda, 0x33, 0x30, 0x3c, 0xcf, 0x98, 0xd0, 0x80, 0xd1, 0x35, 0x8d, 0xde,
+	0xe3, 0x09, 0xa3, 0xb7, 0x32, 0x6e, 0x6f, 0xc0, 0x85, 0xf9, 0x80, 0x32, 0x41, 0x70, 0xbd, 0xd2,
+	0xad, 0x6d, 0xd3, 0x48, 0x98, 0xa5, 0x42, 0xf2, 0x49, 0x18, 0xf7, 0xb9, 0x44, 0xba, 0xed, 0xd7,
+	0xb6, 0x5d, 0xaf, 0x21, 0x95, 0xb0, 0x0b, 0x92, 0xca, 0xf8, 0x9a, 0x59, 0x88, 0x49, 0x5c, 0xfb,
+	0xbf, 0x14, 0x60, 0x6c, 0x3e, 0xf0, 0x3d, 0xb5, 0xda, 0x4e, 0x41, 0x52, 0x46, 0x09, 0x49, 0x99,
+	0x83, 0x95, 0xd2, 0x6c, 0x7f, 0x3f, 0x29, 0x49, 0xde, 0xd7, 0xcb, 0x7c, 0x20, 0x2f, 0x65, 0x33,
+	0xc1, 0x97, 0xd3, 0x8e, 0x3f, 0x76, 0x52, 0x08, 0xd8, 0xff, 0xd5, 0x82, 0x49, 0x13, 0xfd, 0x14,
+	0x04, 0x73, 0x98, 0x14, 0xcc, 0xab, 0xf9, 0xf6, 0xb7, 0x8f, 0x34, 0xfe, 0x68, 0x28, 0xd9, 0x4f,
+	0xf6, 0x01, 0xc8, 0x57, 0x2d, 0x18, 0xdb, 0x35, 0x00, 0xb2, 0xb3, 0xab, 0xf9, 0xed, 0x91, 0xfc,
+	0xab, 0xff, 0xa8, 0x5a, 0xcf, 0x26, 0xf4, 0x41, 0xea, 0x3f, 0x26, 0x5a, 0xc2, 0xd4, 0xa9, 0xb0,
+	0xd6, 0xa4, 0xf5, 0x6e, 0x4b, 0x1d, 0x75, 0xf4, 0x90, 0x56, 0x25, 0x1c, 0x35, 0x06, 0x79, 0x1b,
+	0xce, 0xd6, 0x7c, 0xaf, 0xd6, 0x0d, 0x02, 0xea, 0xd5, 0xf6, 0xd6, 0xb9, 0x9f, 0x4e, 0x0a, 0xf5,
+	0x19, 0x59, 0xed, 0xec, 0x7c, 0x1a, 0xe1, 0x41, 0x16, 0x10, 0x7b, 0x09, 0x09, 0x9b, 0x72, 0xc8,
+	0xc4, 0x2e, 0x3f, 0x0f, 0x95, 0x4c, 0x9b, 0x32, 0x07, 0xa3, 0x2a, 0x27, 0x77, 0xe0, 0x52, 0x18,
+	0x31, 0x5d, 0xd9, 0x6b, 0x2c, 0x50, 0xa7, 0xde, 0x72, 0x3d, 0xa6, 0x8e, 0xfa, 0x5e, 0x5d, 0x1c,
+	0xf0, 0x07, 0x2a, 0xcf, 0x1c, 0xec, 0x4f, 0x5f, 0xaa, 0x66, 0xa3, 0x60, 0xbf, 0xba, 0xe4, 0x33,
+	0x30, 0x15, 0x76, 0x6b, 0x35, 0x1a, 0x86, 0x5b, 0xdd, 0xd6, 0x6b, 0xfe, 0x66, 0xb8, 0xe4, 0x86,
+	0x4c, 0x97, 0xbe, 0xed, 0xb6, 0xdd, 0x88, 0x1f, 0xe3, 0x8b, 0x95, 0x2b, 0x07, 0xfb, 0xd3, 0x53,
+	0xd5, 0xbe, 0x58, 0x78, 0x08, 0x05, 0x82, 0x70, 0x51, 0x08, 0xbf, 0x1e, 0xda, 0xc3, 0x9c, 0xf6,
+	0xd4, 0xc1, 0xfe, 0xf4, 0xc5, 0xc5, 0x4c, 0x0c, 0xec, 0x53, 0x93, 0x7d, 0xc1, 0xc8, 0x6d, 0xd3,
+	0xcf, 0xf9, 0x1e, 0xe5, 0x36, 0x40, 0xe3, 0x0b, 0x6e, 0x48, 0x38, 0x6a, 0x0c, 0xf2, 0x4e, 0x3c,
+	0x13, 0xd9, 0x72, 0x91, 0xb6, 0xbc, 0xe3, 0x4b, 0xb8, 0xf3, 0x07, 0xfb, 0xd3, 0x93, 0xf7, 0x0c,
+	0x4a, 0x6c, 0xc9, 0x61, 0x82, 0xb6, 0xfd, 0xfb, 0x05, 0x20, 0xbd, 0x22, 0x82, 0x2c, 0xc3, 0x90,
+	0x53, 0x8b, 0xdc, 0x1d, 0x2a, 0x9d, 0x67, 0xcf, 0x67, 0xed, 0x53, 0x82, 0x15, 0xd2, 0x2d, 0xca,
+	0x66, 0x08, 0x8d, 0xe5, 0xca, 0x1c, 0xaf, 0x8a, 0x92, 0x04, 0xf1, 0xe1, 0x6c, 0xcb, 0x09, 0x23,
+	0x35, 0x57, 0xeb, 0xac, 0xcb, 0x52, 0xb0, 0xfe, 0xd8, 0xd1, 0x3a, 0xc5, 0x6a, 0x54, 0x2e, 0xb0,
+	0x99, 0x7b, 0x3b, 0x4d, 0x08, 0x7b, 0x69, 0x93, 0x2f, 0xf0, 0x0d, 0x5f, 0x28, 0x3a, 0x6a, 0xa7,
+	0x5d, 0xce, 0x65, 0xc3, 0x17, 0x34, 0x13, 0x9b, 0xbd, 0x64, 0x83, 0x06, 0x4b, 0xfb, 0x5f, 0x01,
+	0x0c, 0x2f, 0xcc, 0xdd, 0xdc, 0x70, 0xc2, 0xed, 0x23, 0x38, 0xe0, 0xd8, 0xec, 0x90, 0xca, 0x4a,
+	0x7a, 0x7d, 0x2b, 0x25, 0x06, 0x35, 0x06, 0xf1, 0x60, 0xc8, 0xf5, 0xd8, 0x82, 0x28, 0x9f, 0xc9,
+	0xcb, 0xc4, 0xaa, 0xb5, 0x57, 0x7e, 0x90, 0xba, 0xc5, 0xa9, 0xa3, 0xe4, 0x42, 0xde, 0x87, 0x11,
+	0x47, 0x39, 0x56, 0xe5, 0xb6, 0xb4, 0x9c, 0xc7, 0x69, 0x5b, 0x92, 0x34, 0x7d, 0x99, 0x12, 0x84,
+	0x31, 0x43, 0xf2, 0x45, 0x0b, 0x46, 0x55, 0xd7, 0x91, 0x6e, 0x49, 0x23, 0xcc, 0x4a, 0x7e, 0x7d,
+	0x46, 0xba, 0x25, 0x8c, 0xa1, 0x06, 0x00, 0x4d, 0x96, 0x3d, 0xea, 0x68, 0xf1, 0x28, 0xea, 0x28,
+	0xd9, 0x85, 0x91, 0x5d, 0x37, 0x6a, 0xf2, 0x8d, 0xa7, 0x3c, 0xc4, 0xa7, 0xe0, 0xe2, 0xe3, 0xb7,
+	0x9a, 0x91, 0x8b, 0x47, 0xec, 0x9e, 0x62, 0x80, 0x31, 0x2f, 0x32, 0x2b, 0x18, 0x73, 0xc7, 0x34,
+	0x17, 0x59, 0x23, 0xc9, 0x0a, 0xbc, 0x00, 0x63, 0x1c, 0x36, 0xc4, 0x63, 0xec, 0x5f, 0x95, 0xbe,
+	0xdb, 0x65, 0xeb, 0x58, 0x7a, 0x29, 0x72, 0x98, 0x57, 0x8a, 0xa2, 0x18, 0xac, 0x7b, 0x06, 0x0f,
+	0x4c, 0x70, 0x64, 0x6b, 0x64, 0xb7, 0x49, 0x3d, 0xe9, 0xa6, 0xd4, 0x6b, 0xe4, 0x5e, 0x93, 0x7a,
+	0xc8, 0x4b, 0xc8, 0xfb, 0x42, 0x87, 0x17, 0x3a, 0x2e, 0xf7, 0x4f, 0xe6, 0xe2, 0xe9, 0x8b, 0xf5,
+	0xe6, 0xca, 0x19, 0xa5, 0xbc, 0x8b, 0xff, 0x68, 0xf0, 0x63, 0xea, 0xb2, 0xef, 0xdd, 0xb8, 0xef,
+	0x46, 0xd2, 0xbf, 0xa9, 0x25, 0xdd, 0x1a, 0x87, 0xa2, 0x2c, 0x15, 0x46, 0x46, 0x36, 0x09, 0xc2,
+	0xf2, 0x58, 0xf2, 0x18, 0x25, 0x66, 0x4a, 0x88, 0xaa, 0x9c, 0xfc, 0x03, 0x0b, 0x8a, 0x4d, 0xdf,
+	0xdf, 0x0e, 0xcb, 0xe3, 0x7c, 0x72, 0xe4, 0xa0, 0xea, 0x49, 0x89, 0x33, 0xb3, 0xc4, 0xc8, 0xde,
+	0xf0, 0xa2, 0x60, 0xaf, 0xf2, 0xb2, 0x52, 0x80, 0x38, 0xec, 0xc1, 0xfe, 0xf4, 0x99, 0xdb, 0xee,
+	0x16, 0xad, 0xed, 0xd5, 0x5a, 0x94, 0x43, 0xbe, 0xf4, 0x5d, 0x03, 0x72, 0x63, 0x87, 0x7a, 0x11,
+	0x8a, 0x56, 0x4d, 0x7d, 0x64, 0x01, 0xc4, 0x84, 0xc8, 0xa4, 0xb0, 0x33, 0x73, 0x21, 0xc6, 0x4d,
+	0xcb, 0x84, 0xaa, 0xf3, 0x80, 0x90, 0xe4, 0x39, 0x1c, 0xa8, 0x12, 0x4d, 0x93, 0x27, 0x8a, 0x4f,
+	0x14, 0x5e, 0xb5, 0xec, 0x7f, 0x6d, 0xc1, 0x28, 0xeb, 0x9c, 0x12, 0x81, 0x2f, 0xc2, 0x50, 0xe4,
+	0x04, 0x0d, 0x69, 0x29, 0x33, 0x3e, 0xc7, 0x06, 0x87, 0xa2, 0x2c, 0x25, 0x1e, 0x14, 0x23, 0x27,
+	0xdc, 0x56, 0xda, 0xe5, 0xad, 0xdc, 0x86, 0x38, 0x56, 0x2c, 0xd9, 0xbf, 0x10, 0x05, 0x1b, 0xf2,
+	0x12, 0x94, 0x98, 0x02, 0xb0, 0xe8, 0x84, 0xca, 0xc8, 0x3c, 0xc6, 0x84, 0xf8, 0xa2, 0x84, 0xa1,
+	0x2e, 0xb5, 0xff, 0x4e, 0x01, 0x06, 0x17, 0xc4, 0x39, 0x63, 0x28, 0xf4, 0xbb, 0x41, 0x8d, 0x4a,
+	0x7d, 0x33, 0x87, 0x39, 0xcd, 0xe8, 0x56, 0x39, 0x4d, 0x43, 0xd3, 0xe7, 0xff, 0x51, 0xf2, 0x22,
+	0xbf, 0x64, 0xc1, 0x99, 0x28, 0x70, 0xbc, 0x70, 0xcb, 0x0f, 0xda, 0xc2, 0x40, 0x56, 0xc8, 0x6b,
+	0x16, 0x6e, 0x24, 0xe8, 0x56, 0x23, 0xda, 0x89, 0xc3, 0x01, 0x92, 0x65, 0x98, 0x6a, 0x83, 0xfd,
+	0x2b, 0x16, 0x40, 0xdc, 0x7a, 0xf2, 0xa1, 0x05, 0xe3, 0x8e, 0xe9, 0x60, 0x94, 0x63, 0xb4, 0x96,
+	0x9f, 0xb1, 0x97, 0x93, 0xad, 0x9c, 0x65, 0x27, 0xd0, 0x04, 0x08, 0x93, 0x8c, 0xed, 0x57, 0xa0,
+	0xc8, 0x57, 0x07, 0xd7, 0xc5, 0xa5, 0x95, 0x2f, 0x6d, 0xda, 0x54, 0xd6, 0x3f, 0xd4, 0x18, 0xf6,
+	0xdb, 0x70, 0xe6, 0xc6, 0x7d, 0x5a, 0xeb, 0x46, 0x7e, 0x20, 0xac, 0x81, 0xe4, 0x35, 0x20, 0x21,
+	0x0d, 0x76, 0xdc, 0x1a, 0x9d, 0xab, 0xd5, 0xd8, 0xc9, 0x7a, 0x35, 0xd6, 0x0d, 0xa6, 0x24, 0x25,
+	0x52, 0xed, 0xc1, 0xc0, 0x8c, 0x5a, 0xf6, 0x6f, 0x5a, 0x30, 0x6a, 0x78, 0x9b, 0xd8, 0x4e, 0xdd,
+	0x98, 0xaf, 0x8a, 0x73, 0xb7, 0x1c, 0xaa, 0xe5, 0x5c, 0xfc, 0x59, 0x82, 0x64, 0xbc, 0x8d, 0x68,
+	0x10, 0xc6, 0x0c, 0x1f, 0xe2, 0x89, 0xb2, 0x7f, 0xd7, 0x82, 0x0b, 0x99, 0xae, 0xb1, 0x27, 0xdc,
+	0xec, 0x59, 0x18, 0xd9, 0xa6, 0x7b, 0x8b, 0x7c, 0x0e, 0xa6, 0x1d, 0x49, 0xcb, 0xaa, 0x00, 0x63,
+	0x1c, 0xfb, 0x9b, 0x16, 0xc4, 0x94, 0x98, 0x28, 0xda, 0x8c, 0x5b, 0x6e, 0x88, 0x22, 0xc9, 0x49,
+	0x96, 0x92, 0xf7, 0xe1, 0x52, 0xf2, 0x0b, 0x72, 0x73, 0xf1, 0xf1, 0x4d, 0xf1, 0xe2, 0xcc, 0x94,
+	0x4d, 0x09, 0xfb, 0xb1, 0xb0, 0xef, 0x42, 0xf1, 0xa6, 0xd3, 0x6d, 0xd0, 0x23, 0x19, 0x71, 0x98,
+	0x18, 0x0b, 0xa8, 0xd3, 0x8a, 0x94, 0x9a, 0x2e, 0xc5, 0x18, 0x4a, 0x18, 0xea, 0x52, 0xfb, 0xfb,
+	0x83, 0x30, 0x6a, 0x44, 0xb1, 0xb0, 0x7d, 0x3c, 0xa0, 0x1d, 0x3f, 0xad, 0xeb, 0xb2, 0x8f, 0x8d,
+	0xbc, 0x84, 0xad, 0x9f, 0x80, 0xee, 0xb8, 0xa1, 0x10, 0x39, 0x89, 0xf5, 0x83, 0x12, 0x8e, 0x1a,
+	0x83, 0x4c, 0x43, 0xb1, 0x4e, 0x3b, 0x51, 0x93, 0x4b, 0xd3, 0xc1, 0xca, 0x08, 0x6b, 0xea, 0x02,
+	0x03, 0xa0, 0x80, 0x33, 0x84, 0x2d, 0x1a, 0xd5, 0x9a, 0xdc, 0xaa, 0x37, 0x22, 0x10, 0x16, 0x19,
+	0x00, 0x05, 0x3c, 0xc3, 0xb9, 0x52, 0x3c, 0x79, 0xe7, 0xca, 0x50, 0xce, 0xce, 0x15, 0xd2, 0x81,
+	0x73, 0x61, 0xd8, 0x5c, 0x0f, 0xdc, 0x1d, 0x27, 0xa2, 0xf1, 0xcc, 0x19, 0x3e, 0x0e, 0x9f, 0x4b,
+	0x07, 0xfb, 0xd3, 0xe7, 0xaa, 0xd5, 0xa5, 0x34, 0x15, 0xcc, 0x22, 0x4d, 0xaa, 0x70, 0xc1, 0xf5,
+	0x42, 0x5a, 0xeb, 0x06, 0xf4, 0x56, 0xc3, 0xf3, 0x03, 0xba, 0xe4, 0x87, 0x8c, 0x9c, 0x0c, 0x3b,
+	0xd3, 0x4e, 0xdb, 0x5b, 0x59, 0x48, 0x98, 0x5d, 0x97, 0xdc, 0x84, 0xb3, 0x75, 0x37, 0x74, 0x36,
+	0x5b, 0xb4, 0xda, 0xdd, 0x6c, 0xfb, 0xec, 0xc0, 0x26, 0x22, 0x55, 0x4a, 0x95, 0xa7, 0x95, 0x69,
+	0x62, 0x21, 0x8d, 0x80, 0xbd, 0x75, 0xec, 0xef, 0x58, 0x30, 0x66, 0x86, 0x14, 0x30, 0x1d, 0x16,
+	0x9a, 0x0b, 0x8b, 0x55, 0x21, 0x65, 0xf3, 0xdb, 0x4b, 0x97, 0x34, 0xcd, 0xf8, 0xcc, 0x17, 0xc3,
+	0xd0, 0xe0, 0x79, 0x84, 0x30, 0xca, 0xe7, 0xa1, 0xb8, 0xe5, 0xb3, 0xad, 0x7e, 0x20, 0x69, 0x99,
+	0x5d, 0x64, 0x40, 0x14, 0x65, 0xf6, 0xff, 0xb6, 0xe0, 0x62, 0x76, 0xb4, 0xc4, 0x0f, 0x43, 0x27,
+	0xaf, 0x01, 0xb0, 0xae, 0x24, 0xc4, 0xa5, 0x11, 0x0b, 0xab, 0x4a, 0xd0, 0xc0, 0x3a, 0x5a, 0xb7,
+	0x7f, 0xc0, 0xd4, 0xcd, 0x98, 0xcf, 0x57, 0x2c, 0x18, 0x67, 0x6c, 0x97, 0x83, 0xcd, 0x44, 0x6f,
+	0xd7, 0xf2, 0xe9, 0xad, 0x26, 0x1b, 0x1b, 0xa0, 0x13, 0x60, 0x4c, 0x32, 0x27, 0x7f, 0x1e, 0x46,
+	0x9c, 0x7a, 0x3d, 0xa0, 0x61, 0xa8, 0xdd, 0x11, 0xdc, 0xc5, 0x37, 0xa7, 0x80, 0x18, 0x97, 0x33,
+	0x11, 0xd7, 0xac, 0x6f, 0x85, 0x4c, 0x6a, 0x48, 0xbb, 0x9b, 0x16, 0x71, 0x8c, 0x09, 0x83, 0xa3,
+	0xc6, 0xb0, 0x7f, 0x61, 0x10, 0x92, 0xbc, 0x49, 0x1d, 0x26, 0xb6, 0x83, 0xcd, 0x79, 0xee, 0x86,
+	0x7c, 0x14, 0x87, 0xf0, 0xb9, 0x83, 0xfd, 0xe9, 0x89, 0xe5, 0x24, 0x05, 0x4c, 0x93, 0x94, 0x5c,
+	0x96, 0xe9, 0x5e, 0xe4, 0x6c, 0x3e, 0xca, 0x46, 0xa4, 0xb8, 0x98, 0x14, 0x30, 0x4d, 0x92, 0xbc,
+	0x02, 0xa3, 0xdb, 0xc1, 0xa6, 0x12, 0xa0, 0x69, 0x2f, 0xec, 0x72, 0x5c, 0x84, 0x26, 0x1e, 0x1b,
+	0xc2, 0xed, 0x60, 0x93, 0x6d, 0x38, 0x2a, 0xac, 0x58, 0x0f, 0xe1, 0xb2, 0x84, 0xa3, 0xc6, 0x20,
+	0x1d, 0x20, 0xdb, 0x6a, 0xf4, 0xb4, 0xd3, 0x55, 0xca, 0xf9, 0xa3, 0xfb, 0x6c, 0x79, 0x08, 0xc6,
+	0x72, 0x0f, 0x1d, 0xcc, 0xa0, 0x4d, 0xde, 0x80, 0x4b, 0xdb, 0xc1, 0xa6, 0xdc, 0x86, 0xd7, 0x03,
+	0xd7, 0xab, 0xb9, 0x9d, 0x44, 0x08, 0xf1, 0xb4, 0x6c, 0xee, 0xa5, 0xe5, 0x6c, 0x34, 0xec, 0x57,
+	0xdf, 0xfe, 0x7a, 0x01, 0x78, 0x6c, 0x26, 0xd3, 0x2c, 0xda, 0x34, 0x6a, 0xfa, 0xf5, 0xb4, 0x66,
+	0xb1, 0xc2, 0xa1, 0x28, 0x4b, 0x55, 0xb0, 0x47, 0xa1, 0x4f, 0xb0, 0xc7, 0x2e, 0x0c, 0x37, 0xa9,
+	0x53, 0xa7, 0x81, 0x32, 0x84, 0xdd, 0xce, 0x27, 0x9a, 0x74, 0x89, 0x13, 0x8d, 0x0f, 0xb8, 0xe2,
+	0x7f, 0x88, 0x8a, 0x1b, 0xf9, 0x04, 0x9c, 0x61, 0x3a, 0x82, 0xdf, 0x8d, 0x94, 0xd5, 0x77, 0x90,
+	0x5b, 0x7d, 0xf9, 0x7e, 0xb7, 0x91, 0x28, 0xc1, 0x14, 0x26, 0xb9, 0x0c, 0x83, 0x9b, 0x7e, 0x5d,
+	0x44, 0xa2, 0x8e, 0x89, 0x28, 0xb1, 0x8a, 0x5f, 0xdf, 0x43, 0x0e, 0xb5, 0x7f, 0x8d, 0x49, 0x7f,
+	0x23, 0xa0, 0xf5, 0x61, 0xf1, 0x2e, 0x61, 0x3c, 0x04, 0xe2, 0x94, 0xb3, 0x94, 0xc3, 0x10, 0x3c,
+	0xa4, 0xfb, 0xf6, 0xb7, 0x99, 0x40, 0xd3, 0xe3, 0x74, 0x04, 0x2b, 0xe0, 0xf3, 0xe6, 0x79, 0xba,
+	0x9f, 0x6a, 0xf6, 0x05, 0x18, 0xe1, 0x3f, 0x16, 0x03, 0xbf, 0x2d, 0x8d, 0x71, 0x98, 0xe7, 0xf7,
+	0x94, 0xe7, 0x46, 0x2e, 0xdc, 0xee, 0x2a, 0x46, 0x18, 0xf3, 0xb4, 0x7d, 0x98, 0x4c, 0x63, 0x93,
+	0xb7, 0x60, 0x2c, 0x54, 0xf2, 0x21, 0x0e, 0x18, 0x3b, 0xa2, 0x1c, 0xe1, 0xa6, 0xa1, 0xaa, 0x51,
+	0x1d, 0x13, 0xc4, 0xec, 0x35, 0x18, 0xca, 0x75, 0x08, 0xed, 0x6f, 0x58, 0x30, 0xc2, 0x8d, 0xf3,
+	0x8d, 0xc0, 0x69, 0xc7, 0x55, 0x06, 0x0e, 0x19, 0xf5, 0x10, 0x86, 0x85, 0x1a, 0xaf, 0xbc, 0xc7,
+	0x39, 0x4c, 0x20, 0x71, 0x95, 0x28, 0x9e, 0x40, 0xe2, 0xbc, 0x10, 0xa2, 0xe2, 0x64, 0xff, 0x5c,
+	0x01, 0x86, 0x6e, 0x79, 0x9d, 0xee, 0x9f, 0xf9, 0xeb, 0x2c, 0x2b, 0x30, 0x78, 0x2b, 0xa2, 0xed,
+	0xe4, 0xad, 0xab, 0xb1, 0xca, 0x0b, 0xe6, 0x8d, 0xab, 0x72, 0xf2, 0xc6, 0x15, 0x3a, 0xbb, 0x2a,
+	0x6e, 0x41, 0x9a, 0x91, 0xe2, 0xa0, 0xb9, 0xdf, 0xb1, 0x60, 0x3c, 0x61, 0x69, 0x4a, 0xd8, 0xdf,
+	0xad, 0x87, 0xda, 0xdf, 0x13, 0xf6, 0xf0, 0xc2, 0x29, 0xdb, 0xc3, 0xed, 0x16, 0x0c, 0xde, 0x76,
+	0xbd, 0xed, 0xa3, 0x2d, 0x86, 0xb0, 0xe6, 0x77, 0x7a, 0x16, 0x43, 0x95, 0x01, 0x51, 0x94, 0x29,
+	0xc9, 0x39, 0x90, 0x2d, 0x39, 0xed, 0x2f, 0x59, 0x70, 0x76, 0x85, 0xb6, 0x7d, 0xf7, 0x73, 0x4e,
+	0x1c, 0x34, 0xc2, 0x2a, 0x35, 0xdd, 0x48, 0xc6, 0x17, 0xe8, 0x4a, 0x4b, 0x6e, 0x84, 0x0c, 0xfe,
+	0x10, 0x43, 0x00, 0x0f, 0x71, 0x65, 0x7a, 0xc8, 0x6a, 0xac, 0x10, 0xc4, 0xe1, 0x20, 0xaa, 0x00,
+	0x63, 0x1c, 0xfb, 0xb7, 0x2d, 0x18, 0x16, 0x8d, 0xa0, 0x8a, 0xb6, 0xd5, 0x87, 0x76, 0x13, 0x8a,
+	0xbc, 0x9e, 0xfc, 0x2e, 0x37, 0x73, 0x30, 0x10, 0x33, 0x72, 0xe2, 0x5c, 0xc9, 0x7f, 0xa2, 0x60,
+	0xc0, 0x77, 0x67, 0xe7, 0xfe, 0x9c, 0x8e, 0x97, 0x89, 0x77, 0x67, 0x0e, 0x45, 0x59, 0x6a, 0x7f,
+	0x6d, 0x00, 0x4a, 0xca, 0xf5, 0x26, 0x62, 0xbd, 0x3d, 0xcf, 0x8f, 0x1c, 0xe1, 0x99, 0x12, 0x2b,
+	0xf9, 0xad, 0xc7, 0x6f, 0xa5, 0xe2, 0x30, 0x33, 0x17, 0x53, 0x17, 0x06, 0x60, 0xad, 0x6b, 0x19,
+	0x25, 0x68, 0x36, 0x82, 0x7c, 0x1e, 0x86, 0x5a, 0xce, 0x26, 0x6d, 0xa9, 0x85, 0x7d, 0x37, 0xc7,
+	0xe6, 0xdc, 0xe6, 0x84, 0x45, 0x4b, 0xf4, 0x08, 0x09, 0x20, 0x4a, 0xae, 0x53, 0x9f, 0x82, 0xc9,
+	0x74, 0xab, 0x33, 0xac, 0xcd, 0xe7, 0x13, 0xa2, 0xdd, 0x30, 0x0e, 0x4f, 0xfd, 0x25, 0x18, 0x35,
+	0xd8, 0x1c, 0xa7, 0xaa, 0xfd, 0x3a, 0x8c, 0xae, 0xd0, 0x28, 0x70, 0x6b, 0x9c, 0xc0, 0xc3, 0x26,
+	0xd7, 0x91, 0x76, 0x97, 0x2f, 0xf3, 0xc9, 0xca, 0x68, 0x86, 0xe4, 0x7d, 0x80, 0x4e, 0xe0, 0x33,
+	0x35, 0x8d, 0x76, 0xd5, 0xc7, 0xce, 0x41, 0xfb, 0x5a, 0xd7, 0x34, 0x85, 0xcf, 0x22, 0xfe, 0x8f,
+	0x06, 0x3f, 0xfb, 0x2a, 0x14, 0x57, 0xba, 0x11, 0xbd, 0xff, 0x70, 0x51, 0x61, 0xbf, 0x05, 0x63,
+	0x1c, 0x75, 0xc9, 0x6f, 0x31, 0x19, 0xca, 0x7a, 0xda, 0x66, 0xff, 0xd3, 0x56, 0x22, 0x8e, 0x84,
+	0xa2, 0x8c, 0xad, 0x80, 0xa6, 0xdf, 0xaa, 0xd3, 0x40, 0x8e, 0x87, 0xfe, 0xbe, 0x4b, 0x1c, 0x8a,
+	0xb2, 0xd4, 0xfe, 0xe9, 0x02, 0x8c, 0xf2, 0x8a, 0x52, 0x7a, 0xec, 0xc1, 0x70, 0x53, 0xf0, 0x91,
+	0x43, 0x92, 0x43, 0x88, 0x85, 0xd9, 0x7a, 0x43, 0x27, 0x13, 0x00, 0x54, 0xfc, 0x18, 0xeb, 0x5d,
+	0xc7, 0x8d, 0x18, 0xeb, 0xc2, 0xc9, 0xb2, 0xbe, 0x27, 0xd8, 0xa0, 0xe2, 0x67, 0xff, 0x7b, 0x0b,
+	0x60, 0xd5, 0xaf, 0x53, 0xa4, 0x61, 0xb7, 0x15, 0x91, 0x9f, 0x80, 0x62, 0xa7, 0xe9, 0x84, 0x69,
+	0xcb, 0x6f, 0x71, 0x9d, 0x01, 0x1f, 0xec, 0x4f, 0x8f, 0x30, 0x5c, 0xfe, 0x07, 0x05, 0xa2, 0x19,
+	0xa1, 0x57, 0x38, 0x3c, 0x42, 0x8f, 0x74, 0x60, 0xd8, 0xef, 0x46, 0x4c, 0x73, 0x90, 0x2a, 0x62,
+	0x0e, 0x8e, 0x8f, 0x35, 0x41, 0x50, 0xdc, 0x4b, 0x94, 0x7f, 0x50, 0xb1, 0xb1, 0xff, 0x70, 0x42,
+	0xf4, 0x4e, 0x7e, 0xe2, 0x29, 0x28, 0xb8, 0xea, 0xd8, 0x02, 0xb2, 0x99, 0x85, 0x5b, 0x0b, 0x58,
+	0x70, 0xeb, 0x7a, 0x36, 0x16, 0xfa, 0x6e, 0x5c, 0xaf, 0xc0, 0x68, 0xdd, 0x0d, 0x3b, 0x2d, 0x67,
+	0x6f, 0x35, 0xe3, 0xcc, 0xb8, 0x10, 0x17, 0xa1, 0x89, 0x47, 0x3e, 0x26, 0xa3, 0x2a, 0xc5, 0x79,
+	0xb1, 0x9c, 0x8a, 0xaa, 0x2c, 0xb1, 0xe6, 0x19, 0x01, 0x95, 0xaf, 0xc2, 0x98, 0xda, 0xd1, 0x39,
+	0x97, 0x22, 0xaf, 0xa5, 0xa3, 0xed, 0x36, 0x8c, 0x32, 0x4c, 0x60, 0xf6, 0x78, 0xa4, 0x87, 0x4e,
+	0xdf, 0x23, 0xfd, 0x49, 0x18, 0x57, 0x7f, 0xf9, 0x6e, 0x5e, 0x3e, 0xcf, 0x5b, 0xaf, 0x6d, 0x19,
+	0x1b, 0x66, 0x21, 0x26, 0x71, 0xe3, 0xa9, 0x37, 0x7c, 0xd4, 0xa9, 0x77, 0x0d, 0x60, 0xd3, 0xef,
+	0x7a, 0x75, 0x27, 0xd8, 0xbb, 0xb5, 0x20, 0xe3, 0x57, 0xb4, 0xc6, 0x58, 0xd1, 0x25, 0x68, 0x60,
+	0x99, 0xd3, 0x75, 0xe4, 0x21, 0xd3, 0xf5, 0x2d, 0x18, 0xe1, 0xb1, 0x3e, 0xb4, 0x3e, 0x17, 0x49,
+	0xcf, 0xee, 0x71, 0xc2, 0x42, 0xb4, 0xf2, 0x50, 0x55, 0x44, 0x30, 0xa6, 0x47, 0x3e, 0x03, 0xb0,
+	0xe5, 0x7a, 0x6e, 0xd8, 0xe4, 0xd4, 0x47, 0x8f, 0x4d, 0x5d, 0xf7, 0x73, 0x51, 0x53, 0x41, 0x83,
+	0x22, 0x79, 0x1b, 0xce, 0xd2, 0x30, 0x72, 0xdb, 0x4e, 0x44, 0xeb, 0x3a, 0xd8, 0xbc, 0xcc, 0x0f,
+	0xba, 0x3a, 0xda, 0xea, 0x46, 0x1a, 0xe1, 0x41, 0x16, 0x10, 0x7b, 0x09, 0x91, 0x57, 0xa1, 0xd4,
+	0x09, 0xfc, 0x46, 0x40, 0xc3, 0xb0, 0x3c, 0xc5, 0x87, 0xf1, 0xb2, 0xd2, 0x4c, 0xd7, 0x25, 0xfc,
+	0x81, 0xf1, 0x1b, 0x35, 0x36, 0xf9, 0x13, 0x0b, 0xce, 0x06, 0x54, 0xb8, 0xfb, 0x42, 0xdd, 0xb0,
+	0x0b, 0x5c, 0xea, 0xd5, 0xf2, 0xb8, 0xf5, 0xaf, 0x16, 0xfb, 0x0c, 0xa6, 0xb9, 0x88, 0xed, 0x9e,
+	0xaa, 0xde, 0xf7, 0x94, 0x3f, 0xc8, 0x02, 0x7e, 0xe9, 0xbb, 0xd3, 0xd3, 0xbd, 0x29, 0x28, 0x34,
+	0x71, 0xb6, 0xf2, 0xfe, 0xfa, 0x77, 0xa7, 0x27, 0xd5, 0xff, 0x78, 0xd0, 0x7a, 0x3a, 0xc9, 0x76,
+	0xaf, 0x8e, 0x5f, 0xbf, 0xb5, 0x2e, 0x5d, 0xf0, 0x7a, 0xf7, 0x5a, 0x67, 0x40, 0x14, 0x65, 0xe4,
+	0x25, 0x28, 0xd5, 0x1d, 0xda, 0xf6, 0x3d, 0x5a, 0x2f, 0x8f, 0xc7, 0x3e, 0x8e, 0x05, 0x09, 0x43,
+	0x5d, 0x4a, 0x5a, 0x30, 0xe4, 0xf2, 0x63, 0x98, 0x8c, 0xb7, 0xc9, 0xe1, 0xec, 0x27, 0x8e, 0x75,
+	0x2a, 0xda, 0x86, 0x8b, 0x52, 0xc9, 0xc3, 0x94, 0xdd, 0x13, 0xa7, 0x22, 0xbb, 0xd9, 0x48, 0xd4,
+	0x9a, 0x6e, 0xab, 0x1e, 0x50, 0xaf, 0x3c, 0xc9, 0x4d, 0x9b, 0x7c, 0x24, 0xe6, 0x25, 0x0c, 0x75,
+	0x29, 0xf9, 0x8b, 0x30, 0xee, 0x77, 0x23, 0xbe, 0xc8, 0xd9, 0xf7, 0x0f, 0xcb, 0x67, 0x39, 0x3a,
+	0xf7, 0x9e, 0xae, 0x99, 0x05, 0x98, 0xc4, 0x63, 0xc2, 0xb6, 0xe9, 0x87, 0x11, 0xfb, 0xc3, 0x85,
+	0xed, 0xc5, 0xa4, 0xb0, 0x5d, 0x32, 0xca, 0x30, 0x81, 0x49, 0xbe, 0x6a, 0xc1, 0xd9, 0x76, 0xfa,
+	0x00, 0x52, 0xbe, 0xc4, 0x47, 0xa6, 0x9a, 0x87, 0xa2, 0x9a, 0x22, 0x2d, 0x82, 0xcc, 0x7a, 0xc0,
+	0xd8, 0xdb, 0x08, 0x7e, 0x61, 0x2e, 0xdc, 0xf3, 0x6a, 0xcd, 0xc0, 0xf7, 0x92, 0xcd, 0x7b, 0x9a,
+	0x37, 0xef, 0xad, 0x9c, 0x56, 0x59, 0x16, 0x8b, 0xca, 0xd3, 0x07, 0xfb, 0xd3, 0x17, 0x32, 0x8b,
+	0x30, 0xbb, 0x51, 0x53, 0x0b, 0x70, 0x31, 0x7b, 0xa5, 0x3e, 0x4c, 0x63, 0x1e, 0x30, 0x35, 0xe6,
+	0x45, 0x78, 0xba, 0x6f, 0xa3, 0x98, 0xcc, 0x57, 0xea, 0x95, 0x95, 0x94, 0xf9, 0x3d, 0xea, 0xd0,
+	0x19, 0x18, 0x33, 0x13, 0x87, 0x70, 0x57, 0xb6, 0x71, 0x59, 0x93, 0x1d, 0xb2, 0xfd, 0x6a, 0xee,
+	0x3e, 0xe1, 0xb5, 0x6a, 0x8f, 0x4f, 0x58, 0x83, 0x30, 0x66, 0x78, 0x14, 0x57, 0x76, 0xe6, 0xcd,
+	0xd2, 0x27, 0xdc, 0xec, 0x63, 0xbb, 0xb2, 0xff, 0xdd, 0x20, 0xc4, 0x94, 0xc8, 0xc7, 0xa0, 0x44,
+	0xbd, 0x7a, 0xc7, 0x77, 0xbd, 0x28, 0x6d, 0x06, 0xb9, 0x21, 0xe1, 0xa8, 0x31, 0x0c, 0xc7, 0x77,
+	0xe1, 0x50, 0xc7, 0x77, 0x1d, 0x26, 0x1c, 0x1e, 0x6b, 0x1b, 0xbb, 0x2d, 0x07, 0x8e, 0xed, 0x67,
+	0x98, 0x4b, 0x52, 0xc0, 0x34, 0x49, 0xc6, 0x25, 0x8c, 0xab, 0x72, 0x2e, 0x83, 0xc7, 0xe6, 0x52,
+	0x4d, 0x52, 0xc0, 0x34, 0x49, 0xf2, 0x36, 0x94, 0x6b, 0xfc, 0x76, 0x83, 0xe8, 0xe3, 0xad, 0xad,
+	0x55, 0x3f, 0x5a, 0x0f, 0x68, 0x48, 0x3d, 0xe1, 0x56, 0x2e, 0x55, 0x9e, 0x93, 0xa3, 0x50, 0x9e,
+	0xef, 0x83, 0x87, 0x7d, 0x29, 0x30, 0xad, 0x8e, 0x3b, 0x4d, 0xdd, 0x68, 0x6f, 0xc3, 0xdf, 0xa6,
+	0x9e, 0x74, 0x25, 0x68, 0xad, 0xae, 0x6a, 0x16, 0x62, 0x12, 0x97, 0xfc, 0xbc, 0x05, 0xe3, 0x2d,
+	0x65, 0xd5, 0xc2, 0x6e, 0x4b, 0xa5, 0x26, 0xc1, 0x5c, 0xa6, 0xdf, 0x6d, 0x93, 0xb2, 0x10, 0xf8,
+	0x09, 0x10, 0x26, 0x79, 0xdb, 0xdf, 0xb6, 0x60, 0x32, 0x5d, 0x8d, 0x6c, 0xc3, 0xb3, 0x6d, 0x27,
+	0xd8, 0xbe, 0xe5, 0x6d, 0x05, 0x3c, 0xee, 0x2f, 0x12, 0x5f, 0x75, 0x6e, 0x2b, 0xa2, 0xc1, 0x82,
+	0xb3, 0x27, 0xa2, 0x7b, 0x8a, 0x3a, 0x9b, 0xd2, 0xb3, 0x2b, 0x87, 0x21, 0xe3, 0xe1, 0xb4, 0x48,
+	0x15, 0x2e, 0x30, 0x84, 0x05, 0xda, 0xa2, 0x4c, 0x42, 0xc5, 0x4c, 0x0a, 0x9c, 0x89, 0xf6, 0x5f,
+	0xaf, 0x64, 0x21, 0x61, 0x76, 0x5d, 0xfb, 0xdf, 0x16, 0x40, 0xed, 0x9f, 0x7f, 0xb6, 0x6d, 0xb2,
+	0xc4, 0x86, 0xa1, 0x80, 0x9f, 0x64, 0xe5, 0xf1, 0x8c, 0xab, 0x32, 0xe2, 0x6c, 0x8b, 0xb2, 0x84,
+	0x29, 0x16, 0xf4, 0xbe, 0x1b, 0xcd, 0xfb, 0x75, 0x75, 0x28, 0xe3, 0x8a, 0xc5, 0x0d, 0x09, 0x43,
+	0x5d, 0x6a, 0xff, 0x8c, 0x05, 0xe3, 0xac, 0x97, 0xad, 0x16, 0x6d, 0x55, 0x23, 0xda, 0x09, 0x49,
+	0x08, 0xc5, 0x90, 0xfd, 0xc8, 0xcf, 0x44, 0x10, 0x07, 0xb8, 0xd3, 0x8e, 0x61, 0x0c, 0x65, 0x4c,
+	0x50, 0xf0, 0xb2, 0xff, 0x5b, 0x01, 0x46, 0xf4, 0x60, 0x1f, 0xc1, 0xc2, 0x7a, 0x2d, 0xbe, 0x52,
+	0x2e, 0x64, 0x60, 0xd9, 0xb8, 0x4e, 0xce, 0x4e, 0x52, 0x73, 0xde, 0x9e, 0xb8, 0xa1, 0x1a, 0xdf,
+	0x2d, 0xff, 0x58, 0xd2, 0xdf, 0x70, 0xd1, 0x34, 0x62, 0x1b, 0xf8, 0xd2, 0xf1, 0x70, 0xdf, 0x74,
+	0xf7, 0x0c, 0xe6, 0xb5, 0x9f, 0x68, 0xc7, 0x4e, 0x7f, 0x3f, 0x4f, 0x2a, 0x2f, 0x52, 0xf1, 0x48,
+	0x79, 0x91, 0xae, 0xc2, 0x20, 0xf5, 0xba, 0x6d, 0x1e, 0xed, 0x3c, 0xc2, 0x35, 0xa9, 0xc1, 0x1b,
+	0x5e, 0xb7, 0x9d, 0xec, 0x19, 0x47, 0xb1, 0xff, 0x99, 0x05, 0x4c, 0x1f, 0xbf, 0x39, 0x4f, 0xfe,
+	0x32, 0x94, 0x42, 0xa9, 0x05, 0xc8, 0xa1, 0xfe, 0x11, 0x1d, 0x50, 0x27, 0xe1, 0x0f, 0xf6, 0xa7,
+	0xc7, 0x39, 0xb2, 0x02, 0xa0, 0xae, 0x42, 0x5a, 0x30, 0xce, 0xed, 0x88, 0x4a, 0x92, 0x4b, 0xcb,
+	0xef, 0xf5, 0x23, 0xde, 0x51, 0x32, 0xab, 0x4a, 0xb9, 0x66, 0x82, 0x30, 0x49, 0xdc, 0xfe, 0x9d,
+	0x41, 0x30, 0xcc, 0x6d, 0x47, 0x98, 0x22, 0xef, 0xa6, 0x8c, 0xab, 0x2b, 0xb9, 0x18, 0x57, 0x95,
+	0xc5, 0x52, 0x2c, 0xbb, 0xa4, 0x3d, 0x95, 0x35, 0xaa, 0x49, 0x5b, 0x1d, 0x39, 0xc1, 0x74, 0xa3,
+	0x96, 0x68, 0xab, 0x83, 0xbc, 0x44, 0x47, 0x5b, 0x0f, 0xf6, 0x8d, 0xb6, 0x6e, 0x42, 0xb1, 0xe1,
+	0x74, 0x1b, 0x54, 0x3a, 0xd1, 0x73, 0xb0, 0xa3, 0xf3, 0xf0, 0x33, 0x61, 0x47, 0xe7, 0x3f, 0x51,
+	0x30, 0x60, 0x33, 0xbc, 0xa9, 0x9c, 0x71, 0xd2, 0x94, 0x92, 0xc3, 0x0c, 0xd7, 0xfe, 0x3d, 0x31,
+	0xc3, 0xf5, 0x5f, 0x8c, 0x99, 0xb1, 0x93, 0x56, 0x4d, 0x5c, 0x6d, 0x94, 0x5b, 0xe5, 0xad, 0x3c,
+	0xc2, 0xc9, 0x39, 0x41, 0x71, 0xd2, 0x92, 0x7f, 0x50, 0xb1, 0xb1, 0x67, 0x61, 0xd4, 0xc8, 0x10,
+	0xc4, 0x3e, 0x83, 0xbe, 0x55, 0x67, 0x7c, 0x86, 0x05, 0x27, 0x72, 0x90, 0x97, 0xd8, 0x7f, 0x6f,
+	0x00, 0xf4, 0x89, 0xd7, 0x0c, 0x7e, 0x76, 0x6a, 0xc6, 0xd5, 0xfa, 0xc4, 0xad, 0x1b, 0xdf, 0x43,
+	0x59, 0xca, 0xd4, 0x89, 0x36, 0x0d, 0x1a, 0x5a, 0xc7, 0x96, 0x32, 0x4a, 0xab, 0x13, 0x2b, 0x66,
+	0x21, 0x26, 0x71, 0x99, 0x2e, 0xd8, 0x76, 0x3c, 0x77, 0x8b, 0x86, 0x51, 0x3a, 0x86, 0x65, 0x45,
+	0xc2, 0x51, 0x63, 0x90, 0x9b, 0x70, 0x36, 0xa4, 0xd1, 0xda, 0xae, 0x47, 0x03, 0x7d, 0x1b, 0x48,
+	0x5e, 0x0f, 0xd3, 0x71, 0x5d, 0xd5, 0x34, 0x02, 0xf6, 0xd6, 0x21, 0x0b, 0x30, 0x29, 0x6f, 0x66,
+	0xe9, 0x8b, 0x35, 0x52, 0xf6, 0xe8, 0x9c, 0x6e, 0xd5, 0x54, 0x39, 0xf6, 0xd4, 0x60, 0x54, 0xb6,
+	0x1c, 0xb7, 0xd5, 0x0d, 0x68, 0x4c, 0x65, 0x28, 0x49, 0x65, 0x31, 0x55, 0x8e, 0x3d, 0x35, 0x78,
+	0x68, 0x61, 0xcb, 0x69, 0x84, 0xe5, 0x61, 0x23, 0xb4, 0x90, 0x01, 0x50, 0xc0, 0xed, 0x7f, 0x62,
+	0xc1, 0x38, 0xd2, 0x28, 0xd8, 0x9b, 0xdb, 0xda, 0x72, 0x3d, 0x37, 0xda, 0x23, 0xbf, 0x6a, 0xc1,
+	0xa4, 0xe7, 0xd7, 0xe9, 0x9c, 0x17, 0xb9, 0x0a, 0x98, 0x5f, 0xfa, 0x14, 0xce, 0x6b, 0x35, 0x45,
+	0x5e, 0x5c, 0xf2, 0x4a, 0x43, 0xb1, 0xa7, 0x19, 0xf6, 0x25, 0xb8, 0x90, 0x49, 0xc0, 0xfe, 0xf6,
+	0x80, 0xec, 0x86, 0xfe, 0xf8, 0xaf, 0x43, 0xb1, 0xc5, 0x2f, 0xbc, 0x59, 0x8f, 0x98, 0x8f, 0x81,
+	0x8f, 0x95, 0xb8, 0x11, 0x27, 0x28, 0x91, 0x05, 0x18, 0x0d, 0x18, 0x0f, 0x79, 0x1d, 0x51, 0x4c,
+	0x45, 0x3b, 0xce, 0x2f, 0xa7, 0x8b, 0x1e, 0x24, 0xff, 0xa2, 0x59, 0x8d, 0xbc, 0x07, 0xc3, 0x9b,
+	0x22, 0xc5, 0x44, 0x7e, 0x86, 0x6d, 0x99, 0xb3, 0x82, 0xef, 0xc4, 0x2a, 0x81, 0xc5, 0x83, 0xf8,
+	0x27, 0x2a, 0x8e, 0x64, 0x0f, 0x4a, 0x8e, 0xfa, 0xa6, 0x83, 0x79, 0x05, 0xa3, 0x25, 0xe6, 0x8f,
+	0xd0, 0x8f, 0xf4, 0x37, 0xd4, 0xec, 0xd8, 0x66, 0x4c, 0xe3, 0x14, 0x7b, 0xa9, 0xcd, 0xd8, 0x48,
+	0xaf, 0x67, 0x60, 0xd9, 0xdf, 0xb0, 0x00, 0xe2, 0xe4, 0x53, 0xe4, 0x3e, 0x94, 0xc2, 0xeb, 0x89,
+	0x83, 0x69, 0x1e, 0xf7, 0x7b, 0x24, 0x45, 0x23, 0x06, 0x5e, 0x42, 0x50, 0x73, 0x7b, 0xd8, 0x61,
+	0xfa, 0x7f, 0x59, 0x70, 0x3e, 0x2b, 0x49, 0xd6, 0x13, 0x6c, 0xf1, 0x71, 0xcf, 0xd1, 0xb2, 0xc2,
+	0x7a, 0x40, 0xb7, 0xdc, 0xfb, 0x69, 0x97, 0xf6, 0xb2, 0x2a, 0xc0, 0x18, 0xc7, 0xfe, 0xe6, 0x10,
+	0x68, 0xc6, 0x27, 0x74, 0xee, 0x7e, 0x91, 0x69, 0xe8, 0x8d, 0x38, 0xf5, 0x89, 0xc6, 0x43, 0x0e,
+	0x45, 0x59, 0xca, 0xb4, 0x74, 0x15, 0xac, 0x2b, 0x45, 0x36, 0x9f, 0x85, 0x2a, 0xae, 0x17, 0x75,
+	0x69, 0xd6, 0x49, 0xbe, 0x78, 0x2a, 0x27, 0xf9, 0xa1, 0xfc, 0x4f, 0xf2, 0x57, 0x61, 0x38, 0xf0,
+	0x5b, 0x74, 0x0e, 0x57, 0xa5, 0x1b, 0x24, 0x4e, 0xd9, 0x23, 0xc0, 0xa8, 0xca, 0xc9, 0x2b, 0x30,
+	0xda, 0x0d, 0x69, 0x75, 0x61, 0x79, 0x3e, 0xa0, 0xf5, 0x50, 0xc6, 0x3f, 0x6b, 0x77, 0xd4, 0x9d,
+	0xb8, 0x08, 0x4d, 0x3c, 0xf2, 0x4d, 0xeb, 0x10, 0x63, 0xc1, 0x48, 0x5e, 0x7b, 0x42, 0x66, 0xb2,
+	0x85, 0xca, 0xe5, 0x47, 0xb4, 0x40, 0x7c, 0xcd, 0x82, 0xb3, 0xd4, 0xab, 0x05, 0x7b, 0x9c, 0x8e,
+	0xa4, 0x26, 0x5d, 0x32, 0x77, 0xf2, 0x58, 0x7c, 0x37, 0xd2, 0xc4, 0x85, 0xbd, 0xb5, 0x07, 0x8c,
+	0xbd, 0xcd, 0xb0, 0xff, 0xb0, 0x00, 0xe7, 0x32, 0x28, 0xf0, 0x58, 0xd1, 0x36, 0x9b, 0x40, 0xb7,
+	0xea, 0xe9, 0xe5, 0xb3, 0x2c, 0xe1, 0xa8, 0x31, 0xc8, 0x3a, 0x9c, 0xdf, 0x6e, 0x87, 0x31, 0x95,
+	0x79, 0xdf, 0x8b, 0xe8, 0x7d, 0xb5, 0x98, 0x94, 0x77, 0xe5, 0xfc, 0x72, 0x06, 0x0e, 0x66, 0xd6,
+	0x64, 0xda, 0x06, 0xf5, 0x9c, 0xcd, 0x16, 0x8d, 0x8b, 0x64, 0xa4, 0xb3, 0xd6, 0x36, 0x6e, 0xa4,
+	0xca, 0xb1, 0xa7, 0x06, 0xf9, 0xd0, 0x82, 0x67, 0x42, 0x1a, 0xec, 0xd0, 0xa0, 0xea, 0xd6, 0xe9,
+	0x7c, 0x37, 0x8c, 0xfc, 0x36, 0x0d, 0x1e, 0xd1, 0x9a, 0x35, 0x7d, 0xb0, 0x3f, 0xfd, 0x4c, 0xb5,
+	0x3f, 0x35, 0x3c, 0x8c, 0x95, 0xfd, 0xa1, 0x05, 0x67, 0xaa, 0xb5, 0xc0, 0xed, 0xc4, 0x29, 0x54,
+	0xf2, 0xce, 0xf0, 0xf2, 0xa2, 0xbe, 0xf5, 0x96, 0x12, 0x62, 0xc9, 0x7b, 0x6a, 0xf6, 0x3b, 0x30,
+	0x59, 0xa5, 0x6d, 0xa7, 0xd3, 0xe4, 0x97, 0x08, 0x84, 0x13, 0x7f, 0x16, 0x46, 0x42, 0x05, 0x4b,
+	0xa7, 0xc8, 0xd3, 0xc8, 0x18, 0xe3, 0x90, 0x17, 0x44, 0xc0, 0x81, 0x0a, 0xff, 0x1c, 0x11, 0xda,
+	0xb9, 0x88, 0x52, 0x08, 0x51, 0x95, 0xd9, 0xbb, 0x30, 0x16, 0x57, 0xa7, 0x5b, 0xa4, 0x01, 0x13,
+	0x35, 0x23, 0x4e, 0x38, 0x0e, 0x6c, 0x3c, 0x7a, 0x48, 0x31, 0x97, 0x45, 0xf3, 0x49, 0x22, 0x98,
+	0xa6, 0x6a, 0xff, 0x62, 0x01, 0x26, 0x34, 0x67, 0x69, 0x4a, 0xff, 0x20, 0x1d, 0x24, 0x81, 0x79,
+	0xdc, 0xc6, 0x4d, 0x8e, 0xe4, 0x21, 0x81, 0x12, 0x1f, 0xa4, 0x03, 0x25, 0x4e, 0x94, 0x7d, 0x8f,
+	0x77, 0xe0, 0x1b, 0x05, 0x28, 0xe9, 0xbb, 0xc1, 0xaf, 0x43, 0x91, 0x1f, 0xa0, 0x1e, 0x4f, 0x1b,
+	0xe5, 0x87, 0x31, 0x14, 0x94, 0x18, 0x49, 0xee, 0x21, 0x7e, 0xe4, 0x84, 0x63, 0x23, 0xc2, 0x76,
+	0xe4, 0x04, 0x11, 0x0a, 0x4a, 0x64, 0x19, 0x06, 0xa8, 0x57, 0x97, 0x6a, 0xe9, 0xf1, 0x09, 0xf2,
+	0xf4, 0x90, 0x37, 0xbc, 0x3a, 0x32, 0x2a, 0x3c, 0x3b, 0x8f, 0xd0, 0x3e, 0x06, 0x93, 0xcb, 0x43,
+	0xaa, 0x1e, 0xb2, 0xd4, 0xfe, 0xf9, 0x01, 0x18, 0xaa, 0x76, 0x37, 0x99, 0x82, 0xfd, 0xeb, 0x16,
+	0x9c, 0xdb, 0x4d, 0x25, 0xa3, 0x8a, 0xa7, 0xec, 0x9d, 0xfc, 0x33, 0x7d, 0x21, 0xdd, 0xaa, 0x3c,
+	0x23, 0xdb, 0x75, 0x2e, 0xa3, 0x10, 0xb3, 0x9a, 0x93, 0x48, 0xdc, 0x33, 0x70, 0x42, 0x29, 0xce,
+	0x4e, 0x36, 0x3c, 0x73, 0xbc, 0x6f, 0x68, 0xe6, 0x9f, 0x0e, 0x02, 0x88, 0xaf, 0xb1, 0xd6, 0x89,
+	0x8e, 0x62, 0x1c, 0x7a, 0x15, 0xc6, 0xd4, 0x1b, 0x03, 0xab, 0x71, 0x48, 0x8c, 0x76, 0x8b, 0xde,
+	0x34, 0xca, 0x30, 0x81, 0xc9, 0x0f, 0x04, 0x5e, 0x14, 0xec, 0x09, 0xa5, 0x71, 0x30, 0x75, 0x20,
+	0xd0, 0x25, 0x68, 0x60, 0x91, 0x99, 0x84, 0xc1, 0x5a, 0x24, 0x31, 0x38, 0x73, 0x88, 0x7d, 0xf9,
+	0x93, 0x30, 0xae, 0xff, 0x2d, 0xba, 0x2d, 0x9a, 0x76, 0x47, 0xac, 0x9b, 0x85, 0x98, 0xc4, 0x25,
+	0x9f, 0x82, 0x33, 0xc9, 0xbb, 0x88, 0x52, 0xcd, 0xd2, 0x37, 0x81, 0x93, 0x57, 0x18, 0x31, 0x85,
+	0xcd, 0x56, 0x40, 0x3d, 0xd8, 0xc3, 0xae, 0x27, 0xf5, 0x2d, 0xbd, 0x02, 0x16, 0x38, 0x14, 0x65,
+	0x29, 0x1b, 0x42, 0xb1, 0x95, 0x09, 0xb8, 0xbc, 0x4c, 0xa6, 0x87, 0xb0, 0x6a, 0x94, 0x61, 0x02,
+	0x93, 0x71, 0x90, 0x96, 0x39, 0x48, 0xae, 0xb1, 0x94, 0x39, 0xad, 0x03, 0x67, 0xfc, 0xa4, 0x61,
+	0x43, 0x04, 0x91, 0x7c, 0xfc, 0x88, 0xf3, 0x36, 0x51, 0x57, 0x5c, 0x7e, 0x48, 0xd9, 0x41, 0x52,
+	0xf4, 0x99, 0xc2, 0x69, 0x06, 0x89, 0x8e, 0x25, 0xe3, 0x9f, 0xfa, 0xc5, 0x71, 0xda, 0xe7, 0xe0,
+	0x6c, 0xb5, 0xdb, 0xe9, 0xb4, 0x5c, 0x5a, 0xd7, 0x16, 0x5d, 0xfb, 0x27, 0x61, 0x42, 0xe6, 0xe5,
+	0xd1, 0x7b, 0xf9, 0xb1, 0x92, 0x33, 0xda, 0x7f, 0x62, 0xc1, 0x44, 0xca, 0xdb, 0x4b, 0xde, 0x4b,
+	0xef, 0xc0, 0xb9, 0x18, 0xe8, 0xcd, 0xcd, 0x57, 0xac, 0xb2, 0xcc, 0xdd, 0xbc, 0xa9, 0x62, 0x13,
+	0x73, 0x0b, 0xf1, 0xe5, 0x11, 0x7c, 0x42, 0xa4, 0x9b, 0x01, 0x8e, 0xf6, 0x97, 0x0b, 0x90, 0xed,
+	0x62, 0x27, 0x9f, 0xef, 0x1d, 0x80, 0xd7, 0x73, 0x1c, 0x00, 0xe9, 0xe3, 0xef, 0x3f, 0x06, 0x5e,
+	0x72, 0x0c, 0x56, 0x72, 0x1a, 0x03, 0xc9, 0xb7, 0x77, 0x24, 0xfe, 0xd8, 0x82, 0xd1, 0x8d, 0x8d,
+	0xdb, 0xda, 0x40, 0x84, 0x70, 0x31, 0x14, 0x37, 0x75, 0xb8, 0x6f, 0x6c, 0xde, 0x6f, 0x77, 0x84,
+	0xab, 0x4c, 0xba, 0xf0, 0x78, 0x8a, 0xa4, 0x6a, 0x26, 0x06, 0xf6, 0xa9, 0x49, 0x6e, 0xc1, 0x39,
+	0xb3, 0x44, 0x9a, 0xf9, 0xa4, 0xbb, 0x4e, 0xdc, 0x5d, 0xed, 0x2d, 0xc6, 0xac, 0x3a, 0x69, 0x52,
+	0xd2, 0xd6, 0x27, 0x5f, 0xaf, 0xe8, 0x21, 0x25, 0x8b, 0x31, 0xab, 0x8e, 0xbd, 0x06, 0xa3, 0xc6,
+	0x5b, 0x2a, 0xe4, 0xd3, 0x30, 0x59, 0xf3, 0xdb, 0xca, 0xc6, 0x72, 0x9b, 0xee, 0xd0, 0x96, 0xec,
+	0x32, 0x37, 0xc3, 0xcd, 0xa7, 0xca, 0xb0, 0x07, 0xdb, 0xfe, 0xd2, 0x15, 0xd0, 0x97, 0x0a, 0x8e,
+	0xb0, 0x45, 0x74, 0x74, 0xf0, 0x51, 0x31, 0xe7, 0xe0, 0x23, 0x2d, 0xef, 0x52, 0x01, 0x48, 0x51,
+	0x1c, 0x80, 0x34, 0x94, 0x77, 0x00, 0x92, 0xd6, 0xf8, 0x7a, 0x82, 0x90, 0x7e, 0xd9, 0x82, 0x31,
+	0xcf, 0xaf, 0x53, 0xed, 0xc6, 0x19, 0xe6, 0x6a, 0xe7, 0xdb, 0xf9, 0x45, 0x55, 0x8a, 0x60, 0x1a,
+	0x49, 0x5e, 0x84, 0xa8, 0xe9, 0x6d, 0xc2, 0x2c, 0xc2, 0x44, 0x3b, 0xc8, 0xa2, 0x61, 0xf5, 0x13,
+	0x79, 0x71, 0x2e, 0x67, 0xa9, 0xff, 0x0f, 0x35, 0xe1, 0xdd, 0x37, 0x14, 0x9f, 0x91, 0xbc, 0xac,
+	0x59, 0x2a, 0xce, 0xde, 0x30, 0xce, 0xab, 0x2c, 0x5f, 0xb1, 0x42, 0x64, 0xc3, 0x90, 0x88, 0x65,
+	0x93, 0xaf, 0x7a, 0x70, 0x9f, 0x91, 0x88, 0x73, 0x43, 0x59, 0x42, 0x22, 0xe5, 0x6e, 0x1d, 0xcd,
+	0x2b, 0x39, 0x66, 0xc2, 0x9d, 0x9b, 0xed, 0x6f, 0x25, 0xaf, 0x99, 0xa7, 0xca, 0xb1, 0xa3, 0x9c,
+	0x2a, 0xc7, 0xfb, 0x9e, 0x28, 0xbf, 0x62, 0xc1, 0x58, 0xcd, 0xc8, 0xfe, 0x59, 0x7e, 0x29, 0xaf,
+	0x14, 0xb7, 0x59, 0x39, 0x45, 0xc5, 0xad, 0x35, 0xb3, 0x04, 0x13, 0xdc, 0x79, 0x5a, 0x17, 0x7e,
+	0x84, 0xe6, 0xc1, 0x85, 0xa3, 0xd7, 0xd6, 0x73, 0xd8, 0x1e, 0x12, 0x47, 0x72, 0xf1, 0x19, 0x05,
+	0x0c, 0x25, 0x2f, 0xf2, 0x3e, 0x94, 0x54, 0x38, 0xa4, 0x0c, 0x56, 0xc4, 0x3c, 0x4c, 0xd4, 0x49,
+	0x07, 0x94, 0x4a, 0x06, 0x21, 0xa0, 0xa8, 0x39, 0x92, 0x26, 0x0c, 0xd4, 0x9d, 0x86, 0x0c, 0x5b,
+	0x5c, 0xc9, 0x27, 0xd7, 0x8e, 0xe2, 0xc9, 0xcf, 0x47, 0x0b, 0x73, 0x37, 0x91, 0xb1, 0x20, 0xf7,
+	0xe3, 0x24, 0x84, 0x93, 0xb9, 0xed, 0xbe, 0x49, 0x35, 0x49, 0x18, 0x09, 0x7a, 0x72, 0x1a, 0xd6,
+	0xa5, 0xcf, 0xee, 0xcf, 0x71, 0xb6, 0x8b, 0xf9, 0x24, 0xeb, 0x11, 0x17, 0x5c, 0x63, 0xbf, 0x1f,
+	0xe3, 0xc2, 0x9f, 0x7f, 0xf9, 0xb1, 0xbc, 0xb8, 0x2c, 0x6d, 0x6c, 0xac, 0xf7, 0x3c, 0xfb, 0x72,
+	0x03, 0x86, 0x45, 0x1a, 0x59, 0x11, 0xc8, 0x39, 0x7a, 0x6d, 0xaa, 0x7f, 0x32, 0xda, 0x58, 0x74,
+	0x8b, 0xff, 0x21, 0xaa, 0xba, 0xe4, 0x17, 0x2d, 0x38, 0xc3, 0x64, 0x5c, 0x9c, 0xf7, 0xb6, 0x4c,
+	0xf2, 0x92, 0x22, 0x77, 0x42, 0xa6, 0x23, 0xa8, 0xd5, 0xaf, 0x0f, 0x0f, 0xb7, 0x12, 0xec, 0x30,
+	0xc5, 0x9e, 0x7c, 0x00, 0xa5, 0xd0, 0xad, 0xd3, 0x9a, 0x13, 0x84, 0xe5, 0x73, 0x27, 0xd3, 0x94,
+	0xd8, 0x7d, 0x20, 0x19, 0xa1, 0x66, 0x49, 0xfe, 0x16, 0xcf, 0x52, 0x2f, 0x5f, 0x14, 0x91, 0x8f,
+	0x5d, 0x9d, 0x3f, 0xb1, 0xc7, 0xae, 0x84, 0x55, 0x3d, 0xc9, 0x0e, 0xd3, 0xfc, 0xc9, 0x5f, 0xb3,
+	0xe0, 0x82, 0xc8, 0xc6, 0x98, 0x4e, 0xc5, 0x79, 0xe1, 0x11, 0x2d, 0x16, 0x3c, 0x02, 0x75, 0x2e,
+	0x8b, 0x24, 0x66, 0x73, 0xe2, 0xe9, 0x9c, 0x02, 0xd3, 0xd1, 0xc8, 0xe3, 0x80, 0xf3, 0x73, 0xa3,
+	0xe9, 0xb7, 0xb3, 0x78, 0x1c, 0x47, 0x02, 0x84, 0x49, 0xc6, 0xe4, 0x65, 0x18, 0xed, 0xc8, 0x0d,
+	0xca, 0x0d, 0xdb, 0x3c, 0x9e, 0x78, 0x40, 0xdc, 0xb9, 0x58, 0x8f, 0xc1, 0x68, 0xe2, 0x24, 0x72,
+	0x7b, 0x5d, 0x3d, 0x2c, 0xb7, 0x17, 0xb9, 0x03, 0xa3, 0x91, 0xdf, 0xa2, 0x81, 0x3c, 0xbf, 0x95,
+	0xf9, 0x0c, 0xbc, 0x92, 0xb5, 0xb6, 0x36, 0x34, 0x5a, 0x7c, 0xbe, 0x8b, 0x61, 0x21, 0x9a, 0x74,
+	0x78, 0x78, 0xa0, 0xcc, 0x72, 0x19, 0x70, 0x73, 0xc1, 0xd3, 0xa9, 0xf0, 0x40, 0xb3, 0x10, 0x93,
+	0xb8, 0xe4, 0x26, 0x9c, 0xed, 0x04, 0xae, 0x1f, 0xb8, 0xd1, 0xde, 0x7c, 0xcb, 0x09, 0x43, 0x4e,
+	0x40, 0xdc, 0x28, 0xd0, 0x1e, 0xfa, 0xf5, 0x34, 0x02, 0xf6, 0xd6, 0x61, 0xc3, 0xa0, 0x80, 0xe5,
+	0x67, 0xb8, 0xe6, 0x3b, 0x26, 0x6e, 0x23, 0x08, 0x18, 0xea, 0xd2, 0x3e, 0x99, 0xae, 0x2e, 0x3f,
+	0x4a, 0xa6, 0x2b, 0x52, 0x87, 0xcb, 0x4e, 0x37, 0xf2, 0xf9, 0x95, 0xe9, 0x64, 0x15, 0x11, 0x29,
+	0xf9, 0x9c, 0x08, 0xbe, 0x3c, 0xd8, 0x9f, 0xbe, 0x3c, 0x77, 0x08, 0x1e, 0x1e, 0x4a, 0x85, 0x7c,
+	0x0e, 0x4a, 0x54, 0x66, 0xeb, 0x2a, 0xff, 0x48, 0x5e, 0xdb, 0x76, 0x32, 0xff, 0x97, 0x0a, 0x81,
+	0x13, 0x30, 0xd4, 0xfc, 0xc8, 0x06, 0x8c, 0x36, 0xfd, 0x30, 0x9a, 0x6b, 0xb9, 0x4e, 0x48, 0xc3,
+	0xf2, 0xb3, 0x7c, 0xd2, 0x64, 0x6a, 0x43, 0x4b, 0x0a, 0x2d, 0x9e, 0x33, 0x4b, 0x71, 0x4d, 0x34,
+	0xc9, 0x10, 0xca, 0x9d, 0x69, 0x3c, 0x4c, 0x54, 0x39, 0x3a, 0xae, 0xf0, 0x8e, 0xbd, 0x98, 0x45,
+	0x79, 0xdd, 0xaf, 0x57, 0x93, 0xd8, 0xda, 0x9b, 0x66, 0x02, 0x31, 0x4d, 0x93, 0xbc, 0x0a, 0x63,
+	0x1d, 0xbf, 0x5e, 0xed, 0xd0, 0xda, 0xba, 0x13, 0xd5, 0x9a, 0xe5, 0xe9, 0xa4, 0x21, 0x6b, 0xdd,
+	0x28, 0xc3, 0x04, 0x26, 0xe9, 0xc0, 0x70, 0x5b, 0xdc, 0x96, 0x2c, 0x3f, 0x9f, 0xd7, 0x69, 0x43,
+	0x5e, 0xbf, 0x14, 0x3b, 0xb8, 0xfc, 0x83, 0x8a, 0x0d, 0xf9, 0x87, 0x16, 0x4c, 0xa4, 0x22, 0xe4,
+	0xcb, 0x3f, 0x9a, 0x9b, 0x12, 0x91, 0x24, 0x5c, 0x79, 0x91, 0x0f, 0x5f, 0x12, 0xf8, 0xa0, 0x17,
+	0x84, 0xe9, 0x16, 0x89, 0x71, 0xe1, 0x57, 0x9e, 0xcb, 0x2f, 0xe4, 0x37, 0x2e, 0x9c, 0xa0, 0x1a,
+	0x17, 0xfe, 0x07, 0x15, 0x1b, 0x72, 0x15, 0x86, 0x65, 0x12, 0x8e, 0xf2, 0x8b, 0x49, 0x8f, 0xa8,
+	0xcc, 0xd5, 0x81, 0xaa, 0x7c, 0xea, 0x27, 0xe1, 0x6c, 0xcf, 0x61, 0xea, 0x58, 0xf7, 0x6e, 0x7f,
+	0xc5, 0x02, 0xf3, 0x72, 0x5b, 0xee, 0x29, 0x72, 0x5f, 0x85, 0xb1, 0x9a, 0x78, 0x9f, 0x41, 0x5c,
+	0x8f, 0x1b, 0x4c, 0x5a, 0x05, 0xe7, 0x8d, 0x32, 0x4c, 0x60, 0xda, 0x4b, 0x40, 0x7a, 0xf3, 0x17,
+	0xa6, 0xe2, 0x2f, 0xac, 0x23, 0xc5, 0x5f, 0xfc, 0x86, 0x05, 0xe3, 0x09, 0x9d, 0x21, 0x77, 0x27,
+	0xda, 0x22, 0x90, 0xb6, 0x1b, 0x04, 0x7e, 0x60, 0x3e, 0x0d, 0x20, 0x13, 0xb6, 0xf1, 0x64, 0x36,
+	0x2b, 0x3d, 0xa5, 0x98, 0x51, 0xc3, 0xfe, 0xdd, 0x01, 0x88, 0x63, 0x40, 0x75, 0x1a, 0x2b, 0xab,
+	0x6f, 0x1a, 0xab, 0x8f, 0x41, 0xe9, 0x9d, 0xd0, 0xf7, 0xd6, 0xe3, 0x64, 0x57, 0xfa, 0x5b, 0xbc,
+	0x56, 0x5d, 0x5b, 0xe5, 0x98, 0x1a, 0x83, 0x63, 0xbf, 0xbb, 0xe8, 0xb6, 0xa2, 0xde, 0x6c, 0x48,
+	0xaf, 0xbd, 0x2e, 0xe0, 0xa8, 0x31, 0xf8, 0xe3, 0x05, 0x3b, 0x54, 0x9b, 0x8b, 0xe3, 0xc7, 0x0b,
+	0x44, 0x6a, 0x52, 0x5e, 0x46, 0x66, 0x61, 0x44, 0x5b, 0x9b, 0xa5, 0xf1, 0x5b, 0x8f, 0x94, 0xb6,
+	0x4a, 0x63, 0x8c, 0xc3, 0x15, 0x42, 0x69, 0x1a, 0x95, 0x46, 0x8d, 0x6a, 0x1e, 0x07, 0x86, 0x94,
+	0xb1, 0x55, 0xc8, 0x76, 0x05, 0x46, 0xcd, 0xd2, 0x8c, 0x13, 0x2e, 0x1e, 0x35, 0x4e, 0x38, 0x39,
+	0xe5, 0x4a, 0x47, 0x9a, 0x72, 0x3f, 0x3b, 0x00, 0xc3, 0x77, 0x69, 0xc0, 0x33, 0xe7, 0x5d, 0x85,
+	0xe1, 0x1d, 0xf1, 0x33, 0x7d, 0x17, 0x47, 0x62, 0xa0, 0x2a, 0x67, 0xc3, 0xb9, 0xd9, 0x75, 0x5b,
+	0xf5, 0x85, 0x78, 0x71, 0xe9, 0xe1, 0xac, 0xa8, 0x02, 0x8c, 0x71, 0x58, 0x85, 0x06, 0x53, 0xb8,
+	0xdb, 0x6d, 0x37, 0x4a, 0x87, 0xbb, 0xdc, 0x54, 0x05, 0x18, 0xe3, 0x90, 0x17, 0x61, 0xa8, 0xe1,
+	0x46, 0x1b, 0x4e, 0x23, 0xed, 0xcf, 0xba, 0xc9, 0xa1, 0x28, 0x4b, 0xb9, 0x43, 0xc4, 0x8d, 0x36,
+	0x02, 0xca, 0x4d, 0xa0, 0x3d, 0x97, 0x72, 0x6f, 0x1a, 0x65, 0x98, 0xc0, 0xe4, 0x4d, 0xf2, 0x65,
+	0xcf, 0xa4, 0xa3, 0x22, 0x6e, 0x92, 0x2a, 0xc0, 0x18, 0x87, 0x4d, 0xcb, 0x9a, 0xdf, 0xee, 0xb8,
+	0x2d, 0x19, 0xfe, 0x69, 0x4c, 0xcb, 0x79, 0x09, 0x47, 0x8d, 0xc1, 0xb0, 0x99, 0x64, 0x61, 0x52,
+	0x21, 0x9d, 0xbf, 0x7d, 0x5d, 0xc2, 0x51, 0x63, 0xd8, 0x77, 0x61, 0x5c, 0x2c, 0xb0, 0xf9, 0x96,
+	0xe3, 0xb6, 0x6f, 0xce, 0x93, 0x1b, 0x3d, 0x31, 0xce, 0x57, 0x33, 0x62, 0x9c, 0x2f, 0x24, 0x2a,
+	0xf5, 0xc6, 0x3a, 0xdb, 0xdf, 0x29, 0x40, 0xe9, 0x14, 0x9f, 0xc0, 0xe8, 0x24, 0x9e, 0xc0, 0xc8,
+	0xfb, 0x21, 0x84, 0xac, 0xe7, 0x2f, 0xee, 0xa7, 0x9e, 0xbf, 0x58, 0xcf, 0x33, 0xec, 0xff, 0xd0,
+	0xa7, 0x2f, 0x7e, 0x60, 0xc1, 0x79, 0x85, 0xca, 0x65, 0x4d, 0xc5, 0xf5, 0xb8, 0x27, 0xfc, 0xe4,
+	0x87, 0xf9, 0xfd, 0xc4, 0x30, 0xbf, 0x99, 0x5f, 0x97, 0xcd, 0x7e, 0xf4, 0x7d, 0x97, 0xe9, 0xfb,
+	0x16, 0x94, 0xb3, 0x2a, 0x9c, 0xc2, 0xdb, 0x1f, 0xef, 0x25, 0xdf, 0xfe, 0xb8, 0x7b, 0x32, 0x3d,
+	0xef, 0xf3, 0x06, 0xc8, 0x0f, 0xfa, 0xf4, 0x9b, 0x3f, 0xb8, 0xd1, 0x52, 0xbb, 0x90, 0x95, 0x97,
+	0x8f, 0x49, 0xb0, 0xc8, 0xde, 0xce, 0x5a, 0x30, 0x14, 0x72, 0xb7, 0xb1, 0x9c, 0x02, 0x4b, 0x79,
+	0xec, 0x4d, 0x8c, 0x9e, 0xb4, 0x11, 0xf2, 0xdf, 0x28, 0x79, 0xd8, 0xff, 0xd1, 0x82, 0xb1, 0x53,
+	0x7c, 0xe0, 0xc5, 0x4f, 0x7e, 0xe4, 0xd7, 0xf2, 0xfb, 0xc8, 0x7d, 0x3e, 0xec, 0x7f, 0x7f, 0x16,
+	0x12, 0x6f, 0xa9, 0x90, 0xf7, 0x60, 0x44, 0x29, 0x86, 0xea, 0x3a, 0x51, 0x9e, 0x4f, 0x26, 0xe8,
+	0x6d, 0x46, 0x41, 0x42, 0x8c, 0xf9, 0xa5, 0x1c, 0xf5, 0x85, 0x23, 0x39, 0xea, 0x9f, 0xec, 0x83,
+	0x0b, 0xd9, 0xc7, 0xf6, 0xc1, 0x13, 0x39, 0xb6, 0x5f, 0xce, 0xfd, 0xd8, 0xfe, 0xec, 0x29, 0x1f,
+	0xdb, 0x0d, 0x1b, 0x6a, 0xf1, 0x31, 0x6c, 0xa8, 0xef, 0xc1, 0xf9, 0x9d, 0x78, 0xf3, 0xd7, 0x33,
+	0x49, 0xbe, 0x1b, 0x71, 0x35, 0xf3, 0xb0, 0xce, 0x14, 0x99, 0x30, 0xa2, 0x5e, 0x64, 0xa8, 0x0d,
+	0x71, 0x00, 0xe3, 0xdd, 0x0c, 0x72, 0x98, 0xc9, 0x24, 0x6d, 0x0c, 0x1b, 0x3e, 0x82, 0x31, 0xec,
+	0x1f, 0xf7, 0x7d, 0x2c, 0xb6, 0x74, 0xb2, 0x8f, 0xc5, 0x3e, 0x7d, 0xec, 0x87, 0x62, 0x5f, 0x88,
+	0x7d, 0x05, 0x22, 0x38, 0x24, 0xdb, 0xb0, 0xff, 0xb5, 0xb4, 0x03, 0x12, 0xf8, 0xd0, 0x7f, 0x36,
+	0x5f, 0xad, 0x27, 0x07, 0x27, 0xe4, 0xe8, 0x63, 0x38, 0x21, 0x53, 0x96, 0xc9, 0xb1, 0x9c, 0x2c,
+	0x93, 0x1e, 0x4c, 0xba, 0x6d, 0xa7, 0x41, 0xd7, 0xbb, 0xad, 0x96, 0x88, 0x21, 0x55, 0x8f, 0x5a,
+	0x64, 0x86, 0x4a, 0xde, 0xf6, 0x6b, 0x4e, 0x2b, 0xfd, 0x76, 0x90, 0x8e, 0x95, 0xbd, 0x95, 0xa2,
+	0x84, 0x3d, 0xb4, 0xd9, 0x84, 0xe5, 0x49, 0x22, 0x68, 0xc4, 0x46, 0x9b, 0x7b, 0xba, 0xe4, 0xab,
+	0xde, 0x4b, 0x31, 0x18, 0x4d, 0x1c, 0xb2, 0x0c, 0x23, 0x75, 0x2f, 0x94, 0xb7, 0x4f, 0x26, 0xb8,
+	0x30, 0xfb, 0x71, 0x26, 0x02, 0x17, 0x56, 0xab, 0xfa, 0xde, 0xc9, 0xe5, 0x8c, 0xfc, 0x23, 0xba,
+	0x1c, 0xe3, 0xfa, 0x64, 0x85, 0x13, 0x93, 0x79, 0x89, 0x85, 0x03, 0xea, 0xb9, 0x3e, 0xf6, 0xb4,
+	0x85, 0x55, 0x95, 0x59, 0x79, 0x5c, 0xb2, 0x93, 0x09, 0x86, 0x63, 0x0a, 0xc6, 0xe3, 0x22, 0x67,
+	0x0f, 0x7d, 0x5c, 0x84, 0x27, 0x1e, 0x8a, 0x5a, 0xda, 0x7a, 0x7e, 0x25, 0xb7, 0xc4, 0x43, 0x71,
+	0x68, 0x87, 0x4c, 0x3c, 0x14, 0x03, 0xd0, 0x64, 0x49, 0xd6, 0xfa, 0x79, 0x11, 0xce, 0x71, 0xa1,
+	0x71, 0x7c, 0x9f, 0x80, 0x69, 0x4e, 0x3e, 0x7f, 0xa8, 0x39, 0xb9, 0xc7, 0xfc, 0x7d, 0xe1, 0x18,
+	0xe6, 0xef, 0x26, 0x4f, 0x09, 0x73, 0x73, 0x5e, 0x7a, 0x1c, 0x72, 0x50, 0xe8, 0xf8, 0x7d, 0x54,
+	0x11, 0x2a, 0xc3, 0x7f, 0xa2, 0x60, 0x40, 0xd6, 0xe1, 0x7c, 0xc7, 0xaf, 0xf7, 0x98, 0xd2, 0xb9,
+	0x8b, 0xc1, 0x88, 0x2f, 0x5f, 0xcf, 0xc0, 0xc1, 0xcc, 0x9a, 0x5c, 0x3c, 0xc7, 0x70, 0x9e, 0x5b,
+	0xa8, 0x28, 0xc5, 0x73, 0x0c, 0x46, 0x13, 0x27, 0x6d, 0x4c, 0x7e, 0xfa, 0xc4, 0x8c, 0xc9, 0x53,
+	0xa7, 0x60, 0x4c, 0x7e, 0xe6, 0xc8, 0xc6, 0xe4, 0x0f, 0xe0, 0x5c, 0xc7, 0xaf, 0x2f, 0xb8, 0x61,
+	0xd0, 0xe5, 0x41, 0xf5, 0x95, 0x6e, 0xbd, 0x41, 0x23, 0x6e, 0x8d, 0x1e, 0xbd, 0x76, 0xcd, 0x6c,
+	0x64, 0x87, 0x2f, 0xe4, 0x99, 0x9d, 0x97, 0x37, 0x69, 0x24, 0x3e, 0x66, 0xba, 0x16, 0x3f, 0x30,
+	0xf1, 0x58, 0xa1, 0x8c, 0x42, 0xcc, 0xe2, 0x63, 0xda, 0xb2, 0x9f, 0x3b, 0x1d, 0x5b, 0xf6, 0xa7,
+	0xa1, 0x14, 0x36, 0xbb, 0x51, 0xdd, 0xdf, 0xf5, 0xb8, 0xc3, 0x62, 0x44, 0x3f, 0x2f, 0x58, 0xaa,
+	0x4a, 0xf8, 0x83, 0xfd, 0xe9, 0x49, 0xf5, 0xdb, 0x30, 0x29, 0x48, 0x08, 0xf9, 0x7a, 0x9f, 0xb0,
+	0x61, 0xfb, 0x24, 0xc3, 0x86, 0x2f, 0x1d, 0x2b, 0x64, 0x38, 0xcb, 0x60, 0xff, 0xfc, 0x0f, 0x9d,
+	0xc1, 0xfe, 0x57, 0x2d, 0x18, 0xdf, 0x31, 0xed, 0x37, 0xd2, 0xa9, 0x90, 0x83, 0x73, 0x33, 0x61,
+	0x16, 0xaa, 0xd8, 0x4c, 0xd8, 0x25, 0x40, 0x0f, 0xd2, 0x00, 0x4c, 0xb6, 0x24, 0xc3, 0xf1, 0xfa,
+	0xc2, 0x93, 0x72, 0xbc, 0x7e, 0xc0, 0x85, 0x99, 0x8a, 0x52, 0xe2, 0x9e, 0x86, 0x7c, 0x23, 0xa1,
+	0x94, 0x60, 0xd4, 0x81, 0x50, 0x26, 0x3f, 0xf2, 0x15, 0x0b, 0x26, 0xd5, 0xe1, 0x4c, 0xda, 0x5f,
+	0x43, 0x19, 0xcb, 0x91, 0xe7, 0x99, 0x90, 0x07, 0x03, 0x6e, 0xa4, 0xf8, 0x60, 0x0f, 0xe7, 0xc7,
+	0x77, 0xa4, 0xfc, 0x01, 0x81, 0x33, 0xa9, 0x97, 0x1b, 0x3f, 0x9e, 0xcc, 0x2c, 0x79, 0x25, 0x9d,
+	0xde, 0x6f, 0x5c, 0xe1, 0x27, 0x52, 0xfc, 0x25, 0x72, 0xf0, 0x15, 0x4e, 0x34, 0x07, 0xdf, 0xc0,
+	0xe9, 0xe4, 0xe0, 0x9b, 0x3c, 0x89, 0x1c, 0x7c, 0x67, 0x8f, 0x95, 0x83, 0xcf, 0xc8, 0x81, 0x38,
+	0xf8, 0x90, 0x1c, 0x88, 0x73, 0x30, 0xa1, 0x42, 0x45, 0xa9, 0x4c, 0xae, 0x26, 0x8c, 0xdf, 0x97,
+	0x64, 0x95, 0x89, 0xf9, 0x64, 0x31, 0xa6, 0xf1, 0xc9, 0x47, 0x16, 0x14, 0x3d, 0x5e, 0x73, 0x28,
+	0xaf, 0xb4, 0xc2, 0xc9, 0xa9, 0xc5, 0x0f, 0x2f, 0x32, 0x99, 0xaf, 0x0a, 0xc5, 0x29, 0x72, 0xd8,
+	0x03, 0xf5, 0x03, 0x45, 0x0b, 0xc8, 0xdb, 0x50, 0xf6, 0xb7, 0xb6, 0x5a, 0xbe, 0x53, 0x8f, 0x13,
+	0x05, 0x2a, 0xeb, 0xbc, 0x08, 0xb7, 0xd7, 0x89, 0x92, 0xd6, 0xfa, 0xe0, 0x61, 0x5f, 0x0a, 0xec,
+	0xf4, 0x39, 0x11, 0x46, 0x7e, 0x40, 0xeb, 0xf1, 0x49, 0x79, 0x84, 0xf7, 0x99, 0xe6, 0xde, 0xe7,
+	0x6a, 0x92, 0x8f, 0xe8, 0xbd, 0xfe, 0x28, 0xa9, 0x52, 0x4c, 0x37, 0x8b, 0x04, 0x70, 0xb1, 0x93,
+	0x75, 0x50, 0x0f, 0x65, 0x80, 0xeb, 0x61, 0xe6, 0x02, 0xb5, 0x74, 0x2f, 0x66, 0x1e, 0xf5, 0x43,
+	0xec, 0x43, 0xd9, 0x4c, 0x21, 0x58, 0x3a, 0x9d, 0x14, 0x82, 0xc9, 0xf7, 0x56, 0xc7, 0x4f, 0xfd,
+	0xbd, 0x55, 0xf2, 0xa7, 0x99, 0xd9, 0x2e, 0xc5, 0xf9, 0xb6, 0x91, 0xfb, 0x9c, 0xf8, 0xa1, 0xcb,
+	0x78, 0xf9, 0x8f, 0x2c, 0x98, 0x12, 0x33, 0x2f, 0xad, 0x55, 0xf1, 0x97, 0xac, 0xcf, 0x9c, 0x88,
+	0x03, 0x87, 0xbb, 0x98, 0xab, 0x09, 0xae, 0xdc, 0xaf, 0x70, 0x48, 0x4b, 0xc8, 0x2f, 0x67, 0xe8,
+	0x72, 0x13, 0x79, 0x59, 0x8c, 0xb2, 0x33, 0x25, 0x9e, 0x3b, 0x38, 0x8a, 0xfa, 0xf6, 0x4f, 0xfb,
+	0x1a, 0xb4, 0x08, 0x6f, 0xde, 0x5f, 0x3d, 0x21, 0x83, 0x96, 0x99, 0xce, 0xf1, 0x38, 0x66, 0xad,
+	0xa9, 0x9f, 0x93, 0xf9, 0xa4, 0xfb, 0x66, 0x3d, 0xdf, 0x4c, 0x3e, 0xcf, 0x79, 0x3b, 0xcf, 0x9c,
+	0xaf, 0x66, 0xfa, 0xf5, 0xbf, 0x61, 0xc1, 0xf9, 0x2c, 0x21, 0x99, 0xd1, 0xa4, 0xcf, 0x26, 0x9b,
+	0x94, 0xa3, 0xc6, 0x65, 0x36, 0x28, 0x9f, 0x44, 0x97, 0xdf, 0x1f, 0x31, 0xdc, 0x08, 0x11, 0xed,
+	0x9c, 0xe0, 0x33, 0xce, 0xe3, 0xff, 0xff, 0x19, 0xe7, 0xd3, 0x48, 0x9a, 0x9d, 0x78, 0x90, 0xb9,
+	0xf8, 0xa4, 0x1e, 0x64, 0x1e, 0x7a, 0x94, 0x07, 0x99, 0x87, 0x9f, 0xd8, 0x83, 0xcc, 0xa5, 0x23,
+	0x3e, 0xc8, 0x3c, 0xf2, 0x43, 0xfa, 0x20, 0xf3, 0xaf, 0xe9, 0x57, 0x96, 0x85, 0x32, 0xf0, 0x46,
+	0xbe, 0x89, 0x04, 0xff, 0xdf, 0x7b, 0x6a, 0xf9, 0x8f, 0x0a, 0x30, 0xa1, 0xb7, 0x6e, 0x27, 0xdc,
+	0xae, 0xd2, 0xe8, 0x14, 0x62, 0x20, 0x76, 0x13, 0x31, 0x10, 0x79, 0x9a, 0x9d, 0x44, 0x17, 0xfa,
+	0x46, 0x9c, 0x7c, 0x21, 0x15, 0x71, 0x72, 0x2f, 0x7f, 0xd6, 0x87, 0x07, 0x9e, 0xfc, 0x0f, 0x0b,
+	0xce, 0xa5, 0x6a, 0x9c, 0x82, 0x57, 0x7e, 0x27, 0xe9, 0x95, 0x7f, 0x3d, 0xf7, 0x5e, 0xf7, 0x71,
+	0xce, 0xff, 0x7a, 0xa1, 0xa7, 0xb7, 0x5c, 0x2f, 0xfc, 0x59, 0x4b, 0xbd, 0xd4, 0x6d, 0xe5, 0xed,
+	0x76, 0x33, 0xd8, 0xcc, 0xf0, 0xc7, 0xba, 0xc5, 0x6a, 0xcd, 0x7c, 0xc0, 0x7b, 0xea, 0x67, 0x2c,
+	0x80, 0x18, 0xe9, 0x49, 0xa9, 0x30, 0xf6, 0x6f, 0x16, 0xe0, 0x42, 0xe6, 0x34, 0x22, 0x5f, 0xd6,
+	0x87, 0x7c, 0x31, 0x50, 0x9b, 0x27, 0x34, 0x5f, 0xcd, 0xb3, 0xfe, 0x78, 0xe2, 0xac, 0x2f, 0x8f,
+	0xf8, 0x4f, 0x4a, 0x01, 0x95, 0x39, 0x66, 0x8d, 0xc1, 0xfa, 0x9f, 0x16, 0x4c, 0xa6, 0x0f, 0x1b,
+	0xa7, 0x20, 0xb2, 0xee, 0x27, 0x44, 0xd6, 0xdd, 0xfc, 0x2d, 0xe5, 0x7d, 0x43, 0xb6, 0xfe, 0xc8,
+	0x88, 0x55, 0x53, 0xc8, 0xa7, 0x20, 0x33, 0x76, 0x93, 0x32, 0x03, 0xf3, 0xef, 0x71, 0x1f, 0xa1,
+	0xf1, 0x2e, 0x64, 0x39, 0x0b, 0x8e, 0x96, 0x5f, 0x23, 0x11, 0x06, 0x5e, 0x38, 0x72, 0x18, 0xf8,
+	0x2f, 0x14, 0x7a, 0x87, 0x98, 0x0b, 0xaa, 0x0f, 0x99, 0x6a, 0x66, 0x9c, 0x76, 0xf3, 0x4b, 0x7f,
+	0x90, 0x38, 0x5b, 0xeb, 0x36, 0x26, 0x4e, 0xd6, 0x09, 0xce, 0xe4, 0x9d, 0xb8, 0x25, 0xec, 0x4b,
+	0x3d, 0x34, 0x97, 0x4d, 0xbf, 0x69, 0xce, 0x8d, 0xd5, 0xf7, 0x0c, 0x4a, 0xdc, 0x6c, 0x9e, 0xa0,
+	0x6d, 0x8f, 0xc3, 0xe8, 0x9b, 0x6e, 0x47, 0xdb, 0xf9, 0x67, 0xbe, 0xf5, 0xbd, 0x2b, 0x4f, 0xfd,
+	0xde, 0xf7, 0xae, 0x3c, 0xf5, 0x9d, 0xef, 0x5d, 0x79, 0xea, 0x8b, 0x07, 0x57, 0xac, 0x6f, 0x1d,
+	0x5c, 0xb1, 0x7e, 0xef, 0xe0, 0x8a, 0xf5, 0x9d, 0x83, 0x2b, 0xd6, 0x7f, 0x3a, 0xb8, 0x62, 0xfd,
+	0xcd, 0xff, 0x7c, 0xe5, 0xa9, 0x37, 0x4b, 0xaa, 0x6f, 0xff, 0x37, 0x00, 0x00, 0xff, 0xff, 0xe1,
+	0x9f, 0xf9, 0x1d, 0x20, 0xa7, 0x00, 0x00,
 }
 
 func (m *Amount) Marshal() (dAtA []byte, err error) {
@@ -8053,6 +8090,18 @@ func (m *S3Bucket) MarshalToSizedBuffer(dAtA []byte) (int, error) {
 	_ = i
 	var l int
 	_ = l
+	if m.EncryptionOptions != nil {
+		{
+			size, err := m.EncryptionOptions.MarshalToSizedBuffer(dAtA[:i])
+			if err != nil {
+				return 0, err
+			}
+			i -= size
+			i = encodeVarintGenerated(dAtA, i, uint64(size))
+		}
+		i--
+		dAtA[i] = 0x52
+	}
 	if m.CreateBucketIfNotPresent != nil {
 		{
 			size, err := m.CreateBucketIfNotPresent.MarshalToSizedBuffer(dAtA[:i])
@@ -8130,6 +8179,59 @@ func (m *S3Bucket) MarshalToSizedBuffer(dAtA []byte) (int, error) {
 	return len(dAtA) - i, nil
 }
 
+func (m *S3EncryptionOptions) Marshal() (dAtA []byte, err error) {
+	size := m.Size()
+	dAtA = make([]byte, size)
+	n, err := m.MarshalToSizedBuffer(dAtA[:size])
+	if err != nil {
+		return nil, err
+	}
+	return dAtA[:n], nil
+}
+
+func (m *S3EncryptionOptions) MarshalTo(dAtA []byte) (int, error) {
+	size := m.Size()
+	return m.MarshalToSizedBuffer(dAtA[:size])
+}
+
+func (m *S3EncryptionOptions) MarshalToSizedBuffer(dAtA []byte) (int, error) {
+	i := len(dAtA)
+	_ = i
+	var l int
+	_ = l
+	if m.ServerSideCustomerKeySecret != nil {
+		{
+			size, err := m.ServerSideCustomerKeySecret.MarshalToSizedBuffer(dAtA[:i])
+			if err != nil {
+				return 0, err
+			}
+			i -= size
+			i = encodeVarintGenerated(dAtA, i, uint64(size))
+		}
+		i--
+		dAtA[i] = 0x22
+	}
+	i--
+	if m.EnableEncryption {
+		dAtA[i] = 1
+	} else {
+		dAtA[i] = 0
+	}
+	i--
+	dAtA[i] = 0x18
+	i -= len(m.KmsEncryptionContext)
+	copy(dAtA[i:], m.KmsEncryptionContext)
+	i = encodeVarintGenerated(dAtA, i, uint64(len(m.KmsEncryptionContext)))
+	i--
+	dAtA[i] = 0x12
+	i -= len(m.KmsKeyId)
+	copy(dAtA[i:], m.KmsKeyId)
+	i = encodeVarintGenerated(dAtA, i, uint64(len(m.KmsKeyId)))
+	i--
+	dAtA[i] = 0xa
+	return len(dAtA) - i, nil
+}
+
 func (m *ScriptTemplate) Marshal() (dAtA []byte, err error) {
 	size := m.Size()
 	dAtA = make([]byte, size)
@@ -12481,6 +12583,28 @@ func (m *S3Bucket) Size() (n int) {
 		l = m.CreateBucketIfNotPresent.Size()
 		n += 1 + l + sovGenerated(uint64(l))
 	}
+	if m.EncryptionOptions != nil {
+		l = m.EncryptionOptions.Size()
+		n += 1 + l + sovGenerated(uint64(l))
+	}
+	return n
+}
+
+func (m *S3EncryptionOptions) Size() (n int) {
+	if m == nil {
+		return 0
+	}
+	var l int
+	_ = l
+	l = len(m.KmsKeyId)
+	n += 1 + l + sovGenerated(uint64(l))
+	l = len(m.KmsEncryptionContext)
+	n += 1 + l + sovGenerated(uint64(l))
+	n += 2
+	if m.ServerSideCustomerKeySecret != nil {
+		l = m.ServerSideCustomerKeySecret.Size()
+		n += 1 + l + sovGenerated(uint64(l))
+	}
 	return n
 }
 
@@ -14566,6 +14690,20 @@ func (this *S3Bucket) String() string {
 		`RoleARN:` + fmt.Sprintf("%v", this.RoleARN) + `,`,
 		`UseSDKCreds:` + fmt.Sprintf("%v", this.UseSDKCreds) + `,`,
 		`CreateBucketIfNotPresent:` + strings.Replace(this.CreateBucketIfNotPresent.String(), "CreateS3BucketOptions", "CreateS3BucketOptions", 1) + `,`,
+		`EncryptionOptions:` + strings.Replace(this.EncryptionOptions.String(), "S3EncryptionOptions", "S3EncryptionOptions", 1) + `,`,
+		`}`,
+	}, "")
+	return s
+}
+func (this *S3EncryptionOptions) String() string {
+	if this == nil {
+		return "nil"
+	}
+	s := strings.Join([]string{`&S3EncryptionOptions{`,
+		`KmsKeyId:` + fmt.Sprintf("%v", this.KmsKeyId) + `,`,
+		`KmsEncryptionContext:` + fmt.Sprintf("%v", this.KmsEncryptionContext) + `,`,
+		`EnableEncryption:` + fmt.Sprintf("%v", this.EnableEncryption) + `,`,
+		`ServerSideCustomerKeySecret:` + strings.Replace(fmt.Sprintf("%v", this.ServerSideCustomerKeySecret), "SecretKeySelector", "v1.SecretKeySelector", 1) + `,`,
 		`}`,
 	}, "")
 	return s
@@ -28012,6 +28150,212 @@ func (m *S3Bucket) Unmarshal(dAtA []byte) error {
 				return err
 			}
 			iNdEx = postIndex
+		case 10:
+			if wireType != 2 {
+				return fmt.Errorf("proto: wrong wireType = %d for field EncryptionOptions", wireType)
+			}
+			var msglen int
+			for shift := uint(0); ; shift += 7 {
+				if shift >= 64 {
+					return ErrIntOverflowGenerated
+				}
+				if iNdEx >= l {
+					return io.ErrUnexpectedEOF
+				}
+				b := dAtA[iNdEx]
+				iNdEx++
+				msglen |= int(b&0x7F) << shift
+				if b < 0x80 {
+					break
+				}
+			}
+			if msglen < 0 {
+				return ErrInvalidLengthGenerated
+			}
+			postIndex := iNdEx + msglen
+			if postIndex < 0 {
+				return ErrInvalidLengthGenerated
+			}
+			if postIndex > l {
+				return io.ErrUnexpectedEOF
+			}
+			if m.EncryptionOptions == nil {
+				m.EncryptionOptions = &S3EncryptionOptions{}
+			}
+			if err := m.EncryptionOptions.Unmarshal(dAtA[iNdEx:postIndex]); err != nil {
+				return err
+			}
+			iNdEx = postIndex
+		default:
+			iNdEx = preIndex
+			skippy, err := skipGenerated(dAtA[iNdEx:])
+			if err != nil {
+				return err
+			}
+			if (skippy < 0) || (iNdEx+skippy) < 0 {
+				return ErrInvalidLengthGenerated
+			}
+			if (iNdEx + skippy) > l {
+				return io.ErrUnexpectedEOF
+			}
+			iNdEx += skippy
+		}
+	}
+
+	if iNdEx > l {
+		return io.ErrUnexpectedEOF
+	}
+	return nil
+}
+func (m *S3EncryptionOptions) Unmarshal(dAtA []byte) error {
+	l := len(dAtA)
+	iNdEx := 0
+	for iNdEx < l {
+		preIndex := iNdEx
+		var wire uint64
+		for shift := uint(0); ; shift += 7 {
+			if shift >= 64 {
+				return ErrIntOverflowGenerated
+			}
+			if iNdEx >= l {
+				return io.ErrUnexpectedEOF
+			}
+			b := dAtA[iNdEx]
+			iNdEx++
+			wire |= uint64(b&0x7F) << shift
+			if b < 0x80 {
+				break
+			}
+		}
+		fieldNum := int32(wire >> 3)
+		wireType := int(wire & 0x7)
+		if wireType == 4 {
+			return fmt.Errorf("proto: S3EncryptionOptions: wiretype end group for non-group")
+		}
+		if fieldNum <= 0 {
+			return fmt.Errorf("proto: S3EncryptionOptions: illegal tag %d (wire type %d)", fieldNum, wire)
+		}
+		switch fieldNum {
+		case 1:
+			if wireType != 2 {
+				return fmt.Errorf("proto: wrong wireType = %d for field KmsKeyId", wireType)
+			}
+			var stringLen uint64
+			for shift := uint(0); ; shift += 7 {
+				if shift >= 64 {
+					return ErrIntOverflowGenerated
+				}
+				if iNdEx >= l {
+					return io.ErrUnexpectedEOF
+				}
+				b := dAtA[iNdEx]
+				iNdEx++
+				stringLen |= uint64(b&0x7F) << shift
+				if b < 0x80 {
+					break
+				}
+			}
+			intStringLen := int(stringLen)
+			if intStringLen < 0 {
+				return ErrInvalidLengthGenerated
+			}
+			postIndex := iNdEx + intStringLen
+			if postIndex < 0 {
+				return ErrInvalidLengthGenerated
+			}
+			if postIndex > l {
+				return io.ErrUnexpectedEOF
+			}
+			m.KmsKeyId = string(dAtA[iNdEx:postIndex])
+			iNdEx = postIndex
+		case 2:
+			if wireType != 2 {
+				return fmt.Errorf("proto: wrong wireType = %d for field KmsEncryptionContext", wireType)
+			}
+			var stringLen uint64
+			for shift := uint(0); ; shift += 7 {
+				if shift >= 64 {
+					return ErrIntOverflowGenerated
+				}
+				if iNdEx >= l {
+					return io.ErrUnexpectedEOF
+				}
+				b := dAtA[iNdEx]
+				iNdEx++
+				stringLen |= uint64(b&0x7F) << shift
+				if b < 0x80 {
+					break
+				}
+			}
+			intStringLen := int(stringLen)
+			if intStringLen < 0 {
+				return ErrInvalidLengthGenerated
+			}
+			postIndex := iNdEx + intStringLen
+			if postIndex < 0 {
+				return ErrInvalidLengthGenerated
+			}
+			if postIndex > l {
+				return io.ErrUnexpectedEOF
+			}
+			m.KmsEncryptionContext = string(dAtA[iNdEx:postIndex])
+			iNdEx = postIndex
+		case 3:
+			if wireType != 0 {
+				return fmt.Errorf("proto: wrong wireType = %d for field EnableEncryption", wireType)
+			}
+			var v int
+			for shift := uint(0); ; shift += 7 {
+				if shift >= 64 {
+					return ErrIntOverflowGenerated
+				}
+				if iNdEx >= l {
+					return io.ErrUnexpectedEOF
+				}
+				b := dAtA[iNdEx]
+				iNdEx++
+				v |= int(b&0x7F) << shift
+				if b < 0x80 {
+					break
+				}
+			}
+			m.EnableEncryption = bool(v != 0)
+		case 4:
+			if wireType != 2 {
+				return fmt.Errorf("proto: wrong wireType = %d for field ServerSideCustomerKeySecret", wireType)
+			}
+			var msglen int
+			for shift := uint(0); ; shift += 7 {
+				if shift >= 64 {
+					return ErrIntOverflowGenerated
+				}
+				if iNdEx >= l {
+					return io.ErrUnexpectedEOF
+				}
+				b := dAtA[iNdEx]
+				iNdEx++
+				msglen |= int(b&0x7F) << shift
+				if b < 0x80 {
+					break
+				}
+			}
+			if msglen < 0 {
+				return ErrInvalidLengthGenerated
+			}
+			postIndex := iNdEx + msglen
+			if postIndex < 0 {
+				return ErrInvalidLengthGenerated
+			}
+			if postIndex > l {
+				return io.ErrUnexpectedEOF
+			}
+			if m.ServerSideCustomerKeySecret == nil {
+				m.ServerSideCustomerKeySecret = &v1.SecretKeySelector{}
+			}
+			if err := m.ServerSideCustomerKeySecret.Unmarshal(dAtA[iNdEx:postIndex]); err != nil {
+				return err
+			}
+			iNdEx = postIndex
 		default:
 			iNdEx = preIndex
 			skippy, err := skipGenerated(dAtA[iNdEx:])
diff --git a/pkg/apis/workflow/v1alpha1/generated.proto b/pkg/apis/workflow/v1alpha1/generated.proto
index 52c5f9900096..f9c40df4fb78 100644
--- a/pkg/apis/workflow/v1alpha1/generated.proto
+++ b/pkg/apis/workflow/v1alpha1/generated.proto
@@ -1086,8 +1086,25 @@ message S3Bucket {
   // UseSDKCreds tells the driver to figure out credentials based on sdk defaults.
   optional bool useSDKCreds = 8;
 
-  // CreateBucketIfNotPresent tells the driver to attempt to create the S3 bucket for output artifacts, if it doesn't exist
+  // CreateBucketIfNotPresent tells the driver to attempt to create the S3 bucket for output artifacts, if it doesn't exist. Setting Enabled Encryption will apply either SSE-S3 to the bucket if KmsKeyId is not set or SSE-KMS if it is.
   optional CreateS3BucketOptions createBucketIfNotPresent = 9;
+
+  optional S3EncryptionOptions encryptionOptions = 10;
+}
+
+// S3EncryptionOptions used to determine encryption options during s3 operations
+message S3EncryptionOptions {
+  // KMSKeyId tells the driver to encrypt the object using the specified KMS Key.
+  optional string kmsKeyId = 1;
+
+  // KmsEncryptionContext is a json blob that contains an encryption context. See https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#encrypt_context for more information
+  optional string kmsEncryptionContext = 2;
+
+  // EnableEncryption tells the driver to encrypt objects if set to true. If kmsKeyId and serverSideCustomerKeySecret are not set, SSE-S3 will be used
+  optional bool enableEncryption = 3;
+
+  // ServerSideCustomerKeySecret tells the driver to encrypt the output artifacts using SSE-C with the specified secret.
+  optional k8s.io.api.core.v1.SecretKeySelector serverSideCustomerKeySecret = 4;
 }
 
 // ScriptTemplate is a template subtype to enable scripting through code steps
diff --git a/pkg/apis/workflow/v1alpha1/openapi_generated.go b/pkg/apis/workflow/v1alpha1/openapi_generated.go
index 5ee5d043ec5b..f4ab2baebed6 100644
--- a/pkg/apis/workflow/v1alpha1/openapi_generated.go
+++ b/pkg/apis/workflow/v1alpha1/openapi_generated.go
@@ -93,6 +93,7 @@ func GetOpenAPIDefinitions(ref common.ReferenceCallback) map[string]common.OpenA
 		"github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.S3Artifact":                    schema_pkg_apis_workflow_v1alpha1_S3Artifact(ref),
 		"github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.S3ArtifactRepository":          schema_pkg_apis_workflow_v1alpha1_S3ArtifactRepository(ref),
 		"github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.S3Bucket":                      schema_pkg_apis_workflow_v1alpha1_S3Bucket(ref),
+		"github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.S3EncryptionOptions":           schema_pkg_apis_workflow_v1alpha1_S3EncryptionOptions(ref),
 		"github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.ScriptTemplate":                schema_pkg_apis_workflow_v1alpha1_ScriptTemplate(ref),
 		"github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.SemaphoreHolding":              schema_pkg_apis_workflow_v1alpha1_SemaphoreHolding(ref),
 		"github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.SemaphoreRef":                  schema_pkg_apis_workflow_v1alpha1_SemaphoreRef(ref),
@@ -3993,10 +3994,15 @@ func schema_pkg_apis_workflow_v1alpha1_S3Artifact(ref common.ReferenceCallback)
 					},
 					"createBucketIfNotPresent": {
 						SchemaProps: spec.SchemaProps{
-							Description: "CreateBucketIfNotPresent tells the driver to attempt to create the S3 bucket for output artifacts, if it doesn't exist",
+							Description: "CreateBucketIfNotPresent tells the driver to attempt to create the S3 bucket for output artifacts, if it doesn't exist. Setting Enabled Encryption will apply either SSE-S3 to the bucket if KmsKeyId is not set or SSE-KMS if it is.",
 							Ref:         ref("github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.CreateS3BucketOptions"),
 						},
 					},
+					"encryptionOptions": {
+						SchemaProps: spec.SchemaProps{
+							Ref: ref("github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.S3EncryptionOptions"),
+						},
+					},
 					"key": {
 						SchemaProps: spec.SchemaProps{
 							Description: "Key is the key in the bucket where the artifact resides",
@@ -4008,7 +4014,7 @@ func schema_pkg_apis_workflow_v1alpha1_S3Artifact(ref common.ReferenceCallback)
 			},
 		},
 		Dependencies: []string{
-			"github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.CreateS3BucketOptions", "k8s.io/api/core/v1.SecretKeySelector"},
+			"github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.CreateS3BucketOptions", "github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.S3EncryptionOptions", "k8s.io/api/core/v1.SecretKeySelector"},
 	}
 }
 
@@ -4075,10 +4081,15 @@ func schema_pkg_apis_workflow_v1alpha1_S3ArtifactRepository(ref common.Reference
 					},
 					"createBucketIfNotPresent": {
 						SchemaProps: spec.SchemaProps{
-							Description: "CreateBucketIfNotPresent tells the driver to attempt to create the S3 bucket for output artifacts, if it doesn't exist",
+							Description: "CreateBucketIfNotPresent tells the driver to attempt to create the S3 bucket for output artifacts, if it doesn't exist. Setting Enabled Encryption will apply either SSE-S3 to the bucket if KmsKeyId is not set or SSE-KMS if it is.",
 							Ref:         ref("github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.CreateS3BucketOptions"),
 						},
 					},
+					"encryptionOptions": {
+						SchemaProps: spec.SchemaProps{
+							Ref: ref("github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.S3EncryptionOptions"),
+						},
+					},
 					"keyFormat": {
 						SchemaProps: spec.SchemaProps{
 							Description: "KeyFormat is defines the format of how to store keys. Can reference workflow variables",
@@ -4097,7 +4108,7 @@ func schema_pkg_apis_workflow_v1alpha1_S3ArtifactRepository(ref common.Reference
 			},
 		},
 		Dependencies: []string{
-			"github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.CreateS3BucketOptions", "k8s.io/api/core/v1.SecretKeySelector"},
+			"github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.CreateS3BucketOptions", "github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.S3EncryptionOptions", "k8s.io/api/core/v1.SecretKeySelector"},
 	}
 }
 
@@ -4164,15 +4175,62 @@ func schema_pkg_apis_workflow_v1alpha1_S3Bucket(ref common.ReferenceCallback) co
 					},
 					"createBucketIfNotPresent": {
 						SchemaProps: spec.SchemaProps{
-							Description: "CreateBucketIfNotPresent tells the driver to attempt to create the S3 bucket for output artifacts, if it doesn't exist",
+							Description: "CreateBucketIfNotPresent tells the driver to attempt to create the S3 bucket for output artifacts, if it doesn't exist. Setting Enabled Encryption will apply either SSE-S3 to the bucket if KmsKeyId is not set or SSE-KMS if it is.",
 							Ref:         ref("github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.CreateS3BucketOptions"),
 						},
 					},
+					"encryptionOptions": {
+						SchemaProps: spec.SchemaProps{
+							Ref: ref("github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.S3EncryptionOptions"),
+						},
+					},
 				},
 			},
 		},
 		Dependencies: []string{
-			"github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.CreateS3BucketOptions", "k8s.io/api/core/v1.SecretKeySelector"},
+			"github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.CreateS3BucketOptions", "github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.S3EncryptionOptions", "k8s.io/api/core/v1.SecretKeySelector"},
+	}
+}
+
+func schema_pkg_apis_workflow_v1alpha1_S3EncryptionOptions(ref common.ReferenceCallback) common.OpenAPIDefinition {
+	return common.OpenAPIDefinition{
+		Schema: spec.Schema{
+			SchemaProps: spec.SchemaProps{
+				Description: "S3EncryptionOptions used to determine encryption options during s3 operations",
+				Type:        []string{"object"},
+				Properties: map[string]spec.Schema{
+					"kmsKeyId": {
+						SchemaProps: spec.SchemaProps{
+							Description: "KMSKeyId tells the driver to encrypt the object using the specified KMS Key.",
+							Type:        []string{"string"},
+							Format:      "",
+						},
+					},
+					"kmsEncryptionContext": {
+						SchemaProps: spec.SchemaProps{
+							Description: "KmsEncryptionContext is a json blob that contains an encryption context. See https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#encrypt_context for more information",
+							Type:        []string{"string"},
+							Format:      "",
+						},
+					},
+					"enableEncryption": {
+						SchemaProps: spec.SchemaProps{
+							Description: "EnableEncryption tells the driver to encrypt objects if set to true. If kmsKeyId and serverSideCustomerKeySecret are not set, SSE-S3 will be used",
+							Type:        []string{"boolean"},
+							Format:      "",
+						},
+					},
+					"serverSideCustomerKeySecret": {
+						SchemaProps: spec.SchemaProps{
+							Description: "ServerSideCustomerKeySecret tells the driver to encrypt the output artifacts using SSE-C with the specified secret.",
+							Ref:         ref("k8s.io/api/core/v1.SecretKeySelector"),
+						},
+					},
+				},
+			},
+		},
+		Dependencies: []string{
+			"k8s.io/api/core/v1.SecretKeySelector"},
 	}
 }
 
diff --git a/pkg/apis/workflow/v1alpha1/workflow_types.go b/pkg/apis/workflow/v1alpha1/workflow_types.go
index ba01dfde0b89..7163cec2f0a1 100644
--- a/pkg/apis/workflow/v1alpha1/workflow_types.go
+++ b/pkg/apis/workflow/v1alpha1/workflow_types.go
@@ -1930,8 +1930,25 @@ type S3Bucket struct {
 	// UseSDKCreds tells the driver to figure out credentials based on sdk defaults.
 	UseSDKCreds bool `json:"useSDKCreds,omitempty" protobuf:"varint,8,opt,name=useSDKCreds"`
 
-	// CreateBucketIfNotPresent tells the driver to attempt to create the S3 bucket for output artifacts, if it doesn't exist
+	// CreateBucketIfNotPresent tells the driver to attempt to create the S3 bucket for output artifacts, if it doesn't exist. Setting Enabled Encryption will apply either SSE-S3 to the bucket if KmsKeyId is not set or SSE-KMS if it is.
 	CreateBucketIfNotPresent *CreateS3BucketOptions `json:"createBucketIfNotPresent,omitempty" protobuf:"bytes,9,opt,name=createBucketIfNotPresent"`
+
+	EncryptionOptions *S3EncryptionOptions `json:"encryptionOptions,omitempty" protobuf:"bytes,10,opt,name=encryptionOptions"`
+}
+
+// S3EncryptionOptions used to determine encryption options during s3 operations
+type S3EncryptionOptions struct {
+	// KMSKeyId tells the driver to encrypt the object using the specified KMS Key.
+	KmsKeyId string `json:"kmsKeyId,omitempty" protobuf:"bytes,1,opt,name=kmsKeyId"`
+
+	// KmsEncryptionContext is a json blob that contains an encryption context. See https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#encrypt_context for more information
+	KmsEncryptionContext string `json:"kmsEncryptionContext,omitempty" protobuf:"bytes,2,opt,name=kmsEncryptionContext"`
+
+	// EnableEncryption tells the driver to encrypt objects if set to true. If kmsKeyId and serverSideCustomerKeySecret are not set, SSE-S3 will be used
+	EnableEncryption bool `json:"enableEncryption,omitempty" protobuf:"varint,3,opt,name=enableEncryption"`
+
+	// ServerSideCustomerKeySecret tells the driver to encrypt the output artifacts using SSE-C with the specified secret.
+	ServerSideCustomerKeySecret *apiv1.SecretKeySelector `json:"serverSideCustomerKeySecret,omitempty" protobuf:"bytes,4,opt,name=serverSideCustomerKeySecret"`
 }
 
 // CreateS3BucketOptions options used to determine automatic automatic bucket-creation process
diff --git a/pkg/apis/workflow/v1alpha1/zz_generated.deepcopy.go b/pkg/apis/workflow/v1alpha1/zz_generated.deepcopy.go
index 38445e3cd8b6..e5e7d0e345e8 100644
--- a/pkg/apis/workflow/v1alpha1/zz_generated.deepcopy.go
+++ b/pkg/apis/workflow/v1alpha1/zz_generated.deepcopy.go
@@ -2074,6 +2074,11 @@ func (in *S3Bucket) DeepCopyInto(out *S3Bucket) {
 		*out = new(CreateS3BucketOptions)
 		**out = **in
 	}
+	if in.EncryptionOptions != nil {
+		in, out := &in.EncryptionOptions, &out.EncryptionOptions
+		*out = new(S3EncryptionOptions)
+		(*in).DeepCopyInto(*out)
+	}
 	return
 }
 
@@ -2087,6 +2092,27 @@ func (in *S3Bucket) DeepCopy() *S3Bucket {
 	return out
 }
 
+// DeepCopyInto is an autogenerated deepcopy function, copying the receiver, writing into out. in must be non-nil.
+func (in *S3EncryptionOptions) DeepCopyInto(out *S3EncryptionOptions) {
+	*out = *in
+	if in.ServerSideCustomerKeySecret != nil {
+		in, out := &in.ServerSideCustomerKeySecret, &out.ServerSideCustomerKeySecret
+		*out = new(v1.SecretKeySelector)
+		(*in).DeepCopyInto(*out)
+	}
+	return
+}
+
+// DeepCopy is an autogenerated deepcopy function, copying the receiver, creating a new S3EncryptionOptions.
+func (in *S3EncryptionOptions) DeepCopy() *S3EncryptionOptions {
+	if in == nil {
+		return nil
+	}
+	out := new(S3EncryptionOptions)
+	in.DeepCopyInto(out)
+	return out
+}
+
 // DeepCopyInto is an autogenerated deepcopy function, copying the receiver, writing into out. in must be non-nil.
 func (in *ScriptTemplate) DeepCopyInto(out *ScriptTemplate) {
 	*out = *in
diff --git a/workflow/artifacts/artifacts.go b/workflow/artifacts/artifacts.go
index d99a5e91b2e7..2346501f890e 100644
--- a/workflow/artifacts/artifacts.go
+++ b/workflow/artifacts/artifacts.go
@@ -26,6 +26,10 @@ func NewDriver(ctx context.Context, art *wfv1.Artifact, ri resource.Interface) (
 	if art.S3 != nil {
 		var accessKey string
 		var secretKey string
+		var serverSideCustomerKey string
+		var kmsKeyId string
+		var kmsEncryptionContext string
+		var enableEncryption bool
 
 		if art.S3.AccessKeySecret != nil && art.S3.AccessKeySecret.Name != "" {
 			accessKeyBytes, err := ri.GetSecret(ctx, art.S3.AccessKeySecret.Name, art.S3.AccessKeySecret.Key)
@@ -40,15 +44,38 @@ func NewDriver(ctx context.Context, art *wfv1.Artifact, ri resource.Interface) (
 			secretKey = secretKeyBytes
 		}
 
+		if art.S3.EncryptionOptions != nil {
+			if art.S3.EncryptionOptions.ServerSideCustomerKeySecret != nil {
+				if art.S3.EncryptionOptions.KmsKeyId != "" {
+					return nil, fmt.Errorf("serverSideCustomerKeySecret and kmsKeyId cannot be set together")
+				}
+
+				serverSideCustomerKeyBytes, err := ri.GetSecret(ctx, art.S3.EncryptionOptions.ServerSideCustomerKeySecret.Name, art.S3.SecretKeySecret.Key)
+				if err != nil {
+					return nil, err
+				}
+				serverSideCustomerKey = serverSideCustomerKeyBytes
+			}
+
+			enableEncryption = art.S3.EncryptionOptions.EnableEncryption
+			kmsKeyId = art.S3.EncryptionOptions.KmsKeyId
+			kmsEncryptionContext = art.S3.EncryptionOptions.KmsEncryptionContext
+		}
+
 		driver := s3.ArtifactDriver{
-			Endpoint:    art.S3.Endpoint,
-			AccessKey:   accessKey,
-			SecretKey:   secretKey,
-			Secure:      art.S3.Insecure == nil || !*art.S3.Insecure,
-			Region:      art.S3.Region,
-			RoleARN:     art.S3.RoleARN,
-			UseSDKCreds: art.S3.UseSDKCreds,
+			Endpoint:              art.S3.Endpoint,
+			AccessKey:             accessKey,
+			SecretKey:             secretKey,
+			Secure:                art.S3.Insecure == nil || !*art.S3.Insecure,
+			Region:                art.S3.Region,
+			RoleARN:               art.S3.RoleARN,
+			UseSDKCreds:           art.S3.UseSDKCreds,
+			KmsKeyId:              kmsKeyId,
+			KmsEncryptionContext:  kmsEncryptionContext,
+			EnableEncryption:      enableEncryption,
+			ServerSideCustomerKey: serverSideCustomerKey,
 		}
+
 		return &driver, nil
 	}
 	if art.HTTP != nil {
diff --git a/workflow/artifacts/s3/s3.go b/workflow/artifacts/s3/s3.go
index cb1b01505646..b9c3caf398d3 100644
--- a/workflow/artifacts/s3/s3.go
+++ b/workflow/artifacts/s3/s3.go
@@ -21,14 +21,18 @@ import (
 
 // ArtifactDriver is a driver for AWS S3
 type ArtifactDriver struct {
-	Endpoint    string
-	Region      string
-	Secure      bool
-	AccessKey   string
-	SecretKey   string
-	RoleARN     string
-	UseSDKCreds bool
-	Context     context.Context
+	Endpoint              string
+	Region                string
+	Secure                bool
+	AccessKey             string
+	SecretKey             string
+	RoleARN               string
+	UseSDKCreds           bool
+	Context               context.Context
+	KmsKeyId              string
+	KmsEncryptionContext  string
+	EnableEncryption      bool
+	ServerSideCustomerKey string
 }
 
 var (
@@ -47,7 +51,14 @@ func (s3Driver *ArtifactDriver) newS3Client(ctx context.Context) (argos3.S3Clien
 		RoleARN:     s3Driver.RoleARN,
 		Trace:       os.Getenv(common.EnvVarArgoTrace) == "1",
 		UseSDKCreds: s3Driver.UseSDKCreds,
+		EncryptOpts: argos3.EncryptOpts{
+			KmsKeyId:              s3Driver.KmsKeyId,
+			KmsEncryptionContext:  s3Driver.KmsEncryptionContext,
+			Enabled:               s3Driver.EnableEncryption,
+			ServerSideCustomerKey: s3Driver.ServerSideCustomerKey,
+		},
 	}
+
 	return argos3.NewS3Client(ctx, opts)
 }
 
diff --git a/workflow/artifacts/s3/s3_test.go b/workflow/artifacts/s3/s3_test.go
index 92326a503a47..879ad457ae58 100644
--- a/workflow/artifacts/s3/s3_test.go
+++ b/workflow/artifacts/s3/s3_test.go
@@ -345,6 +345,9 @@ func TestSaveS3Artifact(t *testing.T) {
 							S3Bucket: wfv1.S3Bucket{
 								Bucket:                   tc.bucket,
 								CreateBucketIfNotPresent: &wfv1.CreateS3BucketOptions{},
+								EncryptionOptions: &wfv1.S3EncryptionOptions{
+									EnableEncryption: true,
+								},
 							},
 							Key: tc.key,
 						},

From 1fd861a7e8532f8a533d4f4968b3455c16fba832 Mon Sep 17 00:00:00 2001
From: Yuan Tang <terrytangyuan@gmail.com>
Date: Tue, 17 Aug 2021 23:54:20 -0400
Subject: [PATCH 043/137] ci: Run gosec as part of golangci lint step (#6555)

* ci: Run gosec as part of golangci lint step

Signed-off-by: Yuan Tang <terrytangyuan@gmail.com>

* Bump golangci-lint version

Signed-off-by: Yuan Tang <terrytangyuan@gmail.com>

Co-authored-by: Alex Collins <alexec@users.noreply.github.com>
---
 .github/workflows/ci-build.yaml | 20 ++------------------
 .golangci.yml                   |  5 +++++
 2 files changed, 7 insertions(+), 18 deletions(-)

diff --git a/.github/workflows/ci-build.yaml b/.github/workflows/ci-build.yaml
index 620ebed35559..6ee7678f641a 100644
--- a/.github/workflows/ci-build.yaml
+++ b/.github/workflows/ci-build.yaml
@@ -168,7 +168,7 @@ jobs:
     name: Lint
     runs-on: ubuntu-20.04
     needs: [ tests, codegen ]
-    timeout-minutes: 5
+    timeout-minutes: 6
     env:
       GOPATH: /home/runner/go
     steps:
@@ -176,23 +176,7 @@ jobs:
       - run: cp server/static/files.go.stub server/static/files.go
       - uses: golangci/golangci-lint-action@v2
         with:
-          version: v1.36.0
-
-  security:
-    name: Security Scan
-    runs-on: ubuntu-20.04
-    needs: [ tests, codegen, lint ]
-    timeout-minutes: 6
-    env:
-      GOPATH: /home/runner/go
-    steps:
-      - name: Checkout Source
-        uses: actions/checkout@v2
-      - run: cp server/static/files.go.stub server/static/files.go
-      - name: Run Gosec Security Scanner
-        uses: securego/gosec@v2.8.1
-        with:
-          args: '-include=G307,G304 ./...'
+          version: v1.40.1
 
   ui:
     name: UI
diff --git a/.golangci.yml b/.golangci.yml
index 19047e2ac19f..0d002e519b1e 100644
--- a/.golangci.yml
+++ b/.golangci.yml
@@ -20,6 +20,7 @@ linters:
     - deadcode
     - errcheck
     - goimports
+    - gosec
     - gosimple
     - govet
     - misspell
@@ -32,3 +33,7 @@ linters:
 linters-settings:
   goimports:
     local-prefixes: github.com/argoproj/argo-workflows/
+  gosec:
+    includes:
+      - G304
+      - G307

From 205d233cd8e85af24e451d6268af32e928aeb47c Mon Sep 17 00:00:00 2001
From: "Yuan (Bob) Gong" <4957653+Bobgy@users.noreply.github.com>
Date: Thu, 19 Aug 2021 01:20:39 +0800
Subject: [PATCH 044/137] fix(executor/docker): fix failed to wait for main
 container to complete: timed out waiting for the condition: container does
 not exist (#6561)

Signed-off-by: Yuan Gong <gongyuan94@gmail.com>
---
 workflow/executor/docker/docker.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/workflow/executor/docker/docker.go b/workflow/executor/docker/docker.go
index 88f9c8d1c38b..94fc6a05fa0a 100644
--- a/workflow/executor/docker/docker.go
+++ b/workflow/executor/docker/docker.go
@@ -256,7 +256,7 @@ func (d *DockerExecutor) validateCompleted(ctx context.Context, containerNames [
 			// docker inspect $(docker run -d --entrypoint invalid argoproj/argosay:v2) | less
 			// In this case, we can distinguish the container by
 			// checking its exit code.
-			code, err := d.GetExitCode(ctx, container.containerID)
+			code, err := d.GetExitCode(ctx, name)
 			if err != nil {
 				return false, err
 			}

From 2ffe865bdf77912d3e05a15eaffed6843f212af5 Mon Sep 17 00:00:00 2001
From: "github-actions[bot]"
 <41898282+github-actions[bot]@users.noreply.github.com>
Date: Wed, 18 Aug 2021 11:07:32 -0700
Subject: [PATCH 045/137] docs: updated CHANGELOG.md (#6562)

Signed-off-by: GitHub <noreply@github.com>

Co-authored-by: alexec <alexec@users.noreply.github.com>
---
 CHANGELOG.md | 19 +++++++++++++++++++
 1 file changed, 19 insertions(+)

diff --git a/CHANGELOG.md b/CHANGELOG.md
index e9759119e2d2..7aa1d8674620 100644
--- a/CHANGELOG.md
+++ b/CHANGELOG.md
@@ -1,5 +1,13 @@
 # Changelog
 
+## v3.1.7 (2021-08-18)
+
+ * [5463b5d4f](https://github.com/argoproj/argo-workflows/commit/5463b5d4feb626ac80def3c521bd20e6a96708c4) fix: Generate TLS Certificates on startup and only keep in memory (#6540)
+
+### Contributors
+
+ * David Collom
+
 ## v3.1.6 (2021-08-12)
 
  * [14e127857](https://github.com/argoproj/argo-workflows/commit/14e1278572b28d8b1854858ce7de355ce60199c9) ci-build.yaml-with-master-change
@@ -500,6 +508,17 @@
  * uucloud
  * wanglong001
 
+## v3.0.9 (2021-08-18)
+
+ * [d5fd9f14f](https://github.com/argoproj/argo-workflows/commit/d5fd9f14fc6f55c5d6c1f382081b68e86574d74d) Update manifests to v3.0.9
+ * [4eb16eaa5](https://github.com/argoproj/argo-workflows/commit/4eb16eaa58ea2de4c4b071c6b3a565dc62e4a07a) fix: Generate TLS Certificates on startup and only keep in memory (#6540)
+ * [419b7af08](https://github.com/argoproj/argo-workflows/commit/419b7af08582252d6f0722930d026ba728fc19d6) fix: Remove client private key from client auth REST config (#6506)
+
+### Contributors
+
+ * Alex Collins
+ * David Collom
+
 ## v3.0.8 (2021-06-21)
 
  * [6d7887cce](https://github.com/argoproj/argo-workflows/commit/6d7887cce650f999bb6f788a43fcefe3ca398185) Update manifests to v3.0.8

From f9d8fd801f9bc8069662327c26e078c628e6e328 Mon Sep 17 00:00:00 2001
From: Alex Collins <alex_collins@intuit.com>
Date: Wed, 18 Aug 2021 11:11:27 -0700
Subject: [PATCH 046/137] docs: Updated CHANGELOG.md

Signed-off-by: Alex Collins <alex_collins@intuit.com>
---
 CHANGELOG.md | 13 ++++++++++++-
 1 file changed, 12 insertions(+), 1 deletion(-)

diff --git a/CHANGELOG.md b/CHANGELOG.md
index 7aa1d8674620..61bc564f616a 100644
--- a/CHANGELOG.md
+++ b/CHANGELOG.md
@@ -486,8 +486,8 @@
  * Reijer Copier
  * Riccardo Piccoli
  * Roi Kramer
- * Saravanan Balasubramanian
  * Safane FARFAR
+ * Saravanan Balasubramanian
  * Shoubhik Bose
  * Simon Behar
  * Stephan van Maris
@@ -1044,6 +1044,17 @@
  * tczhao
  * zhengchenyu
 
+## v2.12.12 (2021-08-18)
+
+ * [f83ece141](https://github.com/argoproj/argo-workflows/commit/f83ece141ccb7804ffcdd0d9aecbdb016fc97d6b) Update manifests to v2.12.12
+ * [26df32eb1](https://github.com/argoproj/argo-workflows/commit/26df32eb1af1597bf66c3b5532ff1d995bb5b940) fix: Generate TLS Certificates on startup and only keep in memory (#6540)
+ * [46d744f01](https://github.com/argoproj/argo-workflows/commit/46d744f010479b34005f8848297131c14a266b76) fix: Remove client private key from client auth REST config (#6506)
+
+### Contributors
+
+ * Alex Collins
+ * David Collom
+
 ## v2.12.11 (2021-04-05)
 
  * [71d00c787](https://github.com/argoproj/argo-workflows/commit/71d00c7878e2b904ad35ca25712bef7e84893ae2) Update manifests to v2.12.11

From ae7eeeb50dd0b7640913e7b30d1fe612c7e0ee4c Mon Sep 17 00:00:00 2001
From: Alex Collins <alexec@users.noreply.github.com>
Date: Wed, 18 Aug 2021 16:03:45 -0700
Subject: [PATCH 047/137] fix: Fix `x509: certificate signed by unknown
 authority` error (#6566)

Signed-off-by: Alex Collins <alex_collins@intuit.com>
---
 cmd/argo/commands/server.go | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

diff --git a/cmd/argo/commands/server.go b/cmd/argo/commands/server.go
index f96b59b00ca8..5440a0ed6df9 100644
--- a/cmd/argo/commands/server.go
+++ b/cmd/argo/commands/server.go
@@ -111,8 +111,9 @@ See %s`, help.ArgoServer),
 					return err
 				}
 				tlsConfig = &tls.Config{
-					Certificates: []tls.Certificate{*cer},
-					MinVersion:   uint16(tlsMinVersion),
+					Certificates:       []tls.Certificate{*cer},
+					MinVersion:         uint16(tlsMinVersion),
+					InsecureSkipVerify: true,
 				}
 			} else {
 				log.Warn("You are running in insecure mode. Learn how to enable transport layer security: https://argoproj.github.io/argo-workflows/tls/")

From b70fbb6cc865e20668e5c58fe4a6589aa96a5528 Mon Sep 17 00:00:00 2001
From: "github-actions[bot]"
 <41898282+github-actions[bot]@users.noreply.github.com>
Date: Thu, 19 Aug 2021 12:32:25 -0700
Subject: [PATCH 048/137] docs: updated CHANGELOG.md (#6567)

Signed-off-by: GitHub <noreply@github.com>

Co-authored-by: alexec <alexec@users.noreply.github.com>
---
 CHANGELOG.md | 10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

diff --git a/CHANGELOG.md b/CHANGELOG.md
index 61bc564f616a..e57684e0863e 100644
--- a/CHANGELOG.md
+++ b/CHANGELOG.md
@@ -1,5 +1,13 @@
 # Changelog
 
+## v3.1.8 (2021-08-18)
+
+ * [0df0f3a98](https://github.com/argoproj/argo-workflows/commit/0df0f3a98fac4e2aa5bc02213fb0a2ccce9a682a) fix: Fix `x509: certificate signed by unknown authority` error (#6566)
+
+### Contributors
+
+ * Alex Collins
+
 ## v3.1.7 (2021-08-18)
 
  * [5463b5d4f](https://github.com/argoproj/argo-workflows/commit/5463b5d4feb626ac80def3c521bd20e6a96708c4) fix: Generate TLS Certificates on startup and only keep in memory (#6540)
@@ -486,8 +494,8 @@
  * Reijer Copier
  * Riccardo Piccoli
  * Roi Kramer
- * Safane FARFAR
  * Saravanan Balasubramanian
+ * Safane FARFAR
  * Shoubhik Bose
  * Simon Behar
  * Stephan van Maris

From ec10f6a1a9ced1d6d86639ec5bc47252e15e5174 Mon Sep 17 00:00:00 2001
From: Alex Collins <alex_collins@intuit.com>
Date: Thu, 19 Aug 2021 12:41:05 -0700
Subject: [PATCH 049/137] ci: Allow 8m  for unit tests on CI

Signed-off-by: Alex Collins <alex_collins@intuit.com>
---
 .github/workflows/ci-build.yaml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/.github/workflows/ci-build.yaml b/.github/workflows/ci-build.yaml
index 6ee7678f641a..20b5ed6951ce 100644
--- a/.github/workflows/ci-build.yaml
+++ b/.github/workflows/ci-build.yaml
@@ -14,7 +14,7 @@ jobs:
     name: Unit Tests
     runs-on: ubuntu-20.04
     # 5m30
-    timeout-minutes: 7
+    timeout-minutes: 8
     steps:
       - uses: actions/checkout@v2
       - uses: actions/setup-go@v2

From 64fbf6955840b1bde28d36db106866da04047d4f Mon Sep 17 00:00:00 2001
From: Windfarer <windfarer@gmail.com>
Date: Fri, 20 Aug 2021 04:36:27 +0800
Subject: [PATCH 050/137] fix(executor/pns): panic of pidFileHandles concurrent
 writes (#6569)

Signed-off-by: Windfarer <windfarer@gmail.com>
---
 workflow/executor/pns/pns.go | 8 ++++++++
 1 file changed, 8 insertions(+)

diff --git a/workflow/executor/pns/pns.go b/workflow/executor/pns/pns.go
index b8bb13a3404c..eba0d9415bc9 100644
--- a/workflow/executor/pns/pns.go
+++ b/workflow/executor/pns/pns.go
@@ -34,6 +34,9 @@ type PNSExecutor struct {
 	// mu for `containerNameToPID``
 	mu sync.RWMutex
 
+	// mu for `pidFileHandles``
+	pmu sync.RWMutex
+
 	containerNameToPID map[string]int
 
 	// pidFileHandles holds file handles to all root containers
@@ -57,6 +60,7 @@ func NewPNSExecutor(clientset *kubernetes.Clientset, podName, namespace string)
 		podName:            podName,
 		namespace:          namespace,
 		mu:                 sync.RWMutex{},
+		pmu:                sync.RWMutex{},
 		containerNameToPID: make(map[string]int),
 		pidFileHandles:     make(map[int]*os.File),
 		thisPID:            thisPID,
@@ -82,6 +86,8 @@ func (p *PNSExecutor) enterChroot(containerName string) error {
 	if pid == 0 {
 		return fmt.Errorf("cannot enter chroot for container named %q: no PID known - maybe short running container", containerName)
 	}
+	p.pmu.RLock()
+	defer p.pmu.RUnlock()
 	if err := p.pidFileHandles[pid].Chdir(); err != nil {
 		return errors.InternalWrapErrorf(err, "failed to chdir to main filesystem: %v", err)
 	}
@@ -320,6 +326,8 @@ func (p *PNSExecutor) secureRootFiles() error {
 				return err
 			}
 
+			p.pmu.Lock()
+			defer p.pmu.Unlock()
 			if p.pidFileHandles[pid] != fs {
 				// the main container may have switched (e.g. gone from busybox to the user's container)
 				if prevInfo, ok := p.pidFileHandles[pid]; ok {

From f1cf7ee03c741ecdc9698123a3fae4e5ccafbd16 Mon Sep 17 00:00:00 2001
From: Saravanan Balasubramanian
 <33908564+sarabala1979@users.noreply.github.com>
Date: Thu, 19 Aug 2021 13:36:58 -0700
Subject: [PATCH 051/137] fix: Panic in getTemplateOutputsFromScope (#6560)

Signed-off-by: Saravanan Balasubramanian <sarabala1979@gmail.com>
---
 workflow/controller/operator.go | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/workflow/controller/operator.go b/workflow/controller/operator.go
index 2a0401fb0936..78f7194f76f0 100644
--- a/workflow/controller/operator.go
+++ b/workflow/controller/operator.go
@@ -2444,6 +2444,9 @@ func getTemplateOutputsFromScope(tmpl *wfv1.Template, scope *wfScope) (*wfv1.Out
 				}
 				return nil, fmt.Errorf("unable to resolve outputs from scope: %s", err)
 			}
+			if resolvedArt == nil {
+				continue
+			}
 			resolvedArt.Name = art.Name
 			outputs.Artifacts = append(outputs.Artifacts, *resolvedArt)
 		}

From 3595ac59cefe63256bbac38bca27fb5cacee93f9 Mon Sep 17 00:00:00 2001
From: Gage Orsburn <gageorsburn@live.com>
Date: Thu, 19 Aug 2021 16:39:05 -0400
Subject: [PATCH 052/137] feat: Adding SSO support for Okta. Fixes #6165
 (#6572)

Signed-off-by: Gage Orsburn <gorsburn@botkeeper.com>
---
 USERS.md                         |  4 +--
 docs/argo-server-sso.md          |  8 +++++-
 server/auth/sso/sso.go           | 14 ++++++++++
 server/auth/types/claims.go      | 44 ++++++++++++++++++++++++++++++++
 server/auth/types/claims_test.go | 31 ++++++++++++++++++++++
 5 files changed, 98 insertions(+), 3 deletions(-)

diff --git a/USERS.md b/USERS.md
index b73e12f62e4a..abbf966b448e 100644
--- a/USERS.md
+++ b/USERS.md
@@ -28,8 +28,9 @@ Currently, the following organizations are **officially** using Argo Workflows:
 1. [BioBox Analytics](https://biobox.io)
 1. [BlackRock](https://www.blackrock.com/)
 1. [Bloomberg](https://www.bloomberg.com/)
-1. [ByteDance](https://www.bytedance.com/en/)
 1. [bonprix](https://en.bonprix.de/corporate/our-company/)
+1. [Botkeeper](https://www.botkeeper.com/)
+1. [ByteDance](https://www.bytedance.com/en/)
 1. [Canva](https://www.canva.com/)
 1. [Capital One](https://www.capitalone.com/tech/)
 1. [Carrefour](https://www.carrefour.com/)
@@ -143,7 +144,6 @@ Currently, the following organizations are **officially** using Argo Workflows:
 1. [Workiva](https://www.workiva.com/)
 1. [Zhihu](https://www.zhihu.com/)
 
-
 ### Projects Using Argo
 
 In addition, the following projects are **officially** using Argo Workflows:
diff --git a/docs/argo-server-sso.md b/docs/argo-server-sso.md
index b5d0b125e94c..b5eee48f4621 100644
--- a/docs/argo-server-sso.md
+++ b/docs/argo-server-sso.md
@@ -127,7 +127,7 @@ sso:
 
 > v3.1.4 and after
 
-If your OIDC provider provides groups information with a claim name other than `groups`, you could confiure config-map to specify custom claim name for groups. Argo now arbitary custom claims and any claim can be used for `expr eval`. However, since group information is displayed in UI, it still needs to be an array of strings with group names as elements.
+If your OIDC provider provides groups information with a claim name other than `groups`, you could configure config-map to specify custom claim name for groups. Argo now arbitary custom claims and any claim can be used for `expr eval`. However, since group information is displayed in UI, it still needs to be an array of strings with group names as elements.
 
 customClaim in this case will be mapped to `groups` key and we can use the same key `groups` for evaluating our expressions
 
@@ -137,6 +137,12 @@ sso:
   customGroupClaimName: argo_groups
 ```
 
+If your OIDC provider provides groups information only using the userInfo endpoint (e.g. OKta), you could configure `userInfoPath` to specify the user info endpoint that contains the groups claim. 
+```yaml
+sso:
+  userInfoPath: /oauth2/v1/userinfo
+```
+
  #### Example expr
 
 ```shell
diff --git a/server/auth/sso/sso.go b/server/auth/sso/sso.go
index ef01455f6821..97f335e55fc8 100644
--- a/server/auth/sso/sso.go
+++ b/server/auth/sso/sso.go
@@ -54,6 +54,7 @@ type sso struct {
 	rbacConfig      *rbac.Config
 	expiry          time.Duration
 	customClaimName string
+	userInfoPath    string
 }
 
 func (s *sso) IsRBACEnabled() bool {
@@ -71,6 +72,7 @@ type Config struct {
 	SessionExpiry metav1.Duration `json:"sessionExpiry,omitempty"`
 	// customGroupClaimName will override the groups claim name
 	CustomGroupClaimName string `json:"customGroupClaimName,omitempty"`
+	UserInfoPath         string `json:"userInfoPath,omitempty"`
 }
 
 func (c Config) GetSessionExpiry() time.Duration {
@@ -188,6 +190,7 @@ func newSso(
 		rbacConfig:      c.RBAC,
 		expiry:          c.GetSessionExpiry(),
 		customClaimName: c.CustomGroupClaimName,
+		userInfoPath:    c.UserInfoPath,
 	}, nil
 }
 
@@ -260,6 +263,17 @@ func (s *sso) HandleCallback(w http.ResponseWriter, r *http.Request) {
 		}
 	}
 
+	// Some SSO implementations (Okta) require a call to
+	// the OIDC user info path to get attributes like groups
+	if s.userInfoPath != "" {
+		groups, err = c.GetUserInfoGroups(oauth2Token.AccessToken, c.Issuer, s.userInfoPath)
+		if err != nil {
+			w.WriteHeader(401)
+			_, _ = w.Write([]byte(fmt.Sprintf("failed to get groups claim: %v", err)))
+			return
+		}
+	}
+
 	argoClaims := &types.Claims{
 		Claims: jwt.Claims{
 			Issuer:  issuer,
diff --git a/server/auth/types/claims.go b/server/auth/types/claims.go
index 6b6ac568cb15..8c817f364bab 100644
--- a/server/auth/types/claims.go
+++ b/server/auth/types/claims.go
@@ -3,6 +3,7 @@ package types
 import (
 	"encoding/json"
 	"fmt"
+	"net/http"
 
 	"gopkg.in/square/go-jose.v2/jwt"
 )
@@ -16,6 +17,20 @@ type Claims struct {
 	RawClaim           map[string]interface{} `json:"-"`
 }
 
+type UserInfo struct {
+	Groups []string `json:"groups"`
+}
+
+type HttpClient interface {
+	Do(req *http.Request) (*http.Response, error)
+}
+
+var httpClient HttpClient
+
+func init() {
+	httpClient = &http.Client{}
+}
+
 // UnmarshalJSON is a custom Unmarshal that overwrites
 // json.Unmarshal to mash every claim into a custom map
 func (c *Claims) UnmarshalJSON(data []byte) error {
@@ -62,3 +77,32 @@ func (c *Claims) GetCustomGroup(customKeyName string) ([]string, error) {
 
 	return newSlice, nil
 }
+
+func (c *Claims) GetUserInfoGroups(accessToken, issuer, userInfoPath string) ([]string, error) {
+	url := fmt.Sprintf("%s%s", issuer, userInfoPath)
+	request, err := http.NewRequest("GET", url, nil)
+
+	if err != nil {
+		return nil, err
+	}
+
+	bearer := fmt.Sprintf("Bearer %s", accessToken)
+	request.Header.Set("Authorization", bearer)
+
+	response, err := httpClient.Do(request)
+
+	if err != nil {
+		return nil, err
+	}
+
+	userInfo := UserInfo{}
+
+	defer response.Body.Close()
+	err = json.NewDecoder(response.Body).Decode(&userInfo)
+
+	if err != nil {
+		return nil, err
+	}
+
+	return userInfo.Groups, nil
+}
diff --git a/server/auth/types/claims_test.go b/server/auth/types/claims_test.go
index c956027820ec..143dd1c6a7c9 100644
--- a/server/auth/types/claims_test.go
+++ b/server/auth/types/claims_test.go
@@ -1,7 +1,11 @@
 package types
 
 import (
+	"bytes"
 	"encoding/json"
+	"io"
+	"io/ioutil"
+	"net/http"
 	"testing"
 
 	"github.com/stretchr/testify/assert"
@@ -196,3 +200,30 @@ func TestGetCustomGroup(t *testing.T) {
 		assert.Error(t, err)
 	})
 }
+
+type HttpClientMock struct {
+	StatusCode int
+	Body       io.ReadCloser
+}
+
+func (c *HttpClientMock) Do(req *http.Request) (*http.Response, error) {
+	return &http.Response{
+		StatusCode: c.StatusCode,
+		Body:       c.Body,
+	}, nil
+}
+
+func TestGetUserInfoGroups(t *testing.T) {
+	t.Run("UserInfoGroupsReturn", func(t *testing.T) {
+		userInfo := UserInfo{Groups: []string{"Everyone"}}
+		userInfoBytes, _ := json.Marshal(userInfo)
+		body := ioutil.NopCloser(bytes.NewReader(userInfoBytes))
+
+		httpClient = &HttpClientMock{StatusCode: 200, Body: body}
+
+		claims := &Claims{}
+		groups, err := claims.GetUserInfoGroups("Bearer fake", "https://fake.okta.com", "/user-info")
+		assert.Equal(t, groups, []string{"Everyone"})
+		assert.Equal(t, nil, err)
+	})
+}

From 7c365b9f596906775c55aece7efc3f45431dcf93 Mon Sep 17 00:00:00 2001
From: "github-actions[bot]"
 <41898282+github-actions[bot]@users.noreply.github.com>
Date: Fri, 20 Aug 2021 07:25:59 -0700
Subject: [PATCH 053/137] docs: updated CHANGELOG.md (#6575)

Signed-off-by: GitHub <noreply@github.com>

Co-authored-by: sarabala1979 <sarabala1979@users.noreply.github.com>
---
 CHANGELOG.md | 179 +++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 179 insertions(+)

diff --git a/CHANGELOG.md b/CHANGELOG.md
index e57684e0863e..9a3d6b673fee 100644
--- a/CHANGELOG.md
+++ b/CHANGELOG.md
@@ -1,5 +1,166 @@
 # Changelog
 
+## v3.2.0-rc1 (2021-08-19)
+
+ * [3595ac59c](https://github.com/argoproj/argo-workflows/commit/3595ac59cefe63256bbac38bca27fb5cacee93f9) feat: Adding SSO support for Okta. Fixes #6165 (#6572)
+ * [f1cf7ee03](https://github.com/argoproj/argo-workflows/commit/f1cf7ee03c741ecdc9698123a3fae4e5ccafbd16) fix: Panic in getTemplateOutputsFromScope (#6560)
+ * [64fbf6955](https://github.com/argoproj/argo-workflows/commit/64fbf6955840b1bde28d36db106866da04047d4f) fix(executor/pns): panic of pidFileHandles concurrent writes (#6569)
+ * [ae7eeeb50](https://github.com/argoproj/argo-workflows/commit/ae7eeeb50dd0b7640913e7b30d1fe612c7e0ee4c) fix: Fix `x509: certificate signed by unknown authority` error (#6566)
+ * [205d233cd](https://github.com/argoproj/argo-workflows/commit/205d233cd8e85af24e451d6268af32e928aeb47c) fix(executor/docker): fix failed to wait for main container to complete: timed out waiting for the condition: container does not exist (#6561)
+ * [d41c03702](https://github.com/argoproj/argo-workflows/commit/d41c037027e062a149ce821dd377fb6b52269335) feat: S3 Encryption At Rest (#6549)
+ * [478d79469](https://github.com/argoproj/argo-workflows/commit/478d794693b3a965e3ba587da2c67e5e1effa418) fix: Generate TLS Certificates on startup and only keep in memory (#6540)
+ * [f711ce4d5](https://github.com/argoproj/argo-workflows/commit/f711ce4d5352b025f366f8e81ebbe9e457cc9054) fix: use golangci-lint v1.37.0 to support apple M1 (#6548)
+ * [37395d681](https://github.com/argoproj/argo-workflows/commit/37395d6818ba151213a1bb8338356cf553c2404a) fix: replace docker.io with quay.io to avoid the image pull limit (#6539)
+ * [a1a8d4421](https://github.com/argoproj/argo-workflows/commit/a1a8d4421e3b7e8c6bcd2677e7862ec6f3aed1cc) fix: argo-sever mistype (#6543)
+ * [a57b3ad9e](https://github.com/argoproj/argo-workflows/commit/a57b3ad9ed2afbcd3f22e912b252dd451d9c7ebc) feat: Show Argo Dataflow pipelines in the UI (#5742)
+ * [dc4f0a172](https://github.com/argoproj/argo-workflows/commit/dc4f0a172d6992cd34749d858bb0c402172c8eef) fix: use execWf when setting PodMetadata (#6512)
+ * [047ae4f5e](https://github.com/argoproj/argo-workflows/commit/047ae4f5e6d93e4e2c84d8af1f4df4d68a69bb75) docs(users): add arabesque (#6533)
+ * [903ce68ff](https://github.com/argoproj/argo-workflows/commit/903ce68ffa01400a7b57b2604091482a27ca64d4) fix: Fix the Status update for node with synchronization lock (#6525)
+ * [a38460342](https://github.com/argoproj/argo-workflows/commit/a38460342472b0515017d5a2ab2cbc6536b5592e) fix: Upgrade pkg to v0.10.1. Fixes #6521 (#6523)
+ * [0670f652c](https://github.com/argoproj/argo-workflows/commit/0670f652cd7ca5500aa77c682bb8b380bb4c79d3) fix(controller): fix tasket warning in Non-HTTP Template scanerio (#6518)
+ * [32970f4cd](https://github.com/argoproj/argo-workflows/commit/32970f4cd15923b62d750863c28270bc283071b6) fix: PROFILE=SSO to PROFILE=sso for case-sensitive filesystem (#6502)
+ * [3d5ac9b2b](https://github.com/argoproj/argo-workflows/commit/3d5ac9b2be71937e86eee1d71a4eefa294b27293) fix(controller): Fix panic in addParamToGlobalScope (#6485)
+ * [d1d96b0a6](https://github.com/argoproj/argo-workflows/commit/d1d96b0a6e8f045715b83a55f1aad056eb76bd96) feat(ui): use dl tag instead of p tag in user-info ui (#6505)
+ * [5b8f7977a](https://github.com/argoproj/argo-workflows/commit/5b8f7977a86a43061dca9ea916d32c02e23bd7f5) Add link to latest release in installation.md (#6509)
+ * [24bb1b77a](https://github.com/argoproj/argo-workflows/commit/24bb1b77a1b5cd2f78251aca26d007c7d75b8993) fix(executor/docker): re-revert -- fix random errors with message "No such container:path". Fixes #6352 (#6508)
+ * [e2e822dd5](https://github.com/argoproj/argo-workflows/commit/e2e822dd59e3ad62d978cdce0efa5ce7a4a273e2) fix: Remove client private key from client auth REST config (#6506)
+ * [a3fd704a1](https://github.com/argoproj/argo-workflows/commit/a3fd704a1715900f2144c0362e562f75f1524126) Revert "fix(executor/docker): fix random errors with message "No such container:path". Fixes #6352 (#6483)"
+ * [a105b137c](https://github.com/argoproj/argo-workflows/commit/a105b137c97e5aea852c6db6e77997ca3713cb08) fix(controller): Delete the PVCs in workflowtemplateRef (#6493)
+ * [3373dc512](https://github.com/argoproj/argo-workflows/commit/3373dc512804ae51d09ade02be53c597aead3c3f) feat: Annotate pod events with workflow name and UID (#6455)
+ * [e4a53d4bf](https://github.com/argoproj/argo-workflows/commit/e4a53d4bf021fd4dce1374bb7fd4320d733e57ba) fix(executor/docker): fix random errors with message "No such container:path". Fixes #6352 (#6483)
+ * [2a2ecc916](https://github.com/argoproj/argo-workflows/commit/2a2ecc916925642fd8cb1efd026588e6828f82e1) fix(controller): JSON-unmarshal marshaled expression template before evaluating (#6285)
+ * [ec9641531](https://github.com/argoproj/argo-workflows/commit/ec9641531c8283a4e6fcd684c8aecce92c6e14b7) feat(controller): Inline templates. Closes #5105 (#5749)
+ * [7ef0f4750](https://github.com/argoproj/argo-workflows/commit/7ef0f4750d7da4bb326fb0dab25f176db412993b) fix: Consider onExit children of Retry nodes (#6451)
+ * [7f2c58972](https://github.com/argoproj/argo-workflows/commit/7f2c58972177c5b7cfdfb6bc8d9ba4189a9f45d0) feat!: Upgrade to Golang 1.16. Fixes #5563 (#6471)
+ * [94244243c](https://github.com/argoproj/argo-workflows/commit/94244243ce07693317abdb250868d6a089111fa9) docs(users): add gitpod (#6466)
+ * [5fde8fa72](https://github.com/argoproj/argo-workflows/commit/5fde8fa72f2e5b0bcd7cfb048fd1eb9e24b6a950) fix: Exit template shouldn't fail with max parallelism reached (#6456)
+ * [c5d2461cf](https://github.com/argoproj/argo-workflows/commit/c5d2461cf5f9cd7569bc07c8a7cfde7e4c86e5a4) fix(controller): fix retry on different hosts (#6429)
+ * [0f6f36270](https://github.com/argoproj/argo-workflows/commit/0f6f362704e0c124a127438ced5df26e6c91a76b) fix(server): Fix nil pointer error when getting artifacts from a step without artifacts (#6465)
+ * [903415249](https://github.com/argoproj/argo-workflows/commit/90341524935287c7db30f34132c2a1aa4f1ea170) feat(server): Support OIDC custom claims for AuthN. Closes #5953 (#6444)
+ * [3e9d8373d](https://github.com/argoproj/argo-workflows/commit/3e9d8373d9165931aca1c1a3b65d81bba5a33720) fix(pods): set resources from script templates (#6450)
+ * [3abeb0120](https://github.com/argoproj/argo-workflows/commit/3abeb0120c80fcdf9b8b161178c296c6efccb63d) fix: Do not display clipboard if there is no text (#6452)
+ * [b16a0a098](https://github.com/argoproj/argo-workflows/commit/b16a0a09879413428fb93f196d4d4e63fe51e657) feat(controller): HTTP Template and Agent support feature  (#5750)
+ * [dc043ce87](https://github.com/argoproj/argo-workflows/commit/dc043ce87b1c946d2ae4fe677862f31e18c758ff) feat(server): support changing MaxGRPCMessageSize using env variable (#6420)
+ * [51c15764d](https://github.com/argoproj/argo-workflows/commit/51c15764d52f87d8fc5a63e19cb1ad4d0b41a23e) fix(controller): Reinstate support for outputs.results for containers. Fixes #6428 (#6434)
+ * [40b08240d](https://github.com/argoproj/argo-workflows/commit/40b08240d7eed5ec19bef923201470b69096736f) fix: support archive.none for OSS directory artifacts (#6312)
+ * [7ec5b3ea9](https://github.com/argoproj/argo-workflows/commit/7ec5b3ea9e55618f1522dd7e50bbf54baad1ca39) fix(controller): Same workflow nodes are not executing parallel even semaphore locks available (#6418)
+ * [c29b275d5](https://github.com/argoproj/argo-workflows/commit/c29b275d56ef7f2dbf5822ee981f492c2ff61388) fix(controller): Randomly expr expression fail to resolve (#6410)
+ * [f1792f68c](https://github.com/argoproj/argo-workflows/commit/f1792f68cbf62b1bf6e584836bfe8fd35152d3a8) docs(executor): emissary executor also runs on GKE autopilot (#6430)
+ * [dd3c11252](https://github.com/argoproj/argo-workflows/commit/dd3c112523ea52a832c8df937dae37c43e2c86cd) fix(controller/cli): Resolve global artifacts created in nested workflows (#6422)
+ * [b17d1bf7b](https://github.com/argoproj/argo-workflows/commit/b17d1bf7b8db75fde30e0f808c2b57fddecf5b32) fix(emissary): throw argo error on file not exist (#6392)
+ * [946e4a4a6](https://github.com/argoproj/argo-workflows/commit/946e4a4a6254ff935df99095926905440263223a) fix(executor): Remove 15s guard for Docker executor. Fixes #6415 (#6427)
+ * [29ebc2a6a](https://github.com/argoproj/argo-workflows/commit/29ebc2a6ab40609784419191aef457ba83e8b062) fix(executor): remove unused import preventing compilation
+ * [cc701a1af](https://github.com/argoproj/argo-workflows/commit/cc701a1affdb4d29b4f48fdfb5dad719192597ec) feat(controller): opt-in to sending pod node events as pod (#6377)
+ * [959ce6b7f](https://github.com/argoproj/argo-workflows/commit/959ce6b7fe379e4bd79c565862b8bc03112dc154) feat(artifact): enable gcs ListObjects (#6409)
+ * [30e2518c2](https://github.com/argoproj/argo-workflows/commit/30e2518c2757d726a8164c6347235a88fd54c834) fix(executor/emissary): fix nonroot sidecars + input/output params & artifacts (#6403)
+ * [4da8fd940](https://github.com/argoproj/argo-workflows/commit/4da8fd94004d535bc79b2cbfa77f6c8683d0c547) fix(controller): Global parameter is not getting updated (#6401)
+ * [f2d24b1d9](https://github.com/argoproj/argo-workflows/commit/f2d24b1d9b7301fd9d1ffe2c9275caad25772bc1) fix(controller): Force main container name to be "main" as per v3.0. Fixes #6405 (#6408)
+ * [2df5f66a3](https://github.com/argoproj/argo-workflows/commit/2df5f66a33e197389ae906e6f7b8fb271f49c54c) fix(executor): fix GCS artifact retry (#6302)
+ * [092b4271b](https://github.com/argoproj/argo-workflows/commit/092b4271b9b57ce9dbff0d988b04ddbf9742425c) fix(controller): Mark workflows wait for semaphore as pending. Fixes #6351 (#6356)
+ * [453539690](https://github.com/argoproj/argo-workflows/commit/453539690e01827e97fd4921aaa425b2c864a3b1) fix(controller): allow initial duration to be 0 instead of current_time-0 (#6389)
+ * [b15a79cc3](https://github.com/argoproj/argo-workflows/commit/b15a79cc30509620fea703811f9a9c708f1b64d2)  docs: Add 4intelligence (#6400)
+ * [f4b89dc8e](https://github.com/argoproj/argo-workflows/commit/f4b89dc8eebc280c5732ae06c2864bdaa1a30e87) fix: Server crash when opening timeline tab for big workflows (#6369)
+ * [99359a095](https://github.com/argoproj/argo-workflows/commit/99359a0950549515eed306c6839a181a2c356612) Revert "fix: examples/ci.yaml indent (#6328)"
+ * [66c441006](https://github.com/argoproj/argo-workflows/commit/66c441006e4d1b237de94c91d2f8eb7733ba88d0) fix(gcs): throw argo not found error if key not exist (#6393)
+ * [3f72fe506](https://github.com/argoproj/argo-workflows/commit/3f72fe506f6c10054692ce07f9b2eaf0f62830a7) fix: examples/ci.yaml indent (#6328)
+ * [9233a8de7](https://github.com/argoproj/argo-workflows/commit/9233a8de77911d1c22f3a10977a33b48eccb9e63) fix(controller): fix retry on transient errors when validating workflow spec (#6370)
+ * [488aec3ca](https://github.com/argoproj/argo-workflows/commit/488aec3cad640cd99e21a0c95898463a860a8c0e) fix(controller): allow workflow.duration to pass validator (#6376)
+ * [d6ec03238](https://github.com/argoproj/argo-workflows/commit/d6ec032388ab8d363faf4e6984b54950dd9abcad) feat(controller): Allow configurable host name label key when retrying different hosts (#6341)
+ * [bd5a8a99b](https://github.com/argoproj/argo-workflows/commit/bd5a8a99bc470c13a93894be9c0f7f23142a4a31) fix(fields): handle nexted fields when excluding (#6359)
+ * [cfab7db53](https://github.com/argoproj/argo-workflows/commit/cfab7db53c760ab4354562593b3a5e01e47c733d) feat(controller): sortDAGTasks supports sort by field Depends (#6307)
+ * [6e58b35c3](https://github.com/argoproj/argo-workflows/commit/6e58b35c34c70df11d7727519249fff46a23ab2b) fix(cli): Overridding name/generateName when creating CronWorkflows if specified (#6308)
+ * [5f0d6ab87](https://github.com/argoproj/argo-workflows/commit/5f0d6ab87e32fda900667cc592951c662cee8acc) docs(users): Add WooliesX (#6358)
+ * [b388c63d0](https://github.com/argoproj/argo-workflows/commit/b388c63d089cc8c302fdcdf81be3dcd9c12ab6f2) fix(crd): temp fix 34s timeout bug for k8s 1.20+ (#6350)
+ * [3db467e6b](https://github.com/argoproj/argo-workflows/commit/3db467e6b9bed209404c1a8a0152468ea832f06d) fix(cli): v3.1 Argo Auth Token (#6344)
+ * [d7c09778a](https://github.com/argoproj/argo-workflows/commit/d7c09778ab9e2c3ce88a2fc6de530832f3770698) fix(controller): Not updating StoredWorkflowSpec when WFT changed during workflow running (#6342)
+ * [7c38fb01b](https://github.com/argoproj/argo-workflows/commit/7c38fb01bb8862b6933603d73a5f300945f9b031) feat(controller): Differentiate CronWorkflow submission vs invalid spec error metrics (#6309)
+ * [85c9279a9](https://github.com/argoproj/argo-workflows/commit/85c9279a9019b400ee55d0471778eb3cc4fa20db) feat(controller): Store artifact repository in workflow status. Fixes #6255 (#6299)
+ * [d07d933be](https://github.com/argoproj/argo-workflows/commit/d07d933bec71675138a73ba53771c45c4f545801) require sso redirect url to be an argo url (#6211)
+ * [c2360c4c4](https://github.com/argoproj/argo-workflows/commit/c2360c4c47e073fde5df04d32fdb910dd8f7dd77) fix(cli): Only list needed fields. Fixes #6000 (#6298)
+ * [126701476](https://github.com/argoproj/argo-workflows/commit/126701476effdb9d71832c776d650a768428bbe1) docs(controller): add missing emissary executor (#6291)
+ * [c11584940](https://github.com/argoproj/argo-workflows/commit/c1158494033321ecff6e12ac1ac8a847a7d278bf) fix(executor): emissary - make /var/run/argo files readable from non-root users. Fixes #6238 (#6304)
+ * [c9246d3d4](https://github.com/argoproj/argo-workflows/commit/c9246d3d4c162e0f7fe76f2ee37c55bdbfa4b0c6) fix(executor): Tolerate docker re-creating containers. Fixes #6244 (#6252)
+ * [f78b759cf](https://github.com/argoproj/argo-workflows/commit/f78b759cfca07c47ae41990e1bbe031e862993f6) feat: Introduce when condition to retryStrategy (#6114)
+ * [05c901fd4](https://github.com/argoproj/argo-workflows/commit/05c901fd4f622aa9aa87b3eabfc87f0bec6dea30) fix(executor): emissary - make argoexec executable from non-root containers. Fixes #6238 (#6247)
+ * [73a36d8bf](https://github.com/argoproj/argo-workflows/commit/73a36d8bf4b45fd28f1cc80b39bf1bfe265cf6b7) feat: Add support for deletion delay when using PodGC (#6168)
+ * [19da54109](https://github.com/argoproj/argo-workflows/commit/19da5410943fe0b5f8d7f8b79c5db5d648b65d59) fix(conttroller): Always set finishedAt dote. Fixes #6135 (#6139)
+ * [92eb8b766](https://github.com/argoproj/argo-workflows/commit/92eb8b766b8501b697043fd1677150e1e565da49) fix: Reduce argoexec image size (#6197)
+ * [631b0bca5](https://github.com/argoproj/argo-workflows/commit/631b0bca5ed3e9e2436b541b2a270f12796961d1) feat(ui): Add copy to clipboard shortcut (#6217)
+ * [8d3627d3f](https://github.com/argoproj/argo-workflows/commit/8d3627d3fba46257d32d05be9fd0037ac11b0ab4) fix: Fix certain sibling tasks not connected to parent (#6193)
+ * [38f85482b](https://github.com/argoproj/argo-workflows/commit/38f85482ba30a187c243080c97904dfe8208e285) docs(executor): document k8s executor behaviour with program warnings (#6212)
+ * [4fd38facb](https://github.com/argoproj/argo-workflows/commit/4fd38facbfb66b06ab0205b04f6e1f1e9943eb6a) fix: Fix security issues related to file closing and paths (G307 & G304) (#6200)
+ * [cecc379ce](https://github.com/argoproj/argo-workflows/commit/cecc379ce23e708479e4253bbbf14f7907272c9c) refactor: Remove the need for pod annotations to be mounted as a volume (#6022)
+ * [0e94283ae](https://github.com/argoproj/argo-workflows/commit/0e94283aea641c6c927c9165900165a72022124f) fix(server): Fix issue with auto oauth redirect URL in callback and handle proxies (#6175)
+ * [0cc5a24c5](https://github.com/argoproj/argo-workflows/commit/0cc5a24c59309438e611223475cdb69c5e3aa01e) fix(controller): Wrong validate order when validate DAG task's argument (#6190)
+ * [9fe8c1085](https://github.com/argoproj/argo-workflows/commit/9fe8c10858a5a1f024abc812f2e3250f35d7f45e) fix(controller): dehydrate workflow before deleting offloaded node status (#6112)
+ * [510b4a816](https://github.com/argoproj/argo-workflows/commit/510b4a816dbb2d33f37510db1fd92b841c4d14d3) fix(controller): Allow retry on transient errors when validating workflow spec. Fixes #6163 (#6178)
+ * [4f847e099](https://github.com/argoproj/argo-workflows/commit/4f847e099ec2a2fef12e98af36b2e4995f8ba3e4) feat(server): Allow redirect_uri to be automatically resolved when using sso (#6167)
+ * [95ad561ae](https://github.com/argoproj/argo-workflows/commit/95ad561aec5ec360448267b09d8d2238c98012e0) feat(ui): Add checkbox to check all workflows in list. Fixes #6069 (#6158)
+ * [43f68f4aa](https://github.com/argoproj/argo-workflows/commit/43f68f4aa16ab696d26be6a33b8893418844d838) fix(ui): Fix event-flow scrolling. Fixes #6133 (#6147)
+ * [9f0cdbdd7](https://github.com/argoproj/argo-workflows/commit/9f0cdbdd78e8eb5b9001243c00cdff5915635401) fix(executor): Capture emissary main-logs. Fixes #6145 (#6146)
+ * [963bed34b](https://github.com/argoproj/argo-workflows/commit/963bed34bf2ac828384bbbda737e0d8a540bddbb) fix(ui): Fix-up local storage namespaces. Fixes #6109 (#6144)
+ * [80599325f](https://github.com/argoproj/argo-workflows/commit/80599325feab42bf473925aa9a28a805fc9e1e6e) fix(controller): Performance improvement for Sprig. Fixes #6135 (#6140)
+ * [868868ee2](https://github.com/argoproj/argo-workflows/commit/868868ee2eb836e9134bdb1f92e7dc2c458722ca) fix: Allow setting workflow input parameters in UI. Fixes #4234 (#5319)
+ * [357429635](https://github.com/argoproj/argo-workflows/commit/3574296358191edb583bf43d6459259c4156a1e6) build image output to docker (#6128)
+ * [b38fd1404](https://github.com/argoproj/argo-workflows/commit/b38fd14041e5e61618ea63975997d15704dac8f3) fix(executor): Check whether any errors within checkResourceState() are transient. Fixes #6118. (#6134)
+ * [db95dbfa1](https://github.com/argoproj/argo-workflows/commit/db95dbfa1edd4a31b1fbd6adbb8e47ca8f2ac428) add troubleshooting notes section for running-locally docs (#6132)
+ * [b5bd0242d](https://github.com/argoproj/argo-workflows/commit/b5bd0242dd30273161d0ae45bb9e82e85534a53b) Update events.md (#6119)
+ * [a497e82e0](https://github.com/argoproj/argo-workflows/commit/a497e82e0e6e7e17de20830cc8ea9d306d26d5ca) fix(executor): Fix docker not terminating. Fixes #6064 (#6083)
+ * [1d76c4815](https://github.com/argoproj/argo-workflows/commit/1d76c4815704e509d7aedc1a79224fbee65ae8ff) feat(manifests): add 'app' label to workflow-controller-metrics service (#6079)
+ * [1533dd467](https://github.com/argoproj/argo-workflows/commit/1533dd467fa8e0c08a2a5b5fe9d0a1b4dea15b89) fix(executor): Fix emissary kill. Fixes #6030 (#6084)
+ * [245764eab](https://github.com/argoproj/argo-workflows/commit/245764eab4f597d3bfcca75e86f9512d49792706) chore(executor): Adjust resource JSON object log to debug level (#6100)
+ * [00b56e543](https://github.com/argoproj/argo-workflows/commit/00b56e543092f2af24263ef83595b53c0bae9619) fix(executor): Fix `kubectl` permission error (#6091)
+ * [7dc6515ce](https://github.com/argoproj/argo-workflows/commit/7dc6515ce1ef76475ac7bd2a7a3c3cdbe795a13c) Point to latest stable release (#6092)
+ * [be63efe89](https://github.com/argoproj/argo-workflows/commit/be63efe8950e9ba3f15f1ad637e2b3863b85e093) feat(executor)!: Change `argoexec` base image to alpine. Closes #5720 (#6006)
+ * [937bbb9d9](https://github.com/argoproj/argo-workflows/commit/937bbb9d9a0afe3040afc3c6ac728f9c72759c6a) feat(executor): Configurable interval for wait container to check container statuses. Fixes #5943 (#6088)
+ * [c111b4294](https://github.com/argoproj/argo-workflows/commit/c111b42942e1edc4e32eb79e78ad86719f2d3f19) fix(executor): Improve artifact error messages. Fixes #6070 (#6086)
+ * [53bd960b6](https://github.com/argoproj/argo-workflows/commit/53bd960b6e87a3e77cb320e4b53f9f9d95934149) Update upgrading.md
+ * [493595a78](https://github.com/argoproj/argo-workflows/commit/493595a78258c13b9b0bfc86fd52bf729e8a9a8e) feat: Add TaskSet CRD and HTTP Template (#5628)
+
+### Contributors
+
+ * Aaron Mell
+ * Alex Collins
+ * Alexander Matyushentsev
+ * Antoine Dao
+ * Antony Chazapis
+ * BOOK
+ * Daan Seynaeve
+ * David Collom
+ * Denis Bellotti
+ * Ed Marks
+ * Gage Orsburn
+ * Geoffrey Huntley
+ * Huan-Cheng Chang
+ * Joe McGovern
+ * KUNG HO BACK
+ * Kaito Ii
+ * Luces Huayhuaca
+ * Marcin Gucki
+ * Michael Crenshaw
+ * Miles Croxford
+ * Mohammad Ali
+ * Peixuan Ding
+ * Reijer Copier
+ * Saravanan Balasubramanian
+ * Sebastian Nyberg
+ * Simon Behar
+ * Stefan Sedich
+ * Tetsuya Shiota
+ * Thiago Bittencourt Gil
+ * Tianchu Zhao
+ * Tom Meadows
+ * William Van Hevelingen
+ * Windfarer
+ * Yuan (Bob) Gong
+ * Yuan Tang
+ * brgoode
+ * dpeer6
+ * jibuji
+ * kennytrytek
+ * meijin
+ * wanghong230
+
 ## v3.1.8 (2021-08-18)
 
  * [0df0f3a98](https://github.com/argoproj/argo-workflows/commit/0df0f3a98fac4e2aa5bc02213fb0a2ccce9a682a) fix: Fix `x509: certificate signed by unknown authority` error (#6566)
@@ -516,6 +677,15 @@
  * uucloud
  * wanglong001
 
+## v3.0.10 (2021-08-18)
+
+ * [0177e73b9](https://github.com/argoproj/argo-workflows/commit/0177e73b962136200517b7f301cd98cfbed02a31) Update manifests to v3.0.10
+ * [587b17539](https://github.com/argoproj/argo-workflows/commit/587b1753968dd5ab4d8bc7e5e60ee6e9ca8e1b7b) fix: Fix `x509: certificate signed by unknown authority` error (#6566)
+
+### Contributors
+
+ * Alex Collins
+
 ## v3.0.9 (2021-08-18)
 
  * [d5fd9f14f](https://github.com/argoproj/argo-workflows/commit/d5fd9f14fc6f55c5d6c1f382081b68e86574d74d) Update manifests to v3.0.9
@@ -1052,6 +1222,15 @@
  * tczhao
  * zhengchenyu
 
+## v2.12.13 (2021-08-18)
+
+ * [08c9964d5](https://github.com/argoproj/argo-workflows/commit/08c9964d5049c85621ee1cd2ceaa133944a650aa) Update manifests to v2.12.13
+ * [17eb51db5](https://github.com/argoproj/argo-workflows/commit/17eb51db5e563d3e7911a42141efe7624ecc4c24) fix: Fix `x509: certificate signed by unknown authority` error (#6566)
+
+### Contributors
+
+ * Alex Collins
+
 ## v2.12.12 (2021-08-18)
 
  * [f83ece141](https://github.com/argoproj/argo-workflows/commit/f83ece141ccb7804ffcdd0d9aecbdb016fc97d6b) Update manifests to v2.12.12

From 58130cf4a71b152a4c2be3b4e98e7c8f822b2c2a Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Luciano=20S=C3=A1?=
 <49305422+lucianodesa@users.noreply.github.com>
Date: Fri, 20 Aug 2021 16:27:23 +0200
Subject: [PATCH 054/137] docs: fixed typo (#6573)

---
 docs/container-set-template.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/docs/container-set-template.md b/docs/container-set-template.md
index eff5a73bb317..f2f0b83f3d16 100644
--- a/docs/container-set-template.md
+++ b/docs/container-set-template.md
@@ -20,7 +20,7 @@ spec:
   templates:
     - name: main
       volumes:
-        - name: workpsace
+        - name: workspace
           emptyDir: { }
       containerSet:
         volumeMounts:

From 1e34cec88e4fd1f65da923139efbf8fb38c97772 Mon Sep 17 00:00:00 2001
From: Yuan Tang <terrytangyuan@gmail.com>
Date: Fri, 20 Aug 2021 10:30:18 -0400
Subject: [PATCH 055/137] feat(artifact): Allow to set bucket logging for OSS
 artifact driver (#6554)

Signed-off-by: Yuan Tang <terrytangyuan@gmail.com>
---
 workflow/artifacts/oss/oss.go | 31 ++++++++++++++++++++++++++++---
 1 file changed, 28 insertions(+), 3 deletions(-)

diff --git a/workflow/artifacts/oss/oss.go b/workflow/artifacts/oss/oss.go
index 59adaa6a350a..48f9d0d300c0 100644
--- a/workflow/artifacts/oss/oss.go
+++ b/workflow/artifacts/oss/oss.go
@@ -17,6 +17,7 @@ import (
 	wfv1 "github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1"
 	waitutil "github.com/argoproj/argo-workflows/v3/util/wait"
 	"github.com/argoproj/argo-workflows/v3/workflow/artifacts/common"
+	wfcommon "github.com/argoproj/argo-workflows/v3/workflow/common"
 )
 
 // ArtifactDriver is a driver for OSS
@@ -33,6 +34,7 @@ var (
 
 	// OSS error code reference: https://error-center.alibabacloud.com/status/product/Oss
 	ossTransientErrorCodes = []string{"RequestTimeout", "QuotaExceeded.Refresh", "Default", "ServiceUnavailable", "Throttling", "RequestTimeTooSkewed", "SocketException", "SocketTimeout", "ServiceBusy", "DomainNetWorkVisitedException", "ConnectionTimeout", "CachedTimeTooLarge"}
+	bucketLogFilePrefix    = "bucket-log-"
 )
 
 func (ossDriver *ArtifactDriver) newOSSClient() (*oss.Client, error) {
@@ -47,7 +49,7 @@ func (ossDriver *ArtifactDriver) newOSSClient() (*oss.Client, error) {
 	return client, err
 }
 
-// Downloads artifacts from OSS compliant storage, e.g., downloading an artifact into local path
+// Load downloads artifacts from OSS compliant storage, e.g., downloading an artifact into local path
 func (ossDriver *ArtifactDriver) Load(inputArtifact *wfv1.Artifact, path string) error {
 	err := waitutil.Backoff(defaultRetry,
 		func() (bool, error) {
@@ -57,6 +59,10 @@ func (ossDriver *ArtifactDriver) Load(inputArtifact *wfv1.Artifact, path string)
 				return !isTransientOSSErr(err), err
 			}
 			bucketName := inputArtifact.OSS.Bucket
+			err = setBucketLogging(osscli, bucketName)
+			if err != nil {
+				return !isTransientOSSErr(err), err
+			}
 			bucket, err := osscli.Bucket(bucketName)
 			if err != nil {
 				return !isTransientOSSErr(err), err
@@ -87,7 +93,7 @@ func (ossDriver *ArtifactDriver) Load(inputArtifact *wfv1.Artifact, path string)
 	return err
 }
 
-// Saves an artifact to OSS compliant storage, e.g., uploading a local file to OSS bucket
+// Save stores an artifact to OSS compliant storage, e.g., uploading a local file to OSS bucket
 func (ossDriver *ArtifactDriver) Save(path string, outputArtifact *wfv1.Artifact) error {
 	err := waitutil.Backoff(defaultRetry,
 		func() (bool, error) {
@@ -102,6 +108,10 @@ func (ossDriver *ArtifactDriver) Save(path string, outputArtifact *wfv1.Artifact
 				return false, nil
 			}
 			bucketName := outputArtifact.OSS.Bucket
+			err = setBucketLogging(osscli, bucketName)
+			if err != nil {
+				return !isTransientOSSErr(err), err
+			}
 			if outputArtifact.OSS.CreateBucketIfNotPresent {
 				exists, err := osscli.IsBucketExist(bucketName)
 				if err != nil {
@@ -148,7 +158,12 @@ func (ossDriver *ArtifactDriver) ListObjects(artifact *wfv1.Artifact) ([]string,
 			if err != nil {
 				return !isTransientOSSErr(err), err
 			}
-			bucket, err := osscli.Bucket(artifact.OSS.Bucket)
+			bucketName := artifact.OSS.Bucket
+			err = setBucketLogging(osscli, bucketName)
+			if err != nil {
+				return !isTransientOSSErr(err), err
+			}
+			bucket, err := osscli.Bucket(bucketName)
 			if err != nil {
 				return !isTransientOSSErr(err), err
 			}
@@ -164,6 +179,16 @@ func (ossDriver *ArtifactDriver) ListObjects(artifact *wfv1.Artifact) ([]string,
 	return files, err
 }
 
+func setBucketLogging(client *oss.Client, bucketName string) error {
+	if os.Getenv(wfcommon.EnvVarArgoTrace) == "1" {
+		err := client.SetBucketLogging(bucketName, bucketName, bucketLogFilePrefix, true)
+		if err != nil {
+			return fmt.Errorf("failed to configure bucket logging: %w", err)
+		}
+	}
+	return nil
+}
+
 func setBucketLifecycleRule(client *oss.Client, ossArtifact *wfv1.OSSArtifact) error {
 	if ossArtifact.LifecycleRule.MarkInfrequentAccessAfterDays == 0 && ossArtifact.LifecycleRule.MarkDeletionAfterDays == 0 {
 		return nil

From 30340c42785fcff1e864b2078c37139dc13bbfd7 Mon Sep 17 00:00:00 2001
From: Antoine Dao <antoinedao1@gmail.com>
Date: Fri, 20 Aug 2021 18:09:01 +0100
Subject: [PATCH 056/137] fix(gcs): backoff bool should be false if error is
 transient (#6577)

Signed-off-by: AntoineDao <antoinedao1@gmail.com>
---
 workflow/artifacts/gcs/gcs.go      | 12 ++++++------
 workflow/artifacts/gcs/gcs_test.go |  3 +++
 2 files changed, 9 insertions(+), 6 deletions(-)

diff --git a/workflow/artifacts/gcs/gcs.go b/workflow/artifacts/gcs/gcs.go
index fb0efd401066..aec2c25a98c8 100644
--- a/workflow/artifacts/gcs/gcs.go
+++ b/workflow/artifacts/gcs/gcs.go
@@ -105,13 +105,13 @@ func (g *ArtifactDriver) Load(inputArtifact *wfv1.Artifact, path string) error {
 			gcsClient, err := g.newGCSClient()
 			if err != nil {
 				log.Warnf("Failed to create new GCS client: %v", err)
-				return isTransientGCSErr(err), err
+				return !isTransientGCSErr(err), err
 			}
 			defer gcsClient.Close()
 			err = downloadObjects(gcsClient, inputArtifact.GCS.Bucket, inputArtifact.GCS.Key, path)
 			if err != nil {
 				log.Warnf("Failed to download objects from GCS: %v", err)
-				return isTransientGCSErr(err), err
+				return !isTransientGCSErr(err), err
 			}
 			return true, nil
 		})
@@ -207,12 +207,12 @@ func (g *ArtifactDriver) Save(path string, outputArtifact *wfv1.Artifact) error
 			log.Infof("GCS Save path: %s, key: %s", path, outputArtifact.GCS.Key)
 			client, err := g.newGCSClient()
 			if err != nil {
-				return isTransientGCSErr(err), err
+				return !isTransientGCSErr(err), err
 			}
 			defer client.Close()
 			err = uploadObjects(client, outputArtifact.GCS.Bucket, outputArtifact.GCS.Key, path)
 			if err != nil {
-				return isTransientGCSErr(err), err
+				return !isTransientGCSErr(err), err
 			}
 			return true, nil
 		})
@@ -309,12 +309,12 @@ func (g *ArtifactDriver) ListObjects(artifact *wfv1.Artifact) ([]string, error)
 			client, err := g.newGCSClient()
 			if err != nil {
 				log.Warnf("Failed to create new GCS client: %v", err)
-				return isTransientGCSErr(err), err
+				return !isTransientGCSErr(err), err
 			}
 			defer client.Close()
 			files, err = listByPrefix(client, artifact.GCS.Bucket, artifact.GCS.Key, "")
 			if err != nil {
-				return isTransientGCSErr(err), err
+				return !isTransientGCSErr(err), err
 			}
 			return true, nil
 		})
diff --git a/workflow/artifacts/gcs/gcs_test.go b/workflow/artifacts/gcs/gcs_test.go
index e70361fb957e..6f51b9be8c15 100644
--- a/workflow/artifacts/gcs/gcs_test.go
+++ b/workflow/artifacts/gcs/gcs_test.go
@@ -8,6 +8,8 @@ import (
 	"testing"
 
 	"google.golang.org/api/googleapi"
+
+	argoErrors "github.com/argoproj/argo-workflows/v3/errors"
 )
 
 type tlsHandshakeTimeoutError struct{}
@@ -21,6 +23,7 @@ func TestIsTransientGCSErr(t *testing.T) {
 		shouldretry bool
 	}{
 		{&googleapi.Error{Code: 0}, false},
+		{argoErrors.New(argoErrors.CodeNotFound, "no results for key: foo/bar"), false},
 		{&googleapi.Error{Code: 429}, true},
 		{&googleapi.Error{Code: 518}, true},
 		{&googleapi.Error{Code: 599}, true},

From 33b0f7a31ecab256b709a0889c75d889defa1c3a Mon Sep 17 00:00:00 2001
From: Josh Soref <2119212+jsoref@users.noreply.github.com>
Date: Sun, 22 Aug 2021 02:55:20 -0400
Subject: [PATCH 057/137] docs: Add period (#6580)

Signed-off-by: Josh Soref <jsoref@users.noreply.github.com>

Co-authored-by: Josh Soref <jsoref@users.noreply.github.com>
---
 docs/workflow-archive.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/docs/workflow-archive.md b/docs/workflow-archive.md
index 2e594d8684f6..9e5a7ce14793 100644
--- a/docs/workflow-archive.md
+++ b/docs/workflow-archive.md
@@ -10,4 +10,4 @@ To enable this feature, configure a Postgres or MySQL (>= 5.7.8) database under
 
 Be aware that this feature will only archive the statuses of the workflows (which pods have been executed, what was the result, ...)
 
-However, the logs of each pod will NOT be archived. If you need to access the logs of the pods, you need to setup [an artifact repository](artifact-repository-ref.md) thanks to [this doc](configure-artifact-repository.md)
+However, the logs of each pod will NOT be archived. If you need to access the logs of the pods, you need to setup [an artifact repository](artifact-repository-ref.md) thanks to [this doc](configure-artifact-repository.md).

From b0e050e54a96a1c46b279a37b7daf43b2942f791 Mon Sep 17 00:00:00 2001
From: Alex Collins <alexec@users.noreply.github.com>
Date: Sat, 21 Aug 2021 23:55:57 -0700
Subject: [PATCH 058/137] feat: upgrade argo-dataflow to v0.0.90 (#6563)

Signed-off-by: Alex Collins <alex_collins@intuit.com>
---
 api/jsonschema/schema.json                    | 299 +++++++++++++++++-
 api/openapi-spec/swagger.json                 | 297 ++++++++++++++++-
 go.mod                                        |   2 +-
 go.sum                                        |   4 +-
 test/e2e/ui/ui-pipeline.yaml                  | 128 ++++++++
 .../pipeline-details/pipeline-details.tsx     |   3 +-
 .../pipeline-details/pipeline-graph.ts        |  10 +-
 ui/src/app/shared/components/icon.ts          |   1 -
 ui/src/models/step.ts                         |   2 +
 9 files changed, 725 insertions(+), 21 deletions(-)
 create mode 100644 test/e2e/ui/ui-pipeline.yaml

diff --git a/api/jsonschema/schema.json b/api/jsonschema/schema.json
index 4dde50a7f74d..8865257a1735 100644
--- a/api/jsonschema/schema.json
+++ b/api/jsonschema/schema.json
@@ -531,6 +531,10 @@
     },
     "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.PipelineSpec": {
       "properties": {
+        "deletionDelay": {
+          "$ref": "#/definitions/io.k8s.apimachinery.pkg.apis.meta.v1.Duration",
+          "title": "+kubebuilder:default=\"72h\""
+        },
         "steps": {
           "items": {
             "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.StepSpec"
@@ -592,6 +596,10 @@
     },
     "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.S3Source": {
       "properties": {
+        "concurrency": {
+          "title": "+kubebuilder:default=1",
+          "type": "integer"
+        },
         "pollPeriod": {
           "$ref": "#/definitions/io.k8s.apimachinery.pkg.apis.meta.v1.Duration",
           "title": "+kubebuilder:default=\"1m\""
@@ -688,15 +696,17 @@
     },
     "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Scale": {
       "properties": {
-        "maxReplicas": {
-          "type": "integer"
+        "desiredReplicas": {
+          "description": "An expression to determine the number of replicas. Must evaluation to an `int`.",
+          "type": "string"
         },
-        "minReplicas": {
-          "type": "integer"
+        "peekDelay": {
+          "title": "An expression to determine the delay for peeking. Maybe string or duration, e.g. `\"4m\"`\n+kubebuilder:default=\"defaultPeekDelay\"",
+          "type": "string"
         },
-        "replicaRatio": {
-          "title": "takes precedence over min",
-          "type": "integer"
+        "scalingDelay": {
+          "title": "An expression to determine the delay for scaling. Maybe string or duration, e.g. `\"1m\"`\n+kubebuilder:default=\"defaultScalingDelay\"",
+          "type": "string"
         }
       },
       "type": "object"
@@ -733,6 +743,9 @@
         },
         "stan": {
           "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.STAN"
+        },
+        "volume": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.VolumeSink"
         }
       },
       "type": "object"
@@ -764,12 +777,19 @@
         },
         "stan": {
           "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.STAN"
+        },
+        "volume": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.VolumeSource"
         }
       },
       "type": "object"
     },
     "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.SourceStatus": {
       "properties": {
+        "lastPending": {
+          "format": "uint64",
+          "type": "string"
+        },
         "metrics": {
           "additionalProperties": {
             "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Metrics"
@@ -862,7 +882,8 @@
           "type": "string"
         },
         "scale": {
-          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Scale"
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Scale",
+          "title": "+kubebuilder:default={peekDelay: \"defaultPeekDelay\", scalingDelay: \"defaultScalingDelay\", desiredReplicas: \"\"}"
         },
         "serviceAccountName": {
           "title": "+kubebuilder:default=pipeline",
@@ -969,6 +990,146 @@
       },
       "type": "object"
     },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.VolumeSink": {
+      "properties": {
+        "awsElasticBlockStore": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.AWSElasticBlockStoreVolumeSource",
+          "title": "AWSElasticBlockStore represents an AWS Disk resource that is attached to a\nkubelet's host machine and then exposed to the pod.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#awselasticblockstore\n+optional"
+        },
+        "azureDisk": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.AzureDiskVolumeSource",
+          "title": "AzureDisk represents an Azure Data Disk mount on the host and bind mount to the pod.\n+optional"
+        },
+        "azureFile": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.AzureFileVolumeSource",
+          "title": "AzureFile represents an Azure File Service mount on the host and bind mount to the pod.\n+optional"
+        },
+        "cephfs": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.CephFSVolumeSource",
+          "title": "CephFS represents a Ceph FS mount on the host that shares a pod's lifetime\n+optional"
+        },
+        "cinder": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.CinderVolumeSource",
+          "title": "Cinder represents a cinder volume attached and mounted on kubelets host machine.\nMore info: https://examples.io.k8s.mysql-cinder-pd/README.md\n+optional"
+        },
+        "configMap": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.ConfigMapVolumeSource",
+          "title": "ConfigMap represents a configMap that should populate this volume\n+optional"
+        },
+        "csi": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.CSIVolumeSource",
+          "title": "CSI (Container Storage Interface) represents ephemeral storage that is handled by certain external CSI drivers (Beta feature).\n+optional"
+        },
+        "downwardAPI": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.DownwardAPIVolumeSource",
+          "title": "DownwardAPI represents downward API about the pod that should populate this volume\n+optional"
+        },
+        "emptyDir": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.EmptyDirVolumeSource",
+          "title": "EmptyDir represents a temporary directory that shares a pod's lifetime.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#emptydir\n+optional"
+        },
+        "ephemeral": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.EphemeralVolumeSource",
+          "description": "Ephemeral represents a volume that is handled by a cluster storage driver (Alpha feature).\nThe volume's lifecycle is tied to the pod that defines it - it will be created before the pod starts,\nand deleted when the pod is removed.\n\nUse this if:\na) the volume is only needed while the pod runs,\nb) features of normal volumes like restoring from snapshot or capacity\n   tracking are needed,\nc) the storage driver is specified through a storage class, and\nd) the storage driver supports dynamic volume provisioning through\n   a PersistentVolumeClaim (see EphemeralVolumeSource for more\n   information on the connection between this volume type\n   and PersistentVolumeClaim).\n\nUse PersistentVolumeClaim or one of the vendor-specific\nAPIs for volumes that persist for longer than the lifecycle\nof an individual pod.\n\nUse CSI for light-weight local ephemeral volumes if the CSI driver is meant to\nbe used that way - see the documentation of the driver for\nmore information.\n\nA pod can use both types of ephemeral volumes and\npersistent volumes at the same time.\n\n+optional"
+        },
+        "fc": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.FCVolumeSource",
+          "title": "FC represents a Fibre Channel resource that is attached to a kubelet's host machine and then exposed to the pod.\n+optional"
+        },
+        "flexVolume": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.FlexVolumeSource",
+          "title": "FlexVolume represents a generic volume resource that is\nprovisioned/attached using an exec based plugin.\n+optional"
+        },
+        "flocker": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.FlockerVolumeSource",
+          "title": "Flocker represents a Flocker volume attached to a kubelet's host machine. This depends on the Flocker control service being running\n+optional"
+        },
+        "gcePersistentDisk": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.GCEPersistentDiskVolumeSource",
+          "title": "GCEPersistentDisk represents a GCE Disk resource that is attached to a\nkubelet's host machine and then exposed to the pod.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#gcepersistentdisk\n+optional"
+        },
+        "gitRepo": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.GitRepoVolumeSource",
+          "title": "GitRepo represents a git repository at a particular revision.\nDEPRECATED: GitRepo is deprecated. To provision a container with a git repo, mount an\nEmptyDir into an InitContainer that clones the repo using git, then mount the EmptyDir\ninto the Pod's container.\n+optional"
+        },
+        "glusterfs": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.GlusterfsVolumeSource",
+          "title": "Glusterfs represents a Glusterfs mount on the host that shares a pod's lifetime.\nMore info: https://examples.io.k8s.volumes/glusterfs/README.md\n+optional"
+        },
+        "hostPath": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.HostPathVolumeSource",
+          "title": "HostPath represents a pre-existing file or directory on the host\nmachine that is directly exposed to the container. This is generally\nused for system agents or other privileged things that are allowed\nto see the host machine. Most containers will NOT need this.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#hostpath\n---\nTODO(jonesdl) We need to restrict who can use host directory mounts and who can/can not\nmount host directories as read/write.\n+optional"
+        },
+        "iscsi": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.ISCSIVolumeSource",
+          "title": "ISCSI represents an ISCSI Disk resource that is attached to a\nkubelet's host machine and then exposed to the pod.\nMore info: https://examples.io.k8s.volumes/iscsi/README.md\n+optional"
+        },
+        "nfs": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.NFSVolumeSource",
+          "title": "NFS represents an NFS mount on the host that shares a pod's lifetime\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#nfs\n+optional"
+        },
+        "persistentVolumeClaim": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.PersistentVolumeClaimVolumeSource",
+          "title": "PersistentVolumeClaimVolumeSource represents a reference to a\nPersistentVolumeClaim in the same namespace.\nMore info: https://kubernetes.io/docs/concepts/storage/persistent-volumes#persistentvolumeclaims\n+optional"
+        },
+        "photonPersistentDisk": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.PhotonPersistentDiskVolumeSource",
+          "title": "PhotonPersistentDisk represents a PhotonController persistent disk attached and mounted on kubelets host machine"
+        },
+        "portworxVolume": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.PortworxVolumeSource",
+          "title": "PortworxVolume represents a portworx volume attached and mounted on kubelets host machine\n+optional"
+        },
+        "projected": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.ProjectedVolumeSource",
+          "title": "Items for all in one resources secrets, configmaps, and downward API"
+        },
+        "quobyte": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.QuobyteVolumeSource",
+          "title": "Quobyte represents a Quobyte mount on the host that shares a pod's lifetime\n+optional"
+        },
+        "rbd": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.RBDVolumeSource",
+          "title": "RBD represents a Rados Block Device mount on the host that shares a pod's lifetime.\nMore info: https://examples.io.k8s.volumes/rbd/README.md\n+optional"
+        },
+        "scaleIO": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.ScaleIOVolumeSource",
+          "title": "ScaleIO represents a ScaleIO persistent volume attached and mounted on Kubernetes nodes.\n+optional"
+        },
+        "secret": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.SecretVolumeSource",
+          "title": "Secret represents a secret that should populate this volume.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#secret\n+optional"
+        },
+        "storageos": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.StorageOSVolumeSource",
+          "title": "StorageOS represents a StorageOS volume attached and mounted on Kubernetes nodes.\n+optional"
+        },
+        "vsphereVolume": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.VsphereVirtualDiskVolumeSource",
+          "title": "VsphereVolume represents a vSphere volume attached and mounted on kubelets host machine\n+optional"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.VolumeSource": {
+      "properties": {
+        "concurrency": {
+          "title": "+kubebuilder:default=1",
+          "type": "integer"
+        },
+        "pollPeriod": {
+          "$ref": "#/definitions/io.k8s.apimachinery.pkg.apis.meta.v1.Duration",
+          "title": "+kubebuilder:default=\"1m\""
+        },
+        "readOnly": {
+          "type": "boolean"
+        },
+        "volumeSource": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.VolumeSource"
+        }
+      },
+      "type": "object"
+    },
     "google.protobuf.Any": {
       "properties": {
         "type_url": {
@@ -10165,6 +10326,128 @@
       },
       "type": "object"
     },
+    "io.k8s.api.core.v1.VolumeSource": {
+      "description": "Represents the source of a volume to mount.\nOnly one of its members may be specified.",
+      "properties": {
+        "awsElasticBlockStore": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.AWSElasticBlockStoreVolumeSource",
+          "title": "AWSElasticBlockStore represents an AWS Disk resource that is attached to a\nkubelet's host machine and then exposed to the pod.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#awselasticblockstore\n+optional"
+        },
+        "azureDisk": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.AzureDiskVolumeSource",
+          "title": "AzureDisk represents an Azure Data Disk mount on the host and bind mount to the pod.\n+optional"
+        },
+        "azureFile": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.AzureFileVolumeSource",
+          "title": "AzureFile represents an Azure File Service mount on the host and bind mount to the pod.\n+optional"
+        },
+        "cephfs": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.CephFSVolumeSource",
+          "title": "CephFS represents a Ceph FS mount on the host that shares a pod's lifetime\n+optional"
+        },
+        "cinder": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.CinderVolumeSource",
+          "title": "Cinder represents a cinder volume attached and mounted on kubelets host machine.\nMore info: https://examples.io.k8s.mysql-cinder-pd/README.md\n+optional"
+        },
+        "configMap": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.ConfigMapVolumeSource",
+          "title": "ConfigMap represents a configMap that should populate this volume\n+optional"
+        },
+        "csi": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.CSIVolumeSource",
+          "title": "CSI (Container Storage Interface) represents ephemeral storage that is handled by certain external CSI drivers (Beta feature).\n+optional"
+        },
+        "downwardAPI": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.DownwardAPIVolumeSource",
+          "title": "DownwardAPI represents downward API about the pod that should populate this volume\n+optional"
+        },
+        "emptyDir": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.EmptyDirVolumeSource",
+          "title": "EmptyDir represents a temporary directory that shares a pod's lifetime.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#emptydir\n+optional"
+        },
+        "ephemeral": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.EphemeralVolumeSource",
+          "description": "Ephemeral represents a volume that is handled by a cluster storage driver (Alpha feature).\nThe volume's lifecycle is tied to the pod that defines it - it will be created before the pod starts,\nand deleted when the pod is removed.\n\nUse this if:\na) the volume is only needed while the pod runs,\nb) features of normal volumes like restoring from snapshot or capacity\n   tracking are needed,\nc) the storage driver is specified through a storage class, and\nd) the storage driver supports dynamic volume provisioning through\n   a PersistentVolumeClaim (see EphemeralVolumeSource for more\n   information on the connection between this volume type\n   and PersistentVolumeClaim).\n\nUse PersistentVolumeClaim or one of the vendor-specific\nAPIs for volumes that persist for longer than the lifecycle\nof an individual pod.\n\nUse CSI for light-weight local ephemeral volumes if the CSI driver is meant to\nbe used that way - see the documentation of the driver for\nmore information.\n\nA pod can use both types of ephemeral volumes and\npersistent volumes at the same time.\n\n+optional"
+        },
+        "fc": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.FCVolumeSource",
+          "title": "FC represents a Fibre Channel resource that is attached to a kubelet's host machine and then exposed to the pod.\n+optional"
+        },
+        "flexVolume": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.FlexVolumeSource",
+          "title": "FlexVolume represents a generic volume resource that is\nprovisioned/attached using an exec based plugin.\n+optional"
+        },
+        "flocker": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.FlockerVolumeSource",
+          "title": "Flocker represents a Flocker volume attached to a kubelet's host machine. This depends on the Flocker control service being running\n+optional"
+        },
+        "gcePersistentDisk": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.GCEPersistentDiskVolumeSource",
+          "title": "GCEPersistentDisk represents a GCE Disk resource that is attached to a\nkubelet's host machine and then exposed to the pod.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#gcepersistentdisk\n+optional"
+        },
+        "gitRepo": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.GitRepoVolumeSource",
+          "title": "GitRepo represents a git repository at a particular revision.\nDEPRECATED: GitRepo is deprecated. To provision a container with a git repo, mount an\nEmptyDir into an InitContainer that clones the repo using git, then mount the EmptyDir\ninto the Pod's container.\n+optional"
+        },
+        "glusterfs": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.GlusterfsVolumeSource",
+          "title": "Glusterfs represents a Glusterfs mount on the host that shares a pod's lifetime.\nMore info: https://examples.io.k8s.volumes/glusterfs/README.md\n+optional"
+        },
+        "hostPath": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.HostPathVolumeSource",
+          "title": "HostPath represents a pre-existing file or directory on the host\nmachine that is directly exposed to the container. This is generally\nused for system agents or other privileged things that are allowed\nto see the host machine. Most containers will NOT need this.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#hostpath\n---\nTODO(jonesdl) We need to restrict who can use host directory mounts and who can/can not\nmount host directories as read/write.\n+optional"
+        },
+        "iscsi": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.ISCSIVolumeSource",
+          "title": "ISCSI represents an ISCSI Disk resource that is attached to a\nkubelet's host machine and then exposed to the pod.\nMore info: https://examples.io.k8s.volumes/iscsi/README.md\n+optional"
+        },
+        "nfs": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.NFSVolumeSource",
+          "title": "NFS represents an NFS mount on the host that shares a pod's lifetime\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#nfs\n+optional"
+        },
+        "persistentVolumeClaim": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.PersistentVolumeClaimVolumeSource",
+          "title": "PersistentVolumeClaimVolumeSource represents a reference to a\nPersistentVolumeClaim in the same namespace.\nMore info: https://kubernetes.io/docs/concepts/storage/persistent-volumes#persistentvolumeclaims\n+optional"
+        },
+        "photonPersistentDisk": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.PhotonPersistentDiskVolumeSource",
+          "title": "PhotonPersistentDisk represents a PhotonController persistent disk attached and mounted on kubelets host machine"
+        },
+        "portworxVolume": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.PortworxVolumeSource",
+          "title": "PortworxVolume represents a portworx volume attached and mounted on kubelets host machine\n+optional"
+        },
+        "projected": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.ProjectedVolumeSource",
+          "title": "Items for all in one resources secrets, configmaps, and downward API"
+        },
+        "quobyte": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.QuobyteVolumeSource",
+          "title": "Quobyte represents a Quobyte mount on the host that shares a pod's lifetime\n+optional"
+        },
+        "rbd": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.RBDVolumeSource",
+          "title": "RBD represents a Rados Block Device mount on the host that shares a pod's lifetime.\nMore info: https://examples.io.k8s.volumes/rbd/README.md\n+optional"
+        },
+        "scaleIO": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.ScaleIOVolumeSource",
+          "title": "ScaleIO represents a ScaleIO persistent volume attached and mounted on Kubernetes nodes.\n+optional"
+        },
+        "secret": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.SecretVolumeSource",
+          "title": "Secret represents a secret that should populate this volume.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#secret\n+optional"
+        },
+        "storageos": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.StorageOSVolumeSource",
+          "title": "StorageOS represents a StorageOS volume attached and mounted on Kubernetes nodes.\n+optional"
+        },
+        "vsphereVolume": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.VsphereVirtualDiskVolumeSource",
+          "title": "VsphereVolume represents a vSphere volume attached and mounted on kubelets host machine\n+optional"
+        }
+      },
+      "type": "object"
+    },
     "io.k8s.api.core.v1.VsphereVirtualDiskVolumeSource": {
       "description": "Represents a vSphere volume resource.",
       "properties": {
diff --git a/api/openapi-spec/swagger.json b/api/openapi-spec/swagger.json
index ed8891fbc598..cedc0b590b1c 100644
--- a/api/openapi-spec/swagger.json
+++ b/api/openapi-spec/swagger.json
@@ -4516,6 +4516,10 @@
     "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.PipelineSpec": {
       "type": "object",
       "properties": {
+        "deletionDelay": {
+          "title": "+kubebuilder:default=\"72h\"",
+          "$ref": "#/definitions/io.k8s.apimachinery.pkg.apis.meta.v1.Duration"
+        },
         "steps": {
           "type": "array",
           "title": "+patchStrategy=merge\n+patchMergeKey=name",
@@ -4577,6 +4581,10 @@
     "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.S3Source": {
       "type": "object",
       "properties": {
+        "concurrency": {
+          "type": "integer",
+          "title": "+kubebuilder:default=1"
+        },
         "pollPeriod": {
           "title": "+kubebuilder:default=\"1m\"",
           "$ref": "#/definitions/io.k8s.apimachinery.pkg.apis.meta.v1.Duration"
@@ -4673,15 +4681,17 @@
     "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Scale": {
       "type": "object",
       "properties": {
-        "maxReplicas": {
-          "type": "integer"
+        "desiredReplicas": {
+          "description": "An expression to determine the number of replicas. Must evaluation to an `int`.",
+          "type": "string"
         },
-        "minReplicas": {
-          "type": "integer"
+        "peekDelay": {
+          "type": "string",
+          "title": "An expression to determine the delay for peeking. Maybe string or duration, e.g. `\"4m\"`\n+kubebuilder:default=\"defaultPeekDelay\""
         },
-        "replicaRatio": {
-          "type": "integer",
-          "title": "takes precedence over min"
+        "scalingDelay": {
+          "type": "string",
+          "title": "An expression to determine the delay for scaling. Maybe string or duration, e.g. `\"1m\"`\n+kubebuilder:default=\"defaultScalingDelay\""
         }
       }
     },
@@ -4718,6 +4728,9 @@
         },
         "stan": {
           "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.STAN"
+        },
+        "volume": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.VolumeSink"
         }
       }
     },
@@ -4749,12 +4762,19 @@
         },
         "stan": {
           "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.STAN"
+        },
+        "volume": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.VolumeSource"
         }
       }
     },
     "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.SourceStatus": {
       "type": "object",
       "properties": {
+        "lastPending": {
+          "type": "string",
+          "format": "uint64"
+        },
         "metrics": {
           "type": "object",
           "additionalProperties": {
@@ -4847,6 +4867,7 @@
           "title": "+kubebuilder:default=OnFailure"
         },
         "scale": {
+          "title": "+kubebuilder:default={peekDelay: \"defaultPeekDelay\", scalingDelay: \"defaultScalingDelay\", desiredReplicas: \"\"}",
           "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Scale"
         },
         "serviceAccountName": {
@@ -4953,6 +4974,146 @@
         }
       }
     },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.VolumeSink": {
+      "type": "object",
+      "properties": {
+        "awsElasticBlockStore": {
+          "title": "AWSElasticBlockStore represents an AWS Disk resource that is attached to a\nkubelet's host machine and then exposed to the pod.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#awselasticblockstore\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.AWSElasticBlockStoreVolumeSource"
+        },
+        "azureDisk": {
+          "title": "AzureDisk represents an Azure Data Disk mount on the host and bind mount to the pod.\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.AzureDiskVolumeSource"
+        },
+        "azureFile": {
+          "title": "AzureFile represents an Azure File Service mount on the host and bind mount to the pod.\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.AzureFileVolumeSource"
+        },
+        "cephfs": {
+          "title": "CephFS represents a Ceph FS mount on the host that shares a pod's lifetime\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.CephFSVolumeSource"
+        },
+        "cinder": {
+          "title": "Cinder represents a cinder volume attached and mounted on kubelets host machine.\nMore info: https://examples.io.k8s.mysql-cinder-pd/README.md\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.CinderVolumeSource"
+        },
+        "configMap": {
+          "title": "ConfigMap represents a configMap that should populate this volume\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.ConfigMapVolumeSource"
+        },
+        "csi": {
+          "title": "CSI (Container Storage Interface) represents ephemeral storage that is handled by certain external CSI drivers (Beta feature).\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.CSIVolumeSource"
+        },
+        "downwardAPI": {
+          "title": "DownwardAPI represents downward API about the pod that should populate this volume\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.DownwardAPIVolumeSource"
+        },
+        "emptyDir": {
+          "title": "EmptyDir represents a temporary directory that shares a pod's lifetime.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#emptydir\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.EmptyDirVolumeSource"
+        },
+        "ephemeral": {
+          "description": "Ephemeral represents a volume that is handled by a cluster storage driver (Alpha feature).\nThe volume's lifecycle is tied to the pod that defines it - it will be created before the pod starts,\nand deleted when the pod is removed.\n\nUse this if:\na) the volume is only needed while the pod runs,\nb) features of normal volumes like restoring from snapshot or capacity\n   tracking are needed,\nc) the storage driver is specified through a storage class, and\nd) the storage driver supports dynamic volume provisioning through\n   a PersistentVolumeClaim (see EphemeralVolumeSource for more\n   information on the connection between this volume type\n   and PersistentVolumeClaim).\n\nUse PersistentVolumeClaim or one of the vendor-specific\nAPIs for volumes that persist for longer than the lifecycle\nof an individual pod.\n\nUse CSI for light-weight local ephemeral volumes if the CSI driver is meant to\nbe used that way - see the documentation of the driver for\nmore information.\n\nA pod can use both types of ephemeral volumes and\npersistent volumes at the same time.\n\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.EphemeralVolumeSource"
+        },
+        "fc": {
+          "title": "FC represents a Fibre Channel resource that is attached to a kubelet's host machine and then exposed to the pod.\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.FCVolumeSource"
+        },
+        "flexVolume": {
+          "title": "FlexVolume represents a generic volume resource that is\nprovisioned/attached using an exec based plugin.\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.FlexVolumeSource"
+        },
+        "flocker": {
+          "title": "Flocker represents a Flocker volume attached to a kubelet's host machine. This depends on the Flocker control service being running\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.FlockerVolumeSource"
+        },
+        "gcePersistentDisk": {
+          "title": "GCEPersistentDisk represents a GCE Disk resource that is attached to a\nkubelet's host machine and then exposed to the pod.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#gcepersistentdisk\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.GCEPersistentDiskVolumeSource"
+        },
+        "gitRepo": {
+          "title": "GitRepo represents a git repository at a particular revision.\nDEPRECATED: GitRepo is deprecated. To provision a container with a git repo, mount an\nEmptyDir into an InitContainer that clones the repo using git, then mount the EmptyDir\ninto the Pod's container.\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.GitRepoVolumeSource"
+        },
+        "glusterfs": {
+          "title": "Glusterfs represents a Glusterfs mount on the host that shares a pod's lifetime.\nMore info: https://examples.io.k8s.volumes/glusterfs/README.md\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.GlusterfsVolumeSource"
+        },
+        "hostPath": {
+          "title": "HostPath represents a pre-existing file or directory on the host\nmachine that is directly exposed to the container. This is generally\nused for system agents or other privileged things that are allowed\nto see the host machine. Most containers will NOT need this.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#hostpath\n---\nTODO(jonesdl) We need to restrict who can use host directory mounts and who can/can not\nmount host directories as read/write.\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.HostPathVolumeSource"
+        },
+        "iscsi": {
+          "title": "ISCSI represents an ISCSI Disk resource that is attached to a\nkubelet's host machine and then exposed to the pod.\nMore info: https://examples.io.k8s.volumes/iscsi/README.md\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.ISCSIVolumeSource"
+        },
+        "nfs": {
+          "title": "NFS represents an NFS mount on the host that shares a pod's lifetime\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#nfs\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.NFSVolumeSource"
+        },
+        "persistentVolumeClaim": {
+          "title": "PersistentVolumeClaimVolumeSource represents a reference to a\nPersistentVolumeClaim in the same namespace.\nMore info: https://kubernetes.io/docs/concepts/storage/persistent-volumes#persistentvolumeclaims\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.PersistentVolumeClaimVolumeSource"
+        },
+        "photonPersistentDisk": {
+          "title": "PhotonPersistentDisk represents a PhotonController persistent disk attached and mounted on kubelets host machine",
+          "$ref": "#/definitions/io.k8s.api.core.v1.PhotonPersistentDiskVolumeSource"
+        },
+        "portworxVolume": {
+          "title": "PortworxVolume represents a portworx volume attached and mounted on kubelets host machine\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.PortworxVolumeSource"
+        },
+        "projected": {
+          "title": "Items for all in one resources secrets, configmaps, and downward API",
+          "$ref": "#/definitions/io.k8s.api.core.v1.ProjectedVolumeSource"
+        },
+        "quobyte": {
+          "title": "Quobyte represents a Quobyte mount on the host that shares a pod's lifetime\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.QuobyteVolumeSource"
+        },
+        "rbd": {
+          "title": "RBD represents a Rados Block Device mount on the host that shares a pod's lifetime.\nMore info: https://examples.io.k8s.volumes/rbd/README.md\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.RBDVolumeSource"
+        },
+        "scaleIO": {
+          "title": "ScaleIO represents a ScaleIO persistent volume attached and mounted on Kubernetes nodes.\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.ScaleIOVolumeSource"
+        },
+        "secret": {
+          "title": "Secret represents a secret that should populate this volume.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#secret\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.SecretVolumeSource"
+        },
+        "storageos": {
+          "title": "StorageOS represents a StorageOS volume attached and mounted on Kubernetes nodes.\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.StorageOSVolumeSource"
+        },
+        "vsphereVolume": {
+          "title": "VsphereVolume represents a vSphere volume attached and mounted on kubelets host machine\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.VsphereVirtualDiskVolumeSource"
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.VolumeSource": {
+      "type": "object",
+      "properties": {
+        "concurrency": {
+          "type": "integer",
+          "title": "+kubebuilder:default=1"
+        },
+        "pollPeriod": {
+          "title": "+kubebuilder:default=\"1m\"",
+          "$ref": "#/definitions/io.k8s.apimachinery.pkg.apis.meta.v1.Duration"
+        },
+        "readOnly": {
+          "type": "boolean"
+        },
+        "volumeSource": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.VolumeSource"
+        }
+      }
+    },
     "google.protobuf.Any": {
       "type": "object",
       "properties": {
@@ -14137,6 +14298,128 @@
         }
       }
     },
+    "io.k8s.api.core.v1.VolumeSource": {
+      "description": "Represents the source of a volume to mount.\nOnly one of its members may be specified.",
+      "type": "object",
+      "properties": {
+        "awsElasticBlockStore": {
+          "title": "AWSElasticBlockStore represents an AWS Disk resource that is attached to a\nkubelet's host machine and then exposed to the pod.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#awselasticblockstore\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.AWSElasticBlockStoreVolumeSource"
+        },
+        "azureDisk": {
+          "title": "AzureDisk represents an Azure Data Disk mount on the host and bind mount to the pod.\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.AzureDiskVolumeSource"
+        },
+        "azureFile": {
+          "title": "AzureFile represents an Azure File Service mount on the host and bind mount to the pod.\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.AzureFileVolumeSource"
+        },
+        "cephfs": {
+          "title": "CephFS represents a Ceph FS mount on the host that shares a pod's lifetime\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.CephFSVolumeSource"
+        },
+        "cinder": {
+          "title": "Cinder represents a cinder volume attached and mounted on kubelets host machine.\nMore info: https://examples.io.k8s.mysql-cinder-pd/README.md\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.CinderVolumeSource"
+        },
+        "configMap": {
+          "title": "ConfigMap represents a configMap that should populate this volume\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.ConfigMapVolumeSource"
+        },
+        "csi": {
+          "title": "CSI (Container Storage Interface) represents ephemeral storage that is handled by certain external CSI drivers (Beta feature).\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.CSIVolumeSource"
+        },
+        "downwardAPI": {
+          "title": "DownwardAPI represents downward API about the pod that should populate this volume\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.DownwardAPIVolumeSource"
+        },
+        "emptyDir": {
+          "title": "EmptyDir represents a temporary directory that shares a pod's lifetime.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#emptydir\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.EmptyDirVolumeSource"
+        },
+        "ephemeral": {
+          "description": "Ephemeral represents a volume that is handled by a cluster storage driver (Alpha feature).\nThe volume's lifecycle is tied to the pod that defines it - it will be created before the pod starts,\nand deleted when the pod is removed.\n\nUse this if:\na) the volume is only needed while the pod runs,\nb) features of normal volumes like restoring from snapshot or capacity\n   tracking are needed,\nc) the storage driver is specified through a storage class, and\nd) the storage driver supports dynamic volume provisioning through\n   a PersistentVolumeClaim (see EphemeralVolumeSource for more\n   information on the connection between this volume type\n   and PersistentVolumeClaim).\n\nUse PersistentVolumeClaim or one of the vendor-specific\nAPIs for volumes that persist for longer than the lifecycle\nof an individual pod.\n\nUse CSI for light-weight local ephemeral volumes if the CSI driver is meant to\nbe used that way - see the documentation of the driver for\nmore information.\n\nA pod can use both types of ephemeral volumes and\npersistent volumes at the same time.\n\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.EphemeralVolumeSource"
+        },
+        "fc": {
+          "title": "FC represents a Fibre Channel resource that is attached to a kubelet's host machine and then exposed to the pod.\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.FCVolumeSource"
+        },
+        "flexVolume": {
+          "title": "FlexVolume represents a generic volume resource that is\nprovisioned/attached using an exec based plugin.\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.FlexVolumeSource"
+        },
+        "flocker": {
+          "title": "Flocker represents a Flocker volume attached to a kubelet's host machine. This depends on the Flocker control service being running\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.FlockerVolumeSource"
+        },
+        "gcePersistentDisk": {
+          "title": "GCEPersistentDisk represents a GCE Disk resource that is attached to a\nkubelet's host machine and then exposed to the pod.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#gcepersistentdisk\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.GCEPersistentDiskVolumeSource"
+        },
+        "gitRepo": {
+          "title": "GitRepo represents a git repository at a particular revision.\nDEPRECATED: GitRepo is deprecated. To provision a container with a git repo, mount an\nEmptyDir into an InitContainer that clones the repo using git, then mount the EmptyDir\ninto the Pod's container.\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.GitRepoVolumeSource"
+        },
+        "glusterfs": {
+          "title": "Glusterfs represents a Glusterfs mount on the host that shares a pod's lifetime.\nMore info: https://examples.io.k8s.volumes/glusterfs/README.md\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.GlusterfsVolumeSource"
+        },
+        "hostPath": {
+          "title": "HostPath represents a pre-existing file or directory on the host\nmachine that is directly exposed to the container. This is generally\nused for system agents or other privileged things that are allowed\nto see the host machine. Most containers will NOT need this.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#hostpath\n---\nTODO(jonesdl) We need to restrict who can use host directory mounts and who can/can not\nmount host directories as read/write.\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.HostPathVolumeSource"
+        },
+        "iscsi": {
+          "title": "ISCSI represents an ISCSI Disk resource that is attached to a\nkubelet's host machine and then exposed to the pod.\nMore info: https://examples.io.k8s.volumes/iscsi/README.md\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.ISCSIVolumeSource"
+        },
+        "nfs": {
+          "title": "NFS represents an NFS mount on the host that shares a pod's lifetime\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#nfs\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.NFSVolumeSource"
+        },
+        "persistentVolumeClaim": {
+          "title": "PersistentVolumeClaimVolumeSource represents a reference to a\nPersistentVolumeClaim in the same namespace.\nMore info: https://kubernetes.io/docs/concepts/storage/persistent-volumes#persistentvolumeclaims\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.PersistentVolumeClaimVolumeSource"
+        },
+        "photonPersistentDisk": {
+          "title": "PhotonPersistentDisk represents a PhotonController persistent disk attached and mounted on kubelets host machine",
+          "$ref": "#/definitions/io.k8s.api.core.v1.PhotonPersistentDiskVolumeSource"
+        },
+        "portworxVolume": {
+          "title": "PortworxVolume represents a portworx volume attached and mounted on kubelets host machine\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.PortworxVolumeSource"
+        },
+        "projected": {
+          "title": "Items for all in one resources secrets, configmaps, and downward API",
+          "$ref": "#/definitions/io.k8s.api.core.v1.ProjectedVolumeSource"
+        },
+        "quobyte": {
+          "title": "Quobyte represents a Quobyte mount on the host that shares a pod's lifetime\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.QuobyteVolumeSource"
+        },
+        "rbd": {
+          "title": "RBD represents a Rados Block Device mount on the host that shares a pod's lifetime.\nMore info: https://examples.io.k8s.volumes/rbd/README.md\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.RBDVolumeSource"
+        },
+        "scaleIO": {
+          "title": "ScaleIO represents a ScaleIO persistent volume attached and mounted on Kubernetes nodes.\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.ScaleIOVolumeSource"
+        },
+        "secret": {
+          "title": "Secret represents a secret that should populate this volume.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#secret\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.SecretVolumeSource"
+        },
+        "storageos": {
+          "title": "StorageOS represents a StorageOS volume attached and mounted on Kubernetes nodes.\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.StorageOSVolumeSource"
+        },
+        "vsphereVolume": {
+          "title": "VsphereVolume represents a vSphere volume attached and mounted on kubelets host machine\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.VsphereVirtualDiskVolumeSource"
+        }
+      }
+    },
     "io.k8s.api.core.v1.VsphereVirtualDiskVolumeSource": {
       "description": "Represents a vSphere volume resource.",
       "type": "object",
diff --git a/go.mod b/go.mod
index 054811fe93b7..d48fa73f983e 100644
--- a/go.mod
+++ b/go.mod
@@ -10,7 +10,7 @@ require (
 	github.com/TwinProduction/go-color v0.0.3
 	github.com/aliyun/aliyun-oss-go-sdk v2.1.8+incompatible
 	github.com/antonmedv/expr v1.8.9
-	github.com/argoproj-labs/argo-dataflow v0.0.88
+	github.com/argoproj-labs/argo-dataflow v0.0.91
 	github.com/argoproj/argo-events v1.4.0
 	github.com/argoproj/pkg v0.11.0
 	github.com/baiyubin/aliyun-sts-go-sdk v0.0.0-20180326062324-cfa1a18b161f // indirect
diff --git a/go.sum b/go.sum
index d8c9e1a3a3b8..a07ddcd6200b 100644
--- a/go.sum
+++ b/go.sum
@@ -147,8 +147,8 @@ github.com/apache/thrift v0.12.0/go.mod h1:cp2SuWMxlEZw2r+iP2GNCdIi4C1qmUzdZFSVb
 github.com/apache/thrift v0.13.0/go.mod h1:cp2SuWMxlEZw2r+iP2GNCdIi4C1qmUzdZFSVb+bacwQ=
 github.com/ardielle/ardielle-go v1.5.2/go.mod h1:I4hy1n795cUhaVt/ojz83SNVCYIGsAFAONtv2Dr7HUI=
 github.com/ardielle/ardielle-tools v1.5.4/go.mod h1:oZN+JRMnqGiIhrzkRN9l26Cej9dEx4jeNG6A+AdkShk=
-github.com/argoproj-labs/argo-dataflow v0.0.88 h1:Q7LwlK9FbNB00LzZ5/9Qcg3Im1t8/HyHhwVITVSMypY=
-github.com/argoproj-labs/argo-dataflow v0.0.88/go.mod h1:HOdmu21+Xx59R28S8+e+wMx+/ApHWNtglPqLvgLRI2E=
+github.com/argoproj-labs/argo-dataflow v0.0.91 h1:1YWbvGupcWInj4Jtdgsdci48GJEwv0WP4Bm7CVxXkew=
+github.com/argoproj-labs/argo-dataflow v0.0.91/go.mod h1:HOdmu21+Xx59R28S8+e+wMx+/ApHWNtglPqLvgLRI2E=
 github.com/argoproj/argo-events v1.4.0 h1:RIzAOomP/4rnv3X6KIDKzXZJ56JKFxSYmksoE98ILWI=
 github.com/argoproj/argo-events v1.4.0/go.mod h1:wI5A0U3Wj9ZvfPn3ioL18Dz29+7aibtlyU9pS0Ry+bg=
 github.com/argoproj/pkg v0.9.0/go.mod h1:ra+bQPmbVAoEL+gYSKesuigt4m49i3Qa3mE/xQcjCiA=
diff --git a/test/e2e/ui/ui-pipeline.yaml b/test/e2e/ui/ui-pipeline.yaml
new file mode 100644
index 000000000000..10f36c92aeca
--- /dev/null
+++ b/test/e2e/ui/ui-pipeline.yaml
@@ -0,0 +1,128 @@
+apiVersion: dataflow.argoproj.io/v1alpha1
+kind: Pipeline
+metadata:
+  name: ui
+spec:
+  steps:
+    - name: code
+      code:
+        runtime: golang1-16
+        source: |
+          package main
+          import "context"
+          func Handler(ctx context.Context, m []byte) ([]byte, error) {
+            return m, nil
+          }
+      sources:
+        - cron:
+            schedule: "*/3 * * * *"
+      sinks:
+        - stan:
+            subject: event-bus
+
+    - name: container
+      container:
+        image: golang:1.16
+        args:
+          - sh
+          - -c
+          - exit 0
+      sources:
+        - name: kafka
+          kafka:
+            topic: input-topic
+        - name: stan
+          stan:
+            subject: input-subject
+      sinks:
+        - stan:
+            subject: event-bus
+
+    - name: git
+      git:
+        branch: main
+        command:
+          - go
+          - run
+          - .
+        env:
+          - name: GOCACHE
+            value: /tmp/.gocache
+        image: golang:1.16
+        path: examples/git
+        url: https://github.com/argoproj-labs/argo-dataflow
+      sources:
+        - name: http
+          http:
+            serviceName: my-service
+        - name: db
+          db:
+            query: "select 1"
+      sinks:
+        - stan:
+            subject: event-bus
+
+    - name: expand
+      expand: { }
+      sources:
+        - stan:
+            subject: event-bus
+      sinks:
+        - stan:
+            subject: expanded
+    - name: flatten
+      flatten: { }
+      sources:
+        - stan:
+            subject: expanded
+      sinks:
+        - name: kafka
+          kafka:
+            topic: output-topic
+        - name: stan
+          stan:
+            subject: output-subject
+    - name: filter
+      filter: "true"
+      sources:
+        - stan:
+            subject: event-bus
+      sinks:
+        - name: http
+          http:
+            url: http://external-service
+        - name: log
+          log: { }
+        - name: db
+          db:
+            actions:
+              - sql: "select 1"
+    - name: map
+      map: "true"
+      sources:
+        - stan:
+            subject: event-bus
+      sinks:
+        - name: s3
+          s3:
+            bucket: other-bucket
+        - name: disk
+          volume:
+            emptyDir: { }
+    - name: files
+      cat: { }
+      sources:
+        - name: s3
+          s3:
+            bucket: my-bucket
+        - name: disk
+          volume:
+            emptyDir: { }
+      sinks:
+        - stan:
+            subject: event-bus
+---
+kind: Secret
+apiVersion: v1
+metadata:
+  name: ui-git
\ No newline at end of file
diff --git a/ui/src/app/pipelines/components/pipeline-details/pipeline-details.tsx b/ui/src/app/pipelines/components/pipeline-details/pipeline-details.tsx
index 182a12191234..c2bdd4fa4e9b 100644
--- a/ui/src/app/pipelines/components/pipeline-details/pipeline-details.tsx
+++ b/ui/src/app/pipelines/components/pipeline-details/pipeline-details.tsx
@@ -134,7 +134,8 @@ export const PipelineDetails = ({history, match, location}: RouteComponentProps<
                                 map: true,
                                 s3: true,
                                 stan: true,
-                                unknown: true
+                                unknown: true,
+                                volume: true
                             }}
                             defaultIconShape='circle'
                             nodeClassNamesTitle='Status'
diff --git a/ui/src/app/pipelines/components/pipeline-details/pipeline-graph.ts b/ui/src/app/pipelines/components/pipeline-details/pipeline-graph.ts
index 38a6cd0bdf69..35eda746f7c4 100644
--- a/ui/src/app/pipelines/components/pipeline-details/pipeline-graph.ts
+++ b/ui/src/app/pipelines/components/pipeline-details/pipeline-graph.ts
@@ -24,7 +24,7 @@ const stepIcon = (type: Type): Icon => {
         case 'flatten':
             return 'compress';
         case 'git':
-            return 'git-alt';
+            return 'code-branch';
         case 'group':
             return 'object-group';
         case 'split':
@@ -112,6 +112,10 @@ export const graph = (pipeline: Pipeline, steps: Step[]) => {
                 const id = 's3/' + bucket;
                 g.nodes.set(id, {genre: 's3', icon: 'hdd', label: bucket});
                 g.edges.set({v: id, w: stepId}, {classNames, label});
+            } else if (x.volume) {
+                const id = 'volume/' + stepId + '/sources/' + x.name;
+                g.nodes.set(id, {genre: 'volume', icon: 'hdd', label: x.name});
+                g.edges.set({v: id, w: stepId}, {classNames, label});
             } else {
                 const id = 'unknown/' + stepId + '/sources/' + x.name;
                 g.nodes.set(id, {genre: 'unknown', icon: 'square', label: x.name});
@@ -149,6 +153,10 @@ export const graph = (pipeline: Pipeline, steps: Step[]) => {
                 const id = 's3/' + bucket;
                 g.nodes.set(id, {genre: 's3', icon: 'hdd', label: bucket});
                 g.edges.set({v: stepId, w: id}, {classNames, label});
+            } else if (x.volume) {
+                const id = 'volume/' + stepId + '/sinks/' + x.name;
+                g.nodes.set(id, {genre: 'volume', icon: 'hdd', label: x.name});
+                g.edges.set({v: stepId, w: id}, {classNames, label});
             } else {
                 const id = 'unknown/' + stepId + '/sinks/' + x.name;
                 g.nodes.set(id, {genre: 'unknown', icon: 'square', label: x.name});
diff --git a/ui/src/app/shared/components/icon.ts b/ui/src/app/shared/components/icon.ts
index d36be2ca9174..15fef88d2d7d 100644
--- a/ui/src/app/shared/components/icon.ts
+++ b/ui/src/app/shared/components/icon.ts
@@ -35,7 +35,6 @@ export type Icon =
     | 'file-code'
     | 'filter'
     | 'forward'
-    | 'git-alt'
     | 'grip-vertical'
     | 'hdd'
     | 'inbox'
diff --git a/ui/src/models/step.ts b/ui/src/models/step.ts
index 73c2a4990241..9d6f33ff792e 100644
--- a/ui/src/models/step.ts
+++ b/ui/src/models/step.ts
@@ -38,6 +38,7 @@ export interface Step {
             s3?: {
                 bucket: string;
             };
+            volume?: {};
         }[];
         sinks: {
             name?: string;
@@ -53,6 +54,7 @@ export interface Step {
             s3?: {
                 bucket: string;
             };
+            volume?: {};
         }[];
     };
     status?: StepStatus;

From 48d7ad36c14e4a50c50332d6decd543a1b732b69 Mon Sep 17 00:00:00 2001
From: Simon Behar <simbeh7@gmail.com>
Date: Sat, 21 Aug 2021 23:58:06 -0700
Subject: [PATCH 059/137] chore: Remove onExit naming transition scaffolding
 code (#6297)

Signed-off-by: Simon Behar <simbeh7@gmail.com>
---
 workflow/controller/controller_test.go |   4 +-
 workflow/controller/dag.go             |  17 +-
 workflow/controller/exit_handler.go    |  17 +-
 workflow/controller/operator_test.go   | 221 -------------------------
 workflow/controller/steps.go           |   2 +-
 5 files changed, 7 insertions(+), 254 deletions(-)

diff --git a/workflow/controller/controller_test.go b/workflow/controller/controller_test.go
index be053327ecf0..8036bf4f85bf 100644
--- a/workflow/controller/controller_test.go
+++ b/workflow/controller/controller_test.go
@@ -281,7 +281,9 @@ func withAnnotation(key, val string) with {
 
 // createRunningPods creates the pods that are marked as running in a given test so that they can be accessed by the
 // pod assessor
-func createRunningPods(ctx context.Context, woc *wfOperationCtx) {
+// This function is called `createRunningPods`, but since it is currently not used and should not be removed it has been
+// renamed to `_` until a use is found.
+func _(ctx context.Context, woc *wfOperationCtx) {
 	podcs := woc.controller.kubeclientset.CoreV1().Pods(woc.wf.GetNamespace())
 	for _, node := range woc.wf.Status.Nodes {
 		if node.Type == wfv1.NodeTypePod && node.Phase == wfv1.NodeRunning {
diff --git a/workflow/controller/dag.go b/workflow/controller/dag.go
index a3d467013707..753e3bb89171 100644
--- a/workflow/controller/dag.go
+++ b/workflow/controller/dag.go
@@ -249,7 +249,7 @@ func (woc *wfOperationCtx) executeDAG(ctx context.Context, nodeName string, tmpl
 			if taskNode.Completed() {
 				// Run the node's onExit node, if any. Since this is a target task, we don't need to consider the status
 				// of the onExit node before continuing. That will be done in assesDAGPhase
-				_, _, err := woc.runOnExitNode(ctx, dagCtx.GetTask(taskName).GetExitHook(woc.execWf.Spec.Arguments), taskName, taskNode.Name, dagCtx.boundaryID, dagCtx.tmplCtx, "tasks."+taskName, taskNode.Outputs)
+				_, _, err := woc.runOnExitNode(ctx, dagCtx.GetTask(taskName).GetExitHook(woc.execWf.Spec.Arguments), taskNode.Name, dagCtx.boundaryID, dagCtx.tmplCtx, "tasks."+taskName, taskNode.Outputs)
 				if err != nil {
 					return node, err
 				}
@@ -338,7 +338,7 @@ func (woc *wfOperationCtx) executeDAGTask(ctx context.Context, dagCtx *dagContex
 
 		if node.Completed() {
 			// Run the node's onExit node, if any.
-			hasOnExitNode, onExitNode, err := woc.runOnExitNode(ctx, task.GetExitHook(woc.execWf.Spec.Arguments), task.Name, node.Name, dagCtx.boundaryID, dagCtx.tmplCtx, "tasks."+taskName, node.Outputs)
+			hasOnExitNode, onExitNode, err := woc.runOnExitNode(ctx, task.GetExitHook(woc.execWf.Spec.Arguments), node.Name, dagCtx.boundaryID, dagCtx.tmplCtx, "tasks."+taskName, node.Outputs)
 			if hasOnExitNode && (onExitNode == nil || !onExitNode.Fulfilled() || err != nil) {
 				// The onExit node is either not complete or has errored out, return.
 				return
@@ -697,19 +697,6 @@ func (d *dagContext) evaluateDependsLogic(taskName string) (bool, bool, error) {
 			}
 		}
 
-		// Previously we used `depNode.DisplayName` to generate all onExit node names. However, as these can be non-unique
-		// we transitioned to using `depNode.Name` instead, which are guaranteed to be unique. In order to not disrupt
-		// running workflows during upgrade time, we do an additional check to see if there is an onExit node with the old
-		// name (`depNode.DisplayName`).
-		// TODO: This scaffold code should be removed after a couple of "grace period" version upgrades to allow transitions. It was introduced in v3.0.0
-		// See more: https://github.com/argoproj/argo-workflows/issues/5502
-		legacyOnExitNodeName := common.GenerateOnExitNodeName(depNode.DisplayName)
-		if onExitNode := d.wf.GetNodeByName(legacyOnExitNodeName); onExitNode != nil && d.wf.GetNodeByName(depNode.Name).HasChild(onExitNode.ID) {
-			if !onExitNode.Fulfilled() {
-				return false, false, nil
-			}
-		}
-
 		evalTaskName := strings.Replace(taskName, "-", "_", -1)
 		if _, ok := evalScope[evalTaskName]; ok {
 			continue
diff --git a/workflow/controller/exit_handler.go b/workflow/controller/exit_handler.go
index 86099e6f4b78..9e093810f8d4 100644
--- a/workflow/controller/exit_handler.go
+++ b/workflow/controller/exit_handler.go
@@ -11,26 +11,11 @@ import (
 	"github.com/argoproj/argo-workflows/v3/workflow/templateresolution"
 )
 
-func (woc *wfOperationCtx) runOnExitNode(ctx context.Context, exitHook *wfv1.LifecycleHook, parentDisplayName, parentNodeName, boundaryID string, tmplCtx *templateresolution.Context, prefix string, outputs *wfv1.Outputs) (bool, *wfv1.NodeStatus, error) {
+func (woc *wfOperationCtx) runOnExitNode(ctx context.Context, exitHook *wfv1.LifecycleHook, parentNodeName, boundaryID string, tmplCtx *templateresolution.Context, prefix string, outputs *wfv1.Outputs) (bool, *wfv1.NodeStatus, error) {
 	if exitHook != nil && woc.GetShutdownStrategy().ShouldExecute(true) {
 		woc.log.WithField("lifeCycleHook", exitHook).Infof("Running OnExit handler")
 
-		// Previously we used `parentDisplayName` to generate all onExit node names. However, as these can be non-unique
-		// we transitioned to using `parentNodeName` instead, which are guaranteed to be unique. In order to not disrupt
-		// running workflows during upgrade time, we first check if there is an onExit node that currently exists with the
-		// legacy name AND said node is a child of the parent node. If it does, we continue execution with the legacy name.
-		// If it doesn't, we use the new (and unique) name for all operations henceforth.
-		// TODO: This scaffold code should be removed after a couple of "grace period" version upgrades to allow transitions. It was introduced in v3.0.0
-		// When the scaffold code is removed, we should only have the following:
-		//
-		// 		onExitNodeName := common.GenerateOnExitNodeName(parentNodeName)
-		//
-		// See more: https://github.com/argoproj/argo-workflows/issues/5502
 		onExitNodeName := common.GenerateOnExitNodeName(parentNodeName)
-		legacyOnExitNodeName := common.GenerateOnExitNodeName(parentDisplayName)
-		if legacyNameNode := woc.wf.GetNodeByName(legacyOnExitNodeName); legacyNameNode != nil && woc.wf.GetNodeByName(parentNodeName).HasChild(legacyNameNode.ID) {
-			onExitNodeName = legacyOnExitNodeName
-		}
 		resolvedArgs := exitHook.Arguments
 		var err error
 		if !resolvedArgs.IsEmpty() && outputs != nil {
diff --git a/workflow/controller/operator_test.go b/workflow/controller/operator_test.go
index 9482b211711c..6bbc80ed5747 100644
--- a/workflow/controller/operator_test.go
+++ b/workflow/controller/operator_test.go
@@ -6781,227 +6781,6 @@ func TestRootRetryStrategyCompletes(t *testing.T) {
 	assert.Equal(t, wfv1.WorkflowSucceeded, woc.wf.Status.Phase)
 }
 
-const testOnExitNameBackwardsCompatibility = `
-apiVersion: argoproj.io/v1alpha1
-kind: Workflow
-metadata:
-  name: hello-world-69h5d
-spec:
-  entrypoint: main
-  templates:
-  - name: main
-    steps:
-    - - name: run
-        onExit: pass
-        template: pass
-  - container:
-      args:
-      - exit 0
-      command:
-      - sh
-      - -c
-      image: alpine
-    name: pass
-  ttlStrategy:
-    secondsAfterCompletion: 600
-status:
-  nodes:
-    hello-world-69h5d:
-      children:
-      - hello-world-69h5d-4087924081
-      displayName: hello-world-69h5d
-      finishedAt: "2021-03-24T14:53:32Z"
-      id: hello-world-69h5d
-      name: hello-world-69h5d
-      outboundNodes:
-      - hello-world-69h5d-928074325
-      phase: Running
-      startedAt: "2021-03-24T14:53:18Z"
-      templateName: main
-      templateScope: local/hello-world-69h5d
-      type: Steps
-    hello-world-69h5d-928074325:
-      boundaryID: hello-world-69h5d
-      displayName: run.onExit
-      finishedAt: "2021-03-24T14:53:31Z"
-      hostNodeName: k3d-k3s-default-server-0
-      id: hello-world-69h5d-928074325
-      name: run.onExit
-      phase: Running
-      startedAt: "2021-03-24T14:53:25Z"
-      templateName: pass
-      templateScope: local/hello-world-69h5d
-      type: Pod
-    hello-world-69h5d-2500098386:
-      boundaryID: hello-world-69h5d
-      children:
-      - hello-world-69h5d-928074325
-      displayName: run
-      finishedAt: "2021-03-24T14:53:24Z"
-      hostNodeName: k3d-k3s-default-server-0
-      id: hello-world-69h5d-2500098386
-      name: hello-world-69h5d[0].run
-      phase: Succeeded
-      startedAt: "2021-03-24T14:53:18Z"
-      templateName: pass
-      templateScope: local/hello-world-69h5d
-      type: Pod
-    hello-world-69h5d-4087924081:
-      boundaryID: hello-world-69h5d
-      children:
-      - hello-world-69h5d-2500098386
-      displayName: '[0]'
-      finishedAt: "2021-03-24T14:53:32Z"
-      id: hello-world-69h5d-4087924081
-      name: hello-world-69h5d[0]
-      phase: Running
-      startedAt: "2021-03-24T14:53:18Z"
-      templateScope: local/hello-world-69h5d
-      type: StepGroup
-  phase: Running
-  startedAt: "2021-03-24T14:53:18Z"
-`
-
-// Previously we used `parentNodeDisplayName` to generate all onExit node names. However, as these can be non-unique
-// we transitioned to using `parentNodeName` instead, which are guaranteed to be unique. In order to not disrupt
-// running workflows during upgrade time, we first check if there is an onExit node that currently exists with the
-// legacy name AND said node is a child of the parent node. If it does, we continue execution with the legacy name.
-// If it doesn't, we use the new (and unique) name for all operations henceforth.
-//
-// Here we test to see if this backwards compatibility works. This test workflow contains a running onExit node with the
-// old name. When we call operate on it, we should NOT create another onExit node with the new name and instead respect
-// the old onExit node.
-//
-// TODO: This test should be removed after a couple of "grace period" version upgrades to allow transitions. It was introduced in v3.0.0
-// See more: https://github.com/argoproj/argo-workflows/issues/5502
-func TestOnExitNameBackwardsCompatibility(t *testing.T) {
-	wf := wfv1.MustUnmarshalWorkflow(testOnExitNameBackwardsCompatibility)
-	cancel, controller := newController(wf)
-	defer cancel()
-
-	ctx := context.Background()
-	woc := newWorkflowOperationCtx(wf, controller)
-
-	createRunningPods(ctx, woc)
-
-	nodesBeforeOperation := len(woc.wf.Status.Nodes)
-	woc.operate(ctx)
-
-	assert.Equal(t, wfv1.WorkflowRunning, woc.wf.Status.Phase)
-	// Number of nodes should not change (no new name node was created)
-	assert.Equal(t, nodesBeforeOperation, len(woc.wf.Status.Nodes))
-	node := woc.wf.Status.Nodes.FindByDisplayName("run.onExit")
-	if assert.NotNil(t, node) {
-		assert.Equal(t, wfv1.NodeRunning, node.Phase)
-	}
-}
-
-const testOnExitDAGStatusCompatibility = `
-apiVersion: argoproj.io/v1alpha1
-kind: Workflow
-metadata:
-  name: dag-diamond-8xw8l
-spec:
-  entrypoint: diamond
-  templates:
-  - dag:
-      tasks:
-      - name: A
-        onExit: echo
-        template: echo
-      - depends: A
-        name: B
-        template: echo
-    name: diamond
-  - container:
-      command:
-      - echo
-      - hi
-      image: alpine:3.7
-    name: echo
-status:
-  nodes:
-    dag-diamond-8xw8l:
-      children:
-      - dag-diamond-8xw8l-1488416551
-      displayName: dag-diamond-8xw8l
-      finishedAt: "2021-03-24T15:37:06Z"
-      id: dag-diamond-8xw8l
-      name: dag-diamond-8xw8l
-      outboundNodes:
-      - dag-diamond-8xw8l-1505194170
-      phase: Running
-      startedAt: "2021-03-24T15:36:47Z"
-      templateName: diamond
-      templateScope: local/dag-diamond-8xw8l
-      type: DAG
-    dag-diamond-8xw8l-1342580575:
-      boundaryID: dag-diamond-8xw8l
-      displayName: A.onExit
-      finishedAt: "2021-03-24T15:36:59Z"
-      hostNodeName: k3d-k3s-default-server-0
-      id: dag-diamond-8xw8l-1342580575
-      name: A.onExit
-      phase: Running
-      startedAt: "2021-03-24T15:36:54Z"
-      templateName: echo
-      templateScope: local/dag-diamond-8xw8l
-      type: Pod
-    dag-diamond-8xw8l-1488416551:
-      boundaryID: dag-diamond-8xw8l
-      children:
-      - dag-diamond-8xw8l-1342580575
-      displayName: A
-      finishedAt: "2021-03-24T15:36:53Z"
-      hostNodeName: k3d-k3s-default-server-0
-      id: dag-diamond-8xw8l-1488416551
-      name: dag-diamond-8xw8l.A
-      phase: Succeeded
-      startedAt: "2021-03-24T15:36:47Z"
-      templateName: echo
-      templateScope: local/dag-diamond-8xw8l
-      type: Pod
-  phase: Running
-  startedAt: "2021-03-24T15:36:47Z"
-`
-
-// Previously we used `parentNodeDisplayName` to generate all onExit node names. However, as these can be non-unique
-// we transitioned to using `parentNodeName` instead, which are guaranteed to be unique. In order to not disrupt
-// running workflows during upgrade time, we first check if there is an onExit node that currently exists with the
-// legacy name AND said node is a child of the parent node. If it does, we continue execution with the legacy name.
-// If it doesn't, we use the new (and unique) name for all operations henceforth.
-//
-// Here we test to see if this backwards compatibility works. This test workflow contains a running onExit node with the
-// old name. When we call operate on it, we should NOT create the subsequent DAG done ("B") until the onExit node name with
-// the old name finishes running.
-//
-// TODO: This test should be removed after a couple of "grace period" version upgrades to allow transitions. It was introduced in v3.0.0
-// See more: https://github.com/argoproj/argo-workflows/issues/5502
-func TestOnExitDAGStatusCompatibility(t *testing.T) {
-	wf := wfv1.MustUnmarshalWorkflow(testOnExitDAGStatusCompatibility)
-	cancel, controller := newController(wf)
-	defer cancel()
-
-	ctx := context.Background()
-	woc := newWorkflowOperationCtx(wf, controller)
-
-	createRunningPods(ctx, woc)
-
-	nodesBeforeOperation := len(woc.wf.Status.Nodes)
-	woc.operate(ctx)
-
-	assert.Equal(t, wfv1.WorkflowRunning, woc.wf.Status.Phase)
-	// Number of nodes should not change (no new name node was created)
-	assert.Equal(t, nodesBeforeOperation, len(woc.wf.Status.Nodes))
-	node := woc.wf.Status.Nodes.FindByDisplayName("A.onExit")
-	if assert.NotNil(t, node) {
-		assert.Equal(t, wfv1.NodeRunning, node.Phase)
-	}
-
-	nodeB := woc.wf.Status.Nodes.FindByDisplayName("B")
-	assert.Nil(t, nodeB)
-}
-
 const testGlobalParamSubstitute = `
 apiVersion: argoproj.io/v1alpha1
 kind: Workflow
diff --git a/workflow/controller/steps.go b/workflow/controller/steps.go
index d783b5c4ddf4..f2e538d46fc3 100644
--- a/workflow/controller/steps.go
+++ b/workflow/controller/steps.go
@@ -260,7 +260,7 @@ func (woc *wfOperationCtx) executeStepGroup(ctx context.Context, stepGroup []wfv
 		if !childNode.Fulfilled() {
 			completed = false
 		} else if childNode.Completed() {
-			hasOnExitNode, onExitNode, err := woc.runOnExitNode(ctx, step.GetExitHook(woc.execWf.Spec.Arguments), step.Name, childNode.Name, stepsCtx.boundaryID, stepsCtx.tmplCtx, "steps."+step.Name, childNode.Outputs)
+			hasOnExitNode, onExitNode, err := woc.runOnExitNode(ctx, step.GetExitHook(woc.execWf.Spec.Arguments), childNode.Name, stepsCtx.boundaryID, stepsCtx.tmplCtx, "steps."+step.Name, childNode.Outputs)
 			if hasOnExitNode && (onExitNode == nil || !onExitNode.Fulfilled() || err != nil) {
 				// The onExit node is either not complete or has errored out, return.
 				completed = false

From d6f5acb407ddf2d6f7afbe3e380eda5a2908dcbd Mon Sep 17 00:00:00 2001
From: Yuan Tang <terrytangyuan@gmail.com>
Date: Mon, 23 Aug 2021 12:03:15 -0400
Subject: [PATCH 060/137] fix: Fix unit test with missing createRunningPods()
 (#6585)

Signed-off-by: Yuan Tang <terrytangyuan@gmail.com>
---
 workflow/controller/controller_test.go | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

diff --git a/workflow/controller/controller_test.go b/workflow/controller/controller_test.go
index 8036bf4f85bf..be053327ecf0 100644
--- a/workflow/controller/controller_test.go
+++ b/workflow/controller/controller_test.go
@@ -281,9 +281,7 @@ func withAnnotation(key, val string) with {
 
 // createRunningPods creates the pods that are marked as running in a given test so that they can be accessed by the
 // pod assessor
-// This function is called `createRunningPods`, but since it is currently not used and should not be removed it has been
-// renamed to `_` until a use is found.
-func _(ctx context.Context, woc *wfOperationCtx) {
+func createRunningPods(ctx context.Context, woc *wfOperationCtx) {
 	podcs := woc.controller.kubeclientset.CoreV1().Pods(woc.wf.GetNamespace())
 	for _, node := range woc.wf.Status.Nodes {
 		if node.Type == wfv1.NodeTypePod && node.Phase == wfv1.NodeRunning {

From 6566396666163198f2520c9a0790b01ada3863fd Mon Sep 17 00:00:00 2001
From: Yuan Tang <terrytangyuan@gmail.com>
Date: Mon, 23 Aug 2021 14:02:45 -0400
Subject: [PATCH 061/137] fix(executor): Disambiguate PNS executor
 initialization log (#6582)

Signed-off-by: Yuan Tang <terrytangyuan@gmail.com>
---
 cmd/argoexec/commands/root.go        | 1 +
 workflow/executor/docker/docker.go   | 1 -
 workflow/executor/k8sapi/k8sapi.go   | 1 -
 workflow/executor/kubelet/kubelet.go | 1 -
 workflow/executor/pns/pns.go         | 2 +-
 5 files changed, 2 insertions(+), 4 deletions(-)

diff --git a/cmd/argoexec/commands/root.go b/cmd/argoexec/commands/root.go
index 7b57714df7c3..c4ae6335e7ef 100644
--- a/cmd/argoexec/commands/root.go
+++ b/cmd/argoexec/commands/root.go
@@ -107,6 +107,7 @@ func initExecutor() *executor.WorkflowExecutor {
 	checkErr(err)
 
 	var cre executor.ContainerRuntimeExecutor
+	log.Infof("Creating a %s executor", executorType)
 	switch executorType {
 	case common.ContainerRuntimeExecutorK8sAPI:
 		cre = k8sapi.NewK8sAPIExecutor(clientset, config, podName, namespace)
diff --git a/workflow/executor/docker/docker.go b/workflow/executor/docker/docker.go
index 94fc6a05fa0a..81640a07a8c1 100644
--- a/workflow/executor/docker/docker.go
+++ b/workflow/executor/docker/docker.go
@@ -41,7 +41,6 @@ type ctr struct {
 }
 
 func NewDockerExecutor(namespace, podName string) (*DockerExecutor, error) {
-	log.Infof("Creating a docker executor")
 	return &DockerExecutor{namespace, podName, make(map[string]ctr)}, nil
 }
 
diff --git a/workflow/executor/k8sapi/k8sapi.go b/workflow/executor/k8sapi/k8sapi.go
index 9e5ca88d3ecc..ce20ba286d13 100644
--- a/workflow/executor/k8sapi/k8sapi.go
+++ b/workflow/executor/k8sapi/k8sapi.go
@@ -19,7 +19,6 @@ type K8sAPIExecutor struct {
 }
 
 func NewK8sAPIExecutor(clientset kubernetes.Interface, config *restclient.Config, podName, namespace string) *K8sAPIExecutor {
-	log.Infof("Creating a K8sAPI executor")
 	client := newK8sAPIClient(clientset, config, podName, namespace)
 	return &K8sAPIExecutor{
 		client: client,
diff --git a/workflow/executor/kubelet/kubelet.go b/workflow/executor/kubelet/kubelet.go
index 8760ccc6ee36..818da7097ef6 100644
--- a/workflow/executor/kubelet/kubelet.go
+++ b/workflow/executor/kubelet/kubelet.go
@@ -15,7 +15,6 @@ type KubeletExecutor struct {
 }
 
 func NewKubeletExecutor(namespace, podName string) (*KubeletExecutor, error) {
-	log.Infof("Creating a kubelet executor")
 	cli, err := newKubeletClient(namespace, podName)
 	if err != nil {
 		return nil, errors.InternalWrapError(err)
diff --git a/workflow/executor/pns/pns.go b/workflow/executor/pns/pns.go
index eba0d9415bc9..8e6dbe200b4b 100644
--- a/workflow/executor/pns/pns.go
+++ b/workflow/executor/pns/pns.go
@@ -50,7 +50,7 @@ type PNSExecutor struct {
 
 func NewPNSExecutor(clientset *kubernetes.Clientset, podName, namespace string) (*PNSExecutor, error) {
 	thisPID := os.Getpid()
-	log.Infof("Creating PNS executor (namespace: %s, pod: %s, pid: %d)", namespace, podName, thisPID)
+	log.Infof("Initialized PNS executor (namespace: %s, pod: %s, pid: %d)", namespace, podName, thisPID)
 	if thisPID == 1 {
 		return nil, errors.New(errors.CodeBadRequest, "process namespace sharing is not enabled on pod")
 	}

From be07a8a5a9e2a115a7e3d74e48c4856b3e1839d1 Mon Sep 17 00:00:00 2001
From: Yuan Tang <terrytangyuan@gmail.com>
Date: Tue, 24 Aug 2021 11:50:12 -0400
Subject: [PATCH 062/137] ci: Disable builds on forks (#6589)

Signed-off-by: Yuan Tang <terrytangyuan@gmail.com>
---
 .github/workflows/changelog.yaml | 1 +
 .github/workflows/gh-pages.yaml  | 1 +
 .github/workflows/release.yaml   | 8 ++++++++
 .github/workflows/snyk.yml       | 1 +
 4 files changed, 11 insertions(+)

diff --git a/.github/workflows/changelog.yaml b/.github/workflows/changelog.yaml
index 1c3f62f9aca7..441a56e32d01 100644
--- a/.github/workflows/changelog.yaml
+++ b/.github/workflows/changelog.yaml
@@ -7,6 +7,7 @@ on:
       - "!v0.0.0"
 jobs:
   generate_changelog:
+    if: github.repository == 'argoproj/argo-workflows'
     runs-on: ubuntu-latest
     name: Generate changelog
     steps:
diff --git a/.github/workflows/gh-pages.yaml b/.github/workflows/gh-pages.yaml
index 14ff964d6cbb..b1b87ea6f373 100644
--- a/.github/workflows/gh-pages.yaml
+++ b/.github/workflows/gh-pages.yaml
@@ -7,6 +7,7 @@ on:
 
 jobs:
   deploy:
+    if: github.repository == 'argoproj/argo-workflows'
     runs-on: ubuntu-20.04
     steps:
       - uses: actions/checkout@v2
diff --git a/.github/workflows/release.yaml b/.github/workflows/release.yaml
index 95756d1f3f3a..83f4ea6a2e56 100644
--- a/.github/workflows/release.yaml
+++ b/.github/workflows/release.yaml
@@ -15,6 +15,7 @@ defaults:
 jobs:
   build-linux-amd64:
     name: Build & push linux/amd64
+    if: github.repository == 'argoproj/argo-workflows'
     runs-on: ubuntu-20.04
     strategy:
       matrix:
@@ -80,6 +81,7 @@ jobs:
 
   build-linux-arm64:
     name: Build & push linux/arm64
+    if: github.repository == 'argoproj/argo-workflows'
     runs-on: ubuntu-20.04
     strategy:
       matrix:
@@ -150,6 +152,7 @@ jobs:
 
   build-windows:
     name: Build & push windows
+    if: github.repository == 'argoproj/argo-workflows'
     runs-on: windows-2019
     steps:
       - uses: actions/checkout@v2
@@ -189,6 +192,7 @@ jobs:
 
   push-linux-amd64-images:
     name: Push manifest with linux/amd64
+    if: github.repository == 'argoproj/argo-workflows'
     runs-on: ubuntu-20.04
     needs: [ build-linux-amd64 ]
     steps:
@@ -232,6 +236,7 @@ jobs:
 
   push-images:
     name: Push manifest with all images
+    if: github.repository == 'argoproj/argo-workflows'
     runs-on: ubuntu-20.04
     needs: [ build-linux-arm64, build-windows, push-linux-amd64-images ]
     steps:
@@ -279,6 +284,7 @@ jobs:
           done
   test-images-linux-amd64:
     name: Try pulling linux/amd64
+    if: github.repository == 'argoproj/argo-workflows'
     runs-on: ubuntu-20.04
     needs: [ push-images ]
     strategy:
@@ -316,6 +322,7 @@ jobs:
 
   test-images-windows:
     name: Try pulling windows
+    if: github.repository == 'argoproj/argo-workflows'
     runs-on: windows-2019
     needs: [ push-images ]
     steps:
@@ -350,6 +357,7 @@ jobs:
 
   publish-release:
     runs-on: ubuntu-20.04
+    if: github.repository == 'argoproj/argo-workflows'
     needs: [ push-images, test-images-linux-amd64, test-images-windows ]
     env:
       NODE_OPTIONS: --max-old-space-size=4096
diff --git a/.github/workflows/snyk.yml b/.github/workflows/snyk.yml
index a4586d0a72b1..625a639b4d6a 100644
--- a/.github/workflows/snyk.yml
+++ b/.github/workflows/snyk.yml
@@ -4,6 +4,7 @@ on:
     - cron: "30 2 * * *"
 jobs:
   security:
+    if: github.repository == 'argoproj/argo-workflows'
     runs-on: ubuntu-latest
     steps:
       - uses: actions/checkout@master

From 3aac377e223f1a6bad05ec28404c89e435e47687 Mon Sep 17 00:00:00 2001
From: Alex Collins <alexec@users.noreply.github.com>
Date: Tue, 24 Aug 2021 09:59:21 -0700
Subject: [PATCH 063/137] fix!: Enable authentication by default on Argo Server
 `/metrics` endpoint. Fixes #6592 (#6595)

Signed-off-by: Alex Collins <alex_collins@intuit.com>
---
 server/apiserver/argoserver.go | 17 ++++++++++++++++-
 test/e2e/argo_server_test.go   | 14 +++++++++++---
 2 files changed, 27 insertions(+), 4 deletions(-)

diff --git a/server/apiserver/argoserver.go b/server/apiserver/argoserver.go
index 04ed62b6c50d..98967fdb1070 100644
--- a/server/apiserver/argoserver.go
+++ b/server/apiserver/argoserver.go
@@ -5,8 +5,11 @@ import (
 	"fmt"
 	"net"
 	"net/http"
+	"os"
 	"time"
 
+	"google.golang.org/grpc/metadata"
+
 	"github.com/gorilla/handlers"
 	grpc_middleware "github.com/grpc-ecosystem/go-grpc-middleware"
 	grpc_logrus "github.com/grpc-ecosystem/go-grpc-middleware/logging/logrus"
@@ -323,7 +326,19 @@ func (as *argoServer) newHTTPServer(ctx context.Context, port int, artifactServe
 	mux.HandleFunc("/input-artifacts-by-uid/", artifactServer.GetInputArtifactByUID)
 	mux.Handle("/oauth2/redirect", handlers.ProxyHeaders(http.HandlerFunc(as.oAuth2Service.HandleRedirect)))
 	mux.Handle("/oauth2/callback", handlers.ProxyHeaders(http.HandlerFunc(as.oAuth2Service.HandleCallback)))
-	mux.Handle("/metrics", promhttp.Handler())
+	mux.HandleFunc("/metrics", func(w http.ResponseWriter, r *http.Request) {
+		if os.Getenv("ARGO_SERVER_METRICS_AUTH") != "false" {
+			header := metadata.New(map[string]string{"authorization": r.Header.Get("Authorization")})
+			ctx := metadata.NewIncomingContext(context.Background(), header)
+			if _, err := as.gatekeeper.Context(ctx); err != nil {
+				log.WithError(err).Error("failed to authenticate /metrics endpoint")
+				w.WriteHeader(403)
+				return
+			}
+		}
+		promhttp.Handler().ServeHTTP(w, r)
+
+	})
 	// we only enable HTST if we are secure mode, otherwise you would never be able access the UI
 	mux.HandleFunc("/", static.NewFilesServer(as.baseHRef, as.tlsConfig != nil && as.hsts, as.xframeOptions, as.accessControlAllowOrigin).ServerFiles)
 	return &httpServer
diff --git a/test/e2e/argo_server_test.go b/test/e2e/argo_server_test.go
index 6a8f2c2a3c00..f5df855b40de 100644
--- a/test/e2e/argo_server_test.go
+++ b/test/e2e/argo_server_test.go
@@ -95,9 +95,17 @@ func (s *ArgoServerSuite) TestVersion() {
 	})
 }
 
-func (s *ArgoServerSuite) TestMetrics() {
-	s.Need(fixtures.CI)
-	s.e().GET("/metrics").
+func (s *ArgoServerSuite) TestMetricsForbidden() {
+	s.bearerToken = ""
+	s.e().
+		GET("/metrics").
+		Expect().
+		Status(403)
+}
+
+func (s *ArgoServerSuite) TestMetricsOK() {
+	s.e().
+		GET("/metrics").
 		Expect().
 		Status(200).
 		Body().

From 530c21d3cc0f5c738d06e16d88b7ce63dbeeb64e Mon Sep 17 00:00:00 2001
From: Alex Collins <alexec@users.noreply.github.com>
Date: Tue, 24 Aug 2021 16:47:21 -0700
Subject: [PATCH 064/137] chore: Upgrade cobra to v1.2.1  (#6597)

Signed-off-by: Alex Collins <alex_collins@intuit.com>
---
 docs/cli/argo_archive.md                 |   4 -
 docs/cli/argo_archive_delete.md          |   4 -
 docs/cli/argo_archive_get.md             |   4 -
 docs/cli/argo_archive_list.md            |   4 -
 docs/cli/argo_auth.md                    |   4 -
 docs/cli/argo_auth_token.md              |   4 -
 docs/cli/argo_cluster-template.md        |   4 -
 docs/cli/argo_cluster-template_create.md |   4 -
 docs/cli/argo_cluster-template_delete.md |   4 -
 docs/cli/argo_cluster-template_get.md    |   4 -
 docs/cli/argo_cluster-template_lint.md   |   4 -
 docs/cli/argo_cluster-template_list.md   |   4 -
 docs/cli/argo_cron_create.md             |   4 -
 docs/cli/argo_cron_delete.md             |   4 -
 docs/cli/argo_cron_get.md                |   4 -
 docs/cli/argo_cron_lint.md               |   4 -
 docs/cli/argo_cron_list.md               |   4 -
 docs/cli/argo_cron_resume.md             |   4 -
 docs/cli/argo_cron_suspend.md            |   4 -
 docs/cli/argo_delete.md                  |   4 -
 docs/cli/argo_get.md                     |   4 -
 docs/cli/argo_lint.md                    |   4 -
 docs/cli/argo_list.md                    |   4 -
 docs/cli/argo_logs.md                    |   4 -
 docs/cli/argo_node.md                    |   4 -
 docs/cli/argo_resubmit.md                |   4 -
 docs/cli/argo_resume.md                  |   4 -
 docs/cli/argo_retry.md                   |   4 -
 docs/cli/argo_server.md                  |   4 -
 docs/cli/argo_stop.md                    |   4 -
 docs/cli/argo_submit.md                  |   4 -
 docs/cli/argo_suspend.md                 |   4 -
 docs/cli/argo_template.md                |   4 -
 docs/cli/argo_template_create.md         |   4 -
 docs/cli/argo_template_delete.md         |   4 -
 docs/cli/argo_template_get.md            |   4 -
 docs/cli/argo_template_lint.md           |   4 -
 docs/cli/argo_template_list.md           |   4 -
 docs/cli/argo_terminate.md               |   4 -
 docs/cli/argo_version.md                 |   4 -
 docs/cli/argo_wait.md                    |   4 -
 docs/cli/argo_watch.md                   |   4 -
 go.mod                                   |  16 +-
 go.sum                                   | 195 +++++++++++++++++++----
 44 files changed, 174 insertions(+), 205 deletions(-)

diff --git a/docs/cli/argo_archive.md b/docs/cli/argo_archive.md
index cd2d1a7ca1e5..c496da46dbeb 100644
--- a/docs/cli/argo_archive.md
+++ b/docs/cli/argo_archive.md
@@ -2,10 +2,6 @@
 
 manage the workflow archive
 
-### Synopsis
-
-manage the workflow archive
-
 ```
 argo archive [flags]
 ```
diff --git a/docs/cli/argo_archive_delete.md b/docs/cli/argo_archive_delete.md
index 144dc66946e9..a04dec1d1975 100644
--- a/docs/cli/argo_archive_delete.md
+++ b/docs/cli/argo_archive_delete.md
@@ -2,10 +2,6 @@
 
 delete a workflow in the archive
 
-### Synopsis
-
-delete a workflow in the archive
-
 ```
 argo archive delete UID... [flags]
 ```
diff --git a/docs/cli/argo_archive_get.md b/docs/cli/argo_archive_get.md
index 279d36ff49ee..57ae399ea0a0 100644
--- a/docs/cli/argo_archive_get.md
+++ b/docs/cli/argo_archive_get.md
@@ -2,10 +2,6 @@
 
 get a workflow in the archive
 
-### Synopsis
-
-get a workflow in the archive
-
 ```
 argo archive get UID [flags]
 ```
diff --git a/docs/cli/argo_archive_list.md b/docs/cli/argo_archive_list.md
index 0be15ec5480b..fa20ab3a2b1f 100644
--- a/docs/cli/argo_archive_list.md
+++ b/docs/cli/argo_archive_list.md
@@ -2,10 +2,6 @@
 
 list workflows in the archive
 
-### Synopsis
-
-list workflows in the archive
-
 ```
 argo archive list [flags]
 ```
diff --git a/docs/cli/argo_auth.md b/docs/cli/argo_auth.md
index 1044fb11d466..fcf249ee950a 100644
--- a/docs/cli/argo_auth.md
+++ b/docs/cli/argo_auth.md
@@ -2,10 +2,6 @@
 
 manage authentication settings
 
-### Synopsis
-
-manage authentication settings
-
 ```
 argo auth [flags]
 ```
diff --git a/docs/cli/argo_auth_token.md b/docs/cli/argo_auth_token.md
index f2c99e8c155c..6bb3c3c930ce 100644
--- a/docs/cli/argo_auth_token.md
+++ b/docs/cli/argo_auth_token.md
@@ -2,10 +2,6 @@
 
 Print the auth token
 
-### Synopsis
-
-Print the auth token
-
 ```
 argo auth token [flags]
 ```
diff --git a/docs/cli/argo_cluster-template.md b/docs/cli/argo_cluster-template.md
index e6b3c86fb821..6e5e76a1ca52 100644
--- a/docs/cli/argo_cluster-template.md
+++ b/docs/cli/argo_cluster-template.md
@@ -2,10 +2,6 @@
 
 manipulate cluster workflow templates
 
-### Synopsis
-
-manipulate cluster workflow templates
-
 ```
 argo cluster-template [flags]
 ```
diff --git a/docs/cli/argo_cluster-template_create.md b/docs/cli/argo_cluster-template_create.md
index 034a6501e10e..a81225b7568b 100644
--- a/docs/cli/argo_cluster-template_create.md
+++ b/docs/cli/argo_cluster-template_create.md
@@ -2,10 +2,6 @@
 
 create a cluster workflow template
 
-### Synopsis
-
-create a cluster workflow template
-
 ```
 argo cluster-template create FILE1 FILE2... [flags]
 ```
diff --git a/docs/cli/argo_cluster-template_delete.md b/docs/cli/argo_cluster-template_delete.md
index 1b6a0e262291..0bdd18ac5360 100644
--- a/docs/cli/argo_cluster-template_delete.md
+++ b/docs/cli/argo_cluster-template_delete.md
@@ -2,10 +2,6 @@
 
 delete a cluster workflow template
 
-### Synopsis
-
-delete a cluster workflow template
-
 ```
 argo cluster-template delete WORKFLOW_TEMPLATE [flags]
 ```
diff --git a/docs/cli/argo_cluster-template_get.md b/docs/cli/argo_cluster-template_get.md
index 9cfc0c3ed698..6bfc39f01a84 100644
--- a/docs/cli/argo_cluster-template_get.md
+++ b/docs/cli/argo_cluster-template_get.md
@@ -2,10 +2,6 @@
 
 display details about a cluster workflow template
 
-### Synopsis
-
-display details about a cluster workflow template
-
 ```
 argo cluster-template get CLUSTER WORKFLOW_TEMPLATE... [flags]
 ```
diff --git a/docs/cli/argo_cluster-template_lint.md b/docs/cli/argo_cluster-template_lint.md
index 8637964c0468..91412df07b81 100644
--- a/docs/cli/argo_cluster-template_lint.md
+++ b/docs/cli/argo_cluster-template_lint.md
@@ -2,10 +2,6 @@
 
 validate files or directories of cluster workflow template manifests
 
-### Synopsis
-
-validate files or directories of cluster workflow template manifests
-
 ```
 argo cluster-template lint FILE... [flags]
 ```
diff --git a/docs/cli/argo_cluster-template_list.md b/docs/cli/argo_cluster-template_list.md
index 3438eb358ca7..8fb76e957f0b 100644
--- a/docs/cli/argo_cluster-template_list.md
+++ b/docs/cli/argo_cluster-template_list.md
@@ -2,10 +2,6 @@
 
 list cluster workflow templates
 
-### Synopsis
-
-list cluster workflow templates
-
 ```
 argo cluster-template list [flags]
 ```
diff --git a/docs/cli/argo_cron_create.md b/docs/cli/argo_cron_create.md
index 12bf80072bd1..276f53bf1be7 100644
--- a/docs/cli/argo_cron_create.md
+++ b/docs/cli/argo_cron_create.md
@@ -2,10 +2,6 @@
 
 create a cron workflow
 
-### Synopsis
-
-create a cron workflow
-
 ```
 argo cron create FILE1 FILE2... [flags]
 ```
diff --git a/docs/cli/argo_cron_delete.md b/docs/cli/argo_cron_delete.md
index 455ad1c0163e..76a8ef9772ef 100644
--- a/docs/cli/argo_cron_delete.md
+++ b/docs/cli/argo_cron_delete.md
@@ -2,10 +2,6 @@
 
 delete a cron workflow
 
-### Synopsis
-
-delete a cron workflow
-
 ```
 argo cron delete [CRON_WORKFLOW... | --all] [flags]
 ```
diff --git a/docs/cli/argo_cron_get.md b/docs/cli/argo_cron_get.md
index 03c47fe3a30c..9ee78cb427b6 100644
--- a/docs/cli/argo_cron_get.md
+++ b/docs/cli/argo_cron_get.md
@@ -2,10 +2,6 @@
 
 display details about a cron workflow
 
-### Synopsis
-
-display details about a cron workflow
-
 ```
 argo cron get CRON_WORKFLOW... [flags]
 ```
diff --git a/docs/cli/argo_cron_lint.md b/docs/cli/argo_cron_lint.md
index 92c25db2cca4..58988bb7bfa1 100644
--- a/docs/cli/argo_cron_lint.md
+++ b/docs/cli/argo_cron_lint.md
@@ -2,10 +2,6 @@
 
 validate files or directories of cron workflow manifests
 
-### Synopsis
-
-validate files or directories of cron workflow manifests
-
 ```
 argo cron lint FILE... [flags]
 ```
diff --git a/docs/cli/argo_cron_list.md b/docs/cli/argo_cron_list.md
index 3e0f0894c671..f088b209a7d6 100644
--- a/docs/cli/argo_cron_list.md
+++ b/docs/cli/argo_cron_list.md
@@ -2,10 +2,6 @@
 
 list cron workflows
 
-### Synopsis
-
-list cron workflows
-
 ```
 argo cron list [flags]
 ```
diff --git a/docs/cli/argo_cron_resume.md b/docs/cli/argo_cron_resume.md
index bd0d9c07960c..9835c734a15c 100644
--- a/docs/cli/argo_cron_resume.md
+++ b/docs/cli/argo_cron_resume.md
@@ -2,10 +2,6 @@
 
 resume zero or more cron workflows
 
-### Synopsis
-
-resume zero or more cron workflows
-
 ```
 argo cron resume [CRON_WORKFLOW...] [flags]
 ```
diff --git a/docs/cli/argo_cron_suspend.md b/docs/cli/argo_cron_suspend.md
index efcc05945d59..51eb69b90ab3 100644
--- a/docs/cli/argo_cron_suspend.md
+++ b/docs/cli/argo_cron_suspend.md
@@ -2,10 +2,6 @@
 
 suspend zero or more cron workflows
 
-### Synopsis
-
-suspend zero or more cron workflows
-
 ```
 argo cron suspend CRON_WORKFLOW... [flags]
 ```
diff --git a/docs/cli/argo_delete.md b/docs/cli/argo_delete.md
index 6a52ccdaec2e..8050ee58a9c4 100644
--- a/docs/cli/argo_delete.md
+++ b/docs/cli/argo_delete.md
@@ -2,10 +2,6 @@
 
 delete workflows
 
-### Synopsis
-
-delete workflows
-
 ```
 argo delete [--dry-run] [WORKFLOW...|[--all] [--older] [--completed] [--resubmitted] [--prefix PREFIX] [--selector SELECTOR]] [flags]
 ```
diff --git a/docs/cli/argo_get.md b/docs/cli/argo_get.md
index a3f25f3584ad..ffce7fb030f6 100644
--- a/docs/cli/argo_get.md
+++ b/docs/cli/argo_get.md
@@ -2,10 +2,6 @@
 
 display details about a workflow
 
-### Synopsis
-
-display details about a workflow
-
 ```
 argo get WORKFLOW... [flags]
 ```
diff --git a/docs/cli/argo_lint.md b/docs/cli/argo_lint.md
index 6a76b6b27ca0..36ba743a766d 100644
--- a/docs/cli/argo_lint.md
+++ b/docs/cli/argo_lint.md
@@ -2,10 +2,6 @@
 
 validate files or directories of manifests
 
-### Synopsis
-
-validate files or directories of manifests
-
 ```
 argo lint FILE... [flags]
 ```
diff --git a/docs/cli/argo_list.md b/docs/cli/argo_list.md
index 107eb5a8ae12..24a2b58c7d35 100644
--- a/docs/cli/argo_list.md
+++ b/docs/cli/argo_list.md
@@ -2,10 +2,6 @@
 
 list workflows
 
-### Synopsis
-
-list workflows
-
 ```
 argo list [flags]
 ```
diff --git a/docs/cli/argo_logs.md b/docs/cli/argo_logs.md
index 44147ef3a8bb..c45a7fb13181 100644
--- a/docs/cli/argo_logs.md
+++ b/docs/cli/argo_logs.md
@@ -2,10 +2,6 @@
 
 view logs of a pod or workflow
 
-### Synopsis
-
-view logs of a pod or workflow
-
 ```
 argo logs WORKFLOW [POD] [flags]
 ```
diff --git a/docs/cli/argo_node.md b/docs/cli/argo_node.md
index 79f74bc886b1..7ef0d8f5a2dc 100644
--- a/docs/cli/argo_node.md
+++ b/docs/cli/argo_node.md
@@ -2,10 +2,6 @@
 
 perform action on a node in a workflow
 
-### Synopsis
-
-perform action on a node in a workflow
-
 ```
 argo node ACTION WORKFLOW FLAGS [flags]
 ```
diff --git a/docs/cli/argo_resubmit.md b/docs/cli/argo_resubmit.md
index f2809c00e34f..388975de047e 100644
--- a/docs/cli/argo_resubmit.md
+++ b/docs/cli/argo_resubmit.md
@@ -2,10 +2,6 @@
 
 resubmit one or more workflows
 
-### Synopsis
-
-resubmit one or more workflows
-
 ```
 argo resubmit [WORKFLOW...] [flags]
 ```
diff --git a/docs/cli/argo_resume.md b/docs/cli/argo_resume.md
index 68035a724947..6883f04dfbbd 100644
--- a/docs/cli/argo_resume.md
+++ b/docs/cli/argo_resume.md
@@ -2,10 +2,6 @@
 
 resume zero or more workflows
 
-### Synopsis
-
-resume zero or more workflows
-
 ```
 argo resume WORKFLOW1 WORKFLOW2... [flags]
 ```
diff --git a/docs/cli/argo_retry.md b/docs/cli/argo_retry.md
index 6792c1c3c8fa..621b96b799da 100644
--- a/docs/cli/argo_retry.md
+++ b/docs/cli/argo_retry.md
@@ -2,10 +2,6 @@
 
 retry zero or more workflows
 
-### Synopsis
-
-retry zero or more workflows
-
 ```
 argo retry [WORKFLOW...] [flags]
 ```
diff --git a/docs/cli/argo_server.md b/docs/cli/argo_server.md
index bd21e5692399..26958a41d770 100644
--- a/docs/cli/argo_server.md
+++ b/docs/cli/argo_server.md
@@ -2,10 +2,6 @@
 
 start the Argo Server
 
-### Synopsis
-
-start the Argo Server
-
 ```
 argo server [flags]
 ```
diff --git a/docs/cli/argo_stop.md b/docs/cli/argo_stop.md
index 099e674c8211..78ff0a6453c0 100644
--- a/docs/cli/argo_stop.md
+++ b/docs/cli/argo_stop.md
@@ -2,10 +2,6 @@
 
 stop zero or more workflows allowing all exit handlers to run
 
-### Synopsis
-
-stop zero or more workflows allowing all exit handlers to run
-
 ```
 argo stop WORKFLOW WORKFLOW2... [flags]
 ```
diff --git a/docs/cli/argo_submit.md b/docs/cli/argo_submit.md
index 3760860ba642..bb4fb3d1cecd 100644
--- a/docs/cli/argo_submit.md
+++ b/docs/cli/argo_submit.md
@@ -2,10 +2,6 @@
 
 submit a workflow
 
-### Synopsis
-
-submit a workflow
-
 ```
 argo submit [FILE... | --from `kind/name] [flags]
 ```
diff --git a/docs/cli/argo_suspend.md b/docs/cli/argo_suspend.md
index b48364da542b..f0068a2e3b74 100644
--- a/docs/cli/argo_suspend.md
+++ b/docs/cli/argo_suspend.md
@@ -2,10 +2,6 @@
 
 suspend zero or more workflow
 
-### Synopsis
-
-suspend zero or more workflow
-
 ```
 argo suspend WORKFLOW1 WORKFLOW2... [flags]
 ```
diff --git a/docs/cli/argo_template.md b/docs/cli/argo_template.md
index 7d6e00034121..4e772309b93a 100644
--- a/docs/cli/argo_template.md
+++ b/docs/cli/argo_template.md
@@ -2,10 +2,6 @@
 
 manipulate workflow templates
 
-### Synopsis
-
-manipulate workflow templates
-
 ```
 argo template [flags]
 ```
diff --git a/docs/cli/argo_template_create.md b/docs/cli/argo_template_create.md
index fe736ef04e7d..0dc5aa30e6aa 100644
--- a/docs/cli/argo_template_create.md
+++ b/docs/cli/argo_template_create.md
@@ -2,10 +2,6 @@
 
 create a workflow template
 
-### Synopsis
-
-create a workflow template
-
 ```
 argo template create FILE1 FILE2... [flags]
 ```
diff --git a/docs/cli/argo_template_delete.md b/docs/cli/argo_template_delete.md
index 15d3ff71674f..0e8fc529b356 100644
--- a/docs/cli/argo_template_delete.md
+++ b/docs/cli/argo_template_delete.md
@@ -2,10 +2,6 @@
 
 delete a workflow template
 
-### Synopsis
-
-delete a workflow template
-
 ```
 argo template delete WORKFLOW_TEMPLATE [flags]
 ```
diff --git a/docs/cli/argo_template_get.md b/docs/cli/argo_template_get.md
index 7e3849a4d6c3..eae7a0c8087f 100644
--- a/docs/cli/argo_template_get.md
+++ b/docs/cli/argo_template_get.md
@@ -2,10 +2,6 @@
 
 display details about a workflow template
 
-### Synopsis
-
-display details about a workflow template
-
 ```
 argo template get WORKFLOW_TEMPLATE... [flags]
 ```
diff --git a/docs/cli/argo_template_lint.md b/docs/cli/argo_template_lint.md
index 70fd6d244c02..bc51871ccf57 100644
--- a/docs/cli/argo_template_lint.md
+++ b/docs/cli/argo_template_lint.md
@@ -2,10 +2,6 @@
 
 validate a file or directory of workflow template manifests
 
-### Synopsis
-
-validate a file or directory of workflow template manifests
-
 ```
 argo template lint (DIRECTORY | FILE1 FILE2 FILE3...) [flags]
 ```
diff --git a/docs/cli/argo_template_list.md b/docs/cli/argo_template_list.md
index b4a7561f6ed2..d8b4b2a08368 100644
--- a/docs/cli/argo_template_list.md
+++ b/docs/cli/argo_template_list.md
@@ -2,10 +2,6 @@
 
 list workflow templates
 
-### Synopsis
-
-list workflow templates
-
 ```
 argo template list [flags]
 ```
diff --git a/docs/cli/argo_terminate.md b/docs/cli/argo_terminate.md
index 26c182ed3cf2..77132e40ca00 100644
--- a/docs/cli/argo_terminate.md
+++ b/docs/cli/argo_terminate.md
@@ -2,10 +2,6 @@
 
 terminate zero or more workflows immediately
 
-### Synopsis
-
-terminate zero or more workflows immediately
-
 ```
 argo terminate WORKFLOW WORKFLOW2... [flags]
 ```
diff --git a/docs/cli/argo_version.md b/docs/cli/argo_version.md
index 7488fef46a3b..e9252c7f75b1 100644
--- a/docs/cli/argo_version.md
+++ b/docs/cli/argo_version.md
@@ -2,10 +2,6 @@
 
 print version information
 
-### Synopsis
-
-print version information
-
 ```
 argo version [flags]
 ```
diff --git a/docs/cli/argo_wait.md b/docs/cli/argo_wait.md
index 785be9de86f4..142fec267646 100644
--- a/docs/cli/argo_wait.md
+++ b/docs/cli/argo_wait.md
@@ -2,10 +2,6 @@
 
 waits for workflows to complete
 
-### Synopsis
-
-waits for workflows to complete
-
 ```
 argo wait [WORKFLOW...] [flags]
 ```
diff --git a/docs/cli/argo_watch.md b/docs/cli/argo_watch.md
index 16f566d0d1da..bef6e4733ffe 100644
--- a/docs/cli/argo_watch.md
+++ b/docs/cli/argo_watch.md
@@ -2,10 +2,6 @@
 
 watch a workflow until it completes
 
-### Synopsis
-
-watch a workflow until it completes
-
 ```
 argo watch WORKFLOW [flags]
 ```
diff --git a/go.mod b/go.mod
index d48fa73f983e..5d6974c946c3 100644
--- a/go.mod
+++ b/go.mod
@@ -3,8 +3,7 @@ module github.com/argoproj/argo-workflows/v3
 go 1.16
 
 require (
-	cloud.google.com/go v0.55.0 // indirect
-	cloud.google.com/go/storage v1.6.0
+	cloud.google.com/go/storage v1.10.0
 	github.com/Knetic/govaluate v3.0.1-0.20171022003610-9aa49832a739+incompatible
 	github.com/Masterminds/sprig v2.22.0+incompatible
 	github.com/TwinProduction/go-color v0.0.3
@@ -29,7 +28,7 @@ require (
 	github.com/go-sql-driver/mysql v1.6.0
 	github.com/go-swagger/go-swagger v0.25.0
 	github.com/gogo/protobuf v1.3.2
-	github.com/golang/protobuf v1.4.3
+	github.com/golang/protobuf v1.5.2
 	github.com/gorilla/handlers v1.4.2
 	github.com/gorilla/websocket v1.4.2
 	github.com/grpc-ecosystem/go-grpc-middleware v1.1.0
@@ -48,7 +47,7 @@ require (
 	github.com/sirupsen/logrus v1.6.0
 	github.com/skratchdot/open-golang v0.0.0-20200116055534-eef842397966
 	github.com/soheilhy/cmux v0.1.4
-	github.com/spf13/cobra v1.0.0
+	github.com/spf13/cobra v1.2.1
 	github.com/stretchr/testify v1.7.0
 	github.com/tidwall/gjson v1.7.5
 	github.com/valyala/fasthttp v1.22.0 // indirect
@@ -57,20 +56,19 @@ require (
 	github.com/xeipuuv/gojsonschema v1.2.0
 	golang.org/x/crypto v0.0.0-20210711020723-a769d52b0f97
 	golang.org/x/net v0.0.0-20210614182718-04defd469f4e
-	golang.org/x/oauth2 v0.0.0-20200107190931-bf48bf16ab8d
+	golang.org/x/oauth2 v0.0.0-20210402161424-2e8d93401602
 	golang.org/x/sync v0.0.0-20210220032951-036812b2e83c
 	golang.org/x/time v0.0.0-20200630173020-3af7569d3a1e
 	golang.org/x/tools v0.1.5
-	google.golang.org/api v0.20.0
-	google.golang.org/genproto v0.0.0-20200806141610-86f49bd18e98
-	google.golang.org/grpc v1.33.1
+	google.golang.org/api v0.44.0
+	google.golang.org/genproto v0.0.0-20210602131652-f16073e35f0c
+	google.golang.org/grpc v1.38.0
 	google.golang.org/grpc/examples v0.0.0-20201226181154-53788aa5dcb4 // indirect
 	gopkg.in/go-playground/webhooks.v5 v5.15.0
 	gopkg.in/jcmturner/gokrb5.v5 v5.3.0
 	gopkg.in/mgo.v2 v2.0.0-20190816093944-a6b53ec6cb22 // indirect
 	gopkg.in/square/go-jose.v2 v2.5.1
 	gopkg.in/src-d/go-git.v4 v4.13.1
-	honnef.co/go/tools v0.2.0 // indirect
 	k8s.io/api v0.20.4
 	k8s.io/apimachinery v0.20.4
 	k8s.io/client-go v0.20.4
diff --git a/go.sum b/go.sum
index a07ddcd6200b..63729dab2eba 100644
--- a/go.sum
+++ b/go.sum
@@ -10,24 +10,35 @@ cloud.google.com/go v0.51.0/go.mod h1:hWtGJ6gnXH+KgDv+V0zFGDvpi07n3z8ZNj3T1RW0Gc
 cloud.google.com/go v0.52.0/go.mod h1:pXajvRH/6o3+F9jDHZWQ5PbGhn+o8w9qiu/CffaVdO4=
 cloud.google.com/go v0.53.0/go.mod h1:fp/UouUEsRkN6ryDKNW/Upv/JBKnv6WDthjR6+vze6M=
 cloud.google.com/go v0.54.0/go.mod h1:1rq2OEkV3YMf6n/9ZvGWI3GWw0VoqH/1x2nd8Is/bPc=
-cloud.google.com/go v0.55.0 h1:eoz/lYxKSL4CNAiaUJ0ZfD1J3bfMYbU5B3rwM1C1EIU=
-cloud.google.com/go v0.55.0/go.mod h1:ZHmoY+/lIMNkN2+fBmuTiqZ4inFhvQad8ft7MT8IV5Y=
+cloud.google.com/go v0.56.0/go.mod h1:jr7tqZxxKOVYizybht9+26Z/gUq7tiRzu+ACVAMbKVk=
+cloud.google.com/go v0.57.0/go.mod h1:oXiQ6Rzq3RAkkY7N6t3TcE6jE+CIBBbA36lwQ1JyzZs=
+cloud.google.com/go v0.62.0/go.mod h1:jmCYTdRCQuc1PHIIJ/maLInMho30T/Y0M4hTdTShOYc=
+cloud.google.com/go v0.65.0/go.mod h1:O5N8zS7uWy9vkA9vayVHs65eM1ubvY4h553ofrNHObY=
+cloud.google.com/go v0.72.0/go.mod h1:M+5Vjvlc2wnp6tjzE102Dw08nGShTscUx2nZMufOKPI=
+cloud.google.com/go v0.74.0/go.mod h1:VV1xSbzvo+9QJOxLDaJfTjx5e+MePCpCWwvftOeQmWk=
+cloud.google.com/go v0.78.0/go.mod h1:QjdrLG0uq+YwhjoVOLsS1t7TW8fs36kLs4XO5R5ECHg=
+cloud.google.com/go v0.79.0/go.mod h1:3bzgcEeQlzbuEAYu4mrWhKqWjmpprinYgKJLgKHnbb8=
+cloud.google.com/go v0.81.0 h1:at8Tk2zUz63cLPR0JPWm5vp77pEZmzxEQBEfRKn1VV8=
+cloud.google.com/go v0.81.0/go.mod h1:mk/AM35KwGk/Nm2YSeZbxXdrNK3KZOYHmLkOqC2V6E0=
 cloud.google.com/go/bigquery v1.0.1/go.mod h1:i/xbL2UlR5RvWAURpBYZTtm/cXjCha9lbfbpx4poX+o=
 cloud.google.com/go/bigquery v1.3.0/go.mod h1:PjpwJnslEMmckchkHFfq+HTD2DmtT67aNFKH1/VBDHE=
-cloud.google.com/go/bigquery v1.4.0 h1:xE3CPsOgttP4ACBePh79zTKALtXwn/Edhcr16R5hMWU=
 cloud.google.com/go/bigquery v1.4.0/go.mod h1:S8dzgnTigyfTmLBfrtrhyYhwRxG72rYxvftPBK2Dvzc=
+cloud.google.com/go/bigquery v1.5.0/go.mod h1:snEHRnqQbz117VIFhE8bmtwIDY80NLUZUMb4Nv6dBIg=
+cloud.google.com/go/bigquery v1.7.0/go.mod h1://okPTzCYNXSlb24MZs83e2Do+h+VXtc4gLoIoXIAPc=
+cloud.google.com/go/bigquery v1.8.0/go.mod h1:J5hqkt3O0uAFnINi6JXValWIb1v0goeZM77hZzJN/fQ=
 cloud.google.com/go/datastore v1.0.0/go.mod h1:LXYbyblFSglQ5pkeyhO+Qmw7ukd3C+pD7TKLgZqpHYE=
-cloud.google.com/go/datastore v1.1.0 h1:/May9ojXjRkPBNVrq+oWLqmWCkr4OU5uRY29bu0mRyQ=
 cloud.google.com/go/datastore v1.1.0/go.mod h1:umbIZjpQpHh4hmRpGhH4tLFup+FVzqBi1b3c64qFpCk=
 cloud.google.com/go/firestore v1.1.0/go.mod h1:ulACoGHTpvq5r8rxGJ4ddJZBZqakUQqClKRT5SZwBmk=
 cloud.google.com/go/pubsub v1.0.1/go.mod h1:R0Gpsv3s54REJCy4fxDixWD93lHJMoZTyQ2kNxGRt3I=
 cloud.google.com/go/pubsub v1.1.0/go.mod h1:EwwdRX2sKPjnvnqCa270oGRyludottCI76h+R3AArQw=
-cloud.google.com/go/pubsub v1.2.0 h1:Lpy6hKgdcl7a3WGSfJIFmxmcdjSpP6OmBEfcOv1Y680=
 cloud.google.com/go/pubsub v1.2.0/go.mod h1:jhfEVHT8odbXTkndysNHCcx0awwzvfOlguIAii9o8iA=
+cloud.google.com/go/pubsub v1.3.1/go.mod h1:i+ucay31+CNRpDW4Lu78I4xXG+O1r/MAHgjpRVR+TSU=
 cloud.google.com/go/storage v1.0.0/go.mod h1:IhtSnM/ZTZV8YYJWCY8RULGVqBDmpoyjwiyrjsg+URw=
 cloud.google.com/go/storage v1.5.0/go.mod h1:tpKbwo567HUNpVclU5sGELwQWBDZ8gh0ZeosJ0Rtdos=
-cloud.google.com/go/storage v1.6.0 h1:UDpwYIwla4jHGzZJaEJYx1tOejbgSoNqsAfHAUYe2r8=
 cloud.google.com/go/storage v1.6.0/go.mod h1:N7U0C8pVQ/+NIKOBQyamJIeKQKkZ+mxpohlUTyfDhBk=
+cloud.google.com/go/storage v1.8.0/go.mod h1:Wv1Oy7z6Yz3DshWRJFhqM/UCfaWIRTdp0RXyy7KQOVs=
+cloud.google.com/go/storage v1.10.0 h1:STgFzyU5/8miMl0//zKh2aQeTyeaUH3WN9bSUiJ09bA=
+cloud.google.com/go/storage v1.10.0/go.mod h1:FLPqc6j+Ki4BU591ie1oL6qBQGu2Bl/tZ9ullr3+Kg0=
 dmitri.shuralyov.com/gpu/mtl v0.0.0-20190408044501-666a987793e9/go.mod h1:H6x//7gZCb22OMCxBHrMx7a5I7Hp++hsVxbQ4BYO7hU=
 github.com/Azure/azure-amqp-common-go/v3 v3.0.1/go.mod h1:PBIGdzcO1teYoufTKMcGibdKaYZv4avS+O6LNIp8bq0=
 github.com/Azure/azure-amqp-common-go/v3 v3.1.0/go.mod h1:PBIGdzcO1teYoufTKMcGibdKaYZv4avS+O6LNIp8bq0=
@@ -82,7 +93,6 @@ github.com/Azure/go-autorest/logger v0.2.1/go.mod h1:T9E3cAhj2VqvPOtCYAvby9aBXkZ
 github.com/Azure/go-autorest/tracing v0.5.0/go.mod h1:r/s2XiOKccPW3HrqB+W0TQzfbtp2fGCgRFtBroKn4Dk=
 github.com/Azure/go-autorest/tracing v0.6.0 h1:TYi4+3m5t6K48TGI9AUdb+IzbnSxvnvUMfuitfgcfuo=
 github.com/Azure/go-autorest/tracing v0.6.0/go.mod h1:+vhtPC754Xsa23ID7GlGsrdKBpUA79WCAKPPZVC2DeU=
-github.com/BurntSushi/toml v0.3.1 h1:WXkYYl6Yr3qBf1K79EBnL4mak0OimBfB0XUf9Vl28OQ=
 github.com/BurntSushi/toml v0.3.1/go.mod h1:xHWCNGjB5oqiDr8zfno3MHue2Ht5sIBksp03qcyfWMU=
 github.com/BurntSushi/xgb v0.0.0-20160522181843-27f122750802/go.mod h1:IVnqGOEym/WlBOVXweHU+Q+/VP0lqqI8lqeDx9IjBqo=
 github.com/DATA-DOG/go-sqlmock v1.3.3/go.mod h1:f/Ixk793poVmq4qj/V1dPUg2JEAKC73Q5eFN3EC/SaM=
@@ -189,6 +199,7 @@ github.com/beorn7/perks v1.0.1 h1:VlbKKnNfV8bJzeqoa4cOKqO6bYr3WgKZxO8Z16+hsOM=
 github.com/beorn7/perks v1.0.1/go.mod h1:G2ZrVWU2WbWT9wwq4/hrbKbnv/1ERSJQ0ibhJ6rlkpw=
 github.com/bgentry/speakeasy v0.1.0/go.mod h1:+zsyZBPWlz7T6j88CTgSN5bM796AkVf0kBD4zp0CCIs=
 github.com/bketelsen/crypt v0.0.3-0.20200106085610-5cbc8cc4026c/go.mod h1:MKsuJmJgSg28kpZDP6UIiPt0e0Oz0kqKNGyRaWEPv84=
+github.com/bketelsen/crypt v0.0.4/go.mod h1:aI6NrJ0pMGgvZKL1iVgXLnfIFJtfV+bKCoqOes/6LfM=
 github.com/blang/semver v3.5.0+incompatible/go.mod h1:kRBLl5iJ+tD4TcOOxsy/0fnwebNt5EWlYSAyrTnjyyk=
 github.com/blushft/go-diagrams v0.0.0-20201006005127-c78c821223d9 h1:mV+hh0rMjzrhg7Jc/GKwpa+y/0BMHGOHdM9yY1GYyFI=
 github.com/blushft/go-diagrams v0.0.0-20201006005127-c78c821223d9/go.mod h1:nDeXEIaeDV+mAK1gBD3/RJH67DYPC0GdaznWN7sB07s=
@@ -214,6 +225,8 @@ github.com/client9/misspell v0.3.4/go.mod h1:qj6jICC3Q7zFZvVWo7KLAzC3yx5G7kyvSDk
 github.com/cloudevents/sdk-go/v2 v2.1.0/go.mod h1:3CTrpB4+u7Iaj6fd7E2Xvm5IxMdRoaAhqaRVnOr2rCU=
 github.com/cloudfoundry/jibber_jabber v0.0.0-20151120183258-bcc4c8345a21/go.mod h1:po7NpZ/QiTKzBKyrsEAxwnTamCoh8uDk/egRpQ7siIc=
 github.com/cncf/udpa/go v0.0.0-20191209042840-269d4d468f6f/go.mod h1:M8M6+tZqaGXZJjfX53e64911xZQV5JYwmTeXPW+k8Sc=
+github.com/cncf/udpa/go v0.0.0-20200629203442-efcf912fb354/go.mod h1:WmhPx2Nbnhtbo57+VJT5O0JRkEi1Wbu0z5j0R8u5Hbk=
+github.com/cncf/udpa/go v0.0.0-20201120205902-5459f2c99403/go.mod h1:WmhPx2Nbnhtbo57+VJT5O0JRkEi1Wbu0z5j0R8u5Hbk=
 github.com/cockroachdb/datadriven v0.0.0-20190809214429-80d97fb3cbaa/go.mod h1:zn76sxSg3SzpJ0PPJaLDCu+Bu0Lg3sKTORVIj19EIF8=
 github.com/codahale/hdrhistogram v0.0.0-20161010025455-3a0bb77429bd/go.mod h1:sE/e/2PUdi/liOCUjSTXgM1o87ZssimdTWN964YiIeI=
 github.com/colinmarc/hdfs v1.1.4-0.20180802165501-48eb8d6c34a9/go.mod h1:0DumPviB681UcSuJErAbDIOx6SIaJWj463TymfZG02I=
@@ -230,6 +243,7 @@ github.com/coreos/go-semver v0.2.0/go.mod h1:nnelYz7RCh+5ahJtPPxZlU+153eP4D4r3Ee
 github.com/coreos/go-semver v0.3.0/go.mod h1:nnelYz7RCh+5ahJtPPxZlU+153eP4D4r3EedlOD2RNk=
 github.com/coreos/go-systemd v0.0.0-20180511133405-39ca1b05acc7/go.mod h1:F5haX7vjVVG0kc13fIWeqUViNPyEJxv/OmvnBo0Yme4=
 github.com/coreos/go-systemd v0.0.0-20190321100706-95778dfbb74e/go.mod h1:F5haX7vjVVG0kc13fIWeqUViNPyEJxv/OmvnBo0Yme4=
+github.com/coreos/go-systemd/v22 v22.3.2/go.mod h1:Y58oyj3AT4RCenI/lSvhwexgC+NSVTIJ3seZv2GcEnc=
 github.com/coreos/pkg v0.0.0-20160727233714-3ac0863d7acf/go.mod h1:E3G3o1h8I7cfcXa63jLwjI0eiQQMgzzUDFVpN/nH/eA=
 github.com/coreos/pkg v0.0.0-20180108230652-97fdf19511ea/go.mod h1:E3G3o1h8I7cfcXa63jLwjI0eiQQMgzzUDFVpN/nH/eA=
 github.com/coreos/pkg v0.0.0-20180928190104-399ea9e2e55f/go.mod h1:E3G3o1h8I7cfcXa63jLwjI0eiQQMgzzUDFVpN/nH/eA=
@@ -283,6 +297,9 @@ github.com/envoyproxy/go-control-plane v0.6.9/go.mod h1:SBwIajubJHhxtWwsL9s8ss4s
 github.com/envoyproxy/go-control-plane v0.9.0/go.mod h1:YTl/9mNaCwkRvm6d1a2C3ymFceY/DCBVvsKhRF0iEA4=
 github.com/envoyproxy/go-control-plane v0.9.1-0.20191026205805-5f8ba28d4473/go.mod h1:YTl/9mNaCwkRvm6d1a2C3ymFceY/DCBVvsKhRF0iEA4=
 github.com/envoyproxy/go-control-plane v0.9.4/go.mod h1:6rpuAdCZL397s3pYoYcLgu1mIlRU8Am5FuJP05cCM98=
+github.com/envoyproxy/go-control-plane v0.9.7/go.mod h1:cwu0lG7PUMfa9snN8LXBig5ynNVH9qI8YYLbd1fK2po=
+github.com/envoyproxy/go-control-plane v0.9.9-0.20201210154907-fd9021fe5dad/go.mod h1:cXg6YxExXjJnVBQHBLXeUAgxn2UodCpnH306RInaBQk=
+github.com/envoyproxy/go-control-plane v0.9.9-0.20210217033140-668b12f5399d/go.mod h1:cXg6YxExXjJnVBQHBLXeUAgxn2UodCpnH306RInaBQk=
 github.com/envoyproxy/protoc-gen-validate v0.1.0/go.mod h1:iSmxcyjqTsJpI2R4NaDN7+kN2VEUnK/pcBlmesArF7c=
 github.com/evanphx/json-patch v4.2.0+incompatible/go.mod h1:50XU6AFN0ol/bzJsmQLiYLvXMP4fmwYFNcr97nuDLSk=
 github.com/evanphx/json-patch v4.5.0+incompatible/go.mod h1:50XU6AFN0ol/bzJsmQLiYLvXMP4fmwYFNcr97nuDLSk=
@@ -461,6 +478,7 @@ github.com/gobuffalo/packr/v2 v2.0.9/go.mod h1:emmyGweYTm6Kdper+iywB6YK5YzuKchGt
 github.com/gobuffalo/packr/v2 v2.2.0/go.mod h1:CaAwI0GPIAv+5wKLtv8Afwl+Cm78K/I/VCm/3ptBN+0=
 github.com/gobuffalo/syncx v0.0.0-20190224160051-33c29581e754/go.mod h1:HhnNqWY95UYwwW3uSASeV7vtgYkT2t16hJgV3AEPUpw=
 github.com/gobwas/glob v0.2.4-0.20181002190808-e7a84e9525fe/go.mod h1:d3Ez4x06l9bZtSvzIay5+Yzi0fmZzPgnTbPcKjJAkT8=
+github.com/godbus/dbus/v5 v5.0.4/go.mod h1:xhWf0FNVPg57R7Z0UbKHbJfkEywrmjJnf7w5xrFpKfA=
 github.com/gogo/googleapis v1.1.0/go.mod h1:gf4bu3Q80BeJ6H1S1vYPm8/ELATdvryBaNFGgqEef3s=
 github.com/gogo/protobuf v1.1.1/go.mod h1:r8qH/GZQm5c6nD/R0oafs1akxWv10x8SbQlK7atdtwQ=
 github.com/gogo/protobuf v1.2.0/go.mod h1:r8qH/GZQm5c6nD/R0oafs1akxWv10x8SbQlK7atdtwQ=
@@ -483,6 +501,8 @@ github.com/golang/mock v1.3.1/go.mod h1:sBzyDLLjw3U8JLTeZvSv8jJB+tU5PVekmnlKIyFU
 github.com/golang/mock v1.4.0/go.mod h1:UOMv5ysSaYNkG+OFQykRIcU/QvvxJf3p21QfJ2Bt3cw=
 github.com/golang/mock v1.4.1/go.mod h1:UOMv5ysSaYNkG+OFQykRIcU/QvvxJf3p21QfJ2Bt3cw=
 github.com/golang/mock v1.4.3/go.mod h1:UOMv5ysSaYNkG+OFQykRIcU/QvvxJf3p21QfJ2Bt3cw=
+github.com/golang/mock v1.4.4/go.mod h1:l3mdAwkq5BuhzHwde/uurv3sEJeZMXNpwsxVWU71h+4=
+github.com/golang/mock v1.5.0/go.mod h1:CWnOUgYIOo4TcNZ0wHX3YZCqsaM1I1Jvs6v3mP3KVu8=
 github.com/golang/protobuf v0.0.0-20161109072736-4bd1920723d7/go.mod h1:6lQm79b+lXiMfvg/cZm0SGofjICqVBUtrP5yJMmIC1U=
 github.com/golang/protobuf v1.1.0/go.mod h1:6lQm79b+lXiMfvg/cZm0SGofjICqVBUtrP5yJMmIC1U=
 github.com/golang/protobuf v1.2.0/go.mod h1:6lQm79b+lXiMfvg/cZm0SGofjICqVBUtrP5yJMmIC1U=
@@ -498,8 +518,11 @@ github.com/golang/protobuf v1.4.0-rc.4.0.20200313231945-b860323f09d0/go.mod h1:W
 github.com/golang/protobuf v1.4.0/go.mod h1:jodUvKwWbYaEsadDk5Fwe5c77LiNKVO9IDvqG2KuDX0=
 github.com/golang/protobuf v1.4.1/go.mod h1:U8fpvMrcmy5pZrNK1lt4xCsGvpyWQ/VVv6QDs8UjoX8=
 github.com/golang/protobuf v1.4.2/go.mod h1:oDoupMAO8OvCJWAcko0GGGIgR6R6ocIYbsSw735rRwI=
-github.com/golang/protobuf v1.4.3 h1:JjCZWpVbqXDqFVmTfYWEVTMIYrL/NPdPSCHPJ0T/raM=
 github.com/golang/protobuf v1.4.3/go.mod h1:oDoupMAO8OvCJWAcko0GGGIgR6R6ocIYbsSw735rRwI=
+github.com/golang/protobuf v1.5.0/go.mod h1:FsONVRAS9T7sI+LIUmWTfcYkHO4aIWwzhcaSAoJOfIk=
+github.com/golang/protobuf v1.5.1/go.mod h1:DopwsBzvsk0Fs44TXzsVbJyPhcCPeIwnvohx4u74HPM=
+github.com/golang/protobuf v1.5.2 h1:ROPKBNFfQgOUMifHyP+KYbvpjbdoFNs+aK7DXlji0Tw=
+github.com/golang/protobuf v1.5.2/go.mod h1:XVQd3VNwM+JqD3oG2Ue2ip4fOMUkwXdXDdiuN0vRsmY=
 github.com/golang/snappy v0.0.0-20180518054509-2e65f85255db/go.mod h1:/XxbfmMg8lxefKM7IXC3fBNl/7bRcc72aCRzEWrmP2Q=
 github.com/golang/snappy v0.0.1/go.mod h1:/XxbfmMg8lxefKM7IXC3fBNl/7bRcc72aCRzEWrmP2Q=
 github.com/golang/snappy v0.0.3/go.mod h1:/XxbfmMg8lxefKM7IXC3fBNl/7bRcc72aCRzEWrmP2Q=
@@ -510,10 +533,13 @@ github.com/google/go-cmp v0.2.0/go.mod h1:oXzfMopK8JAjlY9xF4vHSVASa0yLyX7SntLO5a
 github.com/google/go-cmp v0.3.0/go.mod h1:8QqcDgzrUqlUb/G2PQTWiueGozuR1884gddMywk6iLU=
 github.com/google/go-cmp v0.3.1/go.mod h1:8QqcDgzrUqlUb/G2PQTWiueGozuR1884gddMywk6iLU=
 github.com/google/go-cmp v0.4.0/go.mod h1:v8dTdLbMG2kIc/vJvl+f65V22dbkXbowE6jgT/gNBxE=
+github.com/google/go-cmp v0.4.1/go.mod h1:v8dTdLbMG2kIc/vJvl+f65V22dbkXbowE6jgT/gNBxE=
 github.com/google/go-cmp v0.5.0/go.mod h1:v8dTdLbMG2kIc/vJvl+f65V22dbkXbowE6jgT/gNBxE=
 github.com/google/go-cmp v0.5.1/go.mod h1:v8dTdLbMG2kIc/vJvl+f65V22dbkXbowE6jgT/gNBxE=
 github.com/google/go-cmp v0.5.2/go.mod h1:v8dTdLbMG2kIc/vJvl+f65V22dbkXbowE6jgT/gNBxE=
+github.com/google/go-cmp v0.5.3/go.mod h1:v8dTdLbMG2kIc/vJvl+f65V22dbkXbowE6jgT/gNBxE=
 github.com/google/go-cmp v0.5.4/go.mod h1:v8dTdLbMG2kIc/vJvl+f65V22dbkXbowE6jgT/gNBxE=
+github.com/google/go-cmp v0.5.5/go.mod h1:v8dTdLbMG2kIc/vJvl+f65V22dbkXbowE6jgT/gNBxE=
 github.com/google/go-cmp v0.5.6 h1:BKbKCqvP6I+rmFHt06ZmyQtvB8xAkWdhFyr0ZUNZcxQ=
 github.com/google/go-cmp v0.5.6/go.mod h1:v8dTdLbMG2kIc/vJvl+f65V22dbkXbowE6jgT/gNBxE=
 github.com/google/go-github/v31 v31.0.0/go.mod h1:NQPZol8/1sMoWYGN2yaALIBytu17gAWfhbweiEed3pM=
@@ -524,11 +550,20 @@ github.com/google/gofuzz v1.1.0 h1:Hsa8mG0dQ46ij8Sl2AYJDUv1oA9/d6Vk+3LG99Oe02g=
 github.com/google/gofuzz v1.1.0/go.mod h1:dBl0BpW6vV/+mYPU4Po3pmUjxk6FQPldtuIdl/M65Eg=
 github.com/google/martian v2.1.0+incompatible h1:/CP5g8u/VJHijgedC/Legn3BAbAaWPgecwXBIDzw5no=
 github.com/google/martian v2.1.0+incompatible/go.mod h1:9I4somxYTbIHy5NJKHRl3wXiIaQGbYVAs8BPL6v8lEs=
+github.com/google/martian/v3 v3.0.0/go.mod h1:y5Zk1BBys9G+gd6Jrk0W3cC1+ELVxBWuIGO+w/tUAp0=
+github.com/google/martian/v3 v3.1.0 h1:wCKgOCHuUEVfsaQLpPSJb7VdYCdTVZQAuOdYm1yc/60=
+github.com/google/martian/v3 v3.1.0/go.mod h1:y5Zk1BBys9G+gd6Jrk0W3cC1+ELVxBWuIGO+w/tUAp0=
 github.com/google/pprof v0.0.0-20181206194817-3ea8567a2e57/go.mod h1:zfwlbNMJ+OItoe0UupaVj+oy1omPYYDuagoSzA8v9mc=
 github.com/google/pprof v0.0.0-20190515194954-54271f7e092f/go.mod h1:zfwlbNMJ+OItoe0UupaVj+oy1omPYYDuagoSzA8v9mc=
 github.com/google/pprof v0.0.0-20191218002539-d4f498aebedc/go.mod h1:ZgVRPoUq/hfqzAqh7sHMqb3I9Rq5C59dIz2SbBwJ4eM=
 github.com/google/pprof v0.0.0-20200212024743-f11f1df84d12/go.mod h1:ZgVRPoUq/hfqzAqh7sHMqb3I9Rq5C59dIz2SbBwJ4eM=
 github.com/google/pprof v0.0.0-20200229191704-1ebb73c60ed3/go.mod h1:ZgVRPoUq/hfqzAqh7sHMqb3I9Rq5C59dIz2SbBwJ4eM=
+github.com/google/pprof v0.0.0-20200430221834-fc25d7d30c6d/go.mod h1:ZgVRPoUq/hfqzAqh7sHMqb3I9Rq5C59dIz2SbBwJ4eM=
+github.com/google/pprof v0.0.0-20200708004538-1a94d8640e99/go.mod h1:ZgVRPoUq/hfqzAqh7sHMqb3I9Rq5C59dIz2SbBwJ4eM=
+github.com/google/pprof v0.0.0-20201023163331-3e6fc7fc9c4c/go.mod h1:kpwsk12EmLew5upagYY7GY0pfYCcupk39gWOCRROcvE=
+github.com/google/pprof v0.0.0-20201203190320-1bf35d6f28c2/go.mod h1:kpwsk12EmLew5upagYY7GY0pfYCcupk39gWOCRROcvE=
+github.com/google/pprof v0.0.0-20210122040257-d980be63207e/go.mod h1:kpwsk12EmLew5upagYY7GY0pfYCcupk39gWOCRROcvE=
+github.com/google/pprof v0.0.0-20210226084205-cbba55b83ad5/go.mod h1:kpwsk12EmLew5upagYY7GY0pfYCcupk39gWOCRROcvE=
 github.com/google/renameio v0.1.0/go.mod h1:KWCgfxg9yswjAJkECMjeO8J8rahYeXnNhOm40UhjYkI=
 github.com/google/uuid v1.0.0/go.mod h1:TIyPZe4MgqvfeYDBFedMoGGpEw/LqOeaOT+nhxU+yHo=
 github.com/google/uuid v1.1.1/go.mod h1:TIyPZe4MgqvfeYDBFedMoGGpEw/LqOeaOT+nhxU+yHo=
@@ -622,6 +657,7 @@ github.com/huandu/xstrings v1.3.2/go.mod h1:y5/lhBue+AyNmUVz9RLU9xbLR0o4KIIExikq
 github.com/hudl/fargo v1.3.0/go.mod h1:y3CKSmjA+wD2gak7sUSXTAoopbhU08POFhmITJgmKTg=
 github.com/iancoleman/strcase v0.1.1/go.mod h1:SK73tn/9oHe+/Y0h39VT4UCxmurVJkR5NA7kMEAOgSE=
 github.com/ianlancetaylor/demangle v0.0.0-20181102032728-5e5cf60278f6/go.mod h1:aSSvb/t6k1mPoxDqO4vJh6VOCGPwU4O0C2/Eqndh1Sc=
+github.com/ianlancetaylor/demangle v0.0.0-20200824232613-28f6c0f3b639/go.mod h1:aSSvb/t6k1mPoxDqO4vJh6VOCGPwU4O0C2/Eqndh1Sc=
 github.com/imdario/mergo v0.3.5/go.mod h1:2EnlNZ0deacrJVfApfmtdGgDfMuh/nq6Ok1EcJh5FfA=
 github.com/imdario/mergo v0.3.10/go.mod h1:jmQim1M+e3UYxmgPu/WyfjB3N3VflVyUjjjwH0dnCYA=
 github.com/imdario/mergo v0.3.11/go.mod h1:jmQim1M+e3UYxmgPu/WyfjB3N3VflVyUjjjwH0dnCYA=
@@ -664,8 +700,9 @@ github.com/jpillora/backoff v1.0.0/go.mod h1:J/6gKK9jxlEcS3zixgDgUAsiuZ7yrSoa/FX
 github.com/json-iterator/go v1.1.6/go.mod h1:+SdeFBvtyEkXs7REEP0seUULqWtbJapLOCVDaaPEHmU=
 github.com/json-iterator/go v1.1.7/go.mod h1:KdQUCv79m/52Kvf8AW2vK1V8akMuk1QjK/uOdHXbAo4=
 github.com/json-iterator/go v1.1.8/go.mod h1:KdQUCv79m/52Kvf8AW2vK1V8akMuk1QjK/uOdHXbAo4=
-github.com/json-iterator/go v1.1.10 h1:Kz6Cvnvv2wGdaG/V8yMvfkmNiXq9Ya2KUv4rouJJr68=
 github.com/json-iterator/go v1.1.10/go.mod h1:KdQUCv79m/52Kvf8AW2vK1V8akMuk1QjK/uOdHXbAo4=
+github.com/json-iterator/go v1.1.11 h1:uVUAXhF2To8cbw/3xN3pxj6kk7TYKs98NIrTqPlMWAQ=
+github.com/json-iterator/go v1.1.11/go.mod h1:KdQUCv79m/52Kvf8AW2vK1V8akMuk1QjK/uOdHXbAo4=
 github.com/jstemmer/go-junit-report v0.0.0-20190106144839-af01ea7f8024/go.mod h1:6v2b51hI/fHJwM22ozAgKL4VKDeJcHhJFhtBdhmNjmU=
 github.com/jstemmer/go-junit-report v0.9.1 h1:6QPYqodiu3GuPL+7mfx+NwDdp2eTkp9IfEUpgAwUN0o=
 github.com/jstemmer/go-junit-report v0.9.1/go.mod h1:Brl9GWCQeLvo8nXZwPNNblvFj/XSXhF0NWZEnDohbsk=
@@ -727,8 +764,9 @@ github.com/lucasb-eyer/go-colorful v1.0.2/go.mod h1:0MS4r+7BZKSJ5mw4/S5MPN+qHFF1
 github.com/lucasb-eyer/go-colorful v1.0.3/go.mod h1:R4dSotOR9KMtayYi1e77YzuveK+i7ruzyGqttikkLy0=
 github.com/lyft/protoc-gen-validate v0.0.13/go.mod h1:XbGvPuh87YZc5TdIa2/I4pLk0QoUACkjt2znoq26NVQ=
 github.com/magiconair/properties v1.8.0/go.mod h1:PppfXfuXeibc/6YijjN8zIbojt8czPbwD3XqdrwzmxQ=
-github.com/magiconair/properties v1.8.1 h1:ZC2Vc7/ZFkGmsVC9KvOjumD+G5lXy2RtTKyzRKO2BQ4=
 github.com/magiconair/properties v1.8.1/go.mod h1:PppfXfuXeibc/6YijjN8zIbojt8czPbwD3XqdrwzmxQ=
+github.com/magiconair/properties v1.8.5 h1:b6kJs+EmPFMYGkow9GiUyCyOvIwYetYJ3fSaWak/Gls=
+github.com/magiconair/properties v1.8.5/go.mod h1:y3VJvCyxH9uVvJTWEGAELF3aiYNyPKd5NZ3oSwXrF60=
 github.com/mailru/easyjson v0.0.0-20160728113105-d5b7844b561a/go.mod h1:C1wdFJiN94OJF2b5HbByQZoLdCWB1Yqtg26g4irojpc=
 github.com/mailru/easyjson v0.0.0-20180823135443-60711f1a8329/go.mod h1:C1wdFJiN94OJF2b5HbByQZoLdCWB1Yqtg26g4irojpc=
 github.com/mailru/easyjson v0.0.0-20190312143242-1de009706dbe/go.mod h1:C1wdFJiN94OJF2b5HbByQZoLdCWB1Yqtg26g4irojpc=
@@ -872,8 +910,9 @@ github.com/pborman/uuid v1.2.0/go.mod h1:X/NO0urCmaxf9VXbdlT7C2Yzkj2IKimNn4k+gtP
 github.com/pelletier/go-buffruneio v0.2.0/go.mod h1:JkE26KsDizTr40EUHkXVtNPvgGtbSNq5BcowyYOWdKo=
 github.com/pelletier/go-toml v1.2.0/go.mod h1:5z9KED0ma1S8pY6P1sdut58dfprrGBbd/94hg7ilaic=
 github.com/pelletier/go-toml v1.4.0/go.mod h1:PN7xzY2wHTK0K9p34ErDQMlFxa51Fk0OUruD3k1mMwo=
-github.com/pelletier/go-toml v1.8.0 h1:Keo9qb7iRJs2voHvunFtuuYFsbWeOBh8/P9v/kVMFtw=
 github.com/pelletier/go-toml v1.8.0/go.mod h1:D6yutnOGMveHEPV7VQOuvI/gXY61bv+9bAOTRnLElKs=
+github.com/pelletier/go-toml v1.9.3 h1:zeC5b1GviRUyKYd6OJPvBU/mcVDVoL1OhT17FCt5dSQ=
+github.com/pelletier/go-toml v1.9.3/go.mod h1:u1nR/EPcESfeI/szUZKdtJ0xRNbUoANCkoOuaOx1Y+c=
 github.com/performancecopilot/speed v3.0.0+incompatible/go.mod h1:/CLtqpZ5gBg1M9iaPbIdPPGyKcA8hKdoy6hAWba7Yac=
 github.com/peterbourgon/diskv v2.0.1+incompatible/go.mod h1:uqqh8zWWbv1HBMNONnaR/tNboyR3/BZd58JJSHlUSCU=
 github.com/peterh/liner v1.1.0/go.mod h1:CRroGNssyjTd/qIG2FyxByd2S8JEAZXBl4qUrZf8GS0=
@@ -991,15 +1030,17 @@ github.com/spaolacci/murmur3 v0.0.0-20180118202830-f09979ecbc72/go.mod h1:JwIasO
 github.com/spaolacci/murmur3 v1.1.0/go.mod h1:JwIasOWyU6f++ZhiEuf87xNszmSA2myDM2Kzu9HwQUA=
 github.com/spf13/afero v1.1.2/go.mod h1:j4pytiNVoe2o6bmDsKpLACNPDBIoEAkihy7loJ1B0CQ=
 github.com/spf13/afero v1.2.2/go.mod h1:9ZxEEn6pIJ8Rxe320qSDBk6AsU0r9pR7Q4OcevTdifk=
-github.com/spf13/afero v1.3.2 h1:GDarE4TJQI52kYSbSAmLiId1Elfj+xgSDqrUZxFhxlU=
 github.com/spf13/afero v1.3.2/go.mod h1:5KUK8ByomD5Ti5Artl0RtHeI5pTF7MIDuXL3yY520V4=
+github.com/spf13/afero v1.6.0 h1:xoax2sJ2DT8S8xA2paPFjDCScCNeWsg75VG0DLRreiY=
+github.com/spf13/afero v1.6.0/go.mod h1:Ai8FlHk4v/PARR026UzYexafAt9roJ7LcLMAmO6Z93I=
 github.com/spf13/cast v1.3.0/go.mod h1:Qx5cxh0v+4UWYiBimWS+eyWzqEqokIECu5etghLkUJE=
 github.com/spf13/cast v1.3.1 h1:nFm6S0SMdyzrzcmThSipiEubIDy8WEXKNZ0UOgiRpng=
 github.com/spf13/cast v1.3.1/go.mod h1:Qx5cxh0v+4UWYiBimWS+eyWzqEqokIECu5etghLkUJE=
 github.com/spf13/cobra v0.0.3/go.mod h1:1l0Ry5zgKvJasoi3XT1TypsSe7PqH0Sj9dhYf7v3XqQ=
 github.com/spf13/cobra v0.0.5/go.mod h1:3K3wKZymM7VvHMDS9+Akkh4K60UwM26emMESw8tLCHU=
-github.com/spf13/cobra v1.0.0 h1:6m/oheQuQ13N9ks4hubMG6BnvwOeaJrqSPLahSnczz8=
 github.com/spf13/cobra v1.0.0/go.mod h1:/6GTrnGXV9HjY+aR4k0oJ5tcvakLuG6EuKReYlHNrgE=
+github.com/spf13/cobra v1.2.1 h1:+KmjbUw1hriSNMF55oPrkZcb27aECyrj8V2ytv7kWDw=
+github.com/spf13/cobra v1.2.1/go.mod h1:ExllRjgxM/piMAM+3tAZvg8fsklGAf3tPfi+i8t68Nk=
 github.com/spf13/jwalterweatherman v1.0.0/go.mod h1:cQK4TGJAtQXfYWX+Ddv3mKDzgVb68N+wFjFa4jdeBTo=
 github.com/spf13/jwalterweatherman v1.1.0 h1:ue6voC5bR5F8YxI5S67j9i582FU4Qvo2bmqnqMYADFk=
 github.com/spf13/jwalterweatherman v1.1.0/go.mod h1:aNWZUN0dPAAO/Ljvb5BEdw96iTZ0EXowPYD95IqWIGo=
@@ -1010,8 +1051,9 @@ github.com/spf13/pflag v1.0.5 h1:iy+VFUOCP1a+8yFto/drg2CJ5u0yRoB7fZw3DKv/JXA=
 github.com/spf13/pflag v1.0.5/go.mod h1:McXfInJRrz4CZXVZOBLb0bTZqETkiAhM9Iw0y3An2Bg=
 github.com/spf13/viper v1.3.2/go.mod h1:ZiWeW+zYFKm7srdB9IoDzzZXaJaI5eL9QjNiN/DMA2s=
 github.com/spf13/viper v1.4.0/go.mod h1:PTJ7Z/lr49W6bUbkmS1V3by4uWynFiR9p7+dSq/yZzE=
-github.com/spf13/viper v1.7.0 h1:xVKxvI7ouOI5I+U9s2eeiUfMaWBVoXA3AWskkrqK0VM=
 github.com/spf13/viper v1.7.0/go.mod h1:8WkrPz2fc9jxqZNCJI/76HCieCp4Q8HaLFoCha5qpdg=
+github.com/spf13/viper v1.8.1 h1:Kq1fyeebqsBfbjZj4EL7gj2IO0mMaiyjYUWcUsl2O44=
+github.com/spf13/viper v1.8.1/go.mod h1:o0Pch8wJ9BVSWGQMbra6iw0oQ5oktSIBaujf1rJH9Ns=
 github.com/src-d/gcfg v1.4.0 h1:xXbNR5AlLSA315x2UO+fTSSAXCDf+Ar38/6oyGbDKQ4=
 github.com/src-d/gcfg v1.4.0/go.mod h1:p/UMsR43ujA89BJY9duynAwIpvqEujIH/jFlfL7jWoI=
 github.com/stoewer/go-strcase v1.2.0/go.mod h1:IBiWB2sKIp3wVVQ3Y035++gc+knqhUQag1KpM8ahLw8=
@@ -1103,6 +1145,9 @@ go.etcd.io/bbolt v1.3.3/go.mod h1:IbVyRI1SCnLcuJnV2u8VeU0CEYM7e686BmAb1XKL+uU=
 go.etcd.io/bbolt v1.3.5/go.mod h1:G5EMThwa9y8QZGBClrRx5EY+Yw9kAhnjy3bSjsnlVTQ=
 go.etcd.io/etcd v0.0.0-20191023171146-3cf2f69b5738/go.mod h1:dnLIgRNXwCJa5e+c6mIZCrds/GIG4ncV9HhK5PX7jPg=
 go.etcd.io/etcd v0.5.0-alpha.5.0.20200819165624-17cef6e3e9d5/go.mod h1:skWido08r9w6Lq/w70DO5XYIKMu4QFu1+4VsqLQuJy8=
+go.etcd.io/etcd/api/v3 v3.5.0/go.mod h1:cbVKeC6lCfl7j/8jBhAK6aIYO9XOjdptoxU/nLQcPvs=
+go.etcd.io/etcd/client/pkg/v3 v3.5.0/go.mod h1:IJHfcCEKxYu1Os13ZdwCwIUTUVGYTSAM3YSwc9/Ac1g=
+go.etcd.io/etcd/client/v2 v2.305.0/go.mod h1:h9puh54ZTgAKtEbut2oe9P4L/oqKCVB6xsXlzd7alYQ=
 go.mongodb.org/mongo-driver v1.0.3/go.mod h1:u7ryQJ+DOzQmeO7zB6MHyr8jkEQvC8vH7qLUO4lqsUM=
 go.mongodb.org/mongo-driver v1.1.1/go.mod h1:u7ryQJ+DOzQmeO7zB6MHyr8jkEQvC8vH7qLUO4lqsUM=
 go.mongodb.org/mongo-driver v1.1.2/go.mod h1:u7ryQJ+DOzQmeO7zB6MHyr8jkEQvC8vH7qLUO4lqsUM=
@@ -1115,21 +1160,27 @@ go.opencensus.io v0.20.2/go.mod h1:6WKK9ahsWS3RSO+PY9ZHZUfv2irvY6gN279GOPZjmmk=
 go.opencensus.io v0.21.0/go.mod h1:mSImk1erAIZhrmZN+AvHh14ztQfjbGwt4TtuofqLduU=
 go.opencensus.io v0.22.0/go.mod h1:+kGneAE2xo2IficOXnaByMWTGM9T73dGwxeWcUqIpI8=
 go.opencensus.io v0.22.2/go.mod h1:yxeiOL68Rb0Xd1ddK5vPZ/oVn4vY4Ynel7k9FzqtOIw=
-go.opencensus.io v0.22.3 h1:8sGtKOrtQqkN1bp2AtX+misvLIlOmsEsNd+9NIcPEm8=
 go.opencensus.io v0.22.3/go.mod h1:yxeiOL68Rb0Xd1ddK5vPZ/oVn4vY4Ynel7k9FzqtOIw=
+go.opencensus.io v0.22.4/go.mod h1:yxeiOL68Rb0Xd1ddK5vPZ/oVn4vY4Ynel7k9FzqtOIw=
+go.opencensus.io v0.22.5/go.mod h1:5pWMHQbX5EPX2/62yrJeAkowc+lfs/XD7Uxpq3pI6kk=
+go.opencensus.io v0.23.0 h1:gqCw0LfLxScz8irSi8exQc7fyQ0fKQU/qnC/X8+V/1M=
+go.opencensus.io v0.23.0/go.mod h1:XItmlyltB5F7CS4xOC1DcqMoFqwtC6OG2xF7mCv7P7E=
 go.uber.org/atomic v1.3.2/go.mod h1:gD2HeocX3+yG+ygLZcrzQJaqmWj9AIm7n08wl/qW/PE=
 go.uber.org/atomic v1.4.0/go.mod h1:gD2HeocX3+yG+ygLZcrzQJaqmWj9AIm7n08wl/qW/PE=
 go.uber.org/atomic v1.5.0/go.mod h1:sABNBOSYdrvTF6hTgEIbc7YasKWGhgEQZyfxyTvoXHQ=
 go.uber.org/atomic v1.6.0/go.mod h1:sABNBOSYdrvTF6hTgEIbc7YasKWGhgEQZyfxyTvoXHQ=
+go.uber.org/atomic v1.7.0/go.mod h1:fEN4uk6kAWBTFdckzkM89CLk9XfWZrxpCo0nPH17wJc=
 go.uber.org/goleak v1.1.10/go.mod h1:8a7PlsEVH3e/a/GLqe5IIrQx6GzcnRmZEufDUTk4A7A=
 go.uber.org/multierr v1.1.0/go.mod h1:wR5kodmAFQ0UK8QlbwjlSNy0Z68gJhDJUG5sjR94q/0=
 go.uber.org/multierr v1.3.0/go.mod h1:VgVr7evmIr6uPjLBxg28wmKNXyqE9akIJ5XnfpiKl+4=
 go.uber.org/multierr v1.5.0/go.mod h1:FeouvMocqHpRaaGuG9EjoKcStLC43Zu/fmqdUMPcKYU=
+go.uber.org/multierr v1.6.0/go.mod h1:cdWPpRnG4AhwMwsgIHip0KRBQjJy5kYEpYjJxpXp9iU=
 go.uber.org/tools v0.0.0-20190618225709-2cfd321de3ee/go.mod h1:vJERXedbb3MVM5f9Ejo0C68/HhF8uaILCdgjnY+goOA=
 go.uber.org/zap v1.8.0/go.mod h1:vwi/ZaCAaUcBkycHslxD9B2zi4UTXhF60s6SWpuDF0Q=
 go.uber.org/zap v1.10.0/go.mod h1:vwi/ZaCAaUcBkycHslxD9B2zi4UTXhF60s6SWpuDF0Q=
 go.uber.org/zap v1.13.0/go.mod h1:zwrFLgMcdUuIBviXEYEH1YKNaOBnKXsx2IPda5bBwHM=
 go.uber.org/zap v1.15.0/go.mod h1:Mb2vm2krFEG5DV0W9qcHBYFtp/Wku1cvYaqPsS/WYfc=
+go.uber.org/zap v1.17.0/go.mod h1:MXVU+bhUf/A7Xi2HNOnopQOrmycQ5Ih87HtOu4q5SSo=
 golang.org/x/crypto v0.0.0-20180723164146-c126467f60eb/go.mod h1:6SG95UA2DQfeDnfUPMdvaQW0Q7yPrPDi9nlGo2tz2b4=
 golang.org/x/crypto v0.0.0-20180904163835-0709b304e793/go.mod h1:6SG95UA2DQfeDnfUPMdvaQW0Q7yPrPDi9nlGo2tz2b4=
 golang.org/x/crypto v0.0.0-20180910181607-0e37d006457b/go.mod h1:6SG95UA2DQfeDnfUPMdvaQW0Q7yPrPDi9nlGo2tz2b4=
@@ -1189,8 +1240,10 @@ golang.org/x/lint v0.0.0-20190909230951-414d861bb4ac/go.mod h1:6SW0HCj/g11FgYtHl
 golang.org/x/lint v0.0.0-20190930215403-16217165b5de/go.mod h1:6SW0HCj/g11FgYtHlgUYUwCkIfeOF89ocIRzGO/8vkc=
 golang.org/x/lint v0.0.0-20191125180803-fdd1cda4f05f/go.mod h1:5qLYkcX4OjUUV8bRuDixDT3tpyyb+LUpUlRWLxfhWrs=
 golang.org/x/lint v0.0.0-20200130185559-910be7a94367/go.mod h1:3xt1FjdF8hUf6vQPIChWIBhFzV8gjjsPE/fR3IyQdNY=
-golang.org/x/lint v0.0.0-20200302205851-738671d3881b h1:Wh+f8QHJXR411sJR8/vRBTZ7YapZaRvUcLFFJhusH0k=
 golang.org/x/lint v0.0.0-20200302205851-738671d3881b/go.mod h1:3xt1FjdF8hUf6vQPIChWIBhFzV8gjjsPE/fR3IyQdNY=
+golang.org/x/lint v0.0.0-20201208152925-83fdc39ff7b5/go.mod h1:3xt1FjdF8hUf6vQPIChWIBhFzV8gjjsPE/fR3IyQdNY=
+golang.org/x/lint v0.0.0-20210508222113-6edffad5e616 h1:VLliZ0d+/avPrXXH+OakdXhpJuEoBZuwh1m2j7U6Iug=
+golang.org/x/lint v0.0.0-20210508222113-6edffad5e616/go.mod h1:3xt1FjdF8hUf6vQPIChWIBhFzV8gjjsPE/fR3IyQdNY=
 golang.org/x/mobile v0.0.0-20190312151609-d3739f865fa6/go.mod h1:z+o9i4GpDbdi3rU15maQ/Ox0txvL9dWGYEHz965HBQE=
 golang.org/x/mobile v0.0.0-20190719004257-d2bd2a29d028/go.mod h1:E/iHnbuqvinMTCcRqshq8CkpyQDoeVncDDYHnLhea+o=
 golang.org/x/mod v0.0.0-20190513183733-4bf6d317e70e/go.mod h1:mXi4GBBbnImb6dmsKGUJ2LatrhH/nqhxcFungHvyanc=
@@ -1200,6 +1253,8 @@ golang.org/x/mod v0.1.1-0.20191107180719-034126e5016b/go.mod h1:QqPTAvyqsEbceGzB
 golang.org/x/mod v0.2.0/go.mod h1:s0Qsj1ACt9ePp/hMypM3fl4fZqREWJwdYDEqhRiZZUA=
 golang.org/x/mod v0.3.0/go.mod h1:s0Qsj1ACt9ePp/hMypM3fl4fZqREWJwdYDEqhRiZZUA=
 golang.org/x/mod v0.3.1-0.20200828183125-ce943fd02449/go.mod h1:s0Qsj1ACt9ePp/hMypM3fl4fZqREWJwdYDEqhRiZZUA=
+golang.org/x/mod v0.4.0/go.mod h1:s0Qsj1ACt9ePp/hMypM3fl4fZqREWJwdYDEqhRiZZUA=
+golang.org/x/mod v0.4.1/go.mod h1:s0Qsj1ACt9ePp/hMypM3fl4fZqREWJwdYDEqhRiZZUA=
 golang.org/x/mod v0.4.2 h1:Gz96sIWK3OalVv/I/qNygP42zyoKp3xptRVCWRFEBvo=
 golang.org/x/mod v0.4.2/go.mod h1:s0Qsj1ACt9ePp/hMypM3fl4fZqREWJwdYDEqhRiZZUA=
 golang.org/x/net v0.0.0-20170114055629-f2499483f923/go.mod h1:mL1N/T3taQHkDXs73rZJwtUhF3w3ftmwwsq0BUmARs4=
@@ -1225,6 +1280,7 @@ golang.org/x/net v0.0.0-20190522155817-f3200d17e092/go.mod h1:HSz+uSET+XFnRR8LxR
 golang.org/x/net v0.0.0-20190603091049-60506f45cf65/go.mod h1:HSz+uSET+XFnRR8LxR5pz3Of3rY3CfYBVs4xY44aLks=
 golang.org/x/net v0.0.0-20190613194153-d28f0bde5980/go.mod h1:z5CRVTTTmAJ677TzLLGU+0bjPO0LkuOLi4/5GtJWs/s=
 golang.org/x/net v0.0.0-20190620200207-3b0461eec859/go.mod h1:z5CRVTTTmAJ677TzLLGU+0bjPO0LkuOLi4/5GtJWs/s=
+golang.org/x/net v0.0.0-20190628185345-da137c7871d7/go.mod h1:z5CRVTTTmAJ677TzLLGU+0bjPO0LkuOLi4/5GtJWs/s=
 golang.org/x/net v0.0.0-20190724013045-ca1201d0de80/go.mod h1:z5CRVTTTmAJ677TzLLGU+0bjPO0LkuOLi4/5GtJWs/s=
 golang.org/x/net v0.0.0-20190813141303-74dc4d7220e7/go.mod h1:z5CRVTTTmAJ677TzLLGU+0bjPO0LkuOLi4/5GtJWs/s=
 golang.org/x/net v0.0.0-20190827160401-ba9fcec4b297/go.mod h1:z5CRVTTTmAJ677TzLLGU+0bjPO0LkuOLi4/5GtJWs/s=
@@ -1237,17 +1293,23 @@ golang.org/x/net v0.0.0-20200222125558-5a598a2470a0/go.mod h1:z5CRVTTTmAJ677TzLL
 golang.org/x/net v0.0.0-20200226121028-0de0cce0169b/go.mod h1:z5CRVTTTmAJ677TzLLGU+0bjPO0LkuOLi4/5GtJWs/s=
 golang.org/x/net v0.0.0-20200301022130-244492dfa37a/go.mod h1:z5CRVTTTmAJ677TzLLGU+0bjPO0LkuOLi4/5GtJWs/s=
 golang.org/x/net v0.0.0-20200324143707-d3edc9973b7e/go.mod h1:qpuaurCH72eLCgpAm/N6yyVIVM9cpaDIP3A8BGJEC5A=
+golang.org/x/net v0.0.0-20200501053045-e0ff5e5a1de5/go.mod h1:qpuaurCH72eLCgpAm/N6yyVIVM9cpaDIP3A8BGJEC5A=
+golang.org/x/net v0.0.0-20200506145744-7e3656a0809f/go.mod h1:qpuaurCH72eLCgpAm/N6yyVIVM9cpaDIP3A8BGJEC5A=
 golang.org/x/net v0.0.0-20200513185701-a91f0712d120/go.mod h1:qpuaurCH72eLCgpAm/N6yyVIVM9cpaDIP3A8BGJEC5A=
 golang.org/x/net v0.0.0-20200520004742-59133d7f0dd7/go.mod h1:qpuaurCH72eLCgpAm/N6yyVIVM9cpaDIP3A8BGJEC5A=
+golang.org/x/net v0.0.0-20200520182314-0ba52f642ac2/go.mod h1:qpuaurCH72eLCgpAm/N6yyVIVM9cpaDIP3A8BGJEC5A=
 golang.org/x/net v0.0.0-20200602114024-627f9648deb9/go.mod h1:qpuaurCH72eLCgpAm/N6yyVIVM9cpaDIP3A8BGJEC5A=
 golang.org/x/net v0.0.0-20200625001655-4c5254603344/go.mod h1:/O7V0waA8r7cgGh81Ro3o1hOxt32SMVPicZroKQ2sZA=
 golang.org/x/net v0.0.0-20200707034311-ab3426394381/go.mod h1:/O7V0waA8r7cgGh81Ro3o1hOxt32SMVPicZroKQ2sZA=
 golang.org/x/net v0.0.0-20200822124328-c89045814202/go.mod h1:/O7V0waA8r7cgGh81Ro3o1hOxt32SMVPicZroKQ2sZA=
 golang.org/x/net v0.0.0-20201021035429-f5854403a974/go.mod h1:sp8m0HH+o8qH0wwXwYZr8TS3Oi6o0r6Gce1SSxlDquU=
+golang.org/x/net v0.0.0-20201031054903-ff519b6c9102/go.mod h1:sp8m0HH+o8qH0wwXwYZr8TS3Oi6o0r6Gce1SSxlDquU=
 golang.org/x/net v0.0.0-20201110031124-69a78807bb2b/go.mod h1:sp8m0HH+o8qH0wwXwYZr8TS3Oi6o0r6Gce1SSxlDquU=
+golang.org/x/net v0.0.0-20201209123823-ac852fbbde11/go.mod h1:m0MpNAwzfU5UDzcl9v0D8zg8gWTRqZa9RBIspLL5mdg=
 golang.org/x/net v0.0.0-20210119194325-5f4716e94777/go.mod h1:m0MpNAwzfU5UDzcl9v0D8zg8gWTRqZa9RBIspLL5mdg=
 golang.org/x/net v0.0.0-20210226101413-39120d07d75e/go.mod h1:m0MpNAwzfU5UDzcl9v0D8zg8gWTRqZa9RBIspLL5mdg=
 golang.org/x/net v0.0.0-20210226172049-e18ecbb05110/go.mod h1:m0MpNAwzfU5UDzcl9v0D8zg8gWTRqZa9RBIspLL5mdg=
+golang.org/x/net v0.0.0-20210316092652-d523dce5a7f4/go.mod h1:RBQZq4jEuRlivfhVLdyRGr576XBO4/greRjx4P4O3yc=
 golang.org/x/net v0.0.0-20210326060303-6b1517762897/go.mod h1:uSPa2vr4CLtc/ILN5odXGNXS6mhrKVzTaCXzk9m6W3k=
 golang.org/x/net v0.0.0-20210405180319-a5a99cb37ef4/go.mod h1:p54w0d4576C0XHj96bSt6lcn1PtDYWL6XObtHCRCNQM=
 golang.org/x/net v0.0.0-20210614182718-04defd469f4e h1:XpT3nA5TvE525Ne3hInMh6+GETgn27Zfm9dxsThnX2Q=
@@ -1257,8 +1319,15 @@ golang.org/x/oauth2 v0.0.0-20181106182150-f42d05182288/go.mod h1:N/0e6XlmueqKjAG
 golang.org/x/oauth2 v0.0.0-20190226205417-e64efc72b421/go.mod h1:gOpvHmFTYa4IltrdGE7lF6nIHvwfUNPOp7c8zoXwtLw=
 golang.org/x/oauth2 v0.0.0-20190604053449-0f29369cfe45/go.mod h1:gOpvHmFTYa4IltrdGE7lF6nIHvwfUNPOp7c8zoXwtLw=
 golang.org/x/oauth2 v0.0.0-20191202225959-858c2ad4c8b6/go.mod h1:gOpvHmFTYa4IltrdGE7lF6nIHvwfUNPOp7c8zoXwtLw=
-golang.org/x/oauth2 v0.0.0-20200107190931-bf48bf16ab8d h1:TzXSXBo42m9gQenoE3b9BGiEpg5IG2JkU5FkPIawgtw=
 golang.org/x/oauth2 v0.0.0-20200107190931-bf48bf16ab8d/go.mod h1:gOpvHmFTYa4IltrdGE7lF6nIHvwfUNPOp7c8zoXwtLw=
+golang.org/x/oauth2 v0.0.0-20200902213428-5d25da1a8d43/go.mod h1:KelEdhl1UZF7XfJ4dDtk6s++YSgaE7mD/BuKKDLBl4A=
+golang.org/x/oauth2 v0.0.0-20201109201403-9fd604954f58/go.mod h1:KelEdhl1UZF7XfJ4dDtk6s++YSgaE7mD/BuKKDLBl4A=
+golang.org/x/oauth2 v0.0.0-20201208152858-08078c50e5b5/go.mod h1:KelEdhl1UZF7XfJ4dDtk6s++YSgaE7mD/BuKKDLBl4A=
+golang.org/x/oauth2 v0.0.0-20210218202405-ba52d332ba99/go.mod h1:KelEdhl1UZF7XfJ4dDtk6s++YSgaE7mD/BuKKDLBl4A=
+golang.org/x/oauth2 v0.0.0-20210220000619-9bb904979d93/go.mod h1:KelEdhl1UZF7XfJ4dDtk6s++YSgaE7mD/BuKKDLBl4A=
+golang.org/x/oauth2 v0.0.0-20210313182246-cd4f82c27b84/go.mod h1:KelEdhl1UZF7XfJ4dDtk6s++YSgaE7mD/BuKKDLBl4A=
+golang.org/x/oauth2 v0.0.0-20210402161424-2e8d93401602 h1:0Ja1LBD+yisY6RWM/BH7TJVXWsSjs2VwBSmvSX4HdBc=
+golang.org/x/oauth2 v0.0.0-20210402161424-2e8d93401602/go.mod h1:KelEdhl1UZF7XfJ4dDtk6s++YSgaE7mD/BuKKDLBl4A=
 golang.org/x/sync v0.0.0-20180314180146-1d60e4601c6f/go.mod h1:RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM=
 golang.org/x/sync v0.0.0-20181108010431-42b317875d0f/go.mod h1:RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM=
 golang.org/x/sync v0.0.0-20181221193216-37e7f081c4d4/go.mod h1:RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM=
@@ -1325,22 +1394,34 @@ golang.org/x/sys v0.0.0-20200202164722-d101bd2416d5/go.mod h1:h1NjWce9XRLGQEsW7w
 golang.org/x/sys v0.0.0-20200212091648-12a6c2dcc1e4/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
 golang.org/x/sys v0.0.0-20200223170610-d5e6a3e2c0ae/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
 golang.org/x/sys v0.0.0-20200302150141-5c8b2ff67527/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
-golang.org/x/sys v0.0.0-20200317113312-5766fd39f98d/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
 golang.org/x/sys v0.0.0-20200323222414-85ca7c5b95cd/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
+golang.org/x/sys v0.0.0-20200331124033-c3d80250170d/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
+golang.org/x/sys v0.0.0-20200501052902-10377860bb8e/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
+golang.org/x/sys v0.0.0-20200511232937-7e40ca221e25/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
+golang.org/x/sys v0.0.0-20200515095857-1151b9dac4a9/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
 golang.org/x/sys v0.0.0-20200519105757-fe76b779f299/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
+golang.org/x/sys v0.0.0-20200523222454-059865788121/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
 golang.org/x/sys v0.0.0-20200615200032-f1bc736245b1/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
 golang.org/x/sys v0.0.0-20200622214017-ed371f2e16b4/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
 golang.org/x/sys v0.0.0-20200625212154-ddb9806d33ae/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
+golang.org/x/sys v0.0.0-20200803210538-64077c9b5642/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
+golang.org/x/sys v0.0.0-20200905004654-be1d3432aa8f/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
 golang.org/x/sys v0.0.0-20200930185726-fdedc70b468f/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
 golang.org/x/sys v0.0.0-20201112073958-5cba982894dd/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
 golang.org/x/sys v0.0.0-20201119102817-f84b799fce68/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
+golang.org/x/sys v0.0.0-20201201145000-ef89a241ccb3/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
 golang.org/x/sys v0.0.0-20201214210602-f9fddec55a1e/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
+golang.org/x/sys v0.0.0-20210104204734-6f8348627aad/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
 golang.org/x/sys v0.0.0-20210119212857-b64e53b001e4/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
 golang.org/x/sys v0.0.0-20210124154548-22da62e12c0c/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
+golang.org/x/sys v0.0.0-20210220050731-9a76102bfb43/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
 golang.org/x/sys v0.0.0-20210225134936-a50acf3fe073/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
+golang.org/x/sys v0.0.0-20210305230114-8fe3ee5dd75b/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
+golang.org/x/sys v0.0.0-20210315160823-c6e025ad8005/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
 golang.org/x/sys v0.0.0-20210320140829-1e4c9ba3b0c4/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
 golang.org/x/sys v0.0.0-20210324051608-47abb6519492/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
 golang.org/x/sys v0.0.0-20210330210617-4fbd30eecc44/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
+golang.org/x/sys v0.0.0-20210403161142-5e06dd20ab57/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
 golang.org/x/sys v0.0.0-20210423082822-04245dca01da/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
 golang.org/x/sys v0.0.0-20210510120138-977fb7262007/go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=
 golang.org/x/sys v0.0.0-20210615035016-665e8c7367d1 h1:SrN+KX8Art/Sf4HNj6Zcz06G7VEz+7w9tdXTPOZ7+l4=
@@ -1416,15 +1497,30 @@ golang.org/x/tools v0.0.0-20200204074204-1cc6d1ef6c74/go.mod h1:TB2adYChydJhpapK
 golang.org/x/tools v0.0.0-20200207183749-b753a1ba74fa/go.mod h1:TB2adYChydJhpapKDTa4BR/hXlZSLoq2Wpct/0txZ28=
 golang.org/x/tools v0.0.0-20200212150539-ea181f53ac56/go.mod h1:TB2adYChydJhpapKDTa4BR/hXlZSLoq2Wpct/0txZ28=
 golang.org/x/tools v0.0.0-20200224181240-023911ca70b2/go.mod h1:TB2adYChydJhpapKDTa4BR/hXlZSLoq2Wpct/0txZ28=
+golang.org/x/tools v0.0.0-20200227222343-706bc42d1f0d/go.mod h1:TB2adYChydJhpapKDTa4BR/hXlZSLoq2Wpct/0txZ28=
 golang.org/x/tools v0.0.0-20200304193943-95d2e580d8eb/go.mod h1:o4KQGtdN14AW+yjsvvwRTJJuXz8XRtIHtEnmAXLyFUw=
-golang.org/x/tools v0.0.0-20200317043434-63da46f3035e/go.mod h1:Sl4aGygMT6LrqrWclx+PTx3U+LnKx/seiNR+3G19Ar8=
+golang.org/x/tools v0.0.0-20200312045724-11d5b4c81c7d/go.mod h1:o4KQGtdN14AW+yjsvvwRTJJuXz8XRtIHtEnmAXLyFUw=
+golang.org/x/tools v0.0.0-20200331025713-a30bf2db82d4/go.mod h1:Sl4aGygMT6LrqrWclx+PTx3U+LnKx/seiNR+3G19Ar8=
+golang.org/x/tools v0.0.0-20200501065659-ab2804fb9c9d/go.mod h1:EkVYQZoAsY45+roYkvgYkIh4xh/qjgUK9TdY2XT94GE=
 golang.org/x/tools v0.0.0-20200505023115-26f46d2f7ef8/go.mod h1:EkVYQZoAsY45+roYkvgYkIh4xh/qjgUK9TdY2XT94GE=
+golang.org/x/tools v0.0.0-20200512131952-2bc93b1c0c88/go.mod h1:EkVYQZoAsY45+roYkvgYkIh4xh/qjgUK9TdY2XT94GE=
+golang.org/x/tools v0.0.0-20200515010526-7d3b6ebf133d/go.mod h1:EkVYQZoAsY45+roYkvgYkIh4xh/qjgUK9TdY2XT94GE=
 golang.org/x/tools v0.0.0-20200616133436-c1934b75d054/go.mod h1:EkVYQZoAsY45+roYkvgYkIh4xh/qjgUK9TdY2XT94GE=
 golang.org/x/tools v0.0.0-20200616195046-dc31b401abb5/go.mod h1:EkVYQZoAsY45+roYkvgYkIh4xh/qjgUK9TdY2XT94GE=
+golang.org/x/tools v0.0.0-20200618134242-20370b0cb4b2/go.mod h1:EkVYQZoAsY45+roYkvgYkIh4xh/qjgUK9TdY2XT94GE=
 golang.org/x/tools v0.0.0-20200619180055-7c47624df98f/go.mod h1:EkVYQZoAsY45+roYkvgYkIh4xh/qjgUK9TdY2XT94GE=
 golang.org/x/tools v0.0.0-20200717024301-6ddee64345a6/go.mod h1:njjCfa9FT2d7l9Bc6FUM5FLjQPp3cFF28FI3qnDFljA=
+golang.org/x/tools v0.0.0-20200729194436-6467de6f59a7/go.mod h1:njjCfa9FT2d7l9Bc6FUM5FLjQPp3cFF28FI3qnDFljA=
+golang.org/x/tools v0.0.0-20200804011535-6c149bb5ef0d/go.mod h1:njjCfa9FT2d7l9Bc6FUM5FLjQPp3cFF28FI3qnDFljA=
+golang.org/x/tools v0.0.0-20200825202427-b303f430e36d/go.mod h1:njjCfa9FT2d7l9Bc6FUM5FLjQPp3cFF28FI3qnDFljA=
+golang.org/x/tools v0.0.0-20200904185747-39188db58858/go.mod h1:Cj7w3i3Rnn0Xh82ur9kSqwfTHTeVxaDqrfMjpcNT6bE=
+golang.org/x/tools v0.0.0-20201110124207-079ba7bd75cd/go.mod h1:emZCQorbCU4vsT4fOWvOPXz4eW1wZW4PmDk9uLelYpA=
+golang.org/x/tools v0.0.0-20201201161351-ac6f37ff4c2a/go.mod h1:emZCQorbCU4vsT4fOWvOPXz4eW1wZW4PmDk9uLelYpA=
+golang.org/x/tools v0.0.0-20201208233053-a543418bbed2/go.mod h1:emZCQorbCU4vsT4fOWvOPXz4eW1wZW4PmDk9uLelYpA=
+golang.org/x/tools v0.0.0-20210105154028-b0ab187a4818/go.mod h1:emZCQorbCU4vsT4fOWvOPXz4eW1wZW4PmDk9uLelYpA=
 golang.org/x/tools v0.0.0-20210106214847-113979e3529a/go.mod h1:emZCQorbCU4vsT4fOWvOPXz4eW1wZW4PmDk9uLelYpA=
 golang.org/x/tools v0.1.0/go.mod h1:xkSsbof2nBLbhDlRMhhhyNLN/zl3eTqcnHD5viDpcZ0=
+golang.org/x/tools v0.1.2/go.mod h1:o0xws9oXOQQZyjljx8fwUC0k7L1pTE6eaCbjGeHmOkk=
 golang.org/x/tools v0.1.5 h1:ouewzE6p+/VEB31YYnTbEJdi8pFqKp4P4n85vwo3DHA=
 golang.org/x/tools v0.1.5/go.mod h1:o0xws9oXOQQZyjljx8fwUC0k7L1pTE6eaCbjGeHmOkk=
 golang.org/x/xerrors v0.0.0-20190717185122-a985d3407aa7/go.mod h1:I/5z698sn9Ka8TeJc9MKroUUfqBBauWjQqLJ2OPfmY0=
@@ -1444,8 +1540,20 @@ google.golang.org/api v0.15.0/go.mod h1:iLdEw5Ide6rF15KTC1Kkl0iskquN2gFfn9o9XIsb
 google.golang.org/api v0.15.1/go.mod h1:iLdEw5Ide6rF15KTC1Kkl0iskquN2gFfn9o9XIsbkAI=
 google.golang.org/api v0.17.0/go.mod h1:BwFmGc8tA3vsd7r/7kR8DY7iEEGSU04BFxCo5jP/sfE=
 google.golang.org/api v0.18.0/go.mod h1:BwFmGc8tA3vsd7r/7kR8DY7iEEGSU04BFxCo5jP/sfE=
-google.golang.org/api v0.20.0 h1:jz2KixHX7EcCPiQrySzPdnYT7DbINAypCqKZ1Z7GM40=
+google.golang.org/api v0.19.0/go.mod h1:BwFmGc8tA3vsd7r/7kR8DY7iEEGSU04BFxCo5jP/sfE=
 google.golang.org/api v0.20.0/go.mod h1:BwFmGc8tA3vsd7r/7kR8DY7iEEGSU04BFxCo5jP/sfE=
+google.golang.org/api v0.22.0/go.mod h1:BwFmGc8tA3vsd7r/7kR8DY7iEEGSU04BFxCo5jP/sfE=
+google.golang.org/api v0.24.0/go.mod h1:lIXQywCXRcnZPGlsd8NbLnOjtAoL6em04bJ9+z0MncE=
+google.golang.org/api v0.28.0/go.mod h1:lIXQywCXRcnZPGlsd8NbLnOjtAoL6em04bJ9+z0MncE=
+google.golang.org/api v0.29.0/go.mod h1:Lcubydp8VUV7KeIHD9z2Bys/sm/vGKnG1UHuDBSrHWM=
+google.golang.org/api v0.30.0/go.mod h1:QGmEvQ87FHZNiUVJkT14jQNYJ4ZJjdRF23ZXz5138Fc=
+google.golang.org/api v0.35.0/go.mod h1:/XrVsuzM0rZmrsbjJutiuftIzeuTQcEeaYcSk/mQ1dg=
+google.golang.org/api v0.36.0/go.mod h1:+z5ficQTmoYpPn8LCUNVpK5I7hwkpjbcgqA7I34qYtE=
+google.golang.org/api v0.40.0/go.mod h1:fYKFpnQN0DsDSKRVRcQSDQNtqWPfM9i+zNPxepjRCQ8=
+google.golang.org/api v0.41.0/go.mod h1:RkxM5lITDfTzmyKFPt+wGrCJbVfniCr2ool8kTBzRTU=
+google.golang.org/api v0.43.0/go.mod h1:nQsDGjRXMo4lvh5hP0TKqF244gqhGcr/YSIykhUk/94=
+google.golang.org/api v0.44.0 h1:URs6qR1lAxDsqWITsQXI4ZkGiYJ5dHtRNiCpfs2OeKA=
+google.golang.org/api v0.44.0/go.mod h1:EBOGZqzyhtvMDoxwS97ctnh0zUmYY6CxqXsc1AvkYD8=
 google.golang.org/appengine v1.1.0/go.mod h1:EbEs0AVv82hx2wNQdGPgUI5lhzA/G0D9YwlJXL52JkM=
 google.golang.org/appengine v1.2.0/go.mod h1:xpcJRLb0r/rnEns0DIKYYv+WjYCduHsrkT7/EB5XEv4=
 google.golang.org/appengine v1.3.0/go.mod h1:xpcJRLb0r/rnEns0DIKYYv+WjYCduHsrkT7/EB5XEv4=
@@ -1453,8 +1561,9 @@ google.golang.org/appengine v1.4.0/go.mod h1:xpcJRLb0r/rnEns0DIKYYv+WjYCduHsrkT7
 google.golang.org/appengine v1.5.0/go.mod h1:xpcJRLb0r/rnEns0DIKYYv+WjYCduHsrkT7/EB5XEv4=
 google.golang.org/appengine v1.6.1/go.mod h1:i06prIuMbXzDqacNJfV5OdTW448YApPu5ww/cMBSeb0=
 google.golang.org/appengine v1.6.5/go.mod h1:8WjMMxjGQR8xUklV/ARdw2HLXBOI7O7uCIDZVag1xfc=
-google.golang.org/appengine v1.6.6 h1:lMO5rYAqUxkmaj76jAkRUvt5JZgFymx/+Q5Mzfivuhc=
 google.golang.org/appengine v1.6.6/go.mod h1:8WjMMxjGQR8xUklV/ARdw2HLXBOI7O7uCIDZVag1xfc=
+google.golang.org/appengine v1.6.7 h1:FZR1q0exgwxzPzp/aF+VccGrSfxfPpkBqjIIEq3ru6c=
+google.golang.org/appengine v1.6.7/go.mod h1:8WjMMxjGQR8xUklV/ARdw2HLXBOI7O7uCIDZVag1xfc=
 google.golang.org/genproto v0.0.0-20180817151627-c66870c02cf8/go.mod h1:JiN7NxoALGmiZfu7CAH4rXhgtRTLTxftemlI0sWmxmc=
 google.golang.org/genproto v0.0.0-20190307195333-5fe7a883aa19/go.mod h1:VzzqZJRnGkLBvHegQrXjBqPurQTc5/KpmUdxsrq26oE=
 google.golang.org/genproto v0.0.0-20190418145605-e7d98fc518a7/go.mod h1:VzzqZJRnGkLBvHegQrXjBqPurQTc5/KpmUdxsrq26oE=
@@ -1473,12 +1582,32 @@ google.golang.org/genproto v0.0.0-20200122232147-0452cf42e150/go.mod h1:n3cpQtvx
 google.golang.org/genproto v0.0.0-20200204135345-fa8e72b47b90/go.mod h1:GmwEX6Z4W5gMy59cAlVYjN9JhxgbQH6Gn+gFDQe2lzA=
 google.golang.org/genproto v0.0.0-20200212174721-66ed5ce911ce/go.mod h1:55QSHmfGQM9UVYDPBsyGGes0y52j32PQ3BqQfXhyH3c=
 google.golang.org/genproto v0.0.0-20200224152610-e50cd9704f63/go.mod h1:55QSHmfGQM9UVYDPBsyGGes0y52j32PQ3BqQfXhyH3c=
+google.golang.org/genproto v0.0.0-20200228133532-8c2c7df3a383/go.mod h1:55QSHmfGQM9UVYDPBsyGGes0y52j32PQ3BqQfXhyH3c=
 google.golang.org/genproto v0.0.0-20200305110556-506484158171/go.mod h1:55QSHmfGQM9UVYDPBsyGGes0y52j32PQ3BqQfXhyH3c=
-google.golang.org/genproto v0.0.0-20200317114155-1f3552e48f24/go.mod h1:55QSHmfGQM9UVYDPBsyGGes0y52j32PQ3BqQfXhyH3c=
+google.golang.org/genproto v0.0.0-20200312145019-da6875a35672/go.mod h1:55QSHmfGQM9UVYDPBsyGGes0y52j32PQ3BqQfXhyH3c=
+google.golang.org/genproto v0.0.0-20200331122359-1ee6d9798940/go.mod h1:55QSHmfGQM9UVYDPBsyGGes0y52j32PQ3BqQfXhyH3c=
+google.golang.org/genproto v0.0.0-20200430143042-b979b6f78d84/go.mod h1:55QSHmfGQM9UVYDPBsyGGes0y52j32PQ3BqQfXhyH3c=
+google.golang.org/genproto v0.0.0-20200511104702-f5ebc3bea380/go.mod h1:55QSHmfGQM9UVYDPBsyGGes0y52j32PQ3BqQfXhyH3c=
 google.golang.org/genproto v0.0.0-20200513103714-09dca8ec2884/go.mod h1:55QSHmfGQM9UVYDPBsyGGes0y52j32PQ3BqQfXhyH3c=
+google.golang.org/genproto v0.0.0-20200515170657-fc4c6c6a6587/go.mod h1:YsZOwe1myG/8QRHRsmBRE1LrgQY60beZKjly0O1fX9U=
 google.golang.org/genproto v0.0.0-20200526211855-cb27e3aa2013/go.mod h1:NbSheEEYHJ7i3ixzK3sjbqSGDJWnxyFXZblF3eUsNvo=
-google.golang.org/genproto v0.0.0-20200806141610-86f49bd18e98 h1:LCO0fg4kb6WwkXQXRQQgUYsFeFb5taTX5WAx5O/Vt28=
+google.golang.org/genproto v0.0.0-20200618031413-b414f8b61790/go.mod h1:jDfRM7FcilCzHH/e9qn6dsT145K34l5v+OpcnNgKAAA=
+google.golang.org/genproto v0.0.0-20200729003335-053ba62fc06f/go.mod h1:FWY/as6DDZQgahTzZj3fqbO1CbirC29ZNUFHwi0/+no=
+google.golang.org/genproto v0.0.0-20200804131852-c06518451d9c/go.mod h1:FWY/as6DDZQgahTzZj3fqbO1CbirC29ZNUFHwi0/+no=
 google.golang.org/genproto v0.0.0-20200806141610-86f49bd18e98/go.mod h1:FWY/as6DDZQgahTzZj3fqbO1CbirC29ZNUFHwi0/+no=
+google.golang.org/genproto v0.0.0-20200825200019-8632dd797987/go.mod h1:FWY/as6DDZQgahTzZj3fqbO1CbirC29ZNUFHwi0/+no=
+google.golang.org/genproto v0.0.0-20200904004341-0bd0a958aa1d/go.mod h1:FWY/as6DDZQgahTzZj3fqbO1CbirC29ZNUFHwi0/+no=
+google.golang.org/genproto v0.0.0-20201109203340-2640f1f9cdfb/go.mod h1:FWY/as6DDZQgahTzZj3fqbO1CbirC29ZNUFHwi0/+no=
+google.golang.org/genproto v0.0.0-20201201144952-b05cb90ed32e/go.mod h1:FWY/as6DDZQgahTzZj3fqbO1CbirC29ZNUFHwi0/+no=
+google.golang.org/genproto v0.0.0-20201210142538-e3217bee35cc/go.mod h1:FWY/as6DDZQgahTzZj3fqbO1CbirC29ZNUFHwi0/+no=
+google.golang.org/genproto v0.0.0-20201214200347-8c77b98c765d/go.mod h1:FWY/as6DDZQgahTzZj3fqbO1CbirC29ZNUFHwi0/+no=
+google.golang.org/genproto v0.0.0-20210222152913-aa3ee6e6a81c/go.mod h1:FWY/as6DDZQgahTzZj3fqbO1CbirC29ZNUFHwi0/+no=
+google.golang.org/genproto v0.0.0-20210303154014-9728d6b83eeb/go.mod h1:FWY/as6DDZQgahTzZj3fqbO1CbirC29ZNUFHwi0/+no=
+google.golang.org/genproto v0.0.0-20210310155132-4ce2db91004e/go.mod h1:FWY/as6DDZQgahTzZj3fqbO1CbirC29ZNUFHwi0/+no=
+google.golang.org/genproto v0.0.0-20210319143718-93e7006c17a6/go.mod h1:FWY/as6DDZQgahTzZj3fqbO1CbirC29ZNUFHwi0/+no=
+google.golang.org/genproto v0.0.0-20210402141018-6c239bbf2bb1/go.mod h1:9lPAdzaEmUacj36I+k7YKbEc5CXzPIeORRgDAUOu28A=
+google.golang.org/genproto v0.0.0-20210602131652-f16073e35f0c h1:wtujag7C+4D6KMoulW9YauvK2lgdvCMS260jsqqBXr0=
+google.golang.org/genproto v0.0.0-20210602131652-f16073e35f0c/go.mod h1:UODoCrxHCcBojKKwX1terBiRUaqAsFqJiF615XL43r0=
 google.golang.org/grpc v1.17.0/go.mod h1:6QZJwpn2B+Zp71q/5VxRsJ6NXXVCE5NRUHRo+f3cWCs=
 google.golang.org/grpc v1.19.0/go.mod h1:mqu4LbDTu4XGKhr4mRzUsmM4RtVoemTSY81AxZiDr8c=
 google.golang.org/grpc v1.20.0/go.mod h1:chYK+tFQF0nDUGJgXMSgLCQk3phJEuONr2DCgLDdAQM=
@@ -1494,9 +1623,17 @@ google.golang.org/grpc v1.27.0/go.mod h1:qbnxyOmOxrQa7FizSgH+ReBfzJrCY1pSN7KXBS8
 google.golang.org/grpc v1.27.1/go.mod h1:qbnxyOmOxrQa7FizSgH+ReBfzJrCY1pSN7KXBS8abTk=
 google.golang.org/grpc v1.28.0/go.mod h1:rpkK4SK4GF4Ach/+MFLZUBavHOvF2JJB5uozKKal+60=
 google.golang.org/grpc v1.29.1/go.mod h1:itym6AZVZYACWQqET3MqgPpjcuV5QH3BxFS3IjizoKk=
+google.golang.org/grpc v1.30.0/go.mod h1:N36X2cJ7JwdamYAgDz+s+rVMFjt3numwzf/HckM8pak=
 google.golang.org/grpc v1.31.0/go.mod h1:N36X2cJ7JwdamYAgDz+s+rVMFjt3numwzf/HckM8pak=
-google.golang.org/grpc v1.33.1 h1:DGeFlSan2f+WEtCERJ4J9GJWk15TxUi8QGagfI87Xyc=
+google.golang.org/grpc v1.31.1/go.mod h1:N36X2cJ7JwdamYAgDz+s+rVMFjt3numwzf/HckM8pak=
 google.golang.org/grpc v1.33.1/go.mod h1:fr5YgcSWrqhRRxogOsw7RzIpsmvOZ6IcH4kBYTpR3n0=
+google.golang.org/grpc v1.33.2/go.mod h1:JMHMWHQWaTccqQQlmk3MJZS+GWXOdAesneDmEnv2fbc=
+google.golang.org/grpc v1.34.0/go.mod h1:WotjhfgOW/POjDeRt8vscBtXq+2VjORFy659qA51WJ8=
+google.golang.org/grpc v1.35.0/go.mod h1:qjiiYl8FncCW8feJPdyg3v6XW24KsRHe+dy9BAGRRjU=
+google.golang.org/grpc v1.36.0/go.mod h1:qjiiYl8FncCW8feJPdyg3v6XW24KsRHe+dy9BAGRRjU=
+google.golang.org/grpc v1.36.1/go.mod h1:qjiiYl8FncCW8feJPdyg3v6XW24KsRHe+dy9BAGRRjU=
+google.golang.org/grpc v1.38.0 h1:/9BgsAsa5nWe26HqOlvlgJnqBuktYOLCgjCPqsa56W0=
+google.golang.org/grpc v1.38.0/go.mod h1:NREThFqKR1f3iQ6oBuvc5LadQuXVGo9rkm5ZGrQdJfM=
 google.golang.org/grpc/examples v0.0.0-20201226181154-53788aa5dcb4 h1:tfxAh8kBsG9GdCdaDiSCA1qqpd8lMOqgEebUyqTtnH8=
 google.golang.org/grpc/examples v0.0.0-20201226181154-53788aa5dcb4/go.mod h1:Ly7ZA/ARzg8fnPU9TyZIxoz33sEUuWX7txiqs8lPTgE=
 google.golang.org/protobuf v0.0.0-20200109180630-ec00e32a8dfd/go.mod h1:DFci5gLYBciE7Vtevhsrf46CRTquxDuWsQurQQe4oz8=
@@ -1508,8 +1645,10 @@ google.golang.org/protobuf v1.22.0/go.mod h1:EGpADcykh3NcUnDUJcl1+ZksZNG86OlYog2
 google.golang.org/protobuf v1.23.0/go.mod h1:EGpADcykh3NcUnDUJcl1+ZksZNG86OlYog2l/sGQquU=
 google.golang.org/protobuf v1.23.1-0.20200526195155-81db48ad09cc/go.mod h1:EGpADcykh3NcUnDUJcl1+ZksZNG86OlYog2l/sGQquU=
 google.golang.org/protobuf v1.24.0/go.mod h1:r/3tXBNzIEhYS9I1OUVjXDlt8tc493IdKGjtUeSXeh4=
-google.golang.org/protobuf v1.25.0 h1:Ejskq+SyPohKW+1uil0JJMtmHCgJPJ/qWTxr8qp+R4c=
 google.golang.org/protobuf v1.25.0/go.mod h1:9JNX74DMeImyA3h4bdi1ymwjUzf21/xIlbajtzgsN7c=
+google.golang.org/protobuf v1.26.0-rc.1/go.mod h1:jlhhOSvTdKEhbULTjvd4ARK9grFBp09yW+WbY/TyQbw=
+google.golang.org/protobuf v1.26.0 h1:bxAC2xTBsZGibn2RTntX0oH50xLsqy1OxA9tTL3p/lk=
+google.golang.org/protobuf v1.26.0/go.mod h1:9q0QmTI4eRPtz6boOQmLYwt+qCgq0jsYwAQnmE0givc=
 gopkg.in/alecthomas/kingpin.v2 v2.2.6/go.mod h1:FMv+mEhP44yOT+4EoQTLFTRgOQ1FBLkstjWtayDeSgw=
 gopkg.in/check.v1 v0.0.0-20161208181325-20d25e280405/go.mod h1:Co6ibVJAznAaIkqp8huTwlJQCZ016jof/cbN4VW5Yz0=
 gopkg.in/check.v1 v1.0.0-20161208181325-20d25e280405/go.mod h1:Co6ibVJAznAaIkqp8huTwlJQCZ016jof/cbN4VW5Yz0=
@@ -1528,8 +1667,9 @@ gopkg.in/inf.v0 v0.9.1 h1:73M5CoZyi3ZLMOyDlQh031Cx6N9NDJ2Vvfl76EDAgDc=
 gopkg.in/inf.v0 v0.9.1/go.mod h1:cWUDdTG/fYaXco+Dcufb5Vnc6Gp2YChqWtbxRZE0mXw=
 gopkg.in/ini.v1 v1.41.0/go.mod h1:pNLf8WUiyNEtQjuu5G5vTm06TEv9tsIgeAvK8hOrP4k=
 gopkg.in/ini.v1 v1.51.0/go.mod h1:pNLf8WUiyNEtQjuu5G5vTm06TEv9tsIgeAvK8hOrP4k=
-gopkg.in/ini.v1 v1.57.0 h1:9unxIsFcTt4I55uWluz+UmL95q4kdJ0buvQ1ZIqVQww=
 gopkg.in/ini.v1 v1.57.0/go.mod h1:pNLf8WUiyNEtQjuu5G5vTm06TEv9tsIgeAvK8hOrP4k=
+gopkg.in/ini.v1 v1.62.0 h1:duBzk771uxoUuOlyRLkHsygud9+5lrlGjdFBb4mSKDU=
+gopkg.in/ini.v1 v1.62.0/go.mod h1:pNLf8WUiyNEtQjuu5G5vTm06TEv9tsIgeAvK8hOrP4k=
 gopkg.in/jcmturner/aescts.v1 v1.0.1 h1:cVVZBK2b1zY26haWB4vbBiZrfFQnfbTVrE3xZq6hrEw=
 gopkg.in/jcmturner/aescts.v1 v1.0.1/go.mod h1:nsR8qBOg+OucoIW+WMhB3GspUQXq9XorLnQb9XtvcOo=
 gopkg.in/jcmturner/dnsutils.v1 v1.0.1 h1:cIuC1OLRGZrld+16ZJvvZxVJeKPsvd5eUIvxfoN5hSM=
@@ -1587,8 +1727,7 @@ honnef.co/go/tools v0.0.0-20190418001031-e561f6794a2a/go.mod h1:rf3lG4BRIbNafJWh
 honnef.co/go/tools v0.0.0-20190523083050-ea95bdfd59fc/go.mod h1:rf3lG4BRIbNafJWhAfAdb/ePZxsR/4RtNHQocxwk9r4=
 honnef.co/go/tools v0.0.1-2019.2.3/go.mod h1:a3bituU0lyd329TUQxRnasdCoJDkEUEAqEt0JzvZhAg=
 honnef.co/go/tools v0.0.1-2020.1.3/go.mod h1:X/FiERA/W4tHapMX5mGpAtMSVEeEUOyHaw9vFzvIQ3k=
-honnef.co/go/tools v0.2.0 h1:ws8AfbgTX3oIczLPNPCu5166oBg9ST2vNs0rcht+mDE=
-honnef.co/go/tools v0.2.0/go.mod h1:lPVVZ2BS5TfnjLyizF7o7hv7j9/L+8cZY2hLyjP9cGY=
+honnef.co/go/tools v0.0.1-2020.1.4/go.mod h1:X/FiERA/W4tHapMX5mGpAtMSVEeEUOyHaw9vFzvIQ3k=
 k8s.io/api v0.17.8/go.mod h1:N++Llhs8kCixMUoCaXXAyMMPbo8dDVnh+IQ36xZV2/0=
 k8s.io/api v0.18.2/go.mod h1:SJCWI7OLzhZSvbY7U8zwNl9UA4o1fizoug34OV/2r78=
 k8s.io/api v0.19.2/go.mod h1:IQpK0zFQ1xc5iNIQPqzgoOwuFugaYHK4iCknlAQP9nI=

From 77f477d1f88993ec01e620de801497413c787791 Mon Sep 17 00:00:00 2001
From: Alex Collins <alexec@users.noreply.github.com>
Date: Wed, 25 Aug 2021 11:46:08 -0700
Subject: [PATCH 065/137] docs: Document auth rate limiting. Fixes #5217

---
 docs/argo-server.md | 9 +++++++++
 1 file changed, 9 insertions(+)

diff --git a/docs/argo-server.md b/docs/argo-server.md
index e3e8365799c1..5d810a75632b 100644
--- a/docs/argo-server.md
+++ b/docs/argo-server.md
@@ -156,3 +156,12 @@ spec:
 ```
 
 [Learn more](https://github.com/argoproj/argo-workflows/issues/3080)
+
+
+## Security
+
+Users should consider the following in their set-up of the Argo Server:
+
+## API Authentication Rate Limiting
+
+Argo Server does not perform authenticatinon directly. It delegates this to either the Kubernetes API Server (when `--auth-mode=client`) and the OAuth provider (when `--auth-mode=sso`). In each case, it is recommended that the the delegate implements any authentication rate limiting you need. 

From 3411407f1d39af720b1189261d1b233079940b0d Mon Sep 17 00:00:00 2001
From: Alex Collins <alexec@users.noreply.github.com>
Date: Wed, 25 Aug 2021 11:50:45 -0700
Subject: [PATCH 066/137] docs: Document IP address logging. Fixes #5216

---
 docs/argo-server.md | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/docs/argo-server.md b/docs/argo-server.md
index 5d810a75632b..cab49c68d1ee 100644
--- a/docs/argo-server.md
+++ b/docs/argo-server.md
@@ -165,3 +165,7 @@ Users should consider the following in their set-up of the Argo Server:
 ## API Authentication Rate Limiting
 
 Argo Server does not perform authenticatinon directly. It delegates this to either the Kubernetes API Server (when `--auth-mode=client`) and the OAuth provider (when `--auth-mode=sso`). In each case, it is recommended that the the delegate implements any authentication rate limiting you need. 
+
+## IP Address Logging
+
+Argo Server does not log the IP addresses of API requests. We recommend you put the Argo Server behind a load balancer, and that load balancer is configured to log the IP addresses of requests that return authentication or authorization errors.

From 8678f007e86ffa615e6ca90c52c7ca4d1e458b08 Mon Sep 17 00:00:00 2001
From: Alex Collins <alexec@users.noreply.github.com>
Date: Wed, 25 Aug 2021 14:15:27 -0700
Subject: [PATCH 067/137] fix: Fix `gosec` warnings, disable pprof by default.
 Fixes #6594 (#6596)

Signed-off-by: Alex Collins <alex_collins@intuit.com>
---
 .gitignore                                |  1 -
 .golangci.yml                             |  7 +++++++
 Makefile                                  |  2 +-
 cmd/argo/commands/server.go               |  3 ++-
 cmd/argo/lint/lint_test.go                |  8 ++++----
 cmd/workflow-controller/main.go           |  3 ++-
 docs/environment-variables.md             |  1 +
 hack/crds.go                              |  4 ++--
 hack/docgen.go                            |  2 +-
 hack/parse_examples.go                    |  2 +-
 hack/swagger/secondaryswaggergen.go       |  2 +-
 pkg/apis/workflow/v1alpha1/item.go        |  2 +-
 server/artifacts/artifact_server_test.go  |  2 +-
 server/auth/serviceaccount/claims_test.go |  4 ++--
 test/e2e/cli_test.go                      |  2 +-
 util/pprof/pprof.go                       | 24 +++++++++++++++++++++++
 util/util.go                              |  2 +-
 workflow/artifacts/git/git.go             |  1 +
 workflow/artifacts/s3/s3_test.go          |  2 +-
 workflow/common/common.go                 |  4 ++--
 workflow/executor/common/common.go        |  2 +-
 workflow/executor/emissary/emissary.go    |  4 ++--
 workflow/executor/executor.go             |  6 +++---
 workflow/executor/kubelet/client.go       |  3 ++-
 workflow/util/util.go                     |  5 +++--
 workflow/util/util_test.go                |  6 +++---
 workflow/validate/validate_test.go        |  4 ++++
 27 files changed, 74 insertions(+), 34 deletions(-)
 create mode 100644 util/pprof/pprof.go

diff --git a/.gitignore b/.gitignore
index fe396556a4af..e93a509b5056 100644
--- a/.gitignore
+++ b/.gitignore
@@ -36,4 +36,3 @@ git-ask-pass.sh
 /.brew_home
 /go-diagrams/
 /.run/
-pprof
diff --git a/.golangci.yml b/.golangci.yml
index 0d002e519b1e..3d57721f5b6b 100644
--- a/.golangci.yml
+++ b/.golangci.yml
@@ -37,3 +37,10 @@ linters-settings:
     includes:
       - G304
       - G307
+    excludes:
+      # G106: Use of ssh InsecureIgnoreHostKey should be audited
+      - G106
+      # G402: TLS InsecureSkipVerify set true
+      - G402
+      # G601: Implicit memory aliasing in for loop.
+      - G601
diff --git a/Makefile b/Makefile
index 0f3480fda9ee..425a59fd89be 100644
--- a/Makefile
+++ b/Makefile
@@ -377,7 +377,7 @@ dist/manifests/%: manifests/%
 # lint/test/etc
 
 $(GOPATH)/bin/golangci-lint:
-	curl -sSfL https://raw.githubusercontent.com/golangci/golangci-lint/master/install.sh | sh -s -- -b `go env GOPATH`/bin v1.37.0
+	curl -sSfL https://raw.githubusercontent.com/golangci/golangci-lint/master/install.sh | sh -s -- -b `go env GOPATH`/bin v1.42.0
 
 .PHONY: lint
 lint: server/static/files.go $(GOPATH)/bin/golangci-lint
diff --git a/cmd/argo/commands/server.go b/cmd/argo/commands/server.go
index 5440a0ed6df9..f26f6f6b6dab 100644
--- a/cmd/argo/commands/server.go
+++ b/cmd/argo/commands/server.go
@@ -4,7 +4,6 @@ import (
 	"crypto/tls"
 	"fmt"
 	"net/http"
-	_ "net/http/pprof"
 	"os"
 	"reflect"
 	"strconv"
@@ -31,6 +30,7 @@ import (
 	"github.com/argoproj/argo-workflows/v3/server/types"
 	"github.com/argoproj/argo-workflows/v3/util/cmd"
 	"github.com/argoproj/argo-workflows/v3/util/help"
+	pprofutil "github.com/argoproj/argo-workflows/v3/util/pprof"
 	tlsutils "github.com/argoproj/argo-workflows/v3/util/tls"
 )
 
@@ -61,6 +61,7 @@ See %s`, help.ArgoServer),
 			cmd.SetLogFormatter(logFormat)
 			stats.RegisterStackDumper()
 			stats.StartStatsTicker(5 * time.Minute)
+			pprofutil.Init()
 
 			config, err := client.GetConfig().ClientConfig()
 			if err != nil {
diff --git a/cmd/argo/lint/lint_test.go b/cmd/argo/lint/lint_test.go
index ac0f1f229663..565cdc249bac 100644
--- a/cmd/argo/lint/lint_test.go
+++ b/cmd/argo/lint/lint_test.go
@@ -68,7 +68,7 @@ spec:
 func TestLintFile(t *testing.T) {
 	file, err := ioutil.TempFile("", "*.yaml")
 	assert.NoError(t, err)
-	err = ioutil.WriteFile(file.Name(), lintFileData, 0o644)
+	err = ioutil.WriteFile(file.Name(), lintFileData, 0o600)
 	assert.NoError(t, err)
 	defer os.Remove(file.Name())
 
@@ -97,7 +97,7 @@ func TestLintFile(t *testing.T) {
 func TestLintMultipleKinds(t *testing.T) {
 	file, err := ioutil.TempFile("", "*.yaml")
 	assert.NoError(t, err)
-	err = ioutil.WriteFile(file.Name(), lintFileData, 0o644)
+	err = ioutil.WriteFile(file.Name(), lintFileData, 0o600)
 	assert.NoError(t, err)
 	defer os.Remove(file.Name())
 
@@ -129,7 +129,7 @@ func TestLintMultipleKinds(t *testing.T) {
 func TestLintWithOutput(t *testing.T) {
 	file, err := ioutil.TempFile("", "*.yaml")
 	assert.NoError(t, err)
-	err = ioutil.WriteFile(file.Name(), lintFileData, 0o644)
+	err = ioutil.WriteFile(file.Name(), lintFileData, 0o600)
 	assert.NoError(t, err)
 	defer os.Remove(file.Name())
 
@@ -217,7 +217,7 @@ func TestLintDeviceFile(t *testing.T) {
 	file, err := ioutil.TempFile("", "*.yaml")
 	fd := file.Fd()
 	assert.NoError(t, err)
-	err = ioutil.WriteFile(file.Name(), lintFileData, 0o644)
+	err = ioutil.WriteFile(file.Name(), lintFileData, 0o600)
 	assert.NoError(t, err)
 	defer os.Remove(file.Name())
 
diff --git a/cmd/workflow-controller/main.go b/cmd/workflow-controller/main.go
index 125f0850c054..77f520a745f8 100644
--- a/cmd/workflow-controller/main.go
+++ b/cmd/workflow-controller/main.go
@@ -4,7 +4,6 @@ import (
 	"context"
 	"fmt"
 	"net/http"
-	_ "net/http/pprof"
 	"os"
 	"time"
 
@@ -26,6 +25,7 @@ import (
 	wfclientset "github.com/argoproj/argo-workflows/v3/pkg/client/clientset/versioned"
 	cmdutil "github.com/argoproj/argo-workflows/v3/util/cmd"
 	"github.com/argoproj/argo-workflows/v3/util/logs"
+	pprofutil "github.com/argoproj/argo-workflows/v3/util/pprof"
 	"github.com/argoproj/argo-workflows/v3/workflow/controller"
 	"github.com/argoproj/argo-workflows/v3/workflow/metrics"
 )
@@ -68,6 +68,7 @@ func NewRootCommand() *cobra.Command {
 			cmdutil.SetLogFormatter(logFormat)
 			stats.RegisterStackDumper()
 			stats.StartStatsTicker(5 * time.Minute)
+			pprofutil.Init()
 
 			config, err := clientConfig.ClientConfig()
 			if err != nil {
diff --git a/docs/environment-variables.md b/docs/environment-variables.md
index 3480b29a9247..4b3e2ed332cb 100644
--- a/docs/environment-variables.md
+++ b/docs/environment-variables.md
@@ -11,6 +11,7 @@ Note that these environment variables may be removed at any time.
 | `ALL_POD_CHANGES_SIGNIFICANT` | `bool` | `false` | Whether to consider all pod changes as significant during pod reconciliation. |
 | `ALWAYS_OFFLOAD_NODE_STATUS` | `bool` | `false` | Whether to always offload the node status. |
 | `ARCHIVED_WORKFLOW_GC_PERIOD` | `time.Duration` | `24h` | The periodicity for GC of archived workflows. |
+| `ARGO_PPROF` | `bool` | `false` | Enable pprof endpoints |
 | `ARGO_TRACE` | `string` | `"1"` | Whether to enable tracing statements in Argo components. |
 | `CRON_SYNC_PERIOD` | `time.Duration` | `10s` | How often to sync cron workflows. |
 | `DEFAULT_REQUEUE_TIME` | `time.Duration` | `10s` | The requeue time for the rate limiter of the workflow queue. |
diff --git a/hack/crds.go b/hack/crds.go
index d77f6d2e3cff..618866669862 100644
--- a/hack/crds.go
+++ b/hack/crds.go
@@ -46,7 +46,7 @@ func cleanCRD(filename string) {
 	if err != nil {
 		panic(err)
 	}
-	err = ioutil.WriteFile(filename, data, 0o666)
+	err = ioutil.WriteFile(filename, data, 0o600)
 	if err != nil {
 		panic(err)
 	}
@@ -75,7 +75,7 @@ func removeCRDValidation(filename string) {
 	if err != nil {
 		panic(err)
 	}
-	err = ioutil.WriteFile(filename, data, 0o666)
+	err = ioutil.WriteFile(filename, data, 0o600)
 	if err != nil {
 		panic(err)
 	}
diff --git a/hack/docgen.go b/hack/docgen.go
index d83f5a593058..6b7290cafd98 100644
--- a/hack/docgen.go
+++ b/hack/docgen.go
@@ -345,7 +345,7 @@ func (c *DocGeneratorContext) generate() string {
 func generateDocs() {
 	println("generating docs/fields.md")
 	c := NewDocGeneratorContext()
-	err := ioutil.WriteFile("docs/fields.md", []byte(c.generate()), 0o644)
+	err := ioutil.WriteFile("docs/fields.md", []byte(c.generate()), 0o600)
 	if err != nil {
 		panic(err)
 	}
diff --git a/hack/parse_examples.go b/hack/parse_examples.go
index af63a3572fc2..d13afeacf36b 100644
--- a/hack/parse_examples.go
+++ b/hack/parse_examples.go
@@ -35,7 +35,7 @@ func parseExamples() {
 	file = linkRegex.ReplaceAll(file, []byte(newLink))
 	file = detailsRegex.ReplaceAll(file, []byte(newDetails))
 
-	err = ioutil.WriteFile("site/fields/index.html", file, 0o644)
+	err = ioutil.WriteFile("site/fields/index.html", file, 0o600)
 	if err != nil {
 		panic(err)
 	}
diff --git a/hack/swagger/secondaryswaggergen.go b/hack/swagger/secondaryswaggergen.go
index 838f9beeb13e..f9d69c2f8732 100644
--- a/hack/swagger/secondaryswaggergen.go
+++ b/hack/swagger/secondaryswaggergen.go
@@ -51,7 +51,7 @@ func secondarySwaggerGen() {
 		panic(err)
 	}
 	newContents := strings.ReplaceAll(string(read), "argoproj.argo-workflows", "argoproj.argo_workflows")
-	err = ioutil.WriteFile("pkg/apiclient/_.secondary.swagger.json", []byte(newContents), 0o666)
+	err = ioutil.WriteFile("pkg/apiclient/_.secondary.swagger.json", []byte(newContents), 0o600)
 	if err != nil {
 		panic(err)
 	}
diff --git a/pkg/apis/workflow/v1alpha1/item.go b/pkg/apis/workflow/v1alpha1/item.go
index 2093db605542..a006682828ab 100644
--- a/pkg/apis/workflow/v1alpha1/item.go
+++ b/pkg/apis/workflow/v1alpha1/item.go
@@ -72,7 +72,7 @@ func (i *Item) String() string {
 }
 
 func (i Item) Format(s fmt.State, _ rune) {
-	_, _ = fmt.Fprintf(s, i.String()) // nolint
+	_, _ = fmt.Fprintf(s, i.String()) //nolint
 }
 
 func (i Item) MarshalJSON() ([]byte, error) {
diff --git a/server/artifacts/artifact_server_test.go b/server/artifacts/artifact_server_test.go
index b8831096d37e..9a5137f8375f 100644
--- a/server/artifacts/artifact_server_test.go
+++ b/server/artifacts/artifact_server_test.go
@@ -41,7 +41,7 @@ type fakeArtifactDriver struct {
 }
 
 func (a *fakeArtifactDriver) Load(_ *wfv1.Artifact, path string) error {
-	return ioutil.WriteFile(path, a.data, 0o666)
+	return ioutil.WriteFile(path, a.data, 0o600)
 }
 
 func (a *fakeArtifactDriver) Save(_ string, _ *wfv1.Artifact) error {
diff --git a/server/auth/serviceaccount/claims_test.go b/server/auth/serviceaccount/claims_test.go
index 9e1596b31a2e..fa0db761ffea 100644
--- a/server/auth/serviceaccount/claims_test.go
+++ b/server/auth/serviceaccount/claims_test.go
@@ -10,7 +10,7 @@ import (
 )
 
 // sub = 1234567890
-const token = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c"
+const token = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c" //nolint:gosec
 
 func TestClaimSetFor(t *testing.T) {
 	t.Run("Empty", func(t *testing.T) {
@@ -41,7 +41,7 @@ func TestClaimSetFor(t *testing.T) {
 	// set-up test
 	tmp, err := ioutil.TempFile("", "")
 	assert.NoError(t, err)
-	err = ioutil.WriteFile(tmp.Name(), []byte(token), 0o644)
+	err = ioutil.WriteFile(tmp.Name(), []byte(token), 0o600)
 	assert.NoError(t, err)
 	defer func() { _ = os.Remove(tmp.Name()) }()
 
diff --git a/test/e2e/cli_test.go b/test/e2e/cli_test.go
index e8310ae0996e..017c30003690 100644
--- a/test/e2e/cli_test.go
+++ b/test/e2e/cli_test.go
@@ -720,7 +720,7 @@ func (s *CLISuite) TestWorkflowLint() {
 		data, err := ioutil.ReadFile("smoke/basic.yaml")
 		s.CheckError(err)
 		// Write data to dst
-		err = ioutil.WriteFile(filepath.Join(tmp, "my-workflow.yaml"), data, 0o644)
+		err = ioutil.WriteFile(filepath.Join(tmp, "my-workflow.yaml"), data, 0o600)
 		s.CheckError(err)
 		s.Given().
 			RunCli([]string{"lint", tmp}, func(t *testing.T, output string, err error) {
diff --git a/util/pprof/pprof.go b/util/pprof/pprof.go
new file mode 100644
index 000000000000..7a7ec3f47c13
--- /dev/null
+++ b/util/pprof/pprof.go
@@ -0,0 +1,24 @@
+package pprof
+
+import (
+	"net/http"
+	"net/http/pprof"
+	"os"
+
+	log "github.com/sirupsen/logrus"
+)
+
+func Init() {
+	// https://mmcloughlin.com/posts/your-pprof-is-showing
+	http.DefaultServeMux = http.NewServeMux()
+	if os.Getenv("ARGO_PPROF") == "true" {
+		log.Info("enabling pprof debug endpoints - do not do this in production")
+		http.HandleFunc("/debug/pprof/", pprof.Index)
+		http.HandleFunc("/debug/pprof/cmdline", pprof.Cmdline)
+		http.HandleFunc("/debug/pprof/profile", pprof.Profile)
+		http.HandleFunc("/debug/pprof/symbol", pprof.Symbol)
+		http.HandleFunc("/debug/pprof/trace", pprof.Trace)
+	} else {
+		log.Info("not enabling pprof debug endpoints")
+	}
+}
diff --git a/util/util.go b/util/util.go
index 72fd94655abe..cf2b50bff798 100644
--- a/util/util.go
+++ b/util/util.go
@@ -51,7 +51,7 @@ func GetSecrets(ctx context.Context, clientSet kubernetes.Interface, namespace,
 
 // Write the Terminate message in pod spec
 func WriteTeriminateMessage(message string) {
-	err := ioutil.WriteFile("/dev/termination-log", []byte(message), 0o644)
+	err := ioutil.WriteFile("/dev/termination-log", []byte(message), 0o600)
 	if err != nil {
 		panic(err)
 	}
diff --git a/workflow/artifacts/git/git.go b/workflow/artifacts/git/git.go
index 10c1fa9f1ef9..6f9a55daf86c 100644
--- a/workflow/artifacts/git/git.go
+++ b/workflow/artifacts/git/git.go
@@ -82,6 +82,7 @@ func (g *ArtifactDriver) auth(sshUser string) (func(), transport.AuthMethod, []s
 		filename := filepath.Join(os.TempDir(), "git-ask-pass.sh")
 		_, err := os.Stat(filename)
 		if os.IsNotExist(err) {
+			//nolint:gosec
 			err := ioutil.WriteFile(filename, []byte(`#!/bin/sh
 case "$1" in
 Username*) echo "${GIT_USERNAME}" ;;
diff --git a/workflow/artifacts/s3/s3_test.go b/workflow/artifacts/s3/s3_test.go
index 879ad457ae58..9dc6e0ce530a 100644
--- a/workflow/artifacts/s3/s3_test.go
+++ b/workflow/artifacts/s3/s3_test.go
@@ -250,7 +250,7 @@ func TestSaveS3Artifact(t *testing.T) {
 	defer os.RemoveAll(tempDir) // clean up
 
 	tempFile := filepath.Join(tempDir, "tmpfile")
-	if err := ioutil.WriteFile(tempFile, []byte("temporary file's content"), 0666); err != nil {
+	if err := ioutil.WriteFile(tempFile, []byte("temporary file's content"), 0o600); err != nil {
 		panic(err)
 	}
 
diff --git a/workflow/common/common.go b/workflow/common/common.go
index 3e73f33a1538..4a2d832deb23 100644
--- a/workflow/common/common.go
+++ b/workflow/common/common.go
@@ -172,8 +172,8 @@ const (
 
 	KubeConfigDefaultMountPath    = "/kube/config"
 	KubeConfigDefaultVolumeName   = "kubeconfig"
-	ServiceAccountTokenMountPath  = "/var/run/secrets/kubernetes.io/serviceaccount"
-	ServiceAccountTokenVolumeName = "exec-sa-token"
+	ServiceAccountTokenMountPath  = "/var/run/secrets/kubernetes.io/serviceaccount" //nolint:gosec
+	ServiceAccountTokenVolumeName = "exec-sa-token"                                 //nolint:gosec
 	SecretVolMountPath            = "/argo/secret"
 )
 
diff --git a/workflow/executor/common/common.go b/workflow/executor/common/common.go
index a44db2c9342b..57119eb1efa9 100644
--- a/workflow/executor/common/common.go
+++ b/workflow/executor/common/common.go
@@ -153,7 +153,7 @@ func CopyArchive(ctx context.Context, c KubernetesClientInterface, containerName
 	if err != nil {
 		return err
 	}
-	f, err := os.OpenFile(filepath.Clean(destPath), os.O_CREATE|os.O_TRUNC|os.O_WRONLY, 0o666)
+	f, err := os.OpenFile(filepath.Clean(destPath), os.O_CREATE|os.O_TRUNC|os.O_WRONLY, 0o600)
 	if err != nil {
 		return err
 	}
diff --git a/workflow/executor/emissary/emissary.go b/workflow/executor/emissary/emissary.go
index fca209c639fe..134f0f2518d6 100644
--- a/workflow/executor/emissary/emissary.go
+++ b/workflow/executor/emissary/emissary.go
@@ -148,7 +148,7 @@ func (e emissary) Kill(ctx context.Context, containerNames []string, termination
 	for _, containerName := range containerNames {
 		// allow write-access by other users, because other containers
 		// should delete the signal after receiving it
-		if err := ioutil.WriteFile("/var/run/argo/ctr/"+containerName+"/signal", []byte(strconv.Itoa(int(syscall.SIGTERM))), 0o666); err != nil {
+		if err := ioutil.WriteFile("/var/run/argo/ctr/"+containerName+"/signal", []byte(strconv.Itoa(int(syscall.SIGTERM))), 0o666); err != nil { //nolint:gosec
 			return err
 		}
 	}
@@ -161,7 +161,7 @@ func (e emissary) Kill(ctx context.Context, containerNames []string, termination
 	for _, containerName := range containerNames {
 		// allow write-access by other users, because other containers
 		// should delete the signal after receiving it
-		if err := ioutil.WriteFile("/var/run/argo/ctr/"+containerName+"/signal", []byte(strconv.Itoa(int(syscall.SIGKILL))), 0o666); err != nil {
+		if err := ioutil.WriteFile("/var/run/argo/ctr/"+containerName+"/signal", []byte(strconv.Itoa(int(syscall.SIGKILL))), 0o666); err != nil { //nolint:gosec
 			return err
 		}
 	}
diff --git a/workflow/executor/executor.go b/workflow/executor/executor.go
index 20c9b7a0e9c4..e3fee86eb455 100644
--- a/workflow/executor/executor.go
+++ b/workflow/executor/executor.go
@@ -251,7 +251,7 @@ func (we *WorkflowExecutor) StageFiles() error {
 	default:
 		return nil
 	}
-	err := ioutil.WriteFile(filePath, body, 0o644)
+	err := ioutil.WriteFile(filePath, body, 0o600)
 	if err != nil {
 		return errors.InternalWrapError(err)
 	}
@@ -806,7 +806,7 @@ func unzip(zipPath string, destPath string) error {
 				}
 			}()
 
-			path := filepath.Join(dest, f.Name)
+			path := filepath.Join(dest, f.Name) //nolint:gosec
 			if !strings.HasPrefix(path, filepath.Clean(dest)+string(os.PathSeparator)) {
 				return fmt.Errorf("%s: Illegal file path", path)
 			}
@@ -829,7 +829,7 @@ func unzip(zipPath string, destPath string) error {
 					}
 				}()
 
-				_, err = io.Copy(f, rc)
+				_, err = io.Copy(f, rc) //nolint:gosec
 				if err != nil {
 					return err
 				}
diff --git a/workflow/executor/kubelet/client.go b/workflow/executor/kubelet/client.go
index c95120547419..012f74d220e6 100644
--- a/workflow/executor/kubelet/client.go
+++ b/workflow/executor/kubelet/client.go
@@ -60,7 +60,8 @@ func newKubeletClient(namespace, podName string) (*kubeletClient, error) {
 	}
 	bearerToken := string(b)
 
-	tlsConfig := &tls.Config{}
+	// G402: TLS MinVersion too low. (gosec)
+	tlsConfig := &tls.Config{} //nolint:gosec
 	if os.Getenv(common.EnvVarKubeletInsecure) == "true" {
 		log.Warningf("Using a kubelet client with insecure options")
 		tlsConfig.InsecureSkipVerify = true
diff --git a/workflow/util/util.go b/workflow/util/util.go
index be5dc4db6e85..8c7fd9a44545 100644
--- a/workflow/util/util.go
+++ b/workflow/util/util.go
@@ -580,10 +580,11 @@ func init() {
 	rand.Seed(time.Now().UnixNano())
 }
 
+// generates an insecure random string
 func randString(n int) string {
 	b := make([]byte, n)
 	for i := range b {
-		b[i] = letters[rand.Intn(len(letters))]
+		b[i] = letters[rand.Intn(len(letters))] //nolint:gosec
 	}
 	return string(b)
 }
@@ -954,7 +955,7 @@ func ReadFromStdin() ([]byte, error) {
 
 // Reads the content of a url
 func ReadFromUrl(url string) ([]byte, error) {
-	response, err := http.Get(url)
+	response, err := http.Get(url) //nolint:gosec
 	if err != nil {
 		return nil, err
 	}
diff --git a/workflow/util/util_test.go b/workflow/util/util_test.go
index 969daa48a911..19b355e8a7ab 100644
--- a/workflow/util/util_test.go
+++ b/workflow/util/util_test.go
@@ -103,7 +103,7 @@ func TestReadFromSingleorMultiplePath(t *testing.T) {
 				content := []byte(tc.contents[i])
 				tmpfn := filepath.Join(dir, tc.fileNames[i])
 				filePaths = append(filePaths, tmpfn)
-				err := ioutil.WriteFile(tmpfn, content, 0o666)
+				err := ioutil.WriteFile(tmpfn, content, 0o600)
 				if err != nil {
 					t.Error("Could not write to temporary file")
 				}
@@ -155,7 +155,7 @@ func TestReadFromSingleorMultiplePathErrorHandling(t *testing.T) {
 				tmpfn := filepath.Join(dir, tc.fileNames[i])
 				filePaths = append(filePaths, tmpfn)
 				if tc.exists[i] {
-					err := ioutil.WriteFile(tmpfn, content, 0o666)
+					err := ioutil.WriteFile(tmpfn, content, 0o600)
 					if err != nil {
 						t.Error("Could not write to temporary file")
 					}
@@ -541,7 +541,7 @@ func TestApplySubmitOpts(t *testing.T) {
 		file, err := ioutil.TempFile("", "")
 		assert.NoError(t, err)
 		defer func() { _ = os.Remove(file.Name()) }()
-		err = ioutil.WriteFile(file.Name(), []byte(`a: 81861780812`), 0o644)
+		err = ioutil.WriteFile(file.Name(), []byte(`a: 81861780812`), 0o600)
 		assert.NoError(t, err)
 		err = ApplySubmitOpts(wf, &wfv1.SubmitOpts{ParameterFile: file.Name()})
 		assert.NoError(t, err)
diff --git a/workflow/validate/validate_test.go b/workflow/validate/validate_test.go
index 65b469c96510..7485cd3f2965 100644
--- a/workflow/validate/validate_test.go
+++ b/workflow/validate/validate_test.go
@@ -1823,6 +1823,7 @@ func TestIncorrectPodGCStrategy(t *testing.T) {
 	}
 }
 
+//nolint:gosec
 var validAutomountServiceAccountTokenUseWfLevel = `
 apiVersion: argoproj.io/v1alpha1
 kind: Workflow
@@ -1845,6 +1846,7 @@ spec:
     ServiceAccountName: foo
 `
 
+//nolint:gosec
 var validAutomountServiceAccountTokenUseTmplLevel = `
 apiVersion: argoproj.io/v1alpha1
 kind: Workflow
@@ -1861,6 +1863,7 @@ spec:
   automountServiceAccountToken: false
 `
 
+//nolint:gosec
 var invalidAutomountServiceAccountTokenUseWfLevel = `
 apiVersion: argoproj.io/v1alpha1
 kind: Workflow
@@ -1875,6 +1878,7 @@ spec:
   automountServiceAccountToken: false
 `
 
+//nolint:gosec
 var invalidAutomountServiceAccountTokenUseTmplLevel = `
 apiVersion: argoproj.io/v1alpha1
 kind: Workflow

From 4fb382e6feb18f2c2b7cccfd38a353ef17178177 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Michael=20P=C3=B6llath?= <mpoellath.dev@gmail.com>
Date: Thu, 26 Aug 2021 16:32:56 +0200
Subject: [PATCH 068/137] docs: Fix template-defaults duplicated in docs and
 add missing whitespace in h1 (#6601)
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Signed-off-by: Michael Pllath <mpoellath.dev@gmail.com>
---
 docs/template-defaults.md | 4 ++--
 mkdocs.yml                | 1 -
 2 files changed, 2 insertions(+), 3 deletions(-)

diff --git a/docs/template-defaults.md b/docs/template-defaults.md
index 1ba9797cd3d7..9f7619bf70c3 100644
--- a/docs/template-defaults.md
+++ b/docs/template-defaults.md
@@ -1,4 +1,4 @@
-#Template Defaults
+# Template Defaults
 > v3.1 and after
 
 ## Introduction
@@ -49,4 +49,4 @@ data:
         secondsAfterSuccess: 5
       templateDefaults:
         timeout: 30s 
-```
\ No newline at end of file
+```
diff --git a/mkdocs.yml b/mkdocs.yml
index aac0cb5e2477..e76dd4c5176d 100644
--- a/mkdocs.yml
+++ b/mkdocs.yml
@@ -136,7 +136,6 @@ nav:
           - workflow-executors.md
           - sidecar-injection.md
           - default-workflow-specs.md
-          - template-defaults.md
           - offloading-large-workflows.md
           - workflow-archive.md
           - metrics.md

From 0ab5c28e4e4996507ca9445f4a4eac04b7a5244b Mon Sep 17 00:00:00 2001
From: Siebjee <siebren@siebjee.nl>
Date: Thu, 26 Aug 2021 16:33:14 +0200
Subject: [PATCH 069/137] docs: fix continue on failure dag example (#6609)

Signed-off-by: Siebren Zwerver <siebren@siebjee.nl>
---
 examples/dag-continue-on-fail.yaml | 6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

diff --git a/examples/dag-continue-on-fail.yaml b/examples/dag-continue-on-fail.yaml
index 35bae9b54a15..7a1cb991fdff 100644
--- a/examples/dag-continue-on-fail.yaml
+++ b/examples/dag-continue-on-fail.yaml
@@ -13,13 +13,11 @@ spec:
       - name: B
         depends: "A"
         template: intentional-fail
-        continueOn:
-          failed: true
       - name: C
         depends: "A"
         template: whalesay
       - name: D
-        depends: "B && C"
+        depends: "B.Failed && C"
         template: whalesay
       - name: E
         depends: "A"
@@ -41,4 +39,4 @@ spec:
     container:
       image: alpine:latest
       command: [sh, -c]
-      args: ["echo intentional failure; exit 1"]
\ No newline at end of file
+      args: ["echo intentional failure; exit 1"]

From a394a91f59bc3086e0538265c0d9d399a43110c6 Mon Sep 17 00:00:00 2001
From: Tetsuya Shiota <shioshiota@users.noreply.github.com>
Date: Thu, 26 Aug 2021 23:40:18 +0900
Subject: [PATCH 070/137] fix: manifests/quick-start/sso for running locally
 PROFILE=sso (#6503)

Signed-off-by: Tetsuya Shiota <tetsuya.shiota.1231@gmail.com>
---
 manifests/quick-start/sso/dex/dex-cm.yaml                      | 3 ++-
 .../sso/overlays/workflow-controller-configmap.yaml            | 2 +-
 2 files changed, 3 insertions(+), 2 deletions(-)

diff --git a/manifests/quick-start/sso/dex/dex-cm.yaml b/manifests/quick-start/sso/dex/dex-cm.yaml
index c41c67cc5953..464552d0b208 100644
--- a/manifests/quick-start/sso/dex/dex-cm.yaml
+++ b/manifests/quick-start/sso/dex/dex-cm.yaml
@@ -16,6 +16,7 @@ data:
       - id: argo-server
         redirectURIs:
           - http://localhost:2746/oauth2/callback
+          - http://localhost:8080/oauth2/callback
         name: Argo Server
         secret: ZXhhbXBsZS1hcHAtc2VjcmV0
     connectors:
@@ -30,4 +31,4 @@ data:
         userID: 08a8684b-db88-4b73-90a9-3cd1661f5466
 kind: ConfigMap
 metadata:
-  name: dex
\ No newline at end of file
+  name: dex
diff --git a/manifests/quick-start/sso/overlays/workflow-controller-configmap.yaml b/manifests/quick-start/sso/overlays/workflow-controller-configmap.yaml
index b502c7f7c5e6..e96ae3deadeb 100644
--- a/manifests/quick-start/sso/overlays/workflow-controller-configmap.yaml
+++ b/manifests/quick-start/sso/overlays/workflow-controller-configmap.yaml
@@ -8,7 +8,7 @@ data:
     clientSecret:
       name: argo-server-sso
       key: clientSecret
-    redirectUrl: http://localhost:2746/oauth2/callback
+    redirectUrl: http://localhost:8080/oauth2/callback
     scopes:
     - groups
     - email

From d19909a2966e9b0fcec45398c82e6c8b09f76f5a Mon Sep 17 00:00:00 2001
From: Alex Collins <alex_collins@intuit.com>
Date: Fri, 27 Aug 2021 09:03:28 -0700
Subject: [PATCH 071/137] chore: Run `make codegen`

Signed-off-by: Alex Collins <alex_collins@intuit.com>
---
 docs/fields.md | 2 --
 1 file changed, 2 deletions(-)

diff --git a/docs/fields.md b/docs/fields.md
index a8ffc4920961..567d31924a74 100644
--- a/docs/fields.md
+++ b/docs/fields.md
@@ -4183,8 +4183,6 @@ ContinueOn defines if a workflow should continue even if a task or step fails/er
 
 - [`continue-on-fail.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/continue-on-fail.yaml)
 
-- [`dag-continue-on-fail.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/dag-continue-on-fail.yaml)
-
 - [`exit-code-output-variable.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/exit-code-output-variable.yaml)
 
 - [`http-hello-world.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/http-hello-world.yaml)

From 1c25a249d5f070759582b5136f29313dc38eb951 Mon Sep 17 00:00:00 2001
From: Alex Collins <alexec@users.noreply.github.com>
Date: Fri, 27 Aug 2021 12:50:41 -0700
Subject: [PATCH 072/137] build: disable UI by default for `make start`

---
 Makefile | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/Makefile b/Makefile
index 425a59fd89be..035de0fb877a 100644
--- a/Makefile
+++ b/Makefile
@@ -39,7 +39,7 @@ else
 STATIC_FILES          ?= $(shell [ $(DEV_BRANCH) = true ] && echo false || echo true)
 endif
 
-UI                    ?= true
+UI                    ?= false
 GOTEST                ?= go test -v
 PROFILE               ?= minimal
 # by keeping this short we speed up the tests

From 2c71827985145062180de0b1bb79eab34e1fd01b Mon Sep 17 00:00:00 2001
From: Simon Behar <simbeh7@gmail.com>
Date: Fri, 27 Aug 2021 18:29:26 -0400
Subject: [PATCH 073/137] docs: Document #6297 breaking change (#6616)

---
 docs/upgrading.md | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/docs/upgrading.md b/docs/upgrading.md
index 14e10d957aed..4bf589d260ba 100644
--- a/docs/upgrading.md
+++ b/docs/upgrading.md
@@ -10,6 +10,10 @@ the [conventional commits](https://www.conventionalcommits.org/en/v1.0.0/#summar
 
 Changing from Debian to Alpine reduces the size of the `argoexec` image, resulting is faster starting workflow pods, and it also reduce the risk of security issues. There is not such thing as a free lunch. There maybe other behaviour changes we don't know of yet. 
 
+### [48d7ad3](https://github.com/argoproj/argo-workflows/commit/48d7ad36c14e4a50c50332d6decd543a1b732b69) chore: Remove onExit naming transition scaffolding code (#6297)
+
+When upgrading from `<v2.12` to `>v3.2` workflows that are running at the time of the upgrade and have `onExit` steps _may_ experience the `onExit` step running twice. This is only applicable for workflows that began running before a `workflow-controller` upgrade and are still running after the upgrade is complete. This is only applicable for upgrading from `v2.12` or earlier directly to `v3.2` or later. Even under these conditions, duplicate work may not be experienced.
+
 ## Upgrading to v3.1
 
 ### [3fff791e4](https://github.com/argoproj/argo-workflows/commit/3fff791e4ef5b7e1de82ccb36cae327e8eb726f6) build!: Automatically add manifests to `v*` tags (#5880)

From e10f6448e4583093d84c3dbdd73b2b4988ecf178 Mon Sep 17 00:00:00 2001
From: Alex Collins <alexec@users.noreply.github.com>
Date: Fri, 27 Aug 2021 15:56:00 -0700
Subject: [PATCH 074/137] docs: Remove sym-links from docs (#6617)

Signed-off-by: Alex Collins <alex_collins@intuit.com>
---
 README.md                                |  2 +-
 docs/argo-server.md                      |  6 +++---
 docs/conditional-artifacts-parameters.md | 10 +++++-----
 docs/cron-backfill.md                    |  2 +-
 docs/events.md                           |  2 +-
 docs/examples                            |  1 -
 docs/manifests                           |  1 -
 docs/security.md                         |  4 ++--
 docs/template-defaults.md                |  2 +-
 docs/templates.md                        |  4 ++--
 docs/tolerating-pod-deletion.md          |  2 +-
 docs/training.md                         |  2 +-
 docs/webhooks.md                         |  8 ++++----
 docs/work-avoidance.md                   |  2 +-
 docs/workflow-concepts.md                |  2 +-
 docs/workflow-notifications.md           |  2 +-
 mkdocs.yml                               |  4 +++-
 17 files changed, 28 insertions(+), 28 deletions(-)
 delete mode 120000 docs/examples
 delete mode 120000 docs/manifests

diff --git a/README.md b/README.md
index 10d925bcc8cb..72c1a3cc02be 100644
--- a/README.md
+++ b/README.md
@@ -79,7 +79,7 @@ kubectl apply -n argo -f https://raw.githubusercontent.com/argoproj/argo-workflo
 ## Documentation
 
 * [Get started here](docs/quick-start.md)
-* [How to write Argo Workflow specs](examples/README.md)
+* [How to write Argo Workflow specs](https://raw.githubusercontent.com/argoproj/argo-workflows/master/examples/README.md)
 * [How to configure your artifact repository](docs/configure-artifact-repository.md)
 
 ## Features
diff --git a/docs/argo-server.md b/docs/argo-server.md
index cab49c68d1ee..84adcc79998c 100644
--- a/docs/argo-server.md
+++ b/docs/argo-server.md
@@ -162,10 +162,10 @@ spec:
 
 Users should consider the following in their set-up of the Argo Server:
 
-## API Authentication Rate Limiting
+### API Authentication Rate Limiting
 
-Argo Server does not perform authenticatinon directly. It delegates this to either the Kubernetes API Server (when `--auth-mode=client`) and the OAuth provider (when `--auth-mode=sso`). In each case, it is recommended that the the delegate implements any authentication rate limiting you need. 
+Argo Server does not perform authenticatinon directly. It delegates this to either the Kubernetes API Server (when `--auth-mode=client`) and the OAuth provider (when `--auth-mode=sso`). In each case, it is recommended that the delegate implements any authentication rate limiting you need. 
 
-## IP Address Logging
+### IP Address Logging
 
 Argo Server does not log the IP addresses of API requests. We recommend you put the Argo Server behind a load balancer, and that load balancer is configured to log the IP addresses of requests that return authentication or authorization errors.
diff --git a/docs/conditional-artifacts-parameters.md b/docs/conditional-artifacts-parameters.md
index 4f4e42790b14..2a10d6a166a5 100644
--- a/docs/conditional-artifacts-parameters.md
+++ b/docs/conditional-artifacts-parameters.md
@@ -28,8 +28,8 @@ under step/DAG level output parameter. Both use the
 
 ```
 
-* [Steps artifacts example](examples/conditional-artifacts.yaml)
-* [DAG artifacts example](examples/dag-conditional-artifacts.yaml)
+* [Steps artifacts example](https://raw.githubusercontent.com/argoproj/argo-workflows/master/examples/conditional-artifacts.yaml)
+* [DAG artifacts example](https://raw.githubusercontent.com/argoproj/argo-workflows/master/examples/dag-conditional-artifacts.yaml)
 
 ## Conditional Parameters
 
@@ -51,8 +51,8 @@ under step/DAG level output parameter. Both use the
               expression: "steps.flipcoin.outputs.result == 'heads' ? steps.heads.outputs.result : steps.tails.outputs.result"
 ```
 
-* [Steps parameter example](examples/conditional-parameters.yaml)
-* [DAG parameter example](examples/dag-conditional-parameters.yaml)
+* [Steps parameter example](https://raw.githubusercontent.com/argoproj/argo-workflows/master/examples/conditional-parameters.yaml)
+* [DAG parameter example](https://raw.githubusercontent.com/argoproj/argo-workflows/master/examples/dag-conditional-parameters.yaml)
 
 ## Built-In Functions
 
@@ -65,7 +65,7 @@ Convenient functions added to support more use cases:
    e.g: `jsonpath('{"employee":{"name":"sonoo","salary":56000,"married":true}}", "$.employee.name" )` )
 5. [Sprig](http://masterminds.github.io/sprig/) - Support all `sprig` functions
 
-* [Advanced example: fibonacci Sequence](examples/fibonacci-seq-conditional-param.yaml)
+* [Advanced example: fibonacci Sequence](https://raw.githubusercontent.com/argoproj/argo-workflows/master/examples/fibonacci-seq-conditional-param.yaml)
 
 !!! NOTE 
     Expressions will decode the `-` as operator if template name has `-`, it will fail the expression. So here solution
diff --git a/docs/cron-backfill.md b/docs/cron-backfill.md
index d315733fe7df..8eade87f28c5 100644
--- a/docs/cron-backfill.md
+++ b/docs/cron-backfill.md
@@ -10,7 +10,7 @@
 2. Create your cron workflow to run daily and invoke that template.
 3. Create a backfill workflow that uses `withSequence` to run the job for each date.
 
-This [full example](examples/cron-backfill.yaml) contains:
+This [full example](https://raw.githubusercontent.com/argoproj/argo-workflows/master/examples/cron-backfill.yaml) contains:
 
 * A workflow template named `job`.
 * A cron workflow named `daily-job`.
diff --git a/docs/events.md b/docs/events.md
index d8866ba2c8e2..288568853d72 100644
--- a/docs/events.md
+++ b/docs/events.md
@@ -16,7 +16,7 @@ You may also wish to read about [webhooks](webhooks.md).
 
 Clients wanting to send events to the endpoint need an [access token](access-token.md).   
 
-It is only possible to submit workflow templates your access token has access to: [example role](manifests/quick-start/base/webhooks/submit-workflow-template-role.yaml).
+It is only possible to submit workflow templates your access token has access to: [example role](https://raw.githubusercontent.com/argoproj/argo-workflows/master/manifests/quick-start/base/webhooks/submit-workflow-template-role.yaml).
 
 Example (note the trailing slash):
 
diff --git a/docs/examples b/docs/examples
deleted file mode 120000
index a6573af9c9da..000000000000
--- a/docs/examples
+++ /dev/null
@@ -1 +0,0 @@
-../examples
\ No newline at end of file
diff --git a/docs/manifests b/docs/manifests
deleted file mode 120000
index 5f2a77a3d25d..000000000000
--- a/docs/manifests
+++ /dev/null
@@ -1 +0,0 @@
-../manifests
\ No newline at end of file
diff --git a/docs/security.md b/docs/security.md
index 64dc8b56874e..b132eaa53fb4 100644
--- a/docs/security.md
+++ b/docs/security.md
@@ -12,7 +12,7 @@ The controller has permission (via Kubernetes RBAC + its config map) with either
 * Create/get/delete pods, PVCs, and PDBs.
 * List/get template, config maps, service accounts, and secrets.
 
-See [workflow-controller-clusterrole.yaml](manifests/cluster-install/workflow-controller-rbac/workflow-controller-clusterrole.yaml) or [workflow-controller-role.yaml](manifests/namespace-install/workflow-controller-rbac/workflow-controller-role.yaml)
+See [workflow-controller-clusterrole.yaml](https://raw.githubusercontent.com/argoproj/argo-workflows/master/manifests/cluster-install/workflow-controller-rbac/workflow-controller-clusterrole.yaml) or [workflow-controller-role.yaml](https://raw.githubusercontent.com/argoproj/argo-workflows/master/manifests/namespace-install/workflow-controller-rbac/workflow-controller-role.yaml)
 
 ### User Permissions
 
@@ -41,7 +41,7 @@ This service account typically needs the following permissions:
 * Get/watch/patch pods.
 * Get/watch pod logs.
 
-See [workflow-role.yaml](manifests/quick-start/base/workflow-role.yaml).
+See [workflow-role.yaml](https://raw.githubusercontent.com/argoproj/argo-workflows/master/manifests/quick-start/base/workflow-role.yaml).
 
 Different service accounts should be used if a workflow pod needs to have elevated permissions, e.g. to create other resources.
 
diff --git a/docs/template-defaults.md b/docs/template-defaults.md
index 9f7619bf70c3..b5a105fbfcc8 100644
--- a/docs/template-defaults.md
+++ b/docs/template-defaults.md
@@ -24,7 +24,7 @@ spec:
     container:
       image: docker/whalesay:latest
 ```
-[template defaults example](examples/template-defaults.yaml)
+[template defaults example](https://raw.githubusercontent.com/argoproj/argo-workflows/master/examples/template-defaults.yaml)
 
 ## Configuring `templateDefaults` in Controller Level
 Operator can configure the `templateDefaults` in [workflowDefaults](default-workflow-specs.md). This `templateDefault` will be applied to all the workflow which runs on the controller.
diff --git a/docs/templates.md b/docs/templates.md
index 8286ed5fb140..e4dbef9dd1c2 100644
--- a/docs/templates.md
+++ b/docs/templates.md
@@ -16,8 +16,8 @@ You can inline other templates within DAG and steps.
 
 Examples:
 
-* [DAG](examples/dag-inline-workflow.yaml)
-* [Steps](examples/steps-inline-workflow.yaml)
+* [DAG](https://raw.githubusercontent.com/argoproj/argo-workflows/master/examples/dag-inline-workflow.yaml)
+* [Steps](https://raw.githubusercontent.com/argoproj/argo-workflows/master/examples/steps-inline-workflow.yaml)
 
 !!! Warning
     You can only inline once. Inlining a DAG within a DAG will not work.
diff --git a/docs/tolerating-pod-deletion.md b/docs/tolerating-pod-deletion.md
index 037bab1f6d52..628fdb2ad7a9 100644
--- a/docs/tolerating-pod-deletion.md
+++ b/docs/tolerating-pod-deletion.md
@@ -6,7 +6,7 @@ In Kubernetes, pods are cattle and can be deleted at any time. Deletion could be
 
 This can be very inconvenient, your workflow will error, but for reasons outside of your control.
  
-A [pod disruption budget](examples/default-pdb-support.yaml) can reduce the likelihood of this happening. But, it cannot entirely prevent it.   
+A [pod disruption budget](https://raw.githubusercontent.com/argoproj/argo-workflows/master/examples/default-pdb-support.yaml) can reduce the likelihood of this happening. But, it cannot entirely prevent it.   
 
 To retry pods that were deleted, set `retryStrategy.retryPolicy: OnError`.
 
diff --git a/docs/training.md b/docs/training.md
index 121d3b6c4b12..170277b13886 100644
--- a/docs/training.md
+++ b/docs/training.md
@@ -6,7 +6,7 @@ We've created a Katacoda course featuring beginner and intermediate lessons. The
 in your web browser without needing to install anything on your computer. Each lesson starts up a Kubernetes cluster
 that you can access via a web browser.
 
-The course will take around 2 hours to complete as is by far the fastest way to learn Argo Workflows. 
+The course will take around 2 hours to complete and is the fastest way to learn Argo Workflows. 
 
 [![Katacoda Screeshot](assets/katacoda.png) Open the course](https://www.katacoda.com/argoproj/courses/argo-workflows/)
 
diff --git a/docs/webhooks.md b/docs/webhooks.md
index 5b99275a8253..c5480fc7f4b0 100644
--- a/docs/webhooks.md
+++ b/docs/webhooks.md
@@ -8,13 +8,13 @@ Many clients can send events via the [events](events.md) API endpoint using a st
 
 In the namespace that will receive the event, create [access token](access-token.md) resources for your client:
 
-* A role with permissions to get workflow templates and to create a workflow: [example](manifests/quick-start/base/webhooks/submit-workflow-template-role.yaml)
-* A service account for the client: [example](manifests/quick-start/base/webhooks/github.com-sa.yaml). 
-* A binding of the account to the role: [example](manifests/quick-start/base/webhooks/github.com-rolebinding.yaml)
+* A role with permissions to get workflow templates and to create a workflow: [example](https://raw.githubusercontent.com/argoproj/argo-workflows/master/manifests/quick-start/base/webhooks/submit-workflow-template-role.yaml)
+* A service account for the client: [example](https://raw.githubusercontent.com/argoproj/argo-workflows/master/manifests/quick-start/base/webhooks/github.com-sa.yaml). 
+* A binding of the account to the role: [example](https://raw.githubusercontent.com/argoproj/argo-workflows/master/manifests/quick-start/base/webhooks/github.com-rolebinding.yaml)
 
 Additionally create:
 
-* A secret named "argo-workflows-webhook-clients" listing the service accounts: [example](manifests/quick-start/base/webhooks/argo-workflows-webhook-clients-secret.yaml)
+* A secret named "argo-workflows-webhook-clients" listing the service accounts: [example](https://raw.githubusercontent.com/argoproj/argo-workflows/master/manifests/quick-start/base/webhooks/argo-workflows-webhook-clients-secret.yaml)
 
 The secret "argo-workflows-webhook-clients" tells Argo:
 
diff --git a/docs/work-avoidance.md b/docs/work-avoidance.md
index f485c9bed601..083573ef8524 100644
--- a/docs/work-avoidance.md
+++ b/docs/work-avoidance.md
@@ -30,7 +30,7 @@ touch /work/markers/$(date +%Y-%m-%d)-echo-{{inputs.parameters.num}}
  
 You need to store the marker files between workflows and this can be achieved using [a PVC](fields.md#persistentvolumeclaim) and [optional input artifact](fields.md#artifact). 
 
-[This complete work avoidance example](examples/work-avoidance.yaml) has the following:
+[This complete work avoidance example](https://raw.githubusercontent.com/argoproj/argo-workflows/master/examples/work-avoidance.yaml) has the following:
 
 * A PVC to store the markers on.
 * A `load-markers` step that loads the marker files from artifact storage.
diff --git a/docs/workflow-concepts.md b/docs/workflow-concepts.md
index f14d9a362194..0596ff3d60c1 100644
--- a/docs/workflow-concepts.md
+++ b/docs/workflow-concepts.md
@@ -108,7 +108,7 @@ These templates are used to invoke/call other templates and provide execution co
 
 ##### [Steps](fields.md#workflowstep)
 
-A steps template allows you to define your tasks in a series of steps. The structure of the template is a "list of lists". Outer lists will run sequentially and inner lists will run in parallel. You can set a wide array of options to control execution, such as [`when:` clauses to conditionally execute a step](examples/coinflip.yaml).
+A steps template allows you to define your tasks in a series of steps. The structure of the template is a "list of lists". Outer lists will run sequentially and inner lists will run in parallel. You can set a wide array of options to control execution, such as [`when:` clauses to conditionally execute a step](https://raw.githubusercontent.com/argoproj/argo-workflows/master/examples/coinflip.yaml).
     
 In this example `step1` runs first. Once it is completed, `step2a` and `step2b` will run in parallel:
 ```yaml
diff --git a/docs/workflow-notifications.md b/docs/workflow-notifications.md
index 781ee98aa9d3..7ae446fd23f0 100644
--- a/docs/workflow-notifications.md
+++ b/docs/workflow-notifications.md
@@ -8,6 +8,6 @@ There are a number of use cases where you may wish to notify an external system
 
 You have options:
 
-1. For individual workflows, can add an exit handler to your workflow, [for example](examples/exit-handlers.yaml).
+1. For individual workflows, can add an exit handler to your workflow, [for example](https://raw.githubusercontent.com/argoproj/argo-workflows/master/examples/exit-handlers.yaml).
 1. If you want the same for every workflow, you can add an exit handler to [the default workflow spec](default-workflow-specs.md).
 1. Use a service (e.g. [Heptio Labs EventRouter](https://github.com/heptiolabs/eventrouter)) to the [Workflow events](workflow-events.md) we emit.
\ No newline at end of file
diff --git a/mkdocs.yml b/mkdocs.yml
index e76dd4c5176d..288c62ba642d 100644
--- a/mkdocs.yml
+++ b/mkdocs.yml
@@ -41,6 +41,7 @@ nav:
           - cron-workflows.md
           - cron-backfill.md
           - templates.md
+          - http-template.md
           - container-set-template.md
           - template-defaults.md
           - work-avoidance.md
@@ -66,6 +67,7 @@ nav:
           - workflow-events.md
           - kubectl.md
           - access-token.md
+          - swagger.md
           - rest-api.md
           - rest-examples.md
           - events.md
@@ -77,7 +79,7 @@ nav:
           - security.md
           - running-at-massive-scale.md
       - ide-setup.md
-      - Examples: examples/README.md
+      - Examples: https://raw.githubusercontent.com/argoproj/argo-workflows/master/examples/README.md
       - Field Reference: fields.md
       - CLI Reference:
           - argo: cli/argo.md

From 29cf73548d7246433cb1d835f25f34ab73389fe4 Mon Sep 17 00:00:00 2001
From: smile-luobin <smile.luobin@gmail.com>
Date: Mon, 30 Aug 2021 22:07:32 +0800
Subject: [PATCH 075/137] fix(controller): Initialize throttler during starting
 workflow-controller. Fixes: #6599 (#6608)

Signed-off-by: smile-luobin <smile.luobin@gmail.com>
---
 workflow/controller/controller.go      | 29 ++++++----
 workflow/controller/controller_test.go | 74 ++++++++++++++++++++++++
 workflow/sync/chain_throttler.go       | 11 ++++
 workflow/sync/mocks/Throttler.go       |  8 +++
 workflow/sync/throttler.go             | 26 +++++++++
 workflow/sync/throttler_test.go        | 80 ++++++++++++++++++++++++++
 6 files changed, 217 insertions(+), 11 deletions(-)

diff --git a/workflow/controller/controller.go b/workflow/controller/controller.go
index 16da399755cc..0b9111637ca8 100644
--- a/workflow/controller/controller.go
+++ b/workflow/controller/controller.go
@@ -215,6 +215,13 @@ func (wfc *WorkflowController) Run(ctx context.Context, wfWorkers, workflowTTLWo
 	wfc.podInformer = wfc.newPodInformer(ctx)
 	wfc.updateEstimatorFactory()
 
+	// Create Synchronization Manager
+	wfc.createSynchronizationManager(ctx)
+	// init managers: throttler and SynchronizationManager
+	if err := wfc.initManagers(ctx); err != nil {
+		log.Fatal(err)
+	}
+
 	go wfc.runConfigMapWatcher(ctx.Done())
 	go wfc.configController.Run(ctx.Done(), wfc.updateConfig)
 	go wfc.wfInformer.Run(ctx.Done())
@@ -229,12 +236,6 @@ func (wfc *WorkflowController) Run(ctx context.Context, wfWorkers, workflowTTLWo
 
 	wfc.createClusterWorkflowTemplateInformer(ctx)
 
-	// Create Synchronization Manager
-	err := wfc.createSynchronizationManager(ctx)
-	if err != nil {
-		log.Fatal(err)
-	}
-
 	// Start the metrics server
 	go wfc.metrics.RunServer(ctx)
 
@@ -319,8 +320,8 @@ func (wfc *WorkflowController) waitForCacheSync(ctx context.Context) {
 	}
 }
 
-// Create and initialize the Synchronization Manager
-func (wfc *WorkflowController) createSynchronizationManager(ctx context.Context) error {
+// Create and the Synchronization Manager
+func (wfc *WorkflowController) createSynchronizationManager(ctx context.Context) {
 	getSyncLimit := func(lockKey string) (int, error) {
 		lockName, err := sync.DecodeLockName(lockKey)
 		if err != nil {
@@ -352,19 +353,25 @@ func (wfc *WorkflowController) createSynchronizationManager(ctx context.Context)
 	}
 
 	wfc.syncManager = sync.NewLockManager(getSyncLimit, nextWorkflow, isWFDeleted)
+}
 
-	labelSelector := labels.NewSelector()
-	req, _ := labels.NewRequirement(common.LabelKeyPhase, selection.Equals, []string{string(wfv1.NodeRunning)})
+// list all running workflows to initialize throttler and syncManager
+func (wfc *WorkflowController) initManagers(ctx context.Context) error {
+	labelSelector := labels.NewSelector().Add(util.InstanceIDRequirement(wfc.Config.InstanceID))
+	req, _ := labels.NewRequirement(common.LabelKeyPhase, selection.Equals, []string{string(wfv1.WorkflowRunning)})
 	if req != nil {
 		labelSelector = labelSelector.Add(*req)
 	}
-
 	listOpts := metav1.ListOptions{LabelSelector: labelSelector.String()}
 	wfList, err := wfc.wfclientset.ArgoprojV1alpha1().Workflows(wfc.namespace).List(ctx, listOpts)
 	if err != nil {
 		return err
 	}
 
+	if err := wfc.throttler.Init(wfList.Items); err != nil {
+		return err
+	}
+
 	wfc.syncManager.Initialize(wfList.Items)
 	return nil
 }
diff --git a/workflow/controller/controller_test.go b/workflow/controller/controller_test.go
index be053327ecf0..52d97d386dbb 100644
--- a/workflow/controller/controller_test.go
+++ b/workflow/controller/controller_test.go
@@ -188,6 +188,9 @@ func newController(options ...interface{}) (context.CancelFunc, *WorkflowControl
 		wfc.wftmplInformer = informerFactory.Argoproj().V1alpha1().WorkflowTemplates()
 		wfc.addWorkflowInformerHandlers(ctx)
 		wfc.podInformer = wfc.newPodInformer(ctx)
+		wfc.createSynchronizationManager(ctx)
+		_ = wfc.initManagers(ctx)
+
 		go wfc.wfInformer.Run(ctx.Done())
 		go wfc.wftmplInformer.Informer().Run(ctx.Done())
 		go wfc.podInformer.Run(ctx.Done())
@@ -657,3 +660,74 @@ func TestNotifySemaphoreConfigUpdate(t *testing.T) {
 	time.Sleep(2 * time.Second)
 	assert.Equal(2, controller.wfQueue.Len())
 }
+
+func TestParallelismWithInitializeRunningWorkflows(t *testing.T) {
+	for tt, f := range map[string]func(controller *WorkflowController){
+		"Parallelism": func(x *WorkflowController) {
+			x.Config.Parallelism = 1
+		},
+		"NamespaceParallelism": func(x *WorkflowController) {
+			x.Config.NamespaceParallelism = 1
+		},
+	} {
+		t.Run(tt, func(t *testing.T) {
+			cancel, controller := newController(
+				wfv1.MustUnmarshalWorkflow(`
+metadata:
+  name: my-wf-0
+spec:
+  entrypoint: main
+  templates:
+    - name: main
+      container:
+        image: my-image
+`),
+				wfv1.MustUnmarshalWorkflow(`
+metadata:
+  name: my-wf-1
+spec:
+  entrypoint: main
+  templates:
+    - name: main
+      container:
+        image: my-image
+`),
+				wfv1.MustUnmarshalWorkflow(`
+metadata:
+  name: my-wf-2
+  labels:
+    workflows.argoproj.io/phase: Running
+spec:
+  entrypoint: main
+  templates:
+    - name: main
+      container:
+        image: my-image
+status:
+  phase: Running
+`),
+				f,
+			)
+			defer cancel()
+			ctx := context.Background()
+
+			// process my-wf-0; update status to Pending
+			assert.True(t, controller.processNextItem(ctx))
+			expectWorkflow(ctx, controller, "my-wf-0", func(wf *wfv1.Workflow) {
+				if assert.NotNil(t, wf) {
+					assert.Equal(t, wfv1.WorkflowPending, wf.Status.Phase)
+					assert.Equal(t, "Workflow processing has been postponed because too many workflows are already running", wf.Status.Message)
+				}
+			})
+
+			// process my-wf-1; update status to Pending
+			assert.True(t, controller.processNextItem(ctx))
+			expectWorkflow(ctx, controller, "my-wf-1", func(wf *wfv1.Workflow) {
+				if assert.NotNil(t, wf) {
+					assert.Equal(t, wfv1.WorkflowPending, wf.Status.Phase)
+					assert.Equal(t, "Workflow processing has been postponed because too many workflows are already running", wf.Status.Message)
+				}
+			})
+		})
+	}
+}
diff --git a/workflow/sync/chain_throttler.go b/workflow/sync/chain_throttler.go
index a1888deacbbd..3ea22759e238 100644
--- a/workflow/sync/chain_throttler.go
+++ b/workflow/sync/chain_throttler.go
@@ -2,10 +2,21 @@ package sync
 
 import (
 	"time"
+
+	wfv1 "github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1"
 )
 
 type ChainThrottler []Throttler
 
+func (c ChainThrottler) Init(wfs []wfv1.Workflow) error {
+	for _, t := range c {
+		if err := t.Init(wfs); err != nil {
+			return err
+		}
+	}
+	return nil
+}
+
 func (c ChainThrottler) Add(key Key, priority int32, creationTime time.Time) {
 	for _, t := range c {
 		t.Add(key, priority, creationTime)
diff --git a/workflow/sync/mocks/Throttler.go b/workflow/sync/mocks/Throttler.go
index 4d40b0353565..9bdb2798b7e8 100644
--- a/workflow/sync/mocks/Throttler.go
+++ b/workflow/sync/mocks/Throttler.go
@@ -6,6 +6,8 @@ import (
 	mock "github.com/stretchr/testify/mock"
 
 	time "time"
+
+	wfv1 "github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1"
 )
 
 // Throttler is an autogenerated mock type for the Throttler type
@@ -13,6 +15,12 @@ type Throttler struct {
 	mock.Mock
 }
 
+// Init provides a mock function with given running workflows
+func (_m *Throttler) Init(wfs []wfv1.Workflow) error {
+	_m.Called(wfs)
+	return nil
+}
+
 // Add provides a mock function with given fields: key, priority, creationTime
 func (_m *Throttler) Add(key string, priority int32, creationTime time.Time) {
 	_m.Called(key, priority, creationTime)
diff --git a/workflow/sync/throttler.go b/workflow/sync/throttler.go
index fc88c2c21733..d01102452375 100644
--- a/workflow/sync/throttler.go
+++ b/workflow/sync/throttler.go
@@ -6,6 +6,8 @@ import (
 	"time"
 
 	"k8s.io/client-go/tools/cache"
+
+	wfv1 "github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1"
 )
 
 //go:generate mockery -name Throttler
@@ -15,6 +17,7 @@ import (
 // will be kept pending until the processing is complete.
 // Implementations should be idempotent.
 type Throttler interface {
+	Init(wfs []wfv1.Workflow) error
 	Add(key Key, priority int32, creationTime time.Time)
 	// Admit returns if the item should be processed.
 	Admit(key Key) bool
@@ -59,6 +62,29 @@ func NewThrottler(parallelism int, bucketFunc BucketFunc, queue QueueFunc) Throt
 	}
 }
 
+func (t *throttler) Init(wfs []wfv1.Workflow) error {
+	t.lock.Lock()
+	defer t.lock.Unlock()
+	if t.parallelism == 0 {
+		return nil
+	}
+
+	for _, wf := range wfs {
+		key, err := cache.MetaNamespaceKeyFunc(&wf)
+		if err != nil {
+			return err
+		}
+		if wf.Status.Phase == wfv1.WorkflowRunning {
+			bucketKey := t.bucketFunc(key)
+			if _, ok := t.inProgress[bucketKey]; !ok {
+				t.inProgress[bucketKey] = make(bucket)
+			}
+			t.inProgress[bucketKey][key] = true
+		}
+	}
+	return nil
+}
+
 func (t *throttler) Add(key Key, priority int32, creationTime time.Time) {
 	t.lock.Lock()
 	defer t.lock.Unlock()
diff --git a/workflow/sync/throttler_test.go b/workflow/sync/throttler_test.go
index 66f55a493014..3ffa36c94691 100644
--- a/workflow/sync/throttler_test.go
+++ b/workflow/sync/throttler_test.go
@@ -1,12 +1,17 @@
 package sync
 
 import (
+	"context"
 	"testing"
 	"time"
 
+	metav1 "k8s.io/apimachinery/pkg/apis/meta/v1"
 	"k8s.io/client-go/tools/cache"
 
 	"github.com/stretchr/testify/assert"
+
+	wfv1 "github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1"
+	fakewfclientset "github.com/argoproj/argo-workflows/v3/pkg/client/clientset/versioned/fake"
 )
 
 func Test_NamespaceBucket(t *testing.T) {
@@ -71,3 +76,78 @@ func TestWithParallelismLimitAndPriority(t *testing.T) {
 	assert.True(t, throttler.Admit("c"), "now running too")
 	assert.Equal(t, "c", queuedKey)
 }
+
+func TestInitWithWorkflows(t *testing.T) {
+	queuedKey := ""
+	throttler := NewThrottler(1, SingleBucket, func(key string) { queuedKey = key })
+	ctx := context.Background()
+
+	wfclientset := fakewfclientset.NewSimpleClientset(
+		wfv1.MustUnmarshalWorkflow(`
+apiVersion: argoproj.io/v1alpha1
+kind: Workflow
+metadata:
+  labels:
+    workflows.argoproj.io/phase: Running
+  name: a
+  namespace: default
+spec:
+  entrypoint: whalesay
+  templates:
+  - name: whalesay
+    container:
+      image: docker/whalesay:latest
+      command: [cowsay]
+      args: ["hello world"]
+status:
+  phase: Running
+  startedAt: "2020-06-19T17:37:05Z"
+`),
+		wfv1.MustUnmarshalWorkflow(`
+apiVersion: argoproj.io/v1alpha1
+kind: Workflow
+metadata:
+  labels:
+    workflows.argoproj.io/phase: Running
+  name: b
+  namespace: default
+spec:
+  entrypoint: whalesay
+  templates:
+  - name: whalesay
+    container:
+      image: docker/whalesay:latest
+      command: [cowsay]
+      args: ["hello world"]
+status:
+  phase: Running
+  startedAt: "2020-06-19T17:37:05Z"
+`))
+	wfList, err := wfclientset.ArgoprojV1alpha1().Workflows("default").List(ctx, metav1.ListOptions{})
+	assert.NoError(t, err)
+	err = throttler.Init(wfList.Items)
+	assert.NoError(t, err)
+	assert.True(t, throttler.Admit("default/a"))
+	assert.True(t, throttler.Admit("default/b"))
+
+	throttler.Add("default/c", 0, time.Now())
+	throttler.Add("default/d", 0, time.Now())
+	assert.False(t, throttler.Admit("default/c"))
+	assert.False(t, throttler.Admit("default/d"))
+
+	throttler.Remove("default/a")
+	assert.Equal(t, "", queuedKey)
+	assert.False(t, throttler.Admit("default/c"))
+	assert.False(t, throttler.Admit("default/d"))
+
+	queuedKey = ""
+	throttler.Remove("default/b")
+	assert.Equal(t, "default/c", queuedKey)
+	assert.True(t, throttler.Admit("default/c"))
+	assert.False(t, throttler.Admit("default/d"))
+
+	queuedKey = ""
+	throttler.Remove("default/c")
+	assert.Equal(t, "default/d", queuedKey)
+	assert.True(t, throttler.Admit("default/d"))
+}

From 07e29263a6254b9caf7a47e2761cba3e1d39c7b4 Mon Sep 17 00:00:00 2001
From: "J.P. Zivalich" <j.p.zivalich@gmail.com>
Date: Mon, 30 Aug 2021 10:55:22 -0700
Subject: [PATCH 076/137]  docs: Add slack exit handler example. Resolves #4152
  (#6612)

Signed-off-by: J.P. Zivalich <j.p.zivalich@gmail.com>
---
 docs/fields.md                   | 14 ++++++++++++
 examples/exit-handler-slack.yaml | 37 ++++++++++++++++++++++++++++++++
 2 files changed, 51 insertions(+)
 create mode 100644 examples/exit-handler-slack.yaml

diff --git a/docs/fields.md b/docs/fields.md
index 567d31924a74..119fde8ec944 100644
--- a/docs/fields.md
+++ b/docs/fields.md
@@ -114,6 +114,8 @@ Workflow is the definition of a workflow resource
 
 - [`exit-handler-dag-level.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/exit-handler-dag-level.yaml)
 
+- [`exit-handler-slack.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/exit-handler-slack.yaml)
+
 - [`exit-handler-step-level.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/exit-handler-step-level.yaml)
 
 - [`exit-handler-with-artifacts.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/exit-handler-with-artifacts.yaml)
@@ -519,6 +521,8 @@ WorkflowSpec is the specification of a Workflow.
 
 - [`exit-handler-dag-level.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/exit-handler-dag-level.yaml)
 
+- [`exit-handler-slack.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/exit-handler-slack.yaml)
+
 - [`exit-handler-step-level.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/exit-handler-step-level.yaml)
 
 - [`exit-handler-with-artifacts.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/exit-handler-with-artifacts.yaml)
@@ -941,6 +945,8 @@ CronWorkflowSpec is the specification of a CronWorkflow
 
 - [`exit-handler-dag-level.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/exit-handler-dag-level.yaml)
 
+- [`exit-handler-slack.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/exit-handler-slack.yaml)
+
 - [`exit-handler-step-level.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/exit-handler-step-level.yaml)
 
 - [`exit-handler-with-artifacts.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/exit-handler-with-artifacts.yaml)
@@ -1320,6 +1326,8 @@ WorkflowTemplateSpec is a spec of WorkflowTemplate.
 
 - [`exit-handler-dag-level.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/exit-handler-dag-level.yaml)
 
+- [`exit-handler-slack.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/exit-handler-slack.yaml)
+
 - [`exit-handler-step-level.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/exit-handler-step-level.yaml)
 
 - [`exit-handler-with-artifacts.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/exit-handler-with-artifacts.yaml)
@@ -4728,6 +4736,8 @@ ObjectMeta is metadata that all persisted resources must have, which includes al
 
 - [`exit-handler-dag-level.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/exit-handler-dag-level.yaml)
 
+- [`exit-handler-slack.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/exit-handler-slack.yaml)
+
 - [`exit-handler-step-level.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/exit-handler-step-level.yaml)
 
 - [`exit-handler-with-artifacts.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/exit-handler-with-artifacts.yaml)
@@ -5336,6 +5346,8 @@ A single application container that you want to run within a pod.
 
 - [`exit-handler-dag-level.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/exit-handler-dag-level.yaml)
 
+- [`exit-handler-slack.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/exit-handler-slack.yaml)
+
 - [`exit-handler-step-level.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/exit-handler-step-level.yaml)
 
 - [`exit-handler-with-artifacts.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/exit-handler-with-artifacts.yaml)
@@ -6013,6 +6025,8 @@ PersistentVolumeClaimSpec describes the common attributes of storage devices and
 
 - [`exit-handler-dag-level.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/exit-handler-dag-level.yaml)
 
+- [`exit-handler-slack.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/exit-handler-slack.yaml)
+
 - [`exit-handler-step-level.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/exit-handler-step-level.yaml)
 
 - [`exit-handler-with-artifacts.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/exit-handler-with-artifacts.yaml)
diff --git a/examples/exit-handler-slack.yaml b/examples/exit-handler-slack.yaml
new file mode 100644
index 000000000000..2b779f7ec345
--- /dev/null
+++ b/examples/exit-handler-slack.yaml
@@ -0,0 +1,37 @@
+# This example shows how to hit a slack webhook on an exit handler.
+# In order to configure, create a slack app and get a webhook url for it.
+# The documentation to do so is here: https://api.slack.com/messaging/webhooks
+# Replace YOUR_WEBHOOK_URL_HERE on line 36 with that webhook url
+apiVersion: argoproj.io/v1alpha1
+kind: Workflow
+metadata:
+  generateName: exit-handler-slack-
+spec:
+  entrypoint: say-hello
+  onExit: exit-handler
+  templates:
+  - name: say-hello
+    container:
+      image: alpine:latest
+      command: [sh, -c]
+      args: ["echo hello"]
+
+  - name: exit-handler
+    container:
+      image: curlimages/curl
+      command: [sh, -c]
+      args: [
+        "curl -X POST --data-urlencode 'payload={
+          \"text\": \"{{workflow.name}} finished\",
+          \"blocks\": [
+            {
+              \"type\": \"section\",
+              \"text\": {
+                \"type\": \"mrkdwn\",
+                \"text\": \"Workflow {{workflow.name}} {{workflow.status}}\",
+              }
+            }
+          ]
+        }'
+        YOUR_WEBHOOK_URL_HERE"
+      ]

From f1c188f3eba61421a37dfcaea68e7e9f61f5842a Mon Sep 17 00:00:00 2001
From: Andrey Melnikov <vafilor@gmail.com>
Date: Mon, 30 Aug 2021 14:34:22 -0700
Subject: [PATCH 077/137] fix: Argo Workflow specs link to not go to raw
 content (#6624)

Signed-off-by: Andrey Melnikov <vafilor@gmail.com>
---
 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/README.md b/README.md
index 72c1a3cc02be..13bdb11b7199 100644
--- a/README.md
+++ b/README.md
@@ -79,7 +79,7 @@ kubectl apply -n argo -f https://raw.githubusercontent.com/argoproj/argo-workflo
 ## Documentation
 
 * [Get started here](docs/quick-start.md)
-* [How to write Argo Workflow specs](https://raw.githubusercontent.com/argoproj/argo-workflows/master/examples/README.md)
+* [How to write Argo Workflow specs](https://github.com/argoproj/argo-workflows/blob/master/examples/README.md)
 * [How to configure your artifact repository](docs/configure-artifact-repository.md)
 
 ## Features

From d4fe87356e8551e956c91d2d8ede702f913202b2 Mon Sep 17 00:00:00 2001
From: Curtis Vogt <curtis.vogt@gmail.com>
Date: Mon, 30 Aug 2021 20:13:25 -0500
Subject: [PATCH 078/137] ci: Build Docker manifest with complete dep list
 (#6621)

Signed-off-by: Curtis Vogt <curtis.vogt@gmail.com>
---
 .github/workflows/release.yaml | 47 ++--------------------------------
 1 file changed, 2 insertions(+), 45 deletions(-)

diff --git a/.github/workflows/release.yaml b/.github/workflows/release.yaml
index 83f4ea6a2e56..4db697f02799 100644
--- a/.github/workflows/release.yaml
+++ b/.github/workflows/release.yaml
@@ -190,55 +190,11 @@ jobs:
             docker push quay.io/$image_name
           done
 
-  push-linux-amd64-images:
-    name: Push manifest with linux/amd64
-    if: github.repository == 'argoproj/argo-workflows'
-    runs-on: ubuntu-20.04
-    needs: [ build-linux-amd64 ]
-    steps:
-      - uses: actions/checkout@v2
-      - name: Docker Login
-        uses: Azure/docker-login@v1
-        with:
-          username: ${{ secrets.DOCKERIO_USERNAME }}
-          password: ${{ secrets.DOCKERIO_PASSWORD }}
-
-      - name: Login to Quay
-        uses: Azure/docker-login@v1
-        with:
-          login-server: quay.io
-          username: ${{ secrets.QUAYIO_USERNAME }}
-          password: ${{ secrets.QUAYIO_PASSWORD }}
-
-      - name: Push Multiarch Image
-        env:
-          DOCKERIO_ORG: ${{ secrets.DOCKERIO_ORG }}
-        run: |
-          echo $(jq -c '. + { "experimental": "enabled" }' ${DOCKER_CONFIG}/config.json) > ${DOCKER_CONFIG}/config.json
-
-          docker_org=$DOCKERIO_ORG
-
-          tag=$(basename $GITHUB_REF)
-          if [ $tag = "master" ]; then
-            tag="latest"
-          fi
-
-          targets="workflow-controller argoexec argocli"
-          for target in $targets; do
-            image_name="${docker_org}/${target}:${tag}"
-
-            docker manifest create $image_name ${image_name}-linux-amd64
-            docker manifest create quay.io/$image_name quay.io/${image_name}-linux-amd64
-
-            docker manifest push $image_name
-            docker manifest push quay.io/$image_name
-          done
-
   push-images:
     name: Push manifest with all images
     if: github.repository == 'argoproj/argo-workflows'
     runs-on: ubuntu-20.04
-    needs: [ build-linux-arm64, build-windows, push-linux-amd64-images ]
+    needs: [ build-linux-amd64, build-linux-arm64, build-windows ]
     steps:
       - uses: actions/checkout@v2
       - name: Docker Login
@@ -282,6 +238,7 @@ jobs:
             docker manifest push $image_name
             docker manifest push quay.io/$image_name
           done
+
   test-images-linux-amd64:
     name: Try pulling linux/amd64
     if: github.repository == 'argoproj/argo-workflows'

From 51307e11ede253be6231dd007565fcc98ccc564b Mon Sep 17 00:00:00 2001
From: Alex Collins <alexec@users.noreply.github.com>
Date: Mon, 30 Aug 2021 18:57:55 -0700
Subject: [PATCH 079/137] fix: Upgrade Dataflow to v0.0.96 (#6622)

Signed-off-by: Alex Collins <alex_collins@intuit.com>
---
 api/jsonschema/schema.json                    |   4 +
 api/openapi-spec/swagger.json                 |   4 +
 go.mod                                        |   2 +-
 go.sum                                        |   4 +-
 ui/src/models/step.ts                         |   4 +-
 .../ui-dag-parameter-aggregation-empty.yaml   |   0
 {test/e2e => ui/test}/ui/ui-dag-retries.yaml  |   0
 .../test}/ui/ui-dag-with-params.yaml          |   0
 {test/e2e => ui/test}/ui/ui-nested-steps.yaml |   0
 .../ui/ui-parameter-aggregation-empty.yaml    |   0
 {test/e2e => ui/test}/ui/ui-pipeline.yaml     |   6 +-
 .../test}/ui/ui-render-many-nodex.yaml        |   0
 .../e2e => ui/test}/ui/ui-wacky-workflow.yaml | 256 +++++++++---------
 .../e2e => ui/test}/ui/ui-workflow-error.yaml |   0
 14 files changed, 145 insertions(+), 135 deletions(-)
 rename {test/e2e => ui/test}/ui/ui-dag-parameter-aggregation-empty.yaml (100%)
 rename {test/e2e => ui/test}/ui/ui-dag-retries.yaml (100%)
 rename {test/e2e => ui/test}/ui/ui-dag-with-params.yaml (100%)
 rename {test/e2e => ui/test}/ui/ui-nested-steps.yaml (100%)
 rename {test/e2e => ui/test}/ui/ui-parameter-aggregation-empty.yaml (100%)
 rename {test/e2e => ui/test}/ui/ui-pipeline.yaml (96%)
 rename {test/e2e => ui/test}/ui/ui-render-many-nodex.yaml (100%)
 rename {test/e2e => ui/test}/ui/ui-wacky-workflow.yaml (96%)
 rename {test/e2e => ui/test}/ui/ui-workflow-error.yaml (100%)

diff --git a/api/jsonschema/schema.json b/api/jsonschema/schema.json
index 8865257a1735..6833ef913740 100644
--- a/api/jsonschema/schema.json
+++ b/api/jsonschema/schema.json
@@ -496,6 +496,10 @@
         "total": {
           "format": "uint64",
           "type": "string"
+        },
+        "totalBytes": {
+          "format": "uint64",
+          "type": "string"
         }
       },
       "type": "object"
diff --git a/api/openapi-spec/swagger.json b/api/openapi-spec/swagger.json
index cedc0b590b1c..fe3c641dc28a 100644
--- a/api/openapi-spec/swagger.json
+++ b/api/openapi-spec/swagger.json
@@ -4481,6 +4481,10 @@
         "total": {
           "type": "string",
           "format": "uint64"
+        },
+        "totalBytes": {
+          "type": "string",
+          "format": "uint64"
         }
       }
     },
diff --git a/go.mod b/go.mod
index 5d6974c946c3..a7259944d6db 100644
--- a/go.mod
+++ b/go.mod
@@ -9,7 +9,7 @@ require (
 	github.com/TwinProduction/go-color v0.0.3
 	github.com/aliyun/aliyun-oss-go-sdk v2.1.8+incompatible
 	github.com/antonmedv/expr v1.8.9
-	github.com/argoproj-labs/argo-dataflow v0.0.91
+	github.com/argoproj-labs/argo-dataflow v0.0.96
 	github.com/argoproj/argo-events v1.4.0
 	github.com/argoproj/pkg v0.11.0
 	github.com/baiyubin/aliyun-sts-go-sdk v0.0.0-20180326062324-cfa1a18b161f // indirect
diff --git a/go.sum b/go.sum
index 63729dab2eba..edf330460d11 100644
--- a/go.sum
+++ b/go.sum
@@ -157,8 +157,8 @@ github.com/apache/thrift v0.12.0/go.mod h1:cp2SuWMxlEZw2r+iP2GNCdIi4C1qmUzdZFSVb
 github.com/apache/thrift v0.13.0/go.mod h1:cp2SuWMxlEZw2r+iP2GNCdIi4C1qmUzdZFSVb+bacwQ=
 github.com/ardielle/ardielle-go v1.5.2/go.mod h1:I4hy1n795cUhaVt/ojz83SNVCYIGsAFAONtv2Dr7HUI=
 github.com/ardielle/ardielle-tools v1.5.4/go.mod h1:oZN+JRMnqGiIhrzkRN9l26Cej9dEx4jeNG6A+AdkShk=
-github.com/argoproj-labs/argo-dataflow v0.0.91 h1:1YWbvGupcWInj4Jtdgsdci48GJEwv0WP4Bm7CVxXkew=
-github.com/argoproj-labs/argo-dataflow v0.0.91/go.mod h1:HOdmu21+Xx59R28S8+e+wMx+/ApHWNtglPqLvgLRI2E=
+github.com/argoproj-labs/argo-dataflow v0.0.96 h1:HjAbvCCxp9aKIxzzZ4wjiOcFUI611BlOHkOVoItypYw=
+github.com/argoproj-labs/argo-dataflow v0.0.96/go.mod h1:HOdmu21+Xx59R28S8+e+wMx+/ApHWNtglPqLvgLRI2E=
 github.com/argoproj/argo-events v1.4.0 h1:RIzAOomP/4rnv3X6KIDKzXZJ56JKFxSYmksoE98ILWI=
 github.com/argoproj/argo-events v1.4.0/go.mod h1:wI5A0U3Wj9ZvfPn3ioL18Dz29+7aibtlyU9pS0Ry+bg=
 github.com/argoproj/pkg v0.9.0/go.mod h1:ra+bQPmbVAoEL+gYSKesuigt4m49i3Qa3mE/xQcjCiA=
diff --git a/ui/src/models/step.ts b/ui/src/models/step.ts
index 9d6f33ff792e..d725dccbe71f 100644
--- a/ui/src/models/step.ts
+++ b/ui/src/models/step.ts
@@ -16,11 +16,11 @@ export interface Step {
         container?: {};
         dedupe?: {};
         expand?: {};
-        filter?: string;
+        filter?: {};
         flatten?: {};
         git?: {};
         group?: {};
-        map?: string;
+        map?: {};
         split?: {};
         sources: {
             name?: string;
diff --git a/test/e2e/ui/ui-dag-parameter-aggregation-empty.yaml b/ui/test/ui/ui-dag-parameter-aggregation-empty.yaml
similarity index 100%
rename from test/e2e/ui/ui-dag-parameter-aggregation-empty.yaml
rename to ui/test/ui/ui-dag-parameter-aggregation-empty.yaml
diff --git a/test/e2e/ui/ui-dag-retries.yaml b/ui/test/ui/ui-dag-retries.yaml
similarity index 100%
rename from test/e2e/ui/ui-dag-retries.yaml
rename to ui/test/ui/ui-dag-retries.yaml
diff --git a/test/e2e/ui/ui-dag-with-params.yaml b/ui/test/ui/ui-dag-with-params.yaml
similarity index 100%
rename from test/e2e/ui/ui-dag-with-params.yaml
rename to ui/test/ui/ui-dag-with-params.yaml
diff --git a/test/e2e/ui/ui-nested-steps.yaml b/ui/test/ui/ui-nested-steps.yaml
similarity index 100%
rename from test/e2e/ui/ui-nested-steps.yaml
rename to ui/test/ui/ui-nested-steps.yaml
diff --git a/test/e2e/ui/ui-parameter-aggregation-empty.yaml b/ui/test/ui/ui-parameter-aggregation-empty.yaml
similarity index 100%
rename from test/e2e/ui/ui-parameter-aggregation-empty.yaml
rename to ui/test/ui/ui-parameter-aggregation-empty.yaml
diff --git a/test/e2e/ui/ui-pipeline.yaml b/ui/test/ui/ui-pipeline.yaml
similarity index 96%
rename from test/e2e/ui/ui-pipeline.yaml
rename to ui/test/ui/ui-pipeline.yaml
index 10f36c92aeca..20fbef357a67 100644
--- a/test/e2e/ui/ui-pipeline.yaml
+++ b/ui/test/ui/ui-pipeline.yaml
@@ -83,7 +83,8 @@ spec:
           stan:
             subject: output-subject
     - name: filter
-      filter: "true"
+      filter:
+        expression: "true"
       sources:
         - stan:
             subject: event-bus
@@ -98,7 +99,8 @@ spec:
             actions:
               - sql: "select 1"
     - name: map
-      map: "true"
+      map:
+        expression: "true"
       sources:
         - stan:
             subject: event-bus
diff --git a/test/e2e/ui/ui-render-many-nodex.yaml b/ui/test/ui/ui-render-many-nodex.yaml
similarity index 100%
rename from test/e2e/ui/ui-render-many-nodex.yaml
rename to ui/test/ui/ui-render-many-nodex.yaml
diff --git a/test/e2e/ui/ui-wacky-workflow.yaml b/ui/test/ui/ui-wacky-workflow.yaml
similarity index 96%
rename from test/e2e/ui/ui-wacky-workflow.yaml
rename to ui/test/ui/ui-wacky-workflow.yaml
index 59add4e2ce0b..23d3a91e6eff 100644
--- a/test/e2e/ui/ui-wacky-workflow.yaml
+++ b/ui/test/ui/ui-wacky-workflow.yaml
@@ -1,128 +1,128 @@
-apiVersion: argoproj.io/v1alpha1
-kind: Workflow
-metadata:
-  generateName: loops-param-result-
-spec:
-  entrypoint: loop-param-result-example
-  templates:
-  - name: loop-param-result-example
-    dag:
-      tasks:
-      - name: start
-        template: sleep-n-sec
-        arguments:
-          parameters:
-          - name: seconds
-            value: 1
-      - name: generate1
-        template: gen-number-list1
-        dependencies:
-          - start
-      - name: generate2
-        template: gen-number-list2
-        dependencies:
-          - start
-      - name: generate3
-        template: gen-number-list3
-        dependencies:
-          - start
-    # Iterate over the list of numbers generated by the generate step above
-      - name: sleep1
-        template: sleep-n-sec-then-echo
-        arguments:
-          parameters:
-          - name: seconds
-            value: "{{item}}"
-        withParam: "{{tasks.generate1.outputs.result}}"
-        dependencies:
-          - generate1
-      - name: sleep2
-        template: sleep-n-sec-then-echo
-        arguments:
-          parameters:
-          - name: seconds
-            value: "{{item}}"
-        withParam: "{{tasks.generate2.outputs.result}}"
-        dependencies:
-          - generate2
-      - name: wait-before-sleep3
-        template: sleep-n-sec
-        arguments:
-          parameters:
-          - name: seconds
-            value: 3
-        dependencies:
-          - generate3
-      - name: sleep3
-        template: sleep-n-sec-then-echo
-        arguments:
-          parameters:
-          - name: seconds
-            value: "{{item}}"
-        withParam: "{{tasks.generate3.outputs.result}}"
-        dependencies:
-          - wait-before-sleep3
-
-  # Generate a list of numbers in JSON format
-  - name: gen-number-list1
-    script:
-      image: python:alpine3.6
-      command: [python]
-      source: |
-        import json
-        import sys
-        json.dump([i for i in range(1, 10)], sys.stdout)
-  
-  - name: gen-number-list2
-    script:
-      image: python:alpine3.6
-      command: [python]
-      source: |
-        import json
-        import sys
-        json.dump([i for i in range(1, 6)], sys.stdout)
-  
-  - name: gen-number-list3
-    script:
-      image: python:alpine3.6
-      command: [python]
-      source: |
-        import json
-        import sys
-        json.dump([i for i in range(1, 20)], sys.stdout)
-  
-  - name: sleep-n-sec-then-echo
-    inputs:
-      parameters:
-      - name: seconds
-    steps:
-    - - name: sleeping
-        template: sleep-n-sec
-        arguments:
-          parameters:
-          - name: seconds
-            value: "{{inputs.parameters.seconds}}"
-    - - name: echoing
-        template: echo-n-sec
-        arguments:
-          parameters:
-          - name: seconds
-            value: "{{inputs.parameters.seconds}}"
-
-  - name: sleep-n-sec
-    inputs:
-      parameters:
-      - name: seconds
-    container:
-      image: alpine:latest
-      command: [sh, -c]
-      args: ["echo sleeping for {{inputs.parameters.seconds}} seconds; sleep {{inputs.parameters.seconds}}; echo done"]
-  
-  - name: echo-n-sec
-    inputs:
-      parameters:
-      - name: seconds
-    container:
-      image: alpine:latest
-      command: [sh, -c]
-      args: ["echo input was {{inputs.parameters.seconds}} seconds; echo done"]
+apiVersion: argoproj.io/v1alpha1
+kind: Workflow
+metadata:
+  generateName: loops-param-result-
+spec:
+  entrypoint: loop-param-result-example
+  templates:
+  - name: loop-param-result-example
+    dag:
+      tasks:
+      - name: start
+        template: sleep-n-sec
+        arguments:
+          parameters:
+          - name: seconds
+            value: 1
+      - name: generate1
+        template: gen-number-list1
+        dependencies:
+          - start
+      - name: generate2
+        template: gen-number-list2
+        dependencies:
+          - start
+      - name: generate3
+        template: gen-number-list3
+        dependencies:
+          - start
+    # Iterate over the list of numbers generated by the generate step above
+      - name: sleep1
+        template: sleep-n-sec-then-echo
+        arguments:
+          parameters:
+          - name: seconds
+            value: "{{item}}"
+        withParam: "{{tasks.generate1.outputs.result}}"
+        dependencies:
+          - generate1
+      - name: sleep2
+        template: sleep-n-sec-then-echo
+        arguments:
+          parameters:
+          - name: seconds
+            value: "{{item}}"
+        withParam: "{{tasks.generate2.outputs.result}}"
+        dependencies:
+          - generate2
+      - name: wait-before-sleep3
+        template: sleep-n-sec
+        arguments:
+          parameters:
+          - name: seconds
+            value: 3
+        dependencies:
+          - generate3
+      - name: sleep3
+        template: sleep-n-sec-then-echo
+        arguments:
+          parameters:
+          - name: seconds
+            value: "{{item}}"
+        withParam: "{{tasks.generate3.outputs.result}}"
+        dependencies:
+          - wait-before-sleep3
+
+  # Generate a list of numbers in JSON format
+  - name: gen-number-list1
+    script:
+      image: python:alpine3.6
+      command: [python]
+      source: |
+        import json
+        import sys
+        json.dump([i for i in range(1, 10)], sys.stdout)
+  
+  - name: gen-number-list2
+    script:
+      image: python:alpine3.6
+      command: [python]
+      source: |
+        import json
+        import sys
+        json.dump([i for i in range(1, 6)], sys.stdout)
+  
+  - name: gen-number-list3
+    script:
+      image: python:alpine3.6
+      command: [python]
+      source: |
+        import json
+        import sys
+        json.dump([i for i in range(1, 20)], sys.stdout)
+  
+  - name: sleep-n-sec-then-echo
+    inputs:
+      parameters:
+      - name: seconds
+    steps:
+    - - name: sleeping
+        template: sleep-n-sec
+        arguments:
+          parameters:
+          - name: seconds
+            value: "{{inputs.parameters.seconds}}"
+    - - name: echoing
+        template: echo-n-sec
+        arguments:
+          parameters:
+          - name: seconds
+            value: "{{inputs.parameters.seconds}}"
+
+  - name: sleep-n-sec
+    inputs:
+      parameters:
+      - name: seconds
+    container:
+      image: alpine:latest
+      command: [sh, -c]
+      args: ["echo sleeping for {{inputs.parameters.seconds}} seconds; sleep {{inputs.parameters.seconds}}; echo done"]
+  
+  - name: echo-n-sec
+    inputs:
+      parameters:
+      - name: seconds
+    container:
+      image: alpine:latest
+      command: [sh, -c]
+      args: ["echo input was {{inputs.parameters.seconds}} seconds; echo done"]
diff --git a/test/e2e/ui/ui-workflow-error.yaml b/ui/test/ui/ui-workflow-error.yaml
similarity index 100%
rename from test/e2e/ui/ui-workflow-error.yaml
rename to ui/test/ui/ui-workflow-error.yaml

From 563cd31959eda8dd9c39e96ed4beda0530da2909 Mon Sep 17 00:00:00 2001
From: Yuan Tang <terrytangyuan@gmail.com>
Date: Tue, 31 Aug 2021 11:22:58 -0400
Subject: [PATCH 080/137] docs: Fix incorrect link to examples (#6630)

Signed-off-by: Yuan Tang <terrytangyuan@gmail.com>
---
 mkdocs.yml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/mkdocs.yml b/mkdocs.yml
index 288c62ba642d..46ef44c67451 100644
--- a/mkdocs.yml
+++ b/mkdocs.yml
@@ -79,7 +79,7 @@ nav:
           - security.md
           - running-at-massive-scale.md
       - ide-setup.md
-      - Examples: https://raw.githubusercontent.com/argoproj/argo-workflows/master/examples/README.md
+      - Examples: https://github.com/argoproj/argo-workflows/blob/master/examples/README.md
       - Field Reference: fields.md
       - CLI Reference:
           - argo: cli/argo.md

From d8b90f2b89472f8dce9c134aeccd7cb70ee3b87b Mon Sep 17 00:00:00 2001
From: Saravanan Balasubramanian
 <33908564+sarabala1979@users.noreply.github.com>
Date: Tue, 31 Aug 2021 08:23:11 -0700
Subject: [PATCH 081/137] fix: Fixed typo in clusterrole (#6626)

Signed-off-by: Saravanan Balasubramanian <sarabala1979@gmail.com>
---
 .../workflow-controller-clusterrole.yaml                        | 2 +-
 manifests/install.yaml                                          | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/manifests/cluster-install/workflow-controller-rbac/workflow-controller-clusterrole.yaml b/manifests/cluster-install/workflow-controller-rbac/workflow-controller-clusterrole.yaml
index 13ba9d3f113c..da6421441f25 100644
--- a/manifests/cluster-install/workflow-controller-rbac/workflow-controller-clusterrole.yaml
+++ b/manifests/cluster-install/workflow-controller-rbac/workflow-controller-clusterrole.yaml
@@ -36,7 +36,7 @@ rules:
   - argoproj.io
   resources:
   - workflows
-  - workflows/finalizersfinalizersz
+  - workflows/finalizers
   - workflowtasksets
   - workflowtasksets/finalizers
   verbs:
diff --git a/manifests/install.yaml b/manifests/install.yaml
index 3ea08dc67983..d6d909475980 100644
--- a/manifests/install.yaml
+++ b/manifests/install.yaml
@@ -395,7 +395,7 @@ rules:
   - argoproj.io
   resources:
   - workflows
-  - workflows/finalizersfinalizersz
+  - workflows/finalizers
   - workflowtasksets
   - workflowtasksets/finalizers
   verbs:

From 64e5ab70c8010d104b4b7d5ac759765604735ea2 Mon Sep 17 00:00:00 2001
From: Alex Collins <alexec@users.noreply.github.com>
Date: Tue, 31 Aug 2021 11:04:38 -0700
Subject: [PATCH 082/137] build: Fix repository prefix (#6636)

Signed-off-by: Alex Collins <alex_collins@intuit.com>
---
 Makefile | 24 ++++++------------------
 Procfile |  2 +-
 2 files changed, 7 insertions(+), 19 deletions(-)

diff --git a/Makefile b/Makefile
index 035de0fb877a..ebf1d357398b 100644
--- a/Makefile
+++ b/Makefile
@@ -17,11 +17,12 @@ DEV_BRANCH            := $(shell [ $(GIT_BRANCH) = master ] || [ `echo $(GIT_BRA
 GREP_LOGS             := ""
 
 # docker image publishing options
-IMAGE_NAMESPACE       ?= argoproj
+IMAGE_NAMESPACE       ?= quay.io/argoproj
 DEV_IMAGE             ?= $(shell [ `uname -s` = Darwin ] && echo true || echo false)
 
 # The name of the namespace where Kubernetes resources/RBAC will be installed
 KUBE_NAMESPACE        ?= argo
+MANAGED_NAMESPACE     ?= $(KUBE_NAMESPACE)
 
 VERSION               := latest
 DOCKER_PUSH           := false
@@ -398,28 +399,15 @@ install:
 	kubectl get ns $(KUBE_NAMESPACE) || kubectl create ns $(KUBE_NAMESPACE)
 	kubectl config set-context --current --namespace=$(KUBE_NAMESPACE)
 	@echo "installing PROFILE=$(PROFILE), E2E_EXECUTOR=$(E2E_EXECUTOR)"
-	kubectl kustomize --load-restrictor=LoadRestrictionsNone test/e2e/manifests/$(PROFILE) | sed 's/argoproj\//$(IMAGE_NAMESPACE)\//' | sed 's/containerRuntimeExecutor: docker/containerRuntimeExecutor: $(E2E_EXECUTOR)/' | kubectl -n $(KUBE_NAMESPACE) apply --prune -l app.kubernetes.io/part-of=argo -f -
+	kubectl kustomize --load-restrictor=LoadRestrictionsNone test/e2e/manifests/$(PROFILE) | sed 's|quay.io/argoproj/|$(IMAGE_NAMESPACE)/|' | sed 's/containerRuntimeExecutor: docker/containerRuntimeExecutor: $(E2E_EXECUTOR)/' | sed 's/namespace: argo/namespace: $(KUBE_NAMESPACE)/' | kubectl -n $(KUBE_NAMESPACE) apply --prune -l app.kubernetes.io/part-of=argo -f -
 ifeq ($(PROFILE),stress)
 	kubectl -n $(KUBE_NAMESPACE) apply -f test/stress/massive-workflow.yaml
 endif
 ifeq ($(RUN_MODE),kubernetes)
-	# scale to 2 replicas so we touch upon leader election
-	kubectl -n $(KUBE_NAMESPACE) scale deploy/workflow-controller --replicas 2
+	kubectl -n $(KUBE_NAMESPACE) scale deploy/workflow-controller --replicas 1
 	kubectl -n $(KUBE_NAMESPACE) scale deploy/argo-server --replicas 1
 endif
 
-# nuke is like "clean" but attempts to return you to a state as if it had never been installed at all
-# this only available in "safe" local development
-ifeq (true,$(filter true, $(DOCKER_DESKTOP) $(K3D)))
-nuke:
-	kubectl delete --ignore-not-found workflow,cronworkflow,clusterworkflowtemplate,workflowtemplate,workfloweventbinding --all || true
-	kubectl delete --ignore-not-found ns argo
-	kubectl delete --ignore-not-found -k manifests/base/crds/minimal
-	git clean -fxd
-	docker image rm argoproj/argoexec argoproj/argocli argoproj/workflow-controller || true
-	docker system prune -f
-endif
-
 .PHONY: argosay
 argosay:
 	cd test/e2e/images/argosay/v2 && docker build . -t argoproj/argosay:v2
@@ -452,7 +440,7 @@ start: install controller cli $(GOPATH)/bin/goreman
 else
 start: install
 endif
-	@echo "starting STATIC_FILES=$(STATIC_FILES) (DEV_BRANCH=$(DEV_BRANCH), GIT_BRANCH=$(GIT_BRANCH)), AUTH_MODE=$(AUTH_MODE), RUN_MODE=$(RUN_MODE)"
+	@echo "starting STATIC_FILES=$(STATIC_FILES) (DEV_BRANCH=$(DEV_BRANCH), GIT_BRANCH=$(GIT_BRANCH)), AUTH_MODE=$(AUTH_MODE), RUN_MODE=$(RUN_MODE), MANAGED_NAMESPACE=$(MANAGED_NAMESPACE)"
 	# Check dex, minio, postgres and mysql are in hosts file
 ifeq ($(AUTH_MODE),sso)
 	grep '127.0.0.1[[:blank:]]*dex' /etc/hosts
@@ -462,7 +450,7 @@ endif
 	grep '127.0.0.1[[:blank:]]*mysql' /etc/hosts
 	./hack/port-forward.sh
 ifeq ($(RUN_MODE),local)
-	env DEFAULT_REQUEUE_TIME=$(DEFAULT_REQUEUE_TIME) SECURE=$(SECURE) ALWAYS_OFFLOAD_NODE_STATUS=$(ALWAYS_OFFLOAD_NODE_STATUS) LOG_LEVEL=$(LOG_LEVEL) UPPERIO_DB_DEBUG=$(UPPERIO_DB_DEBUG) IMAGE_NAMESPACE=$(IMAGE_NAMESPACE) VERSION=$(VERSION) AUTH_MODE=$(AUTH_MODE) NAMESPACED=$(NAMESPACED) NAMESPACE=$(KUBE_NAMESPACE) UI=$(UI) $(GOPATH)/bin/goreman -set-ports=false -logtime=false start $(shell if [ -z $GREP_LOGS ]; then echo; else echo "| grep \"$(GREP_LOGS)\""; fi)
+	env DEFAULT_REQUEUE_TIME=$(DEFAULT_REQUEUE_TIME) SECURE=$(SECURE) ALWAYS_OFFLOAD_NODE_STATUS=$(ALWAYS_OFFLOAD_NODE_STATUS) LOG_LEVEL=$(LOG_LEVEL) UPPERIO_DB_DEBUG=$(UPPERIO_DB_DEBUG) IMAGE_NAMESPACE=$(IMAGE_NAMESPACE) VERSION=$(VERSION) AUTH_MODE=$(AUTH_MODE) NAMESPACED=$(NAMESPACED) NAMESPACE=$(KUBE_NAMESPACE) MANAGED_NAMESPACE=$(MANAGED_NAMESPACE) UI=$() $(GOPATH)/bin/goreman -set-ports=false -logtime=false start $(shell if [ -z $GREP_LOGS ]; then echo; else echo "| grep \"$(GREP_LOGS)\""; fi)
 endif
 
 $(GOPATH)/bin/stern:
diff --git a/Procfile b/Procfile
index 5d6dcbd7e5bb..4a552479581c 100644
--- a/Procfile
+++ b/Procfile
@@ -1,4 +1,4 @@
-controller: ./hack/free-port.sh 9090 && DEFAULT_REQUEUE_TIME=${DEFAULT_REQUEUE_TIME} LEADER_ELECTION_IDENTITY=local ALWAYS_OFFLOAD_NODE_STATUS=${ALWAYS_OFFLOAD_NODE_STATUS} OFFLOAD_NODE_STATUS_TTL=30s WORKFLOW_GC_PERIOD=30s UPPERIO_DB_DEBUG=${UPPERIO_DB_DEBUG} ARCHIVED_WORKFLOW_GC_PERIOD=30s ./dist/workflow-controller --executor-image ${IMAGE_NAMESPACE}/argoexec:${VERSION} --namespaced=${NAMESPACED} --namespace ${NAMESPACE} --loglevel ${LOG_LEVEL}
+controller: ./hack/free-port.sh 9090 && DEFAULT_REQUEUE_TIME=${DEFAULT_REQUEUE_TIME} LEADER_ELECTION_IDENTITY=local ALWAYS_OFFLOAD_NODE_STATUS=${ALWAYS_OFFLOAD_NODE_STATUS} OFFLOAD_NODE_STATUS_TTL=30s WORKFLOW_GC_PERIOD=30s UPPERIO_DB_DEBUG=${UPPERIO_DB_DEBUG} ARCHIVED_WORKFLOW_GC_PERIOD=30s ./dist/workflow-controller --executor-image ${IMAGE_NAMESPACE}/argoexec:${VERSION} --namespaced=${NAMESPACED} --namespace ${NAMESPACE} --managed-namespace=${MANAGED_NAMESPACE} --loglevel ${LOG_LEVEL}
 argo-server: ./hack/free-port.sh 2746 && UPPERIO_DB_DEBUG=${UPPERIO_DB_DEBUG} ./dist/argo --loglevel ${LOG_LEVEL} server --namespaced=${NAMESPACED} --namespace ${NAMESPACE} --auth-mode ${AUTH_MODE} --secure=$SECURE --x-frame-options=SAMEORIGIN
 ui: [ "$UI" = "true" ] && ./hack/free-port.sh 8080 && yarn --cwd ui install && yarn --cwd ui start
 logs: make logs
\ No newline at end of file

From 91abb47db3c8ad20fac80914f1961842bc64a0b9 Mon Sep 17 00:00:00 2001
From: Alex Collins <alexec@users.noreply.github.com>
Date: Tue, 31 Aug 2021 12:03:53 -0700
Subject: [PATCH 083/137] feat: Upgrade dataflow to v0.0.98 (#6637)

Signed-off-by: Alex Collins <alex_collins@intuit.com>
---
 api/jsonschema/schema.json    | 23 +++++++++++++++++++++--
 api/openapi-spec/swagger.json | 23 +++++++++++++++++++++--
 go.mod                        |  2 +-
 go.sum                        |  4 ++--
 4 files changed, 45 insertions(+), 7 deletions(-)

diff --git a/api/jsonschema/schema.json b/api/jsonschema/schema.json
index 6833ef913740..37511fb51bc3 100644
--- a/api/jsonschema/schema.json
+++ b/api/jsonschema/schema.json
@@ -77,6 +77,9 @@
         },
         "secretAccessKey": {
           "$ref": "#/definitions/io.k8s.api.core.v1.SecretKeySelector"
+        },
+        "sessionToken": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.SecretKeySelector"
         }
       },
       "type": "object"
@@ -266,6 +269,14 @@
     "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Expand": {
       "type": "object"
     },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Filter": {
+      "properties": {
+        "expression": {
+          "type": "string"
+        }
+      },
+      "type": "object"
+    },
     "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Flatten": {
       "type": "object"
     },
@@ -462,6 +473,14 @@
       },
       "type": "object"
     },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Map": {
+      "properties": {
+        "expression": {
+          "type": "string"
+        }
+      },
+      "type": "object"
+    },
     "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Metadata": {
       "properties": {
         "annotations": {
@@ -843,7 +862,7 @@
           "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Expand"
         },
         "filter": {
-          "type": "string"
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Filter"
         },
         "flatten": {
           "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Flatten"
@@ -862,7 +881,7 @@
           "type": "array"
         },
         "map": {
-          "type": "string"
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Map"
         },
         "metadata": {
           "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Metadata"
diff --git a/api/openapi-spec/swagger.json b/api/openapi-spec/swagger.json
index fe3c641dc28a..0f49b3388f18 100644
--- a/api/openapi-spec/swagger.json
+++ b/api/openapi-spec/swagger.json
@@ -4062,6 +4062,9 @@
         },
         "secretAccessKey": {
           "$ref": "#/definitions/io.k8s.api.core.v1.SecretKeySelector"
+        },
+        "sessionToken": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.SecretKeySelector"
         }
       }
     },
@@ -4250,6 +4253,14 @@
     "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Expand": {
       "type": "object"
     },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Filter": {
+      "type": "object",
+      "properties": {
+        "expression": {
+          "type": "string"
+        }
+      }
+    },
     "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Flatten": {
       "type": "object"
     },
@@ -4446,6 +4457,14 @@
         }
       }
     },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Map": {
+      "type": "object",
+      "properties": {
+        "expression": {
+          "type": "string"
+        }
+      }
+    },
     "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Metadata": {
       "type": "object",
       "properties": {
@@ -4828,7 +4847,7 @@
           "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Expand"
         },
         "filter": {
-          "type": "string"
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Filter"
         },
         "flatten": {
           "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Flatten"
@@ -4847,7 +4866,7 @@
           }
         },
         "map": {
-          "type": "string"
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Map"
         },
         "metadata": {
           "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Metadata"
diff --git a/go.mod b/go.mod
index a7259944d6db..51205995444a 100644
--- a/go.mod
+++ b/go.mod
@@ -9,7 +9,7 @@ require (
 	github.com/TwinProduction/go-color v0.0.3
 	github.com/aliyun/aliyun-oss-go-sdk v2.1.8+incompatible
 	github.com/antonmedv/expr v1.8.9
-	github.com/argoproj-labs/argo-dataflow v0.0.96
+	github.com/argoproj-labs/argo-dataflow v0.0.98
 	github.com/argoproj/argo-events v1.4.0
 	github.com/argoproj/pkg v0.11.0
 	github.com/baiyubin/aliyun-sts-go-sdk v0.0.0-20180326062324-cfa1a18b161f // indirect
diff --git a/go.sum b/go.sum
index edf330460d11..42f1503de96d 100644
--- a/go.sum
+++ b/go.sum
@@ -157,8 +157,8 @@ github.com/apache/thrift v0.12.0/go.mod h1:cp2SuWMxlEZw2r+iP2GNCdIi4C1qmUzdZFSVb
 github.com/apache/thrift v0.13.0/go.mod h1:cp2SuWMxlEZw2r+iP2GNCdIi4C1qmUzdZFSVb+bacwQ=
 github.com/ardielle/ardielle-go v1.5.2/go.mod h1:I4hy1n795cUhaVt/ojz83SNVCYIGsAFAONtv2Dr7HUI=
 github.com/ardielle/ardielle-tools v1.5.4/go.mod h1:oZN+JRMnqGiIhrzkRN9l26Cej9dEx4jeNG6A+AdkShk=
-github.com/argoproj-labs/argo-dataflow v0.0.96 h1:HjAbvCCxp9aKIxzzZ4wjiOcFUI611BlOHkOVoItypYw=
-github.com/argoproj-labs/argo-dataflow v0.0.96/go.mod h1:HOdmu21+Xx59R28S8+e+wMx+/ApHWNtglPqLvgLRI2E=
+github.com/argoproj-labs/argo-dataflow v0.0.98 h1:RFWehxNRYaFBGTHqJMDW6RnsokgwPxYhlLYIgHZD02g=
+github.com/argoproj-labs/argo-dataflow v0.0.98/go.mod h1:HOdmu21+Xx59R28S8+e+wMx+/ApHWNtglPqLvgLRI2E=
 github.com/argoproj/argo-events v1.4.0 h1:RIzAOomP/4rnv3X6KIDKzXZJ56JKFxSYmksoE98ILWI=
 github.com/argoproj/argo-events v1.4.0/go.mod h1:wI5A0U3Wj9ZvfPn3ioL18Dz29+7aibtlyU9pS0Ry+bg=
 github.com/argoproj/pkg v0.9.0/go.mod h1:ra+bQPmbVAoEL+gYSKesuigt4m49i3Qa3mE/xQcjCiA=

From 20cb10fa1de3e2c8fe1d565a951cb5d5bdc4f4a7 Mon Sep 17 00:00:00 2001
From: Alex Collins <alexec@users.noreply.github.com>
Date: Wed, 1 Sep 2021 07:57:12 -0700
Subject: [PATCH 084/137] docs: correct https://bit.ly/book-30m-with-argo-team
 URL

---
 .github/ISSUE_TEMPLATE/config.yml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/.github/ISSUE_TEMPLATE/config.yml b/.github/ISSUE_TEMPLATE/config.yml
index 821debad9fad..259837a4a2f9 100644
--- a/.github/ISSUE_TEMPLATE/config.yml
+++ b/.github/ISSUE_TEMPLATE/config.yml
@@ -11,5 +11,5 @@ contact_links:
     url: https://argoproj.github.io/community/join-slack
     about: Maybe chatting with the community can help
   - name: 30m to talk anything Argo
-    url: https://calendly.com/argoproj/30m
+    url: https://bit.ly/book-30m-with-argo-team
     about: Sign-up for 30m with the core Argo engineers

From 6d46fd9f881a337b5b3d34d62e71d9b56ba05b1a Mon Sep 17 00:00:00 2001
From: Yuan Tang <terrytangyuan@gmail.com>
Date: Wed, 1 Sep 2021 11:56:03 -0400
Subject: [PATCH 085/137] feat(controller): Add a shared index informer for
 ConfigMaps (#6644)

Signed-off-by: Yuan Tang <terrytangyuan@gmail.com>
---
 workflow/controller/controller.go             | 14 +++++++++++
 .../controller/indexes/configmap_index.go     | 16 ++++++++++++
 .../indexes/configmap_index_test.go           | 25 +++++++++++++++++++
 workflow/controller/indexes/indexes.go        |  1 +
 4 files changed, 56 insertions(+)
 create mode 100644 workflow/controller/indexes/configmap_index.go
 create mode 100644 workflow/controller/indexes/configmap_index_test.go

diff --git a/workflow/controller/controller.go b/workflow/controller/controller.go
index 0b9111637ca8..870fd5919b1d 100644
--- a/workflow/controller/controller.go
+++ b/workflow/controller/controller.go
@@ -9,6 +9,8 @@ import (
 	"syscall"
 	"time"
 
+	v1 "k8s.io/client-go/informers/core/v1"
+
 	"github.com/argoproj/pkg/errors"
 	syncpkg "github.com/argoproj/pkg/sync"
 	log "github.com/sirupsen/logrus"
@@ -94,6 +96,7 @@ type WorkflowController struct {
 	wftmplInformer        wfextvv1alpha1.WorkflowTemplateInformer
 	cwftmplInformer       wfextvv1alpha1.ClusterWorkflowTemplateInformer
 	podInformer           cache.SharedIndexInformer
+	configMapInformer     cache.SharedIndexInformer
 	wfQueue               workqueue.RateLimitingInterface
 	podQueue              workqueue.RateLimitingInterface
 	podCleanupQueue       workqueue.RateLimitingInterface // pods to be deleted or labelled depend on GC strategy
@@ -215,6 +218,8 @@ func (wfc *WorkflowController) Run(ctx context.Context, wfWorkers, workflowTTLWo
 	wfc.podInformer = wfc.newPodInformer(ctx)
 	wfc.updateEstimatorFactory()
 
+	wfc.configMapInformer = wfc.newConfigMapInformer()
+
 	// Create Synchronization Manager
 	wfc.createSynchronizationManager(ctx)
 	// init managers: throttler and SynchronizationManager
@@ -227,6 +232,7 @@ func (wfc *WorkflowController) Run(ctx context.Context, wfWorkers, workflowTTLWo
 	go wfc.wfInformer.Run(ctx.Done())
 	go wfc.wftmplInformer.Informer().Run(ctx.Done())
 	go wfc.podInformer.Run(ctx.Done())
+	go wfc.configMapInformer.Run(ctx.Done())
 	go wfc.wfTaskSetInformer.Informer().Run(ctx.Done())
 
 	// Wait for all involved caches to be synced, before processing items from the queue is started
@@ -1062,6 +1068,14 @@ func (wfc *WorkflowController) newPodInformer(ctx context.Context) cache.SharedI
 	return informer
 }
 
+func (wfc *WorkflowController) newConfigMapInformer() cache.SharedIndexInformer {
+	return v1.NewFilteredConfigMapInformer(wfc.kubeclientset, wfc.GetManagedNamespace(), 20*time.Minute, cache.Indexers{
+		indexes.ConfigMapLabelsIndex: indexes.ConfigMapIndexFunc,
+	}, func(opts *metav1.ListOptions) {
+		opts.LabelSelector = indexes.ConfigMapTypeLabel
+	})
+}
+
 // call this func whenever the configuration changes, or when the workflow informer changes
 func (wfc *WorkflowController) updateEstimatorFactory() {
 	wfc.estimatorFactory = estimation.NewEstimatorFactory(wfc.wfInformer, wfc.hydrator, wfc.wfArchive)
diff --git a/workflow/controller/indexes/configmap_index.go b/workflow/controller/indexes/configmap_index.go
new file mode 100644
index 000000000000..f9b19e9f7e25
--- /dev/null
+++ b/workflow/controller/indexes/configmap_index.go
@@ -0,0 +1,16 @@
+package indexes
+
+import (
+	corev1 "k8s.io/api/core/v1"
+)
+
+const ConfigMapTypeLabel = "workflows.argoproj.io/configmap-type"
+
+func ConfigMapIndexFunc(obj interface{}) ([]string, error) {
+	cm, ok := obj.(*corev1.ConfigMap)
+
+	if !ok {
+		return nil, nil
+	}
+	return []string{cm.GetLabels()[ConfigMapTypeLabel]}, nil
+}
diff --git a/workflow/controller/indexes/configmap_index_test.go b/workflow/controller/indexes/configmap_index_test.go
new file mode 100644
index 000000000000..46fe5cc61bc1
--- /dev/null
+++ b/workflow/controller/indexes/configmap_index_test.go
@@ -0,0 +1,25 @@
+package indexes
+
+import (
+	"testing"
+
+	metav1 "k8s.io/apimachinery/pkg/apis/meta/v1"
+
+	"github.com/stretchr/testify/assert"
+	corev1 "k8s.io/api/core/v1"
+)
+
+func TestConfigMapIndexFunc(t *testing.T) {
+	t.Run("NoLabel", func(t *testing.T) {
+		values, err := ConfigMapIndexFunc(&corev1.ConfigMap{})
+		assert.NoError(t, err)
+		assert.Equal(t, []string{""}, values)
+	})
+	t.Run("HasLabel", func(t *testing.T) {
+		values, err := ConfigMapIndexFunc(&corev1.ConfigMap{
+			ObjectMeta: metav1.ObjectMeta{Labels: map[string]string{ConfigMapTypeLabel: "cache"}},
+		})
+		assert.NoError(t, err)
+		assert.ElementsMatch(t, values, []string{"cache"})
+	})
+}
diff --git a/workflow/controller/indexes/indexes.go b/workflow/controller/indexes/indexes.go
index ea8d7250deed..06a444bda1de 100644
--- a/workflow/controller/indexes/indexes.go
+++ b/workflow/controller/indexes/indexes.go
@@ -13,6 +13,7 @@ const (
 	WorkflowTemplateIndex        = "workflowtemplate"
 	WorkflowPhaseIndex           = "workflow.phase"
 	PodPhaseIndex                = "pod.phase"
+	ConfigMapLabelsIndex         = "configmap.labels"
 	ConditionsIndex              = "status.conditions"
 	SemaphoreConfigIndexName     = "bySemaphoreConfigMap"
 	UIDIndex                     = "uid"

From 946a9c3f78cf0135c8058b3cffb6d6dab6bd2135 Mon Sep 17 00:00:00 2001
From: "github-actions[bot]"
 <41898282+github-actions[bot]@users.noreply.github.com>
Date: Wed, 1 Sep 2021 15:57:08 -0700
Subject: [PATCH 086/137] docs: updated CHANGELOG.md (#6652)

Signed-off-by: GitHub <noreply@github.com>

Co-authored-by: sarabala1979 <sarabala1979@users.noreply.github.com>
---
 CHANGELOG.md | 29 +++++++++++++++++++++++++++++
 1 file changed, 29 insertions(+)

diff --git a/CHANGELOG.md b/CHANGELOG.md
index 9a3d6b673fee..8d0d153b51c2 100644
--- a/CHANGELOG.md
+++ b/CHANGELOG.md
@@ -1,5 +1,34 @@
 # Changelog
 
+## v3.2.0-rc2 (2021-09-01)
+
+ * [6d46fd9f8](https://github.com/argoproj/argo-workflows/commit/6d46fd9f881a337b5b3d34d62e71d9b56ba05b1a) feat(controller): Add a shared index informer for ConfigMaps (#6644)
+ * [91abb47db](https://github.com/argoproj/argo-workflows/commit/91abb47db3c8ad20fac80914f1961842bc64a0b9) feat: Upgrade dataflow to v0.0.98 (#6637)
+ * [d8b90f2b8](https://github.com/argoproj/argo-workflows/commit/d8b90f2b89472f8dce9c134aeccd7cb70ee3b87b) fix: Fixed typo in clusterrole (#6626)
+ * [51307e11e](https://github.com/argoproj/argo-workflows/commit/51307e11ede253be6231dd007565fcc98ccc564b) fix: Upgrade Dataflow to v0.0.96 (#6622)
+ * [f1c188f3e](https://github.com/argoproj/argo-workflows/commit/f1c188f3eba61421a37dfcaea68e7e9f61f5842a) fix: Argo Workflow specs link to not go to raw content (#6624)
+ * [07e29263a](https://github.com/argoproj/argo-workflows/commit/07e29263a6254b9caf7a47e2761cba3e1d39c7b4)  docs: Add slack exit handler example. Resolves #4152  (#6612)
+ * [29cf73548](https://github.com/argoproj/argo-workflows/commit/29cf73548d7246433cb1d835f25f34ab73389fe4) fix(controller): Initialize throttler during starting workflow-controller. Fixes: #6599 (#6608)
+ * [a394a91f5](https://github.com/argoproj/argo-workflows/commit/a394a91f59bc3086e0538265c0d9d399a43110c6) fix: manifests/quick-start/sso for running locally PROFILE=sso (#6503)
+ * [8678f007e](https://github.com/argoproj/argo-workflows/commit/8678f007e86ffa615e6ca90c52c7ca4d1e458b08) fix: Fix `gosec` warnings, disable pprof by default. Fixes #6594 (#6596)
+ * [3aac377e2](https://github.com/argoproj/argo-workflows/commit/3aac377e223f1a6bad05ec28404c89e435e47687) fix!: Enable authentication by default on Argo Server `/metrics` endpoint. Fixes #6592 (#6595)
+ * [656639666](https://github.com/argoproj/argo-workflows/commit/6566396666163198f2520c9a0790b01ada3863fd) fix(executor): Disambiguate PNS executor initialization log (#6582)
+ * [d6f5acb40](https://github.com/argoproj/argo-workflows/commit/d6f5acb407ddf2d6f7afbe3e380eda5a2908dcbd) fix: Fix unit test with missing createRunningPods() (#6585)
+ * [b0e050e54](https://github.com/argoproj/argo-workflows/commit/b0e050e54a96a1c46b279a37b7daf43b2942f791) feat: upgrade argo-dataflow to v0.0.90 (#6563)
+ * [30340c427](https://github.com/argoproj/argo-workflows/commit/30340c42785fcff1e864b2078c37139dc13bbfd7) fix(gcs): backoff bool should be false if error is transient (#6577)
+ * [1e34cec88](https://github.com/argoproj/argo-workflows/commit/1e34cec88e4fd1f65da923139efbf8fb38c97772) feat(artifact): Allow to set bucket logging for OSS artifact driver (#6554)
+
+### Contributors
+
+ * Alex Collins
+ * Andrey Melnikov
+ * Antoine Dao
+ * J.P. Zivalich
+ * Saravanan Balasubramanian
+ * Tetsuya Shiota
+ * Yuan Tang
+ * smile-luobin
+
 ## v3.2.0-rc1 (2021-08-19)
 
  * [3595ac59c](https://github.com/argoproj/argo-workflows/commit/3595ac59cefe63256bbac38bca27fb5cacee93f9) feat: Adding SSO support for Okta. Fixes #6165 (#6572)

From 2ac3c48d33415b804067b07a13185b06d3b416bc Mon Sep 17 00:00:00 2001
From: Jesse Suen <jessesuen@users.noreply.github.com>
Date: Wed, 1 Sep 2021 16:35:02 -0700
Subject: [PATCH 087/137] fix: `argo node set` panic: index out of range and
 correct docs (#6653)

Signed-off-by: Jesse Suen <jessesuen@gmail.com>
---
 cmd/argo/commands/node.go              |  2 +-
 examples/suspend-template-outputs.yaml | 11 +++++------
 2 files changed, 6 insertions(+), 7 deletions(-)

diff --git a/cmd/argo/commands/node.go b/cmd/argo/commands/node.go
index 9d6324b6d991..a044fa60222d 100644
--- a/cmd/argo/commands/node.go
+++ b/cmd/argo/commands/node.go
@@ -38,7 +38,7 @@ func NewNodeCommand() *cobra.Command {
   argo node set my-wf --message "We did it!"" --node-field-selector displayName=approve
 `,
 		Run: func(cmd *cobra.Command, args []string) {
-			if len(args) < 1 {
+			if len(args) < 2 {
 				cmd.HelpFunc()(cmd, args)
 				os.Exit(1)
 			}
diff --git a/examples/suspend-template-outputs.yaml b/examples/suspend-template-outputs.yaml
index 247bdefd0fa7..fce7326cc578 100644
--- a/examples/suspend-template-outputs.yaml
+++ b/examples/suspend-template-outputs.yaml
@@ -1,16 +1,15 @@
 # This example uses a suspend template that expects outputs to be provided to it. These outputs may be provided by the CLI
-# with the 'argo set' command, the API with the '/set' endpoint, or directly via K8s.
+# with the 'argo node set' command, the API with the '/set' endpoint, or directly via K8s.
 #
 # Example:
-#   argo set outputs my-wf '{"message": "Hello, world!"}' --node-field-selector displayName=approve
-#   argo set message my-wf 'Test message' --node-field-selector displayName=approve
-#   argo resume my-wf
+#   argo node set suspend-outputs -p message="Hello, world!" --node-field-selector displayName=approve
+#   argo node set suspend-outputs --message="Test message" --node-field-selector displayName=approve
+#   argo resume suspend-outputs
 
 apiVersion: argoproj.io/v1alpha1
 kind: Workflow
 metadata:
-  name: simon
-  #generateName: suspend-template-
+  generateName: suspend-outputs
 spec:
   entrypoint: suspend
   templates:

From 5522d4b4c6f3b2de68956998c877b2c596e158af Mon Sep 17 00:00:00 2001
From: Alex Collins <alexec@users.noreply.github.com>
Date: Wed, 1 Sep 2021 16:42:28 -0700
Subject: [PATCH 088/137] fix: Do not index complete workflow semaphores
 (#6639)

Signed-off-by: Alex Collins <alex_collins@intuit.com>
---
 workflow/controller/controller_test.go        |  2 +
 workflow/controller/indexes/workflow_index.go |  3 ++
 .../controller/indexes/workflow_index_test.go | 42 ++++++++++++++++++-
 3 files changed, 45 insertions(+), 2 deletions(-)

diff --git a/workflow/controller/controller_test.go b/workflow/controller/controller_test.go
index 52d97d386dbb..1af79abee115 100644
--- a/workflow/controller/controller_test.go
+++ b/workflow/controller/controller_test.go
@@ -616,6 +616,8 @@ kind: Workflow
 metadata:
  name: hello-world
  namespace: default
+ labels:
+   workflows.argoproj.io/completed: false
 spec:
  entrypoint: whalesay
  synchronization:
diff --git a/workflow/controller/indexes/workflow_index.go b/workflow/controller/indexes/workflow_index.go
index 9fb19df1e091..2b462061931f 100644
--- a/workflow/controller/indexes/workflow_index.go
+++ b/workflow/controller/indexes/workflow_index.go
@@ -47,6 +47,9 @@ func WorkflowSemaphoreKeysIndexFunc() cache.IndexFunc {
 		if !ok {
 			return nil, nil
 		}
+		if un.GetLabels()[common.LabelKeyCompleted] != "false" {
+			return nil, nil
+		}
 		wf, err := util.FromUnstructured(un)
 		if err != nil {
 			return nil, nil
diff --git a/workflow/controller/indexes/workflow_index_test.go b/workflow/controller/indexes/workflow_index_test.go
index d757c4ba526c..037ed47c38cd 100644
--- a/workflow/controller/indexes/workflow_index_test.go
+++ b/workflow/controller/indexes/workflow_index_test.go
@@ -3,10 +3,14 @@ package indexes
 import (
 	"testing"
 
-	wfv1 "github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1"
-
 	"github.com/stretchr/testify/assert"
+	apiv1 "k8s.io/api/core/v1"
+	metav1 "k8s.io/apimachinery/pkg/apis/meta/v1"
 	"k8s.io/apimachinery/pkg/apis/meta/v1/unstructured"
+
+	wfv1 "github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1"
+	"github.com/argoproj/argo-workflows/v3/workflow/common"
+	"github.com/argoproj/argo-workflows/v3/workflow/util"
 )
 
 func TestWorkflowIndexFunc(t *testing.T) {
@@ -28,3 +32,37 @@ metadata:
 func TestWorkflowIndexValue(t *testing.T) {
 	assert.Equal(t, "my-ns/my-wf", WorkflowIndexValue("my-ns", "my-wf"))
 }
+
+func TestWorkflowSemaphoreKeysIndexFunc(t *testing.T) {
+	t.Run("Incomplete", func(t *testing.T) {
+		un, _ := util.ToUnstructured(&wfv1.Workflow{
+			ObjectMeta: metav1.ObjectMeta{
+				Labels: map[string]string{
+					common.LabelKeyCompleted: "false",
+				},
+			},
+			Spec: wfv1.WorkflowSpec{
+				Synchronization: &wfv1.Synchronization{
+					Semaphore: &wfv1.SemaphoreRef{
+						ConfigMapKeyRef: &apiv1.ConfigMapKeySelector{},
+					},
+				},
+			},
+		})
+		result, err := WorkflowSemaphoreKeysIndexFunc()(un)
+		assert.NoError(t, err)
+		assert.Len(t, result, 1)
+	})
+	t.Run("Complete", func(t *testing.T) {
+		un, _ := util.ToUnstructured(&wfv1.Workflow{
+			ObjectMeta: metav1.ObjectMeta{
+				Labels: map[string]string{
+					common.LabelKeyCompleted: "true",
+				},
+			},
+		})
+		result, err := WorkflowSemaphoreKeysIndexFunc()(un)
+		assert.NoError(t, err)
+		assert.Nil(t, result)
+	})
+}

From a147f178d9ddbe139551bf5636f73fb1af2e61f8 Mon Sep 17 00:00:00 2001
From: Saravanan Balasubramanian
 <33908564+sarabala1979@users.noreply.github.com>
Date: Wed, 1 Sep 2021 17:01:22 -0700
Subject: [PATCH 089/137] fix(controller): Set finishedAt for workflow with
 Daemon steps (#6650)

Signed-off-by: Saravanan Balasubramanian <sarabala1979@gmail.com>
---
 wf.yaml                              | 62 ++++++++++++++++++++++++++++
 workflow/controller/operator.go      |  4 +-
 workflow/controller/operator_test.go | 15 +++++++
 3 files changed, 79 insertions(+), 2 deletions(-)
 create mode 100644 wf.yaml

diff --git a/wf.yaml b/wf.yaml
new file mode 100644
index 000000000000..7372a848dcff
--- /dev/null
+++ b/wf.yaml
@@ -0,0 +1,62 @@
+apiVersion: argoproj.io/v1alpha1
+kind: Workflow
+metadata:
+  generateName: hello-world-
+spec:
+  entrypoint: sleep-then-hello
+  arguments:
+    parameters:
+      - name: key
+        value: test11
+  onExit: exit
+  templates:
+    - name: sleep-then-hello
+      steps:
+        - - name: sleep
+            template: sleep
+          - name: hello
+            template: hello
+    - name: sleep
+      retryStrategy:
+        limit: "3"
+        retryPolicy: Always
+      daemon: true
+      script:
+        image: python:alpine3.6
+        command: [python]
+        source: |
+          import signal
+          import time
+        
+          class GracefulKiller:
+            kill_now = False
+            def __init__(self):
+              signal.signal(signal.SIGINT, self.exit_gracefully)
+              signal.signal(signal.SIGTERM, self.exit_gracefully)
+        
+            def exit_gracefully(self, *args):
+              print("End of the program. I was killed gracefully :)")
+        
+          if __name__ == '__main__':
+            killer = GracefulKiller()
+            print("doing something in a loop ...")
+            while not killer.kill_now:
+              time.sleep(1)
+              print("doing something in a loop ...")
+        
+          print("End of the program. I was killed gracefully :)")
+    
+    - name: hello
+      script:
+        image: alpine:3.6
+        command: [sh]
+        source: |
+          sleep 30
+          echo "im in ur container, running ur code"
+    
+    - name: exit
+      container:
+        image: python:alpine3.6
+        command: ["python", -c]
+        # fail with a 66% probability
+        args: ["import random; import sys; exit_code = random.choice([1, 1, 1]); sys.exit(exit_code)"]
\ No newline at end of file
diff --git a/workflow/controller/operator.go b/workflow/controller/operator.go
index 78f7194f76f0..bad8b16f7b2f 100644
--- a/workflow/controller/operator.go
+++ b/workflow/controller/operator.go
@@ -1140,7 +1140,7 @@ func (woc *wfOperationCtx) assessNodeStatus(pod *apiv1.Pod, node *wfv1.NodeStatu
 	case apiv1.PodRunning:
 		newPhase = wfv1.NodeRunning
 		tmpl := woc.findTemplate(pod)
-		if tmpl != nil && tmpl.Daemon != nil && *tmpl.Daemon {
+		if !node.Fulfilled() && tmpl != nil && tmpl.Daemon != nil && *tmpl.Daemon {
 			// pod is running and template is marked daemon. check if everything is ready
 			for _, ctrStatus := range pod.Status.ContainerStatuses {
 				if !ctrStatus.Ready {
@@ -1188,7 +1188,7 @@ func (woc *wfOperationCtx) assessNodeStatus(pod *apiv1.Pod, node *wfv1.NodeStatu
 		}
 	}
 
-	if newDaemonStatus != nil {
+	if !node.Fulfilled() && newDaemonStatus != nil {
 		if !*newDaemonStatus {
 			// if the daemon status switched to false, we prefer to just unset daemoned status field
 			// (as opposed to setting it to false)
diff --git a/workflow/controller/operator_test.go b/workflow/controller/operator_test.go
index 6bbc80ed5747..964eae413b3e 100644
--- a/workflow/controller/operator_test.go
+++ b/workflow/controller/operator_test.go
@@ -1291,6 +1291,21 @@ func TestAssessNodeStatus(t *testing.T) {
 			assert.Equal(t, tt.want, got.Phase)
 		})
 	}
+
+	t.Run("Daemon Step finished - Pod running", func(t *testing.T) {
+		cancel, controller := newController()
+		defer cancel()
+		pod := &apiv1.Pod{
+			Status: apiv1.PodStatus{
+				Phase: apiv1.PodRunning,
+			},
+		}
+		node := &wfv1.NodeStatus{Phase: wfv1.NodeFailed}
+		woc := newWorkflowOperationCtx(wf, controller)
+		got := woc.assessNodeStatus(pod, node)
+		assert.True(t, got.Daemoned == nil)
+	})
+
 }
 
 func getPodTemplate(pod *apiv1.Pod) (*wfv1.Template, error) {

From e1a1b81ccb3ea27ecf63da916cc57f543e45ba9e Mon Sep 17 00:00:00 2001
From: Yuan Tang <terrytangyuan@gmail.com>
Date: Thu, 2 Sep 2021 01:23:33 -0400
Subject: [PATCH 090/137] chore: Remove unnecessary wf.yaml at top-level
 directory (#6655)

Signed-off-by: Yuan Tang <terrytangyuan@gmail.com>
---
 wf.yaml | 62 ---------------------------------------------------------
 1 file changed, 62 deletions(-)
 delete mode 100644 wf.yaml

diff --git a/wf.yaml b/wf.yaml
deleted file mode 100644
index 7372a848dcff..000000000000
--- a/wf.yaml
+++ /dev/null
@@ -1,62 +0,0 @@
-apiVersion: argoproj.io/v1alpha1
-kind: Workflow
-metadata:
-  generateName: hello-world-
-spec:
-  entrypoint: sleep-then-hello
-  arguments:
-    parameters:
-      - name: key
-        value: test11
-  onExit: exit
-  templates:
-    - name: sleep-then-hello
-      steps:
-        - - name: sleep
-            template: sleep
-          - name: hello
-            template: hello
-    - name: sleep
-      retryStrategy:
-        limit: "3"
-        retryPolicy: Always
-      daemon: true
-      script:
-        image: python:alpine3.6
-        command: [python]
-        source: |
-          import signal
-          import time
-        
-          class GracefulKiller:
-            kill_now = False
-            def __init__(self):
-              signal.signal(signal.SIGINT, self.exit_gracefully)
-              signal.signal(signal.SIGTERM, self.exit_gracefully)
-        
-            def exit_gracefully(self, *args):
-              print("End of the program. I was killed gracefully :)")
-        
-          if __name__ == '__main__':
-            killer = GracefulKiller()
-            print("doing something in a loop ...")
-            while not killer.kill_now:
-              time.sleep(1)
-              print("doing something in a loop ...")
-        
-          print("End of the program. I was killed gracefully :)")
-    
-    - name: hello
-      script:
-        image: alpine:3.6
-        command: [sh]
-        source: |
-          sleep 30
-          echo "im in ur container, running ur code"
-    
-    - name: exit
-      container:
-        image: python:alpine3.6
-        command: ["python", -c]
-        # fail with a 66% probability
-        args: ["import random; import sys; exit_code = random.choice([1, 1, 1]); sys.exit(exit_code)"]
\ No newline at end of file

From 9293512674c21a2494c704978990cf89eb5ad8c0 Mon Sep 17 00:00:00 2001
From: Saravanan Balasubramanian
 <33908564+sarabala1979@users.noreply.github.com>
Date: Thu, 2 Sep 2021 11:35:04 -0700
Subject: [PATCH 091/137] fix(cli): Added validatation for StartAt, FinishedAt
 and ID (#6661)

* fix(cli): Added validatation for StartAt, FinishedAt and ID

Signed-off-by: Saravanan Balasubramanian <sarabala1979@gmail.com>

* update

Signed-off-by: Saravanan Balasubramanian <sarabala1979@gmail.com>
---
 workflow/validate/validate.go          |  3 ++
 workflow/validate/validate_dag_test.go | 21 +++++++++++++
 workflow/validate/validate_test.go     | 42 ++++++++++++++++++++++++++
 3 files changed, 66 insertions(+)

diff --git a/workflow/validate/validate.go b/workflow/validate/validate.go
index 19ed7ff8b9b5..1763982fe379 100644
--- a/workflow/validate/validate.go
+++ b/workflow/validate/validate.go
@@ -851,6 +851,9 @@ func addItemsToScope(withItems []wfv1.Item, withParam string, withSequence *wfv1
 }
 
 func (ctx *templateValidationCtx) addOutputsToScope(tmpl *wfv1.Template, prefix string, scope map[string]interface{}, aggregate bool, isAncestor bool) {
+	scope[fmt.Sprintf("%s.id", prefix)] = true
+	scope[fmt.Sprintf("%s.startedAt", prefix)] = true
+	scope[fmt.Sprintf("%s.finishedAt", prefix)] = true
 	if tmpl.Daemon != nil && *tmpl.Daemon {
 		scope[fmt.Sprintf("%s.ip", prefix)] = true
 	}
diff --git a/workflow/validate/validate_dag_test.go b/workflow/validate/validate_dag_test.go
index 281cbaf9e871..4bf68ffaea45 100644
--- a/workflow/validate/validate_dag_test.go
+++ b/workflow/validate/validate_dag_test.go
@@ -140,6 +140,9 @@ spec:
     inputs:
       parameters:
       - name: message
+      - name: startedat
+      - name: finishedat
+      - name: id
     container:
       image: alpine:3.7
       command: [echo, "{{inputs.parameters.message}}"]
@@ -157,6 +160,12 @@ spec:
           parameters:
           - name: message
             value: val
+          - name: startedat
+            value: "test"
+          - name: finishedat
+            value: "test"
+          - name: id
+            value: "1"
       - name: B
         dependencies: [A]
         template: echo
@@ -164,6 +173,12 @@ spec:
           parameters:
           - name: message
             value: "{{tasks.A.outputs.parameters.hosts}}"
+          - name: startedat
+            value: "{{tasks.A.startedAt}}"
+          - name: finishedat
+            value: "{{tasks.A.finishedAt}}"
+          - name: id
+            value: "{{tasks.A.id}}"
       - name: C
         dependencies: [B]
         template: echo
@@ -171,6 +186,12 @@ spec:
           parameters:
           - name: message
             value: "{{tasks.A.outputs.parameters.hosts}}"
+          - name: startedat
+            value: "{{tasks.A.startedAt}}"
+          - name: finishedat
+            value: "{{tasks.A.finishedAt}}"
+          - name: id
+            value: "{{tasks.A.id}}"
 `
 
 var dagResolvedVarNotAncestor = `
diff --git a/workflow/validate/validate_test.go b/workflow/validate/validate_test.go
index 7485cd3f2965..546ba0003d98 100644
--- a/workflow/validate/validate_test.go
+++ b/workflow/validate/validate_test.go
@@ -2927,3 +2927,45 @@ spec:
 	}
 	assert.Equal(t, expectedOrder, taskOrderAfterSort)
 }
+
+func TestValidateStartedATVariable(t *testing.T) {
+	wf := `apiVersion: argoproj.io/v1alpha1
+kind: Workflow
+metadata:
+  generateName: steps-timing-
+spec:
+  entrypoint: steps-timing
+  templates:
+    
+    - name: steps-timing
+      steps:
+        - - name: one
+            template: wait
+        - - name: print-processing-time
+            template: printer
+            arguments:
+              parameters:
+                - name: startedat
+                  value: "{{steps.one.startedAt}}"
+                - name: finishedat
+                  value: "{{steps.one.finishedAt}}"
+                - name: id
+                  value: "{{steps.one.id}}"
+    
+    - name: wait
+      container:
+        image: alpine:3.7
+        command: [sleep, "5"]
+    
+    - name: printer
+      inputs:
+        parameters:
+          - name: startedat
+          - name: finishedat
+          - name: id
+      container:
+        image: alpine:3.7
+        command: [echo, "{{inputs.parameters.startedat}}"]`
+	_, err := validate(wf)
+	assert.NoError(t, err)
+}

From 91dd9ec238be9cb0006edd1b241d06f57a27f8a4 Mon Sep 17 00:00:00 2001
From: "github-actions[bot]"
 <41898282+github-actions[bot]@users.noreply.github.com>
Date: Tue, 7 Sep 2021 08:05:39 -0700
Subject: [PATCH 092/137] docs: updated CHANGELOG.md (#6672)

Signed-off-by: GitHub <noreply@github.com>

Co-authored-by: sarabala1979 <sarabala1979@users.noreply.github.com>
---
 CHANGELOG.md | 27 +++++++++++++++++++++++++++
 1 file changed, 27 insertions(+)

diff --git a/CHANGELOG.md b/CHANGELOG.md
index 8d0d153b51c2..5319fc62436f 100644
--- a/CHANGELOG.md
+++ b/CHANGELOG.md
@@ -190,6 +190,33 @@
  * meijin
  * wanghong230
 
+## v3.1.9 (2021-09-03)
+
+ * [e4f6bcb02](https://github.com/argoproj/argo-workflows/commit/e4f6bcb02f10bea5c76f2f91ff223b8a380b4557) fix the codegen
+ * [92153dcca](https://github.com/argoproj/argo-workflows/commit/92153dcca774bb3097f00b86b35edf966ead7de4) fixed test
+ * [117e85f47](https://github.com/argoproj/argo-workflows/commit/117e85f473fd6b4d9e7cebd4406503896f4d0639) fix(cli): Added validatation for StartAt, FinishedAt and ID (#6661)
+ * [01083d1d1](https://github.com/argoproj/argo-workflows/commit/01083d1d1f485b1ae1fb1e697090db0069e25e96) fix(controller): Set finishedAt for workflow with Daemon steps
+ * [926e43950](https://github.com/argoproj/argo-workflows/commit/926e439503f61766eea61c2eec079571d778a31e) fix: Do not index complete workflow semaphores (#6639)
+ * [a039a29ab](https://github.com/argoproj/argo-workflows/commit/a039a29ab27e6ce50ecaf345c3d826d90597523d) fix: `argo node set` panic: index out of range and correct docs (#6653)
+ * [8f8fc2bd9](https://github.com/argoproj/argo-workflows/commit/8f8fc2bd9e2904729bc75e71611673b70d55c2f6) fix(controller): Initialize throttler during starting workflow-controller. Fixes: #6599 (#6608)
+ * [940e993ff](https://github.com/argoproj/argo-workflows/commit/940e993ffccb737a45774f9fc623d5a548d57978) fix(gcs): backoff bool should be false if error is transient (#6577)
+ * [2af306a52](https://github.com/argoproj/argo-workflows/commit/2af306a52de80efd3b50bcbd6db144ddede851d1) fix(executor/pns): panic of pidFileHandles concurrent writes (#6569)
+ * [1019a13a6](https://github.com/argoproj/argo-workflows/commit/1019a13a6139d5867bb657ca8593fdb671bb3598) fix(executor/docker): fix failed to wait for main container to complete: timed out waiting for the condition: container does not exist (#6561)
+ * [563bb04c4](https://github.com/argoproj/argo-workflows/commit/563bb04c4f8d5d8e5bf83ecdf080926beb9e4bae) fix: Generate TLS Certificates on startup and only keep in memory (#6540)
+ * [36d2389f2](https://github.com/argoproj/argo-workflows/commit/36d2389f23dc832fe962025ad7b2a6cf6ed9bce3) fix: use execWf when setting PodMetadata (#6512)
+
+### Contributors
+
+ * Alex Collins
+ * Antoine Dao
+ * David Collom
+ * Ed Marks
+ * Jesse Suen
+ * Saravanan Balasubramanian
+ * Windfarer
+ * Yuan (Bob) Gong
+ * smile-luobin
+
 ## v3.1.8 (2021-08-18)
 
  * [0df0f3a98](https://github.com/argoproj/argo-workflows/commit/0df0f3a98fac4e2aa5bc02213fb0a2ccce9a682a) fix: Fix `x509: certificate signed by unknown authority` error (#6566)

From 5ea76f891734088a6e1a53aa13d053d5791543da Mon Sep 17 00:00:00 2001
From: Yuan Tang <terrytangyuan@gmail.com>
Date: Tue, 7 Sep 2021 11:06:09 -0400
Subject: [PATCH 093/137] docs: Add section to clarify how to use parameters in
 workflow templates (#6680)

Signed-off-by: Yuan Tang <terrytangyuan@gmail.com>
---
 docs/workflow-templates.md | 73 ++++++++++++++++++++++++++++++++++++++
 1 file changed, 73 insertions(+)

diff --git a/docs/workflow-templates.md b/docs/workflow-templates.md
index ce8ad2a2b05a..abf1448b1950 100644
--- a/docs/workflow-templates.md
+++ b/docs/workflow-templates.md
@@ -127,6 +127,79 @@ spec:
       example-label: example-value
 ```
 
+### Working with parameters
+
+When working with parameters in a `WorkflowTemplate`, please note the following:
+
+1. When working with global parameters, you can instantiate your global variables in your `Workflow`
+and then directly reference them in your `WorkflowTemplate`. Below is a working example:
+```yaml
+apiVersion: argoproj.io/v1alpha1
+kind: WorkflowTemplate
+metadata:
+  name: hello-world-template-global-arg
+spec:
+  serviceAccountName: argo
+  templates:
+    - name: hello-world
+      container:
+        image: docker/whalesay
+        command: [cowsay]
+        args: ["{{workflow.parameters.global-parameter}}"]
+---
+apiVersion: argoproj.io/v1alpha1
+kind: Workflow
+metadata:
+  generateName: hello-world-wf-global-arg-
+spec:
+  serviceAccountName: argo
+  entrypoint: whalesay
+  arguments:
+    parameters:
+      - name: global
+        value: hello
+  templates:
+    - name: whalesay
+      steps:
+        - - name: hello-world
+            templateRef:
+              name: hello-world-template-global-arg
+              template: hello-world
+```
+2. When working with local parameters, the values of local parameters must be supplied at the template definition inside
+the `WorkflowTemplate`. Below is a working example: 
+```yaml
+apiVersion: argoproj.io/v1alpha1
+kind: WorkflowTemplate
+metadata:
+  name: hello-world-template-local-arg
+spec:
+  templates:
+    - name: hello-world
+      inputs:
+        parameters:
+          - name: msg
+            value: "hello world"
+      container:
+        image: docker/whalesay
+        command: [cowsay]
+        args: ["{{inputs.parameters.msg}}"]
+---
+apiVersion: argoproj.io/v1alpha1
+kind: Workflow
+metadata:
+  generateName: hello-world-local-arg-
+spec:
+  entrypoint: whalesay
+  templates:
+    - name: whalesay
+      steps:
+        - - name: hello-world
+            templateRef:
+              name: hello-world-template-local-arg
+              template: hello-world
+```
+
 ## Referencing other `WorkflowTemplates`
 
 You can reference `templates` from another `WorkflowTemplates` (see the [difference between the two](#workflowtemplate-vs-template)) using a `templateRef` field.

From 9c76cc34c7591f0113dea4e35b58b902d8386544 Mon Sep 17 00:00:00 2001
From: William Van Hevelingen <William.VanHevelingen@acquia.com>
Date: Tue, 7 Sep 2021 08:27:09 -0700
Subject: [PATCH 094/137] fix(executor): Retry `kubectl` on transient error
 (#6472)

Signed-off-by: William Van Hevelingen <william.vanhevelingen@acquia.com>
Co-Authored-By: Glenn Pratt <glenn.pratt@acquia.com>
---
 util/errors/errors.go              | 29 ++++++++++++++++++-----------
 workflow/executor/resource.go      | 17 ++++++++++++-----
 workflow/executor/resource_test.go | 30 +++++++++++++++++++++++++++++-
 workflow/executor/testdata/kubectl |  4 ++++
 4 files changed, 63 insertions(+), 17 deletions(-)
 create mode 100755 workflow/executor/testdata/kubectl

diff --git a/util/errors/errors.go b/util/errors/errors.go
index c9bc56e3d3d7..cba15c8e87cc 100644
--- a/util/errors/errors.go
+++ b/util/errors/errors.go
@@ -1,9 +1,11 @@
 package errors
 
 import (
+	"fmt"
 	"net"
 	"net/url"
 	"os"
+	"os/exec"
 	"regexp"
 	"strings"
 
@@ -56,18 +58,23 @@ func isTransientNetworkErr(err error) bool {
 			// For a URL error, where it replies back "connection closed"
 			// retry again.
 			return strings.Contains(err.Error(), "Connection closed by foreign host")
-		default:
-			if strings.Contains(err.Error(), "net/http: TLS handshake timeout") {
-				// If error is - tlsHandshakeTimeoutError, retry.
-				return true
-			} else if strings.Contains(err.Error(), "i/o timeout") {
-				// If error is - tcp timeoutError, retry.
-				return true
-			} else if strings.Contains(err.Error(), "connection timed out") {
-				// If err is a net.Dial timeout, retry.
-				return true
-			}
 		}
 	}
+
+	errorString := err.Error()
+	if exitErr, ok := err.(*exec.ExitError); ok {
+		errorString = fmt.Sprintf("%s %s", errorString, exitErr.Stderr)
+	}
+	if strings.Contains(errorString, "net/http: TLS handshake timeout") {
+		// If error is - tlsHandshakeTimeoutError, retry.
+		return true
+	} else if strings.Contains(errorString, "i/o timeout") {
+		// If error is - tcp timeoutError, retry.
+		return true
+	} else if strings.Contains(errorString, "connection timed out") {
+		// If err is a net.Dial timeout, retry.
+		return true
+	}
+
 	return false
 }
diff --git a/workflow/executor/resource.go b/workflow/executor/resource.go
index d09c66421e3b..f5ddbc55a467 100644
--- a/workflow/executor/resource.go
+++ b/workflow/executor/resource.go
@@ -17,6 +17,7 @@ import (
 	"k8s.io/apimachinery/pkg/apis/meta/v1/unstructured"
 	"k8s.io/apimachinery/pkg/labels"
 	"k8s.io/apimachinery/pkg/util/wait"
+	"k8s.io/client-go/util/retry"
 
 	"github.com/argoproj/argo-workflows/v3/errors"
 	wfv1 "github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1"
@@ -31,17 +32,23 @@ func (we *WorkflowExecutor) ExecResource(action string, manifestPath string, fla
 		return "", "", "", err
 	}
 
-	cmd := exec.Command("kubectl", args...)
-	log.Info(strings.Join(cmd.Args, " "))
+	var out []byte
+	err = retry.OnError(retry.DefaultBackoff, argoerr.IsTransientErr, func() error {
+		cmd := exec.Command("kubectl", args...)
+		log.Info(strings.Join(cmd.Args, " "))
 
-	out, err := cmd.Output()
+		out, err = cmd.Output()
+		return err
+	})
 	if err != nil {
 		if exErr, ok := err.(*exec.ExitError); ok {
 			errMsg := strings.TrimSpace(string(exErr.Stderr))
-			return "", "", "", errors.New(errors.CodeBadRequest, errMsg)
+			err = errors.Wrap(err, errors.CodeBadRequest, errMsg)
 		} else {
-			return "", "", "", errors.New(errors.CodeBadRequest, err.Error())
+			err = errors.Wrap(err, errors.CodeBadRequest, err.Error())
 		}
+		err = errors.Wrap(err, errors.CodeBadRequest, "no more retries "+err.Error())
+		return "", "", "", err
 	}
 	if action == "delete" {
 		return "", "", "", nil
diff --git a/workflow/executor/resource_test.go b/workflow/executor/resource_test.go
index f481fd0c9a63..e350928ea000 100644
--- a/workflow/executor/resource_test.go
+++ b/workflow/executor/resource_test.go
@@ -3,6 +3,8 @@ package executor
 import (
 	"io/ioutil"
 	"os"
+	"path"
+	"runtime"
 	"testing"
 
 	"github.com/stretchr/testify/assert"
@@ -10,6 +12,7 @@ import (
 	"k8s.io/apimachinery/pkg/labels"
 	"k8s.io/apimachinery/pkg/runtime/schema"
 	"k8s.io/client-go/kubernetes/fake"
+	"k8s.io/client-go/util/retry"
 
 	wfv1 "github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1"
 	"github.com/argoproj/argo-workflows/v3/workflow/executor/mocks"
@@ -112,7 +115,6 @@ func TestResourcePatchFlagsJson(t *testing.T) {
 		RuntimeExecutor: &mockRuntimeExecutor,
 	}
 	args, err := we.getKubectlArguments("patch", manifestPath, nil)
-
 	assert.NoError(t, err)
 	assert.Equal(t, args, fakeFlags)
 }
@@ -173,3 +175,29 @@ func TestInferSelfLink(t *testing.T) {
 	})
 	assert.Equal(t, "apis/test.group/v1/namespaces/test-namespace/duties/test-name", inferObjectSelfLink(obj))
 }
+
+// TestResourceExecRetry tests whether Exec retries transitive errors
+func TestResourceExecRetry(t *testing.T) {
+	we := WorkflowExecutor{
+		PodName:         fakePodName,
+		Template:        wfv1.Template{},
+		ClientSet:       fake.NewSimpleClientset(),
+		Namespace:       fakeNamespace,
+		RuntimeExecutor: &mocks.ContainerRuntimeExecutor{},
+	}
+
+	_, filename, _, _ := runtime.Caller(0)
+	dirname := path.Dir(filename)
+	duration := retry.DefaultBackoff.Duration
+	path := os.Getenv("PATH")
+	defer func() {
+		os.Setenv("PATH", path)
+		retry.DefaultBackoff.Duration = duration
+	}()
+	retry.DefaultBackoff.Duration = 0
+	os.Setenv("PATH", dirname+"/testdata")
+
+	_, _, _, err := we.ExecResource("", "../../examples/hello-world.yaml", nil)
+	assert.Error(t, err)
+	assert.Equal(t, "no more retries i/o timeout", err.Error())
+}
diff --git a/workflow/executor/testdata/kubectl b/workflow/executor/testdata/kubectl
new file mode 100755
index 000000000000..2eeca21dcd8c
--- /dev/null
+++ b/workflow/executor/testdata/kubectl
@@ -0,0 +1,4 @@
+#!/bin/bash
+
+echo "i/o timeout" >&2
+exit 1

From a408be9e142789b309a91fdee6a3180abcf5e00e Mon Sep 17 00:00:00 2001
From: Tim Gallant <me@timgallant.us>
Date: Wed, 8 Sep 2021 08:48:11 -0700
Subject: [PATCH 095/137] docs: adds OpenAPI definitions for artifact routes
 (#6628)

Signed-off-by: Tim Gallant <me@timgallant.us>
---
 api/openapi-spec/swagger.json        | 178 +++++++++++++++++++++++
 pkg/apiclient/_.primary.swagger.json | 209 ++++++++++++++++++++++++++-
 2 files changed, 386 insertions(+), 1 deletion(-)

diff --git a/api/openapi-spec/swagger.json b/api/openapi-spec/swagger.json
index 0f49b3388f18..ce2629aac3c4 100644
--- a/api/openapi-spec/swagger.json
+++ b/api/openapi-spec/swagger.json
@@ -3983,6 +3983,184 @@
           }
         }
       }
+    },
+    "/artifacts-by-uid/{uid}/{podName}/{artifactName}": {
+      "get": {
+        "tags": [
+          "ArtifactService"
+        ],
+        "summary": "Get an output artifact by UID.",
+        "operationId": "ArtifactService_GetOutputArtifactByUID",
+        "parameters": [
+          {
+            "type": "string",
+            "name": "uid",
+            "in": "path",
+            "required": true
+          },
+          {
+            "type": "string",
+            "name": "podName",
+            "in": "path",
+            "required": true
+          },
+          {
+            "type": "string",
+            "name": "artifactName",
+            "in": "path",
+            "required": true
+          }
+        ],
+        "responses": {
+          "200": {
+            "description": "An artifact file."
+          },
+          "default": {
+            "description": "An unexpected error response.",
+            "schema": {
+              "$ref": "#/definitions/grpc.gateway.runtime.Error"
+            }
+          }
+        }
+      }
+    },
+    "/artifacts/{namespace}/{name}/{podName}/{artifactName}": {
+      "get": {
+        "tags": [
+          "ArtifactService"
+        ],
+        "summary": "Get an output artifact.",
+        "operationId": "ArtifactService_GetOutputArtifact",
+        "parameters": [
+          {
+            "type": "string",
+            "name": "namespace",
+            "in": "path",
+            "required": true
+          },
+          {
+            "type": "string",
+            "name": "name",
+            "in": "path",
+            "required": true
+          },
+          {
+            "type": "string",
+            "name": "podName",
+            "in": "path",
+            "required": true
+          },
+          {
+            "type": "string",
+            "name": "artifactName",
+            "in": "path",
+            "required": true
+          }
+        ],
+        "responses": {
+          "200": {
+            "description": "An artifact file."
+          },
+          "default": {
+            "description": "An unexpected error response.",
+            "schema": {
+              "$ref": "#/definitions/grpc.gateway.runtime.Error"
+            }
+          }
+        }
+      }
+    },
+    "/input-artifacts-by-uid/{uid}/{podName}/{artifactName}": {
+      "get": {
+        "tags": [
+          "ArtifactService"
+        ],
+        "summary": "Get an input artifact by UID.",
+        "operationId": "ArtifactService_GetInputArtifactByUID",
+        "parameters": [
+          {
+            "type": "string",
+            "name": "namespace",
+            "in": "path",
+            "required": true
+          },
+          {
+            "type": "string",
+            "name": "name",
+            "in": "path",
+            "required": true
+          },
+          {
+            "type": "string",
+            "name": "podName",
+            "in": "path",
+            "required": true
+          },
+          {
+            "type": "string",
+            "name": "artifactName",
+            "in": "path",
+            "required": true
+          }
+        ],
+        "responses": {
+          "200": {
+            "description": "An artifact file."
+          },
+          "default": {
+            "description": "An unexpected error response.",
+            "schema": {
+              "$ref": "#/definitions/grpc.gateway.runtime.Error"
+            }
+          }
+        }
+      }
+    },
+    "/input-artifacts/{namespace}/{name}/{podName}/{artifactName}": {
+      "get": {
+        "tags": [
+          "ArtifactService"
+        ],
+        "summary": "Get an input artifact.",
+        "operationId": "ArtifactService_GetInputArtifact",
+        "parameters": [
+          {
+            "type": "string",
+            "name": "namespace",
+            "in": "path",
+            "required": true
+          },
+          {
+            "type": "string",
+            "name": "name",
+            "in": "path",
+            "required": true
+          },
+          {
+            "type": "string",
+            "name": "podName",
+            "in": "path",
+            "required": true
+          },
+          {
+            "type": "string",
+            "name": "artifactName",
+            "in": "path",
+            "required": true
+          }
+        ],
+        "responses": {
+          "200": {
+            "description": "An artifact file."
+          },
+          "default": {
+            "description": "An unexpected error response.",
+            "schema": {
+              "$ref": "#/definitions/grpc.gateway.runtime.Error"
+            }
+          }
+        }
+      }
     }
   },
   "definitions": {
diff --git a/pkg/apiclient/_.primary.swagger.json b/pkg/apiclient/_.primary.swagger.json
index 982f80db528f..cebda84bcea4 100644
--- a/pkg/apiclient/_.primary.swagger.json
+++ b/pkg/apiclient/_.primary.swagger.json
@@ -27,7 +27,214 @@
       "type": "basic"
     }
   },
-  "paths": {},
+  "paths": {
+    "/artifacts/{namespace}/{name}/{podName}/{artifactName}": {
+      "get": {
+        "tags": [
+          "ArtifactService"
+        ],
+        "summary": "Get an output artifact.",
+        "operationId": "ArtifactService_GetOutputArtifact",
+        "parameters": [
+          {
+            "type": "string",
+            "name": "namespace",
+            "in": "path",
+            "required": true
+          },
+          {
+            "type": "string",
+            "name": "name",
+            "in": "path",
+            "required": true
+          },
+          {
+            "type": "string",
+            "name": "podName",
+            "in": "path",
+            "required": true
+          },
+          {
+            "type": "string",
+            "name": "artifactName",
+            "in": "path",
+            "required": true
+          }
+        ],
+        "responses": {
+          "200": {
+            "description": "An artifact file.",
+            "content": {
+              "text/plain": {
+                "schema": {
+                  "type": "string"
+                }
+              }
+            }
+          },
+          "default": {
+            "description": "An unexpected error response.",
+            "schema": {
+              "$ref": "#/definitions/grpc.gateway.runtime.Error"
+            }
+          }
+        }
+      }
+    },
+    "/input-artifacts/{namespace}/{name}/{podName}/{artifactName}": {
+      "get": {
+        "tags": [
+          "ArtifactService"
+        ],
+        "summary": "Get an input artifact.",
+        "operationId": "ArtifactService_GetInputArtifact",
+        "parameters": [
+          {
+            "type": "string",
+            "name": "namespace",
+            "in": "path",
+            "required": true
+          },
+          {
+            "type": "string",
+            "name": "name",
+            "in": "path",
+            "required": true
+          },
+          {
+            "type": "string",
+            "name": "podName",
+            "in": "path",
+            "required": true
+          },
+          {
+            "type": "string",
+            "name": "artifactName",
+            "in": "path",
+            "required": true
+          }
+        ],
+        "responses": {
+          "200": {
+            "description": "An artifact file.",
+            "content": {
+              "text/plain": {
+                "schema": {
+                  "type": "string"
+                }
+              }
+            }
+          },
+          "default": {
+            "description": "An unexpected error response.",
+            "schema": {
+              "$ref": "#/definitions/grpc.gateway.runtime.Error"
+            }
+          }
+        }
+      }
+    },
+    "/artifacts-by-uid/{uid}/{podName}/{artifactName}": {
+      "get": {
+        "tags": [
+          "ArtifactService"
+        ],
+        "summary": "Get an output artifact by UID.",
+        "operationId": "ArtifactService_GetOutputArtifactByUID",
+        "parameters": [
+          {
+            "type": "string",
+            "name": "uid",
+            "in": "path",
+            "required": true
+          },
+          {
+            "type": "string",
+            "name": "podName",
+            "in": "path",
+            "required": true
+          },
+          {
+            "type": "string",
+            "name": "artifactName",
+            "in": "path",
+            "required": true
+          }
+        ],
+        "responses": {
+          "200": {
+            "description": "An artifact file.",
+            "content": {
+              "text/plain": {
+                "schema": {
+                  "type": "string"
+                }
+              }
+            }
+          },
+          "default": {
+            "description": "An unexpected error response.",
+            "schema": {
+              "$ref": "#/definitions/grpc.gateway.runtime.Error"
+            }
+          }
+        }
+      }
+    },
+    "/input-artifacts-by-uid/{uid}/{podName}/{artifactName}": {
+      "get": {
+        "tags": [
+          "ArtifactService"
+        ],
+        "summary": "Get an input artifact by UID.",
+        "operationId": "ArtifactService_GetInputArtifactByUID",
+        "parameters": [
+          {
+            "type": "string",
+            "name": "namespace",
+            "in": "path",
+            "required": true
+          },
+          {
+            "type": "string",
+            "name": "name",
+            "in": "path",
+            "required": true
+          },
+          {
+            "type": "string",
+            "name": "podName",
+            "in": "path",
+            "required": true
+          },
+          {
+            "type": "string",
+            "name": "artifactName",
+            "in": "path",
+            "required": true
+          }
+        ],
+        "responses": {
+          "200": {
+            "description": "An artifact file.",
+            "content": {
+              "text/plain": {
+                "schema": {
+                  "type": "string"
+                }
+              }
+            }
+          },
+          "default": {
+            "description": "An unexpected error response.",
+            "schema": {
+              "$ref": "#/definitions/grpc.gateway.runtime.Error"
+            }
+          }
+        }
+      }
+    }
+  },
   "definitions": {
     "io.k8s.apimachinery.pkg.runtime.Object": {
       "title": "This is a hack do deal with this problem: https://github.com/kubernetes/kube-openapi/issues/174"

From 620cb414a7797b67a2d34d55c3b6258b3c86aca4 Mon Sep 17 00:00:00 2001
From: Alex Collins <alexec@users.noreply.github.com>
Date: Wed, 8 Sep 2021 18:02:52 -0700
Subject: [PATCH 096/137] ci: run `make test-examples` on CI (#6691)

Signed-off-by: Alex Collins <alex_collins@intuit.com>
---
 .github/workflows/ci-build.yaml                | 3 +++
 examples/expression-tag-template-workflow.yaml | 2 +-
 2 files changed, 4 insertions(+), 1 deletion(-)

diff --git a/.github/workflows/ci-build.yaml b/.github/workflows/ci-build.yaml
index 20b5ed6951ce..8ed739eea978 100644
--- a/.github/workflows/ci-build.yaml
+++ b/.github/workflows/ci-build.yaml
@@ -56,6 +56,9 @@ jobs:
           - test: test-executor
             containerRuntimeExecutor: docker
             profile: minimal
+          - test: test-examples
+            containerRuntimeExecutor: emissary
+            profile: minimal
           - test: test-executor
             containerRuntimeExecutor: emissary
             profile: minimal
diff --git a/examples/expression-tag-template-workflow.yaml b/examples/expression-tag-template-workflow.yaml
index 685a777be1bb..914f291a720e 100644
--- a/examples/expression-tag-template-workflow.yaml
+++ b/examples/expression-tag-template-workflow.yaml
@@ -10,7 +10,7 @@ metadata:
     workflows.argoproj.io/verify.py: |
       assert status["phase"] == "Succeeded"
       assert nodes["task-0(0:3)"]["phase"] == "Succeeded"
-      assert nodes["task-0(0:3)"]["outputs"]["parameters"][0]["value"] == "hello 30 @ 2021"
+      assert nodes["task-0(0:3)"]["outputs"]["parameters"][0]["value"] == "hello 30 @ 2021\n"
 spec:
   entrypoint: main
   templates:

From 829cf139e2f430c73a91522bccb9d84506abcd95 Mon Sep 17 00:00:00 2001
From: Yuan Tang <terrytangyuan@gmail.com>
Date: Thu, 9 Sep 2021 02:04:28 -0400
Subject: [PATCH 097/137] docs: Add note on the support for priority in
 workflow templates (#6690)

Signed-off-by: Yuan Tang <terrytangyuan@gmail.com>
---
 docs/workflow-templates.md | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

diff --git a/docs/workflow-templates.md b/docs/workflow-templates.md
index abf1448b1950..77930ffe9683 100644
--- a/docs/workflow-templates.md
+++ b/docs/workflow-templates.md
@@ -55,8 +55,7 @@ and `WorkflowTemplates` on your cluster. To see how, please see [Referencing Oth
 
 > v2.7 and after
 
-`WorkflowTemplates` in v2.7 and after are full `Workflow` definitions. You can take any existing `Workflow` you may have
-and convert it to a `WorkflowTemplate` by substituting `kind: Workflow` to `kind: WorkflowTemplate`.
+In v2.7 and after, all the fields in `WorkflowSpec` (except for `priority` that must be configured in a `WorkflowSpec` itself) are supported for `WorkflowTemplates`. You can take any existing `Workflow` you may have and convert it to a `WorkflowTemplate` by substituting `kind: Workflow` to `kind: WorkflowTemplate`.
 
 > v2.4  2.6
 

From 28c8dc7a9054fdf90fd7f98e03f86923dc6e6d2a Mon Sep 17 00:00:00 2001
From: Yuan Tang <terrytangyuan@gmail.com>
Date: Thu, 9 Sep 2021 15:34:06 -0400
Subject: [PATCH 098/137] feat: Support loading parameter values from
 configmaps (#6662)

Signed-off-by: Yuan Tang <terrytangyuan@gmail.com>
---
 api/jsonschema/schema.json                    |   4 +
 api/openapi-spec/swagger.json                 |   4 +
 docs/fields.md                                |  63 ++
 .../arguments-parameters-from-configmap.yaml  |  29 +
 .../simple-parameters-configmap.yaml          |   9 +
 .../global-parameters-from-configmap.yaml     |  29 +
 examples/validation_test.go                   |   2 +-
 hack/test-examples.sh                         |   3 +
 .../argoproj.io_clusterworkflowtemplates.yaml |  99 +++
 .../crds/full/argoproj.io_cronworkflows.yaml  |  99 +++
 .../argoproj.io_workfloweventbindings.yaml    |  11 +
 .../base/crds/full/argoproj.io_workflows.yaml | 275 ++++++
 .../full/argoproj.io_workflowtasksets.yaml    |  55 ++
 .../full/argoproj.io_workflowtemplates.yaml   |  99 +++
 pkg/apis/workflow/v1alpha1/generated.pb.go    | 827 ++++++++++--------
 pkg/apis/workflow/v1alpha1/generated.proto    |   3 +
 .../workflow/v1alpha1/openapi_generated.go    |   8 +-
 pkg/apis/workflow/v1alpha1/workflow_types.go  |   3 +
 .../v1alpha1/zz_generated.deepcopy.go         |   5 +
 util/configmap.go                             |  28 +
 workflow/common/util.go                       |  24 +-
 workflow/controller/operator.go               |  28 +-
 workflow/controller/workflowpod.go            |   2 +-
 workflow/validate/validate.go                 |   4 +-
 workflow/validate/validate_test.go            |  31 +-
 25 files changed, 1339 insertions(+), 405 deletions(-)
 create mode 100644 examples/arguments-parameters-from-configmap.yaml
 create mode 100644 examples/configmaps/simple-parameters-configmap.yaml
 create mode 100644 examples/global-parameters-from-configmap.yaml
 create mode 100644 util/configmap.go

diff --git a/api/jsonschema/schema.json b/api/jsonschema/schema.json
index 37511fb51bc3..5f614c0cc6dd 100644
--- a/api/jsonschema/schema.json
+++ b/api/jsonschema/schema.json
@@ -6930,6 +6930,10 @@
     "io.argoproj.workflow.v1alpha1.ValueFrom": {
       "description": "ValueFrom describes a location in which to obtain the value to a parameter",
       "properties": {
+        "configMapKeyRef": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.ConfigMapKeySelector",
+          "description": "ConfigMapKeyRef is configmap selector for input parameter configuration"
+        },
         "default": {
           "description": "Default specifies a value to be used if retrieving the value from the specified source fails",
           "type": "string"
diff --git a/api/openapi-spec/swagger.json b/api/openapi-spec/swagger.json
index ce2629aac3c4..176ed599f7ae 100644
--- a/api/openapi-spec/swagger.json
+++ b/api/openapi-spec/swagger.json
@@ -11089,6 +11089,10 @@
       "description": "ValueFrom describes a location in which to obtain the value to a parameter",
       "type": "object",
       "properties": {
+        "configMapKeyRef": {
+          "description": "ConfigMapKeyRef is configmap selector for input parameter configuration",
+          "$ref": "#/definitions/io.k8s.api.core.v1.ConfigMapKeySelector"
+        },
         "default": {
           "description": "Default specifies a value to be used if retrieving the value from the specified source fails",
           "type": "string"
diff --git a/docs/fields.md b/docs/fields.md
index 119fde8ec944..b904c70b6772 100644
--- a/docs/fields.md
+++ b/docs/fields.md
@@ -12,6 +12,8 @@ Workflow is the definition of a workflow resource
 
 - [`arguments-artifacts.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/arguments-artifacts.yaml)
 
+- [`arguments-parameters-from-configmap.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/arguments-parameters-from-configmap.yaml)
+
 - [`arguments-parameters.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/arguments-parameters.yaml)
 
 - [`artifact-disable-archive.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/artifact-disable-archive.yaml)
@@ -140,6 +142,8 @@ Workflow is the definition of a workflow resource
 
 - [`global-outputs.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/global-outputs.yaml)
 
+- [`global-parameters-from-configmap.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/global-parameters-from-configmap.yaml)
+
 - [`global-parameters.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/global-parameters.yaml)
 
 - [`handle-large-output-results.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/handle-large-output-results.yaml)
@@ -407,6 +411,8 @@ WorkflowSpec is the specification of a Workflow.
 
 - [`arguments-artifacts.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/arguments-artifacts.yaml)
 
+- [`arguments-parameters-from-configmap.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/arguments-parameters-from-configmap.yaml)
+
 - [`arguments-parameters.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/arguments-parameters.yaml)
 
 - [`artifact-disable-archive.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/artifact-disable-archive.yaml)
@@ -547,6 +553,8 @@ WorkflowSpec is the specification of a Workflow.
 
 - [`global-outputs.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/global-outputs.yaml)
 
+- [`global-parameters-from-configmap.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/global-parameters-from-configmap.yaml)
+
 - [`global-parameters.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/global-parameters.yaml)
 
 - [`handle-large-output-results.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/handle-large-output-results.yaml)
@@ -831,6 +839,8 @@ CronWorkflowSpec is the specification of a CronWorkflow
 
 - [`arguments-artifacts.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/arguments-artifacts.yaml)
 
+- [`arguments-parameters-from-configmap.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/arguments-parameters-from-configmap.yaml)
+
 - [`arguments-parameters.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/arguments-parameters.yaml)
 
 - [`artifact-disable-archive.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/artifact-disable-archive.yaml)
@@ -971,6 +981,8 @@ CronWorkflowSpec is the specification of a CronWorkflow
 
 - [`global-outputs.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/global-outputs.yaml)
 
+- [`global-parameters-from-configmap.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/global-parameters-from-configmap.yaml)
+
 - [`global-parameters.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/global-parameters.yaml)
 
 - [`handle-large-output-results.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/handle-large-output-results.yaml)
@@ -1212,6 +1224,8 @@ WorkflowTemplateSpec is a spec of WorkflowTemplate.
 
 - [`arguments-artifacts.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/arguments-artifacts.yaml)
 
+- [`arguments-parameters-from-configmap.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/arguments-parameters-from-configmap.yaml)
+
 - [`arguments-parameters.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/arguments-parameters.yaml)
 
 - [`artifact-disable-archive.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/artifact-disable-archive.yaml)
@@ -1352,6 +1366,8 @@ WorkflowTemplateSpec is a spec of WorkflowTemplate.
 
 - [`global-outputs.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/global-outputs.yaml)
 
+- [`global-parameters-from-configmap.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/global-parameters-from-configmap.yaml)
+
 - [`global-parameters.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/global-parameters.yaml)
 
 - [`handle-large-output-results.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/handle-large-output-results.yaml)
@@ -1684,6 +1700,8 @@ Arguments to a template
 
 - [`global-outputs.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/global-outputs.yaml)
 
+- [`global-parameters-from-configmap.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/global-parameters-from-configmap.yaml)
+
 - [`global-parameters.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/global-parameters.yaml)
 
 - [`handle-large-output-results.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/handle-large-output-results.yaml)
@@ -2341,6 +2359,8 @@ Parameter indicate a passed string parameter to a service template with an optio
 <summary>Examples with this field (click to open)</summary>
 <br>
 
+- [`arguments-parameters-from-configmap.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/arguments-parameters-from-configmap.yaml)
+
 - [`arguments-parameters.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/arguments-parameters.yaml)
 
 - [`artifact-path-placeholders.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/artifact-path-placeholders.yaml)
@@ -2413,6 +2433,8 @@ Parameter indicate a passed string parameter to a service template with an optio
 
 - [`global-outputs.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/global-outputs.yaml)
 
+- [`global-parameters-from-configmap.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/global-parameters-from-configmap.yaml)
+
 - [`global-parameters.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/global-parameters.yaml)
 
 - [`handle-large-output-results.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/handle-large-output-results.yaml)
@@ -2752,6 +2774,8 @@ Data is a data template
 
 - [`artifact-path-placeholders.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/artifact-path-placeholders.yaml)
 
+- [`simple-parameters-configmap.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/configmaps/simple-parameters-configmap.yaml)
+
 - [`data-transformations.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/data-transformations.yaml)
 
 - [`input-artifact-raw.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/input-artifact-raw.yaml)
@@ -2861,6 +2885,8 @@ Inputs are the mechanism for passing parameters, artifacts, volumes from one tem
 
 - [`arguments-artifacts.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/arguments-artifacts.yaml)
 
+- [`arguments-parameters-from-configmap.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/arguments-parameters-from-configmap.yaml)
+
 - [`arguments-parameters.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/arguments-parameters.yaml)
 
 - [`artifact-disable-archive.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/artifact-disable-archive.yaml)
@@ -3727,6 +3753,8 @@ ValueFrom describes a location in which to obtain the value to a parameter
 <summary>Examples with this field (click to open)</summary>
 <br>
 
+- [`arguments-parameters-from-configmap.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/arguments-parameters-from-configmap.yaml)
+
 - [`artifact-path-placeholders.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/artifact-path-placeholders.yaml)
 
 - [`conditional-parameters.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/conditional-parameters.yaml)
@@ -3745,6 +3773,8 @@ ValueFrom describes a location in which to obtain the value to a parameter
 
 - [`global-outputs.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/global-outputs.yaml)
 
+- [`global-parameters-from-configmap.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/global-parameters-from-configmap.yaml)
+
 - [`handle-large-output-results.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/handle-large-output-results.yaml)
 
 - [`k8s-jobs.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/k8s-jobs.yaml)
@@ -3777,6 +3807,7 @@ ValueFrom describes a location in which to obtain the value to a parameter
 ### Fields
 | Field Name | Field Type | Description   |
 |:----------:|:----------:|---------------|
+|`configMapKeyRef`|[`ConfigMapKeySelector`](#configmapkeyselector)|ConfigMapKeyRef is configmap selector for input parameter configuration|
 |`default`|`string`|Default specifies a value to be used if retrieving the value from the specified source fails|
 |`event`|`string`|Selector (https://github.com/antonmedv/expr) that is evaluated against the event to get the value of the parameter. E.g. `payload.message`|
 |`expression`|`string`|Expression, if defined, is evaluated to specify the value for the parameter|
@@ -3848,10 +3879,14 @@ MetricLabel is a single label for a prometheus metric
 <summary>Examples with this field (click to open)</summary>
 <br>
 
+- [`arguments-parameters-from-configmap.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/arguments-parameters-from-configmap.yaml)
+
 - [`conditional-artifacts.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/conditional-artifacts.yaml)
 
 - [`conditional-parameters.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/conditional-parameters.yaml)
 
+- [`simple-parameters-configmap.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/configmaps/simple-parameters-configmap.yaml)
+
 - [`graph-workflow.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/container-set-template/graph-workflow.yaml)
 
 - [`outputs-result-workflow.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/container-set-template/outputs-result-workflow.yaml)
@@ -3882,6 +3917,8 @@ MetricLabel is a single label for a prometheus metric
 
 - [`expression-tag-template-workflow.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/expression-tag-template-workflow.yaml)
 
+- [`global-parameters-from-configmap.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/global-parameters-from-configmap.yaml)
+
 - [`hello-world.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/hello-world.yaml)
 
 - [`http-hello-world.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/http-hello-world.yaml)
@@ -4555,6 +4592,8 @@ _No description available_
 <summary>Examples with this field (click to open)</summary>
 <br>
 
+- [`arguments-parameters-from-configmap.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/arguments-parameters-from-configmap.yaml)
+
 - [`artifact-path-placeholders.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/artifact-path-placeholders.yaml)
 
 - [`conditional-parameters.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/conditional-parameters.yaml)
@@ -4573,6 +4612,8 @@ _No description available_
 
 - [`global-outputs.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/global-outputs.yaml)
 
+- [`global-parameters-from-configmap.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/global-parameters-from-configmap.yaml)
+
 - [`handle-large-output-results.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/handle-large-output-results.yaml)
 
 - [`k8s-jobs.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/k8s-jobs.yaml)
@@ -4622,6 +4663,8 @@ ObjectMeta is metadata that all persisted resources must have, which includes al
 
 - [`arguments-artifacts.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/arguments-artifacts.yaml)
 
+- [`arguments-parameters-from-configmap.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/arguments-parameters-from-configmap.yaml)
+
 - [`arguments-parameters.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/arguments-parameters.yaml)
 
 - [`artifact-disable-archive.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/artifact-disable-archive.yaml)
@@ -4666,6 +4709,8 @@ ObjectMeta is metadata that all persisted resources must have, which includes al
 
 - [`conditionals.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/conditionals.yaml)
 
+- [`simple-parameters-configmap.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/configmaps/simple-parameters-configmap.yaml)
+
 - [`graph-workflow.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/container-set-template/graph-workflow.yaml)
 
 - [`outputs-result-workflow.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/container-set-template/outputs-result-workflow.yaml)
@@ -4762,6 +4807,8 @@ ObjectMeta is metadata that all persisted resources must have, which includes al
 
 - [`global-outputs.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/global-outputs.yaml)
 
+- [`global-parameters-from-configmap.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/global-parameters-from-configmap.yaml)
+
 - [`global-parameters.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/global-parameters.yaml)
 
 - [`handle-large-output-results.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/handle-large-output-results.yaml)
@@ -5264,6 +5311,8 @@ A single application container that you want to run within a pod.
 
 - [`arguments-artifacts.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/arguments-artifacts.yaml)
 
+- [`arguments-parameters-from-configmap.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/arguments-parameters-from-configmap.yaml)
+
 - [`arguments-parameters.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/arguments-parameters.yaml)
 
 - [`artifact-disable-archive.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/artifact-disable-archive.yaml)
@@ -5368,6 +5417,8 @@ A single application container that you want to run within a pod.
 
 - [`global-outputs.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/global-outputs.yaml)
 
+- [`global-parameters-from-configmap.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/global-parameters-from-configmap.yaml)
+
 - [`global-parameters.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/global-parameters.yaml)
 
 - [`handle-large-output-results.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/handle-large-output-results.yaml)
@@ -5561,6 +5612,10 @@ Selects a key from a ConfigMap.
 <summary>Examples with this field (click to open)</summary>
 <br>
 
+- [`arguments-parameters-from-configmap.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/arguments-parameters-from-configmap.yaml)
+
+- [`global-parameters-from-configmap.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/global-parameters-from-configmap.yaml)
+
 - [`synchronization-tmpl-level.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/synchronization-tmpl-level.yaml)
 
 - [`synchronization-wf-level.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/synchronization-wf-level.yaml)
@@ -5911,6 +5966,8 @@ PersistentVolumeClaimSpec describes the common attributes of storage devices and
 
 - [`arguments-artifacts.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/arguments-artifacts.yaml)
 
+- [`arguments-parameters-from-configmap.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/arguments-parameters-from-configmap.yaml)
+
 - [`arguments-parameters.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/arguments-parameters.yaml)
 
 - [`artifact-disable-archive.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/artifact-disable-archive.yaml)
@@ -6051,6 +6108,8 @@ PersistentVolumeClaimSpec describes the common attributes of storage devices and
 
 - [`global-outputs.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/global-outputs.yaml)
 
+- [`global-parameters-from-configmap.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/global-parameters-from-configmap.yaml)
+
 - [`global-parameters.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/global-parameters.yaml)
 
 - [`handle-large-output-results.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/handle-large-output-results.yaml)
@@ -6678,6 +6737,8 @@ EnvVarSource represents a source for the value of an EnvVar.
 <summary>Examples with this field (click to open)</summary>
 <br>
 
+- [`arguments-parameters-from-configmap.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/arguments-parameters-from-configmap.yaml)
+
 - [`artifact-path-placeholders.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/artifact-path-placeholders.yaml)
 
 - [`conditional-parameters.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/conditional-parameters.yaml)
@@ -6696,6 +6757,8 @@ EnvVarSource represents a source for the value of an EnvVar.
 
 - [`global-outputs.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/global-outputs.yaml)
 
+- [`global-parameters-from-configmap.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/global-parameters-from-configmap.yaml)
+
 - [`handle-large-output-results.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/handle-large-output-results.yaml)
 
 - [`k8s-jobs.yaml`](https://github.com/argoproj/argo-workflows/blob/master/examples/k8s-jobs.yaml)
diff --git a/examples/arguments-parameters-from-configmap.yaml b/examples/arguments-parameters-from-configmap.yaml
new file mode 100644
index 000000000000..74e7d048d8aa
--- /dev/null
+++ b/examples/arguments-parameters-from-configmap.yaml
@@ -0,0 +1,29 @@
+apiVersion: argoproj.io/v1alpha1
+kind: Workflow
+metadata:
+  generateName: arguments-parameters-from-configmap-
+  labels:
+    workflows.argoproj.io/test: "true"
+  annotations:
+    workflows.argoproj.io/description: |
+      This example demonstrates loading parameter values from configmap.
+    workflows.argoproj.io/verify.py: |
+      assert status["phase"] == "Succeeded"
+spec:
+  serviceAccountName: argo
+  entrypoint: whalesay
+
+  templates:
+  - name: whalesay
+    inputs:
+      parameters:
+      # Parameters can also be passed via configmap reference.
+      - name: message
+        valueFrom:
+          configMapKeyRef:
+            name: simple-parameters
+            key: msg
+    container:
+      image: docker/whalesay:latest
+      command: [cowsay]
+      args: ["{{inputs.parameters.message}}"]
diff --git a/examples/configmaps/simple-parameters-configmap.yaml b/examples/configmaps/simple-parameters-configmap.yaml
new file mode 100644
index 000000000000..355220397d41
--- /dev/null
+++ b/examples/configmaps/simple-parameters-configmap.yaml
@@ -0,0 +1,9 @@
+apiVersion: v1
+kind: ConfigMap
+metadata:
+  name: simple-parameters
+  namespace: argo
+  labels:
+    workflows.argoproj.io/configmap-type: Parameter
+data:
+  msg: 'hello world'
diff --git a/examples/global-parameters-from-configmap.yaml b/examples/global-parameters-from-configmap.yaml
new file mode 100644
index 000000000000..2e0b7e505420
--- /dev/null
+++ b/examples/global-parameters-from-configmap.yaml
@@ -0,0 +1,29 @@
+apiVersion: argoproj.io/v1alpha1
+kind: Workflow
+metadata:
+  generateName: global-parameter-values-from-configmap-
+  labels:
+    workflows.argoproj.io/test: "true"
+  annotations:
+    workflows.argoproj.io/description: |
+      This example demonstrates loading global parameter values from configmap.
+    workflows.argoproj.io/verify.py: |
+      assert status["phase"] == "Succeeded"
+spec:
+  serviceAccountName: argo
+  entrypoint: whalesay
+  # Parameters can also be passed via configmap reference.
+  arguments:
+    parameters:
+    - name: message
+      valueFrom:
+        configMapKeyRef:
+          name: simple-parameters
+          key: msg
+
+  templates:
+  - name: whalesay
+    container:
+      image: docker/whalesay:latest
+      command: [cowsay]
+      args: ["{{workflow.parameters.message}}"]
diff --git a/examples/validation_test.go b/examples/validation_test.go
index badf0de08367..d1ef5f026e66 100644
--- a/examples/validation_test.go
+++ b/examples/validation_test.go
@@ -7,7 +7,7 @@ import (
 )
 
 func TestValidateExamples(t *testing.T) {
-	failures, err := ValidateArgoYamlRecursively(".", []string{"testvolume.yaml"})
+	failures, err := ValidateArgoYamlRecursively(".", []string{"testvolume.yaml", "simple-parameters-configmap.yaml"})
 	if err != nil {
 		t.Errorf("There was an error: %s", err)
 	}
diff --git a/hack/test-examples.sh b/hack/test-examples.sh
index d934ebd1a142..db66b2f942b8 100755
--- a/hack/test-examples.sh
+++ b/hack/test-examples.sh
@@ -3,6 +3,9 @@ set -eu -o pipefail
 
 ./dist/argo delete -l workflows.argoproj.io/test
 
+# Load the configmaps that contains the parameter values used for certain examples.
+kubectl apply -f examples/configmaps/simple-parameters-configmap.yaml
+
 grep -lR 'workflows.argoproj.io/test' examples/* | while read f ; do
   ./dist/argo submit --watch --verify $f
 done
diff --git a/manifests/base/crds/full/argoproj.io_clusterworkflowtemplates.yaml b/manifests/base/crds/full/argoproj.io_clusterworkflowtemplates.yaml
index 9f7ba8bb8bed..e6daa05ea55c 100644
--- a/manifests/base/crds/full/argoproj.io_clusterworkflowtemplates.yaml
+++ b/manifests/base/crds/full/argoproj.io_clusterworkflowtemplates.yaml
@@ -644,6 +644,17 @@ spec:
                           type: string
                         valueFrom:
                           properties:
+                            configMapKeyRef:
+                              properties:
+                                key:
+                                  type: string
+                                name:
+                                  type: string
+                                optional:
+                                  type: boolean
+                              required:
+                              - key
+                              type: object
                             default:
                               type: string
                             event:
@@ -3049,6 +3060,17 @@ spec:
                                         type: string
                                       valueFrom:
                                         properties:
+                                          configMapKeyRef:
+                                            properties:
+                                              key:
+                                                type: string
+                                              name:
+                                                type: string
+                                              optional:
+                                                type: boolean
+                                            required:
+                                            - key
+                                            type: object
                                           default:
                                             type: string
                                           event:
@@ -3439,6 +3461,17 @@ spec:
                                               type: string
                                             valueFrom:
                                               properties:
+                                                configMapKeyRef:
+                                                  properties:
+                                                    key:
+                                                      type: string
+                                                    name:
+                                                      type: string
+                                                    optional:
+                                                      type: boolean
+                                                  required:
+                                                  - key
+                                                  type: object
                                                 default:
                                                   type: string
                                                 event:
@@ -4825,6 +4858,17 @@ spec:
                               type: string
                             valueFrom:
                               properties:
+                                configMapKeyRef:
+                                  properties:
+                                    key:
+                                      type: string
+                                    name:
+                                      type: string
+                                    optional:
+                                      type: boolean
+                                  required:
+                                  - key
+                                  type: object
                                 default:
                                   type: string
                                 event:
@@ -5305,6 +5349,17 @@ spec:
                               type: string
                             valueFrom:
                               properties:
+                                configMapKeyRef:
+                                  properties:
+                                    key:
+                                      type: string
+                                    name:
+                                      type: string
+                                    optional:
+                                      type: boolean
+                                  required:
+                                  - key
+                                  type: object
                                 default:
                                   type: string
                                 event:
@@ -9321,6 +9376,17 @@ spec:
                                           type: string
                                         valueFrom:
                                           properties:
+                                            configMapKeyRef:
+                                              properties:
+                                                key:
+                                                  type: string
+                                                name:
+                                                  type: string
+                                                optional:
+                                                  type: boolean
+                                              required:
+                                              - key
+                                              type: object
                                             default:
                                               type: string
                                             event:
@@ -9711,6 +9777,17 @@ spec:
                                                 type: string
                                               valueFrom:
                                                 properties:
+                                                  configMapKeyRef:
+                                                    properties:
+                                                      key:
+                                                        type: string
+                                                      name:
+                                                        type: string
+                                                      optional:
+                                                        type: boolean
+                                                    required:
+                                                    - key
+                                                    type: object
                                                   default:
                                                     type: string
                                                   event:
@@ -11097,6 +11174,17 @@ spec:
                                 type: string
                               valueFrom:
                                 properties:
+                                  configMapKeyRef:
+                                    properties:
+                                      key:
+                                        type: string
+                                      name:
+                                        type: string
+                                      optional:
+                                        type: boolean
+                                    required:
+                                    - key
+                                    type: object
                                   default:
                                     type: string
                                   event:
@@ -11577,6 +11665,17 @@ spec:
                                 type: string
                               valueFrom:
                                 properties:
+                                  configMapKeyRef:
+                                    properties:
+                                      key:
+                                        type: string
+                                      name:
+                                        type: string
+                                      optional:
+                                        type: boolean
+                                    required:
+                                    - key
+                                    type: object
                                   default:
                                     type: string
                                   event:
diff --git a/manifests/base/crds/full/argoproj.io_cronworkflows.yaml b/manifests/base/crds/full/argoproj.io_cronworkflows.yaml
index 660d889c8d10..5032c9e91dc2 100644
--- a/manifests/base/crds/full/argoproj.io_cronworkflows.yaml
+++ b/manifests/base/crds/full/argoproj.io_cronworkflows.yaml
@@ -665,6 +665,17 @@ spec:
                               type: string
                             valueFrom:
                               properties:
+                                configMapKeyRef:
+                                  properties:
+                                    key:
+                                      type: string
+                                    name:
+                                      type: string
+                                    optional:
+                                      type: boolean
+                                  required:
+                                  - key
+                                  type: object
                                 default:
                                   type: string
                                 event:
@@ -3070,6 +3081,17 @@ spec:
                                             type: string
                                           valueFrom:
                                             properties:
+                                              configMapKeyRef:
+                                                properties:
+                                                  key:
+                                                    type: string
+                                                  name:
+                                                    type: string
+                                                  optional:
+                                                    type: boolean
+                                                required:
+                                                - key
+                                                type: object
                                               default:
                                                 type: string
                                               event:
@@ -3460,6 +3482,17 @@ spec:
                                                   type: string
                                                 valueFrom:
                                                   properties:
+                                                    configMapKeyRef:
+                                                      properties:
+                                                        key:
+                                                          type: string
+                                                        name:
+                                                          type: string
+                                                        optional:
+                                                          type: boolean
+                                                      required:
+                                                      - key
+                                                      type: object
                                                     default:
                                                       type: string
                                                     event:
@@ -4846,6 +4879,17 @@ spec:
                                   type: string
                                 valueFrom:
                                   properties:
+                                    configMapKeyRef:
+                                      properties:
+                                        key:
+                                          type: string
+                                        name:
+                                          type: string
+                                        optional:
+                                          type: boolean
+                                      required:
+                                      - key
+                                      type: object
                                     default:
                                       type: string
                                     event:
@@ -5326,6 +5370,17 @@ spec:
                                   type: string
                                 valueFrom:
                                   properties:
+                                    configMapKeyRef:
+                                      properties:
+                                        key:
+                                          type: string
+                                        name:
+                                          type: string
+                                        optional:
+                                          type: boolean
+                                      required:
+                                      - key
+                                      type: object
                                     default:
                                       type: string
                                     event:
@@ -9342,6 +9397,17 @@ spec:
                                               type: string
                                             valueFrom:
                                               properties:
+                                                configMapKeyRef:
+                                                  properties:
+                                                    key:
+                                                      type: string
+                                                    name:
+                                                      type: string
+                                                    optional:
+                                                      type: boolean
+                                                  required:
+                                                  - key
+                                                  type: object
                                                 default:
                                                   type: string
                                                 event:
@@ -9732,6 +9798,17 @@ spec:
                                                     type: string
                                                   valueFrom:
                                                     properties:
+                                                      configMapKeyRef:
+                                                        properties:
+                                                          key:
+                                                            type: string
+                                                          name:
+                                                            type: string
+                                                          optional:
+                                                            type: boolean
+                                                        required:
+                                                        - key
+                                                        type: object
                                                       default:
                                                         type: string
                                                       event:
@@ -11118,6 +11195,17 @@ spec:
                                     type: string
                                   valueFrom:
                                     properties:
+                                      configMapKeyRef:
+                                        properties:
+                                          key:
+                                            type: string
+                                          name:
+                                            type: string
+                                          optional:
+                                            type: boolean
+                                        required:
+                                        - key
+                                        type: object
                                       default:
                                         type: string
                                       event:
@@ -11598,6 +11686,17 @@ spec:
                                     type: string
                                   valueFrom:
                                     properties:
+                                      configMapKeyRef:
+                                        properties:
+                                          key:
+                                            type: string
+                                          name:
+                                            type: string
+                                          optional:
+                                            type: boolean
+                                        required:
+                                        - key
+                                        type: object
                                       default:
                                         type: string
                                       event:
diff --git a/manifests/base/crds/full/argoproj.io_workfloweventbindings.yaml b/manifests/base/crds/full/argoproj.io_workfloweventbindings.yaml
index f18bf97f91a1..4cd306bb704f 100644
--- a/manifests/base/crds/full/argoproj.io_workfloweventbindings.yaml
+++ b/manifests/base/crds/full/argoproj.io_workfloweventbindings.yaml
@@ -387,6 +387,17 @@ spec:
                               type: string
                             valueFrom:
                               properties:
+                                configMapKeyRef:
+                                  properties:
+                                    key:
+                                      type: string
+                                    name:
+                                      type: string
+                                    optional:
+                                      type: boolean
+                                  required:
+                                  - key
+                                  type: object
                                 default:
                                   type: string
                                 event:
diff --git a/manifests/base/crds/full/argoproj.io_workflows.yaml b/manifests/base/crds/full/argoproj.io_workflows.yaml
index 3fbbc96b763e..907a67d10eb4 100644
--- a/manifests/base/crds/full/argoproj.io_workflows.yaml
+++ b/manifests/base/crds/full/argoproj.io_workflows.yaml
@@ -653,6 +653,17 @@ spec:
                           type: string
                         valueFrom:
                           properties:
+                            configMapKeyRef:
+                              properties:
+                                key:
+                                  type: string
+                                name:
+                                  type: string
+                                optional:
+                                  type: boolean
+                              required:
+                              - key
+                              type: object
                             default:
                               type: string
                             event:
@@ -3058,6 +3069,17 @@ spec:
                                         type: string
                                       valueFrom:
                                         properties:
+                                          configMapKeyRef:
+                                            properties:
+                                              key:
+                                                type: string
+                                              name:
+                                                type: string
+                                              optional:
+                                                type: boolean
+                                            required:
+                                            - key
+                                            type: object
                                           default:
                                             type: string
                                           event:
@@ -3448,6 +3470,17 @@ spec:
                                               type: string
                                             valueFrom:
                                               properties:
+                                                configMapKeyRef:
+                                                  properties:
+                                                    key:
+                                                      type: string
+                                                    name:
+                                                      type: string
+                                                    optional:
+                                                      type: boolean
+                                                  required:
+                                                  - key
+                                                  type: object
                                                 default:
                                                   type: string
                                                 event:
@@ -4834,6 +4867,17 @@ spec:
                               type: string
                             valueFrom:
                               properties:
+                                configMapKeyRef:
+                                  properties:
+                                    key:
+                                      type: string
+                                    name:
+                                      type: string
+                                    optional:
+                                      type: boolean
+                                  required:
+                                  - key
+                                  type: object
                                 default:
                                   type: string
                                 event:
@@ -5314,6 +5358,17 @@ spec:
                               type: string
                             valueFrom:
                               properties:
+                                configMapKeyRef:
+                                  properties:
+                                    key:
+                                      type: string
+                                    name:
+                                      type: string
+                                    optional:
+                                      type: boolean
+                                  required:
+                                  - key
+                                  type: object
                                 default:
                                   type: string
                                 event:
@@ -9330,6 +9385,17 @@ spec:
                                           type: string
                                         valueFrom:
                                           properties:
+                                            configMapKeyRef:
+                                              properties:
+                                                key:
+                                                  type: string
+                                                name:
+                                                  type: string
+                                                optional:
+                                                  type: boolean
+                                              required:
+                                              - key
+                                              type: object
                                             default:
                                               type: string
                                             event:
@@ -9720,6 +9786,17 @@ spec:
                                                 type: string
                                               valueFrom:
                                                 properties:
+                                                  configMapKeyRef:
+                                                    properties:
+                                                      key:
+                                                        type: string
+                                                      name:
+                                                        type: string
+                                                      optional:
+                                                        type: boolean
+                                                    required:
+                                                    - key
+                                                    type: object
                                                   default:
                                                     type: string
                                                   event:
@@ -11106,6 +11183,17 @@ spec:
                                 type: string
                               valueFrom:
                                 properties:
+                                  configMapKeyRef:
+                                    properties:
+                                      key:
+                                        type: string
+                                      name:
+                                        type: string
+                                      optional:
+                                        type: boolean
+                                    required:
+                                    - key
+                                    type: object
                                   default:
                                     type: string
                                   event:
@@ -11586,6 +11674,17 @@ spec:
                                 type: string
                               valueFrom:
                                 properties:
+                                  configMapKeyRef:
+                                    properties:
+                                      key:
+                                        type: string
+                                      name:
+                                        type: string
+                                      optional:
+                                        type: boolean
+                                    required:
+                                    - key
+                                    type: object
                                   default:
                                     type: string
                                   event:
@@ -14999,6 +15098,17 @@ spec:
                                 type: string
                               valueFrom:
                                 properties:
+                                  configMapKeyRef:
+                                    properties:
+                                      key:
+                                        type: string
+                                      name:
+                                        type: string
+                                      optional:
+                                        type: boolean
+                                    required:
+                                    - key
+                                    type: object
                                   default:
                                     type: string
                                   event:
@@ -15396,6 +15506,17 @@ spec:
                                 type: string
                               valueFrom:
                                 properties:
+                                  configMapKeyRef:
+                                    properties:
+                                      key:
+                                        type: string
+                                      name:
+                                        type: string
+                                      optional:
+                                        type: boolean
+                                    required:
+                                    - key
+                                    type: object
                                   default:
                                     type: string
                                   event:
@@ -15816,6 +15937,17 @@ spec:
                           type: string
                         valueFrom:
                           properties:
+                            configMapKeyRef:
+                              properties:
+                                key:
+                                  type: string
+                                name:
+                                  type: string
+                                optional:
+                                  type: boolean
+                              required:
+                              - key
+                              type: object
                             default:
                               type: string
                             event:
@@ -18573,6 +18705,17 @@ spec:
                                           type: string
                                         valueFrom:
                                           properties:
+                                            configMapKeyRef:
+                                              properties:
+                                                key:
+                                                  type: string
+                                                name:
+                                                  type: string
+                                                optional:
+                                                  type: boolean
+                                              required:
+                                              - key
+                                              type: object
                                             default:
                                               type: string
                                             event:
@@ -18963,6 +19106,17 @@ spec:
                                                 type: string
                                               valueFrom:
                                                 properties:
+                                                  configMapKeyRef:
+                                                    properties:
+                                                      key:
+                                                        type: string
+                                                      name:
+                                                        type: string
+                                                      optional:
+                                                        type: boolean
+                                                    required:
+                                                    - key
+                                                    type: object
                                                   default:
                                                     type: string
                                                   event:
@@ -20349,6 +20503,17 @@ spec:
                                 type: string
                               valueFrom:
                                 properties:
+                                  configMapKeyRef:
+                                    properties:
+                                      key:
+                                        type: string
+                                      name:
+                                        type: string
+                                      optional:
+                                        type: boolean
+                                    required:
+                                    - key
+                                    type: object
                                   default:
                                     type: string
                                   event:
@@ -20829,6 +20994,17 @@ spec:
                                 type: string
                               valueFrom:
                                 properties:
+                                  configMapKeyRef:
+                                    properties:
+                                      key:
+                                        type: string
+                                      name:
+                                        type: string
+                                      optional:
+                                        type: boolean
+                                    required:
+                                    - key
+                                    type: object
                                   default:
                                     type: string
                                   event:
@@ -23414,6 +23590,17 @@ spec:
                               type: string
                             valueFrom:
                               properties:
+                                configMapKeyRef:
+                                  properties:
+                                    key:
+                                      type: string
+                                    name:
+                                      type: string
+                                    optional:
+                                      type: boolean
+                                  required:
+                                  - key
+                                  type: object
                                 default:
                                   type: string
                                 event:
@@ -25819,6 +26006,17 @@ spec:
                                             type: string
                                           valueFrom:
                                             properties:
+                                              configMapKeyRef:
+                                                properties:
+                                                  key:
+                                                    type: string
+                                                  name:
+                                                    type: string
+                                                  optional:
+                                                    type: boolean
+                                                required:
+                                                - key
+                                                type: object
                                               default:
                                                 type: string
                                               event:
@@ -26209,6 +26407,17 @@ spec:
                                                   type: string
                                                 valueFrom:
                                                   properties:
+                                                    configMapKeyRef:
+                                                      properties:
+                                                        key:
+                                                          type: string
+                                                        name:
+                                                          type: string
+                                                        optional:
+                                                          type: boolean
+                                                      required:
+                                                      - key
+                                                      type: object
                                                     default:
                                                       type: string
                                                     event:
@@ -27595,6 +27804,17 @@ spec:
                                   type: string
                                 valueFrom:
                                   properties:
+                                    configMapKeyRef:
+                                      properties:
+                                        key:
+                                          type: string
+                                        name:
+                                          type: string
+                                        optional:
+                                          type: boolean
+                                      required:
+                                      - key
+                                      type: object
                                     default:
                                       type: string
                                     event:
@@ -28075,6 +28295,17 @@ spec:
                                   type: string
                                 valueFrom:
                                   properties:
+                                    configMapKeyRef:
+                                      properties:
+                                        key:
+                                          type: string
+                                        name:
+                                          type: string
+                                        optional:
+                                          type: boolean
+                                      required:
+                                      - key
+                                      type: object
                                     default:
                                       type: string
                                     event:
@@ -32091,6 +32322,17 @@ spec:
                                               type: string
                                             valueFrom:
                                               properties:
+                                                configMapKeyRef:
+                                                  properties:
+                                                    key:
+                                                      type: string
+                                                    name:
+                                                      type: string
+                                                    optional:
+                                                      type: boolean
+                                                  required:
+                                                  - key
+                                                  type: object
                                                 default:
                                                   type: string
                                                 event:
@@ -32481,6 +32723,17 @@ spec:
                                                     type: string
                                                   valueFrom:
                                                     properties:
+                                                      configMapKeyRef:
+                                                        properties:
+                                                          key:
+                                                            type: string
+                                                          name:
+                                                            type: string
+                                                          optional:
+                                                            type: boolean
+                                                        required:
+                                                        - key
+                                                        type: object
                                                       default:
                                                         type: string
                                                       event:
@@ -33867,6 +34120,17 @@ spec:
                                     type: string
                                   valueFrom:
                                     properties:
+                                      configMapKeyRef:
+                                        properties:
+                                          key:
+                                            type: string
+                                          name:
+                                            type: string
+                                          optional:
+                                            type: boolean
+                                        required:
+                                        - key
+                                        type: object
                                       default:
                                         type: string
                                       event:
@@ -34347,6 +34611,17 @@ spec:
                                     type: string
                                   valueFrom:
                                     properties:
+                                      configMapKeyRef:
+                                        properties:
+                                          key:
+                                            type: string
+                                          name:
+                                            type: string
+                                          optional:
+                                            type: boolean
+                                        required:
+                                        - key
+                                        type: object
                                       default:
                                         type: string
                                       event:
diff --git a/manifests/base/crds/full/argoproj.io_workflowtasksets.yaml b/manifests/base/crds/full/argoproj.io_workflowtasksets.yaml
index 1ae5c84210a3..cbb26146736e 100644
--- a/manifests/base/crds/full/argoproj.io_workflowtasksets.yaml
+++ b/manifests/base/crds/full/argoproj.io_workflowtasksets.yaml
@@ -2077,6 +2077,17 @@ spec:
                                           type: string
                                         valueFrom:
                                           properties:
+                                            configMapKeyRef:
+                                              properties:
+                                                key:
+                                                  type: string
+                                                name:
+                                                  type: string
+                                                optional:
+                                                  type: boolean
+                                              required:
+                                              - key
+                                              type: object
                                             default:
                                               type: string
                                             event:
@@ -2467,6 +2478,17 @@ spec:
                                                 type: string
                                               valueFrom:
                                                 properties:
+                                                  configMapKeyRef:
+                                                    properties:
+                                                      key:
+                                                        type: string
+                                                      name:
+                                                        type: string
+                                                      optional:
+                                                        type: boolean
+                                                    required:
+                                                    - key
+                                                    type: object
                                                   default:
                                                     type: string
                                                   event:
@@ -3853,6 +3875,17 @@ spec:
                                 type: string
                               valueFrom:
                                 properties:
+                                  configMapKeyRef:
+                                    properties:
+                                      key:
+                                        type: string
+                                      name:
+                                        type: string
+                                      optional:
+                                        type: boolean
+                                    required:
+                                    - key
+                                    type: object
                                   default:
                                     type: string
                                   event:
@@ -4333,6 +4366,17 @@ spec:
                                 type: string
                               valueFrom:
                                 properties:
+                                  configMapKeyRef:
+                                    properties:
+                                      key:
+                                        type: string
+                                      name:
+                                        type: string
+                                      optional:
+                                        type: boolean
+                                    required:
+                                    - key
+                                    type: object
                                   default:
                                     type: string
                                   event:
@@ -6661,6 +6705,17 @@ spec:
                                 type: string
                               valueFrom:
                                 properties:
+                                  configMapKeyRef:
+                                    properties:
+                                      key:
+                                        type: string
+                                      name:
+                                        type: string
+                                      optional:
+                                        type: boolean
+                                    required:
+                                    - key
+                                    type: object
                                   default:
                                     type: string
                                   event:
diff --git a/manifests/base/crds/full/argoproj.io_workflowtemplates.yaml b/manifests/base/crds/full/argoproj.io_workflowtemplates.yaml
index 396b98c4ebde..e4003a31a0c0 100644
--- a/manifests/base/crds/full/argoproj.io_workflowtemplates.yaml
+++ b/manifests/base/crds/full/argoproj.io_workflowtemplates.yaml
@@ -643,6 +643,17 @@ spec:
                           type: string
                         valueFrom:
                           properties:
+                            configMapKeyRef:
+                              properties:
+                                key:
+                                  type: string
+                                name:
+                                  type: string
+                                optional:
+                                  type: boolean
+                              required:
+                              - key
+                              type: object
                             default:
                               type: string
                             event:
@@ -3048,6 +3059,17 @@ spec:
                                         type: string
                                       valueFrom:
                                         properties:
+                                          configMapKeyRef:
+                                            properties:
+                                              key:
+                                                type: string
+                                              name:
+                                                type: string
+                                              optional:
+                                                type: boolean
+                                            required:
+                                            - key
+                                            type: object
                                           default:
                                             type: string
                                           event:
@@ -3438,6 +3460,17 @@ spec:
                                               type: string
                                             valueFrom:
                                               properties:
+                                                configMapKeyRef:
+                                                  properties:
+                                                    key:
+                                                      type: string
+                                                    name:
+                                                      type: string
+                                                    optional:
+                                                      type: boolean
+                                                  required:
+                                                  - key
+                                                  type: object
                                                 default:
                                                   type: string
                                                 event:
@@ -4824,6 +4857,17 @@ spec:
                               type: string
                             valueFrom:
                               properties:
+                                configMapKeyRef:
+                                  properties:
+                                    key:
+                                      type: string
+                                    name:
+                                      type: string
+                                    optional:
+                                      type: boolean
+                                  required:
+                                  - key
+                                  type: object
                                 default:
                                   type: string
                                 event:
@@ -5304,6 +5348,17 @@ spec:
                               type: string
                             valueFrom:
                               properties:
+                                configMapKeyRef:
+                                  properties:
+                                    key:
+                                      type: string
+                                    name:
+                                      type: string
+                                    optional:
+                                      type: boolean
+                                  required:
+                                  - key
+                                  type: object
                                 default:
                                   type: string
                                 event:
@@ -9320,6 +9375,17 @@ spec:
                                           type: string
                                         valueFrom:
                                           properties:
+                                            configMapKeyRef:
+                                              properties:
+                                                key:
+                                                  type: string
+                                                name:
+                                                  type: string
+                                                optional:
+                                                  type: boolean
+                                              required:
+                                              - key
+                                              type: object
                                             default:
                                               type: string
                                             event:
@@ -9710,6 +9776,17 @@ spec:
                                                 type: string
                                               valueFrom:
                                                 properties:
+                                                  configMapKeyRef:
+                                                    properties:
+                                                      key:
+                                                        type: string
+                                                      name:
+                                                        type: string
+                                                      optional:
+                                                        type: boolean
+                                                    required:
+                                                    - key
+                                                    type: object
                                                   default:
                                                     type: string
                                                   event:
@@ -11096,6 +11173,17 @@ spec:
                                 type: string
                               valueFrom:
                                 properties:
+                                  configMapKeyRef:
+                                    properties:
+                                      key:
+                                        type: string
+                                      name:
+                                        type: string
+                                      optional:
+                                        type: boolean
+                                    required:
+                                    - key
+                                    type: object
                                   default:
                                     type: string
                                   event:
@@ -11576,6 +11664,17 @@ spec:
                                 type: string
                               valueFrom:
                                 properties:
+                                  configMapKeyRef:
+                                    properties:
+                                      key:
+                                        type: string
+                                      name:
+                                        type: string
+                                      optional:
+                                        type: boolean
+                                    required:
+                                    - key
+                                    type: object
                                   default:
                                     type: string
                                   event:
diff --git a/pkg/apis/workflow/v1alpha1/generated.pb.go b/pkg/apis/workflow/v1alpha1/generated.pb.go
index 99d1b93b2a40..2317c88c092b 100644
--- a/pkg/apis/workflow/v1alpha1/generated.pb.go
+++ b/pkg/apis/workflow/v1alpha1/generated.pb.go
@@ -3478,14 +3478,14 @@ func init() {
 }
 
 var fileDescriptor_724696e352c3df5f = []byte{
-	// 8855 bytes of a gzipped FileDescriptorProto
+	// 8863 bytes of a gzipped FileDescriptorProto
 	0x1f, 0x8b, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0xff, 0xec, 0x7d, 0x6d, 0x6c, 0x24, 0xc9,
 	0x75, 0xd8, 0xf5, 0x90, 0x43, 0x0e, 0x1f, 0xc9, 0x25, 0xb7, 0xf6, 0x6b, 0x8e, 0xb7, 0xb7, 0x3c,
 	0xf7, 0xf9, 0x2e, 0xb7, 0x8e, 0x4c, 0xfa, 0x76, 0x75, 0xc9, 0x45, 0x42, 0x64, 0x71, 0xc8, 0xe5,
 	0x72, 0x8f, 0xcb, 0x8f, 0x7b, 0xc3, 0xdd, 0xcd, 0x7d, 0x44, 0x56, 0x73, 0xa6, 0x38, 0xd3, 0xc7,
 	0x99, 0xee, 0xb9, 0xee, 0x1e, 0x72, 0xa9, 0xbb, 0x93, 0x14, 0xf9, 0x43, 0x77, 0xb1, 0x1c, 0xe7,
-	0xc3, 0xb1, 0x65, 0x25, 0x01, 0x04, 0xc7, 0x8a, 0x03, 0xc7, 0x08, 0x20, 0x20, 0xbf, 0xec, 0xbf,
-	0x81, 0xa1, 0x20, 0x01, 0xe2, 0xc0, 0x4a, 0x2c, 0x20, 0x09, 0x15, 0x31, 0x89, 0x11, 0x24, 0x70,
+	0xc3, 0xb1, 0x65, 0x25, 0x01, 0x04, 0xc7, 0x8a, 0x03, 0xc7, 0x48, 0x20, 0x20, 0xbf, 0xec, 0xbf,
+	0x41, 0xa0, 0x20, 0x01, 0xe2, 0xc0, 0x4a, 0x2c, 0x20, 0x09, 0x15, 0x31, 0x89, 0x11, 0x24, 0x70,
 	0x7e, 0x04, 0x91, 0x6c, 0x6c, 0xfc, 0x23, 0xa8, 0xcf, 0xae, 0xee, 0xe9, 0xe1, 0x92, 0xbb, 0x4d,
 	0xae, 0x10, 0xe7, 0xdf, 0xcc, 0xab, 0x57, 0xef, 0x55, 0x55, 0x57, 0xbd, 0x7a, 0xf5, 0xde, 0xab,
 	0x57, 0xb0, 0xde, 0x70, 0xa3, 0x66, 0x77, 0x73, 0xa6, 0xe6, 0xb7, 0x67, 0x9d, 0xa0, 0xe1, 0x77,
@@ -3499,12 +3499,12 @@ var fileDescriptor_724696e352c3df5f = []byte{
 	0x46, 0x4d, 0x5d, 0x35, 0x70, 0x3a, 0x7e, 0xcb, 0xad, 0xed, 0xcd, 0xee, 0xbc, 0xbc, 0x49, 0xa3,
 	0xde, 0xf6, 0x4f, 0x7d, 0x3c, 0x46, 0x6d, 0x3b, 0xb5, 0xa6, 0xeb, 0xd1, 0x60, 0x2f, 0xee, 0x7f,
 	0x9b, 0x46, 0x4e, 0x16, 0x83, 0xd9, 0x7e, 0xb5, 0x82, 0xae, 0x17, 0xb9, 0x6d, 0xda, 0x53, 0xe1,
-	0x2f, 0x3c, 0xac, 0x42, 0x58, 0x6b, 0xd2, 0xb6, 0xd3, 0x53, 0xef, 0x7a, 0xbf, 0x7a, 0xdd, 0xc8,
+	0xcf, 0x3d, 0xac, 0x42, 0x58, 0x6b, 0xd2, 0xb6, 0xd3, 0x53, 0xef, 0x7a, 0xbf, 0x7a, 0xdd, 0xc8,
 	0x6d, 0xcd, 0xba, 0x5e, 0x14, 0x46, 0x41, 0xba, 0x92, 0x7d, 0x03, 0x86, 0xe6, 0xda, 0x7e, 0xd7,
 	0x8b, 0xc8, 0x27, 0xa1, 0xb8, 0xe3, 0xb4, 0xba, 0xb4, 0x6c, 0x3d, 0x67, 0xbd, 0x34, 0x52, 0x79,
 	0xe1, 0x5b, 0xfb, 0xd3, 0x4f, 0x1d, 0xec, 0x4f, 0x17, 0xef, 0x32, 0xe0, 0x83, 0xfd, 0xe9, 0xf3,
 	0xd4, 0xab, 0xf9, 0x75, 0xd7, 0x6b, 0xcc, 0xbe, 0x13, 0xfa, 0xde, 0xcc, 0x6a, 0xb7, 0xbd, 0x49,
-	0x03, 0x14, 0x75, 0xec, 0xdf, 0x2f, 0xc0, 0xc4, 0x5c, 0x50, 0x6b, 0xba, 0x3b, 0xb4, 0x1a, 0x31,
+	0x03, 0x14, 0x75, 0xec, 0xdf, 0x2b, 0xc0, 0xc4, 0x5c, 0x50, 0x6b, 0xba, 0x3b, 0xb4, 0x1a, 0x31,
 	0xfa, 0x8d, 0x3d, 0xd2, 0x84, 0x81, 0xc8, 0x09, 0x38, 0xb9, 0xd1, 0x6b, 0x2b, 0x33, 0x8f, 0xfb,
 	0xf1, 0x67, 0x36, 0x9c, 0x40, 0xd1, 0xae, 0x0c, 0x1f, 0xec, 0x4f, 0x0f, 0x6c, 0x38, 0x01, 0x32,
 	0x16, 0xa4, 0x05, 0x83, 0x9e, 0xef, 0xd1, 0x72, 0x81, 0xb3, 0x5a, 0x7d, 0x7c, 0x56, 0xab, 0xbe,
@@ -3545,8 +3545,8 @@ var fileDescriptor_724696e352c3df5f = []byte{
 	0xb2, 0x60, 0x5c, 0x15, 0x31, 0x21, 0x12, 0x92, 0xfb, 0x50, 0x52, 0x1f, 0x53, 0xea, 0x32, 0x79,
 	0x6e, 0x7a, 0x5a, 0xd4, 0x29, 0x08, 0x6a, 0x6e, 0xf6, 0x6f, 0x15, 0x81, 0x68, 0x30, 0xed, 0xf8,
 	0xa1, 0xcb, 0xa7, 0xd3, 0x23, 0x88, 0x12, 0xcf, 0x10, 0x25, 0x77, 0xf3, 0x14, 0x25, 0x71, 0xb3,
-	0x12, 0x42, 0xe5, 0x6f, 0xa7, 0x16, 0x9f, 0x90, 0x2e, 0x3f, 0x75, 0x22, 0x8b, 0xcf, 0x68, 0xc2,
-	0xe1, 0xcb, 0x70, 0x47, 0x2e, 0x43, 0x21, 0x7f, 0xfe, 0x4a, 0xbe, 0xcb, 0xd0, 0x68, 0x45, 0x7a,
+	0x12, 0x42, 0xe5, 0x6f, 0xa6, 0x16, 0x9f, 0x90, 0x2e, 0x3f, 0x75, 0x22, 0x8b, 0xcf, 0x68, 0xc2,
+	0xe1, 0xcb, 0x70, 0x47, 0x2e, 0x43, 0x21, 0x7f, 0xfe, 0x52, 0xbe, 0xcb, 0xd0, 0x68, 0x45, 0x7a,
 	0x41, 0x06, 0x62, 0x99, 0x08, 0x01, 0x74, 0x2f, 0xd7, 0x65, 0x62, 0x70, 0x4d, 0x2e, 0x98, 0x40,
 	0x2c, 0x98, 0xa1, 0xbc, 0x78, 0x1a, 0x0b, 0x26, 0xcd, 0x53, 0x2f, 0x9d, 0x77, 0xe1, 0x42, 0x2f,
 	0x0e, 0xd2, 0x2d, 0x32, 0x0b, 0x23, 0x35, 0xdf, 0xdb, 0x72, 0x1b, 0x2b, 0x4e, 0x47, 0xaa, 0x6c,
@@ -3556,18 +3556,18 @@ var fileDescriptor_724696e352c3df5f = []byte{
 	0x90, 0xfc, 0x96, 0x05, 0x17, 0x9c, 0xac, 0x72, 0xb9, 0x92, 0xef, 0xe5, 0x37, 0x23, 0x13, 0xe4,
 	0x2b, 0xcf, 0xca, 0x46, 0x67, 0x8f, 0x08, 0x66, 0x37, 0x8a, 0x0d, 0x14, 0x53, 0x5e, 0xc3, 0x8e,
 	0x53, 0xa3, 0xb2, 0xf7, 0x7a, 0xa0, 0x56, 0x55, 0x01, 0xc6, 0x38, 0x4c, 0x19, 0xaa, 0xd3, 0x2d,
-	0xa7, 0xdb, 0x12, 0x1b, 0x78, 0x29, 0x56, 0x86, 0x16, 0x04, 0x18, 0x55, 0x39, 0xf9, 0xfb, 0x16,
+	0xa7, 0xdb, 0x12, 0x1b, 0x78, 0x29, 0x56, 0x86, 0x16, 0x04, 0x18, 0x55, 0x39, 0xf9, 0xbb, 0x16,
 	0x90, 0x5e, 0xae, 0x72, 0x31, 0x6c, 0x9c, 0xc4, 0x38, 0x54, 0x2e, 0x1e, 0xec, 0x4f, 0x67, 0x08,
 	0x30, 0xcc, 0x68, 0x87, 0xf1, 0x4d, 0xff, 0xa5, 0x05, 0xe7, 0x32, 0x96, 0x39, 0x9b, 0x14, 0xdd,
 	0xa0, 0x25, 0xe7, 0x8f, 0x9e, 0x14, 0x77, 0xf0, 0x36, 0x32, 0x38, 0xf9, 0x25, 0x0b, 0x26, 0x8c,
 	0xd5, 0x3e, 0xd7, 0x95, 0xca, 0x7f, 0x4e, 0x8a, 0x6c, 0x82, 0x70, 0xe5, 0x92, 0x64, 0x3f, 0x91,
 	0x2a, 0xc0, 0x74, 0x13, 0xec, 0xef, 0x59, 0xf0, 0xec, 0xa1, 0x42, 0x2b, 0xb3, 0xe1, 0xd6, 0x13,
 	0x6f, 0x38, 0x9b, 0x5a, 0x01, 0xed, 0xf8, 0x77, 0xf0, 0xb6, 0x9c, 0x89, 0x7a, 0x6a, 0xa1, 0x00,
-	0xa3, 0x2a, 0xb7, 0xff, 0xc0, 0x82, 0x34, 0x3d, 0xe2, 0xc0, 0x99, 0x6e, 0x48, 0x03, 0x36, 0x55,
+	0xa3, 0x2a, 0xb7, 0x7f, 0xdf, 0x82, 0x34, 0x3d, 0xe2, 0xc0, 0x99, 0x6e, 0x48, 0x03, 0x36, 0x55,
 	0xab, 0xb4, 0x16, 0x50, 0xb5, 0x77, 0xbe, 0x30, 0x23, 0xac, 0x14, 0xac, 0xc1, 0x33, 0x35, 0x3f,
 	0xa0, 0x33, 0x3b, 0x2f, 0xcf, 0x08, 0x8c, 0x65, 0xba, 0x57, 0xa5, 0x2d, 0xca, 0x68, 0x54, 0x08,
 	0xd3, 0xb3, 0xef, 0x24, 0x08, 0x60, 0x8a, 0x20, 0x63, 0xd1, 0x71, 0xc2, 0x70, 0xd7, 0x0f, 0xea,
-	0x92, 0x45, 0xe1, 0xd8, 0x2c, 0xd6, 0x13, 0x04, 0x30, 0x45, 0xd0, 0xfe, 0xe7, 0x16, 0x0c, 0x57,
+	0x92, 0x45, 0xe1, 0xd8, 0x2c, 0xd6, 0x13, 0x04, 0x30, 0x45, 0xd0, 0xfe, 0x67, 0x16, 0x0c, 0x57,
 	0x9c, 0xda, 0xb6, 0xbf, 0xb5, 0xc5, 0x8e, 0x29, 0xf5, 0x6e, 0x20, 0x8e, 0x79, 0x62, 0x12, 0xea,
 	0xbd, 0x7b, 0x41, 0xc2, 0x51, 0x63, 0x90, 0x0d, 0x18, 0x12, 0xc3, 0x21, 0x1b, 0xf5, 0x13, 0x46,
 	0xa3, 0xb4, 0x75, 0x86, 0x7f, 0xb9, 0x6e, 0xe4, 0xb6, 0x66, 0x84, 0x75, 0x66, 0xe6, 0x96, 0x17,
@@ -3587,11 +3587,11 @@ var fileDescriptor_724696e352c3df5f = []byte{
 	0x37, 0xb8, 0xb1, 0xd7, 0xa1, 0x0f, 0xf6, 0xa7, 0xc7, 0x35, 0x22, 0x03, 0x20, 0x47, 0x25, 0x9f,
 	0x81, 0xa1, 0x90, 0xef, 0xd3, 0x52, 0xc2, 0x2c, 0xca, 0x4a, 0x43, 0x62, 0xf7, 0x7e, 0xb0, 0x3f,
 	0x7d, 0x24, 0x8b, 0xeb, 0x8c, 0xa6, 0x2d, 0xea, 0xa1, 0xa4, 0xca, 0x44, 0x58, 0x9b, 0x86, 0xa1,
-	0xd3, 0xa0, 0x72, 0xa5, 0x68, 0x11, 0xb6, 0x22, 0xc0, 0xa8, 0xca, 0xed, 0xbf, 0x6b, 0x01, 0x6b,
+	0xd3, 0xa0, 0x72, 0xa5, 0x68, 0x11, 0xb6, 0x22, 0xc0, 0xa8, 0xca, 0xed, 0xbf, 0x6d, 0x01, 0x6b,
 	0x62, 0xe4, 0x30, 0x16, 0xab, 0x7e, 0x9d, 0x92, 0x55, 0xbe, 0x54, 0x04, 0x40, 0x7e, 0xbc, 0x67,
 	0xfb, 0x2c, 0x15, 0x81, 0x94, 0xd0, 0x69, 0x04, 0x08, 0x63, 0x12, 0xe4, 0xe3, 0x30, 0x56, 0xa7,
 	0x1d, 0xea, 0xd5, 0xa9, 0x57, 0x73, 0xa9, 0xf8, 0x68, 0x23, 0x95, 0xc9, 0x83, 0xfd, 0xe9, 0xb1,
-	0x05, 0x03, 0x8e, 0x09, 0x2c, 0xfb, 0x8f, 0x2d, 0x38, 0xaf, 0xc9, 0x55, 0x69, 0xa4, 0x97, 0xd5,
+	0x05, 0x03, 0x8e, 0x09, 0x2c, 0xfb, 0x8f, 0x2c, 0x38, 0xaf, 0xc9, 0x55, 0x69, 0xa4, 0x97, 0xd5,
 	0x4f, 0x5b, 0x00, 0x9a, 0x38, 0xd3, 0x69, 0xd9, 0x14, 0x58, 0xcb, 0x61, 0x0a, 0x98, 0x83, 0x10,
 	0x2f, 0x3c, 0x0d, 0x0e, 0xd1, 0x60, 0x4b, 0xde, 0x80, 0xb1, 0x1d, 0xbf, 0xd5, 0x6d, 0xd3, 0x15,
 	0xbf, 0xeb, 0x45, 0x61, 0x79, 0x80, 0x37, 0x63, 0x3a, 0x6b, 0x9c, 0xee, 0xc6, 0x78, 0x95, 0xf3,
@@ -3620,7 +3620,7 @@ var fileDescriptor_724696e352c3df5f = []byte{
 	0xd4, 0xc1, 0xfe, 0xf4, 0xc5, 0xc5, 0x4c, 0x0c, 0xec, 0x53, 0x93, 0x7d, 0xc1, 0xc8, 0x6d, 0xd3,
 	0xcf, 0xf9, 0x1e, 0xe5, 0x36, 0x40, 0xe3, 0x0b, 0x6e, 0x48, 0x38, 0x6a, 0x0c, 0xf2, 0x4e, 0x3c,
 	0x13, 0xd9, 0x72, 0x91, 0xb6, 0xbc, 0xe3, 0x4b, 0xb8, 0xf3, 0x07, 0xfb, 0xd3, 0x93, 0xf7, 0x0c,
-	0x4a, 0x6c, 0xc9, 0x61, 0x82, 0xb6, 0xfd, 0xfb, 0x05, 0x20, 0xbd, 0x22, 0x82, 0x2c, 0xc3, 0x90,
+	0x4a, 0x6c, 0xc9, 0x61, 0x82, 0xb6, 0xfd, 0x7b, 0x05, 0x20, 0xbd, 0x22, 0x82, 0x2c, 0xc3, 0x90,
 	0x53, 0x8b, 0xdc, 0x1d, 0x2a, 0x9d, 0x67, 0xcf, 0x67, 0xed, 0x53, 0x82, 0x15, 0xd2, 0x2d, 0xca,
 	0x66, 0x08, 0x8d, 0xe5, 0xca, 0x1c, 0xaf, 0x8a, 0x92, 0x04, 0xf1, 0xe1, 0x6c, 0xcb, 0x09, 0x23,
 	0x35, 0x57, 0xeb, 0xac, 0xcb, 0x52, 0xb0, 0xfe, 0xd8, 0xd1, 0x3a, 0xc5, 0x6a, 0x54, 0x2e, 0xb0,
@@ -3640,7 +3640,7 @@ var fileDescriptor_724696e352c3df5f = []byte{
 	0xc8, 0x4b, 0xc8, 0xfb, 0x42, 0x87, 0x17, 0x3a, 0x2e, 0xf7, 0x4f, 0xe6, 0xe2, 0xe9, 0x8b, 0xf5,
 	0xe6, 0xca, 0x19, 0xa5, 0xbc, 0x8b, 0xff, 0x68, 0xf0, 0x63, 0xea, 0xb2, 0xef, 0xdd, 0xb8, 0xef,
 	0x46, 0xd2, 0xbf, 0xa9, 0x25, 0xdd, 0x1a, 0x87, 0xa2, 0x2c, 0x15, 0x46, 0x46, 0x36, 0x09, 0xc2,
-	0xf2, 0x58, 0xf2, 0x18, 0x25, 0x66, 0x4a, 0x88, 0xaa, 0x9c, 0xfc, 0x03, 0x0b, 0x8a, 0x4d, 0xdf,
+	0xf2, 0x58, 0xf2, 0x18, 0x25, 0x66, 0x4a, 0x88, 0xaa, 0x9c, 0xfc, 0x3d, 0x0b, 0x8a, 0x4d, 0xdf,
 	0xdf, 0x0e, 0xcb, 0xe3, 0x7c, 0x72, 0xe4, 0xa0, 0xea, 0x49, 0x89, 0x33, 0xb3, 0xc4, 0xc8, 0xde,
 	0xf0, 0xa2, 0x60, 0xaf, 0xf2, 0xb2, 0x52, 0x80, 0x38, 0xec, 0xc1, 0xfe, 0xf4, 0x99, 0xdb, 0xee,
 	0x16, 0xad, 0xed, 0xd5, 0x5a, 0x94, 0x43, 0xbe, 0xf4, 0x5d, 0x03, 0x72, 0x63, 0x87, 0x7a, 0x11,
@@ -3650,7 +3650,7 @@ var fileDescriptor_724696e352c3df5f = []byte{
 	0x04, 0x0d, 0x69, 0x29, 0x33, 0x3e, 0xc7, 0x06, 0x87, 0xa2, 0x2c, 0x25, 0x1e, 0x14, 0x23, 0x27,
 	0xdc, 0x56, 0xda, 0xe5, 0xad, 0xdc, 0x86, 0x38, 0x56, 0x2c, 0xd9, 0xbf, 0x10, 0x05, 0x1b, 0xf2,
 	0x12, 0x94, 0x98, 0x02, 0xb0, 0xe8, 0x84, 0xca, 0xc8, 0x3c, 0xc6, 0x84, 0xf8, 0xa2, 0x84, 0xa1,
-	0x2e, 0xb5, 0xff, 0x4e, 0x01, 0x06, 0x17, 0xc4, 0x39, 0x63, 0x28, 0xf4, 0xbb, 0x41, 0x8d, 0x4a,
+	0x2e, 0xb5, 0xff, 0x56, 0x01, 0x06, 0x17, 0xc4, 0x39, 0x63, 0x28, 0xf4, 0xbb, 0x41, 0x8d, 0x4a,
 	0x7d, 0x33, 0x87, 0x39, 0xcd, 0xe8, 0x56, 0x39, 0x4d, 0x43, 0xd3, 0xe7, 0xff, 0x51, 0xf2, 0x22,
 	0xbf, 0x64, 0xc1, 0x99, 0x28, 0x70, 0xbc, 0x70, 0xcb, 0x0f, 0xda, 0xc2, 0x40, 0x56, 0xc8, 0x6b,
 	0x16, 0x6e, 0x24, 0xe8, 0x56, 0x23, 0xda, 0x89, 0xc3, 0x01, 0x92, 0x65, 0x98, 0x6a, 0x83, 0xfd,
@@ -3661,378 +3661,378 @@ var fileDescriptor_724696e352c3df5f = []byte{
 	0x0d, 0x76, 0xdc, 0x1a, 0x9d, 0xab, 0xd5, 0xd8, 0xc9, 0x7a, 0x35, 0xd6, 0x0d, 0xa6, 0x24, 0x25,
 	0x52, 0xed, 0xc1, 0xc0, 0x8c, 0x5a, 0xf6, 0x6f, 0x5a, 0x30, 0x6a, 0x78, 0x9b, 0xd8, 0x4e, 0xdd,
 	0x98, 0xaf, 0x8a, 0x73, 0xb7, 0x1c, 0xaa, 0xe5, 0x5c, 0xfc, 0x59, 0x82, 0x64, 0xbc, 0x8d, 0x68,
-	0x10, 0xc6, 0x0c, 0x1f, 0xe2, 0x89, 0xb2, 0x7f, 0xd7, 0x82, 0x0b, 0x99, 0xae, 0xb1, 0x27, 0xdc,
-	0xec, 0x59, 0x18, 0xd9, 0xa6, 0x7b, 0x8b, 0x7c, 0x0e, 0xa6, 0x1d, 0x49, 0xcb, 0xaa, 0x00, 0x63,
-	0x1c, 0xfb, 0x9b, 0x16, 0xc4, 0x94, 0x98, 0x28, 0xda, 0x8c, 0x5b, 0x6e, 0x88, 0x22, 0xc9, 0x49,
-	0x96, 0x92, 0xf7, 0xe1, 0x52, 0xf2, 0x0b, 0x72, 0x73, 0xf1, 0xf1, 0x4d, 0xf1, 0xe2, 0xcc, 0x94,
-	0x4d, 0x09, 0xfb, 0xb1, 0xb0, 0xef, 0x42, 0xf1, 0xa6, 0xd3, 0x6d, 0xd0, 0x23, 0x19, 0x71, 0x98,
-	0x18, 0x0b, 0xa8, 0xd3, 0x8a, 0x94, 0x9a, 0x2e, 0xc5, 0x18, 0x4a, 0x18, 0xea, 0x52, 0xfb, 0xfb,
-	0x83, 0x30, 0x6a, 0x44, 0xb1, 0xb0, 0x7d, 0x3c, 0xa0, 0x1d, 0x3f, 0xad, 0xeb, 0xb2, 0x8f, 0x8d,
-	0xbc, 0x84, 0xad, 0x9f, 0x80, 0xee, 0xb8, 0xa1, 0x10, 0x39, 0x89, 0xf5, 0x83, 0x12, 0x8e, 0x1a,
-	0x83, 0x4c, 0x43, 0xb1, 0x4e, 0x3b, 0x51, 0x93, 0x4b, 0xd3, 0xc1, 0xca, 0x08, 0x6b, 0xea, 0x02,
-	0x03, 0xa0, 0x80, 0x33, 0x84, 0x2d, 0x1a, 0xd5, 0x9a, 0xdc, 0xaa, 0x37, 0x22, 0x10, 0x16, 0x19,
-	0x00, 0x05, 0x3c, 0xc3, 0xb9, 0x52, 0x3c, 0x79, 0xe7, 0xca, 0x50, 0xce, 0xce, 0x15, 0xd2, 0x81,
-	0x73, 0x61, 0xd8, 0x5c, 0x0f, 0xdc, 0x1d, 0x27, 0xa2, 0xf1, 0xcc, 0x19, 0x3e, 0x0e, 0x9f, 0x4b,
-	0x07, 0xfb, 0xd3, 0xe7, 0xaa, 0xd5, 0xa5, 0x34, 0x15, 0xcc, 0x22, 0x4d, 0xaa, 0x70, 0xc1, 0xf5,
-	0x42, 0x5a, 0xeb, 0x06, 0xf4, 0x56, 0xc3, 0xf3, 0x03, 0xba, 0xe4, 0x87, 0x8c, 0x9c, 0x0c, 0x3b,
-	0xd3, 0x4e, 0xdb, 0x5b, 0x59, 0x48, 0x98, 0x5d, 0x97, 0xdc, 0x84, 0xb3, 0x75, 0x37, 0x74, 0x36,
-	0x5b, 0xb4, 0xda, 0xdd, 0x6c, 0xfb, 0xec, 0xc0, 0x26, 0x22, 0x55, 0x4a, 0x95, 0xa7, 0x95, 0x69,
-	0x62, 0x21, 0x8d, 0x80, 0xbd, 0x75, 0xec, 0xef, 0x58, 0x30, 0x66, 0x86, 0x14, 0x30, 0x1d, 0x16,
-	0x9a, 0x0b, 0x8b, 0x55, 0x21, 0x65, 0xf3, 0xdb, 0x4b, 0x97, 0x34, 0xcd, 0xf8, 0xcc, 0x17, 0xc3,
-	0xd0, 0xe0, 0x79, 0x84, 0x30, 0xca, 0xe7, 0xa1, 0xb8, 0xe5, 0xb3, 0xad, 0x7e, 0x20, 0x69, 0x99,
-	0x5d, 0x64, 0x40, 0x14, 0x65, 0xf6, 0xff, 0xb6, 0xe0, 0x62, 0x76, 0xb4, 0xc4, 0x0f, 0x43, 0x27,
-	0xaf, 0x01, 0xb0, 0xae, 0x24, 0xc4, 0xa5, 0x11, 0x0b, 0xab, 0x4a, 0xd0, 0xc0, 0x3a, 0x5a, 0xb7,
-	0x7f, 0xc0, 0xd4, 0xcd, 0x98, 0xcf, 0x57, 0x2c, 0x18, 0x67, 0x6c, 0x97, 0x83, 0xcd, 0x44, 0x6f,
-	0xd7, 0xf2, 0xe9, 0xad, 0x26, 0x1b, 0x1b, 0xa0, 0x13, 0x60, 0x4c, 0x32, 0x27, 0x7f, 0x1e, 0x46,
-	0x9c, 0x7a, 0x3d, 0xa0, 0x61, 0xa8, 0xdd, 0x11, 0xdc, 0xc5, 0x37, 0xa7, 0x80, 0x18, 0x97, 0x33,
-	0x11, 0xd7, 0xac, 0x6f, 0x85, 0x4c, 0x6a, 0x48, 0xbb, 0x9b, 0x16, 0x71, 0x8c, 0x09, 0x83, 0xa3,
-	0xc6, 0xb0, 0x7f, 0x61, 0x10, 0x92, 0xbc, 0x49, 0x1d, 0x26, 0xb6, 0x83, 0xcd, 0x79, 0xee, 0x86,
-	0x7c, 0x14, 0x87, 0xf0, 0xb9, 0x83, 0xfd, 0xe9, 0x89, 0xe5, 0x24, 0x05, 0x4c, 0x93, 0x94, 0x5c,
-	0x96, 0xe9, 0x5e, 0xe4, 0x6c, 0x3e, 0xca, 0x46, 0xa4, 0xb8, 0x98, 0x14, 0x30, 0x4d, 0x92, 0xbc,
-	0x02, 0xa3, 0xdb, 0xc1, 0xa6, 0x12, 0xa0, 0x69, 0x2f, 0xec, 0x72, 0x5c, 0x84, 0x26, 0x1e, 0x1b,
-	0xc2, 0xed, 0x60, 0x93, 0x6d, 0x38, 0x2a, 0xac, 0x58, 0x0f, 0xe1, 0xb2, 0x84, 0xa3, 0xc6, 0x20,
-	0x1d, 0x20, 0xdb, 0x6a, 0xf4, 0xb4, 0xd3, 0x55, 0xca, 0xf9, 0xa3, 0xfb, 0x6c, 0x79, 0x08, 0xc6,
-	0x72, 0x0f, 0x1d, 0xcc, 0xa0, 0x4d, 0xde, 0x80, 0x4b, 0xdb, 0xc1, 0xa6, 0xdc, 0x86, 0xd7, 0x03,
-	0xd7, 0xab, 0xb9, 0x9d, 0x44, 0x08, 0xf1, 0xb4, 0x6c, 0xee, 0xa5, 0xe5, 0x6c, 0x34, 0xec, 0x57,
-	0xdf, 0xfe, 0x7a, 0x01, 0x78, 0x6c, 0x26, 0xd3, 0x2c, 0xda, 0x34, 0x6a, 0xfa, 0xf5, 0xb4, 0x66,
-	0xb1, 0xc2, 0xa1, 0x28, 0x4b, 0x55, 0xb0, 0x47, 0xa1, 0x4f, 0xb0, 0xc7, 0x2e, 0x0c, 0x37, 0xa9,
-	0x53, 0xa7, 0x81, 0x32, 0x84, 0xdd, 0xce, 0x27, 0x9a, 0x74, 0x89, 0x13, 0x8d, 0x0f, 0xb8, 0xe2,
-	0x7f, 0x88, 0x8a, 0x1b, 0xf9, 0x04, 0x9c, 0x61, 0x3a, 0x82, 0xdf, 0x8d, 0x94, 0xd5, 0x77, 0x90,
-	0x5b, 0x7d, 0xf9, 0x7e, 0xb7, 0x91, 0x28, 0xc1, 0x14, 0x26, 0xb9, 0x0c, 0x83, 0x9b, 0x7e, 0x5d,
-	0x44, 0xa2, 0x8e, 0x89, 0x28, 0xb1, 0x8a, 0x5f, 0xdf, 0x43, 0x0e, 0xb5, 0x7f, 0x8d, 0x49, 0x7f,
-	0x23, 0xa0, 0xf5, 0x61, 0xf1, 0x2e, 0x61, 0x3c, 0x04, 0xe2, 0x94, 0xb3, 0x94, 0xc3, 0x10, 0x3c,
-	0xa4, 0xfb, 0xf6, 0xb7, 0x99, 0x40, 0xd3, 0xe3, 0x74, 0x04, 0x2b, 0xe0, 0xf3, 0xe6, 0x79, 0xba,
-	0x9f, 0x6a, 0xf6, 0x05, 0x18, 0xe1, 0x3f, 0x16, 0x03, 0xbf, 0x2d, 0x8d, 0x71, 0x98, 0xe7, 0xf7,
-	0x94, 0xe7, 0x46, 0x2e, 0xdc, 0xee, 0x2a, 0x46, 0x18, 0xf3, 0xb4, 0x7d, 0x98, 0x4c, 0x63, 0x93,
-	0xb7, 0x60, 0x2c, 0x54, 0xf2, 0x21, 0x0e, 0x18, 0x3b, 0xa2, 0x1c, 0xe1, 0xa6, 0xa1, 0xaa, 0x51,
-	0x1d, 0x13, 0xc4, 0xec, 0x35, 0x18, 0xca, 0x75, 0x08, 0xed, 0x6f, 0x58, 0x30, 0xc2, 0x8d, 0xf3,
-	0x8d, 0xc0, 0x69, 0xc7, 0x55, 0x06, 0x0e, 0x19, 0xf5, 0x10, 0x86, 0x85, 0x1a, 0xaf, 0xbc, 0xc7,
-	0x39, 0x4c, 0x20, 0x71, 0x95, 0x28, 0x9e, 0x40, 0xe2, 0xbc, 0x10, 0xa2, 0xe2, 0x64, 0xff, 0x5c,
-	0x01, 0x86, 0x6e, 0x79, 0x9d, 0xee, 0x9f, 0xf9, 0xeb, 0x2c, 0x2b, 0x30, 0x78, 0x2b, 0xa2, 0xed,
-	0xe4, 0xad, 0xab, 0xb1, 0xca, 0x0b, 0xe6, 0x8d, 0xab, 0x72, 0xf2, 0xc6, 0x15, 0x3a, 0xbb, 0x2a,
-	0x6e, 0x41, 0x9a, 0x91, 0xe2, 0xa0, 0xb9, 0xdf, 0xb1, 0x60, 0x3c, 0x61, 0x69, 0x4a, 0xd8, 0xdf,
-	0xad, 0x87, 0xda, 0xdf, 0x13, 0xf6, 0xf0, 0xc2, 0x29, 0xdb, 0xc3, 0xed, 0x16, 0x0c, 0xde, 0x76,
-	0xbd, 0xed, 0xa3, 0x2d, 0x86, 0xb0, 0xe6, 0x77, 0x7a, 0x16, 0x43, 0x95, 0x01, 0x51, 0x94, 0x29,
-	0xc9, 0x39, 0x90, 0x2d, 0x39, 0xed, 0x2f, 0x59, 0x70, 0x76, 0x85, 0xb6, 0x7d, 0xf7, 0x73, 0x4e,
-	0x1c, 0x34, 0xc2, 0x2a, 0x35, 0xdd, 0x48, 0xc6, 0x17, 0xe8, 0x4a, 0x4b, 0x6e, 0x84, 0x0c, 0xfe,
-	0x10, 0x43, 0x00, 0x0f, 0x71, 0x65, 0x7a, 0xc8, 0x6a, 0xac, 0x10, 0xc4, 0xe1, 0x20, 0xaa, 0x00,
-	0x63, 0x1c, 0xfb, 0xb7, 0x2d, 0x18, 0x16, 0x8d, 0xa0, 0x8a, 0xb6, 0xd5, 0x87, 0x76, 0x13, 0x8a,
-	0xbc, 0x9e, 0xfc, 0x2e, 0x37, 0x73, 0x30, 0x10, 0x33, 0x72, 0xe2, 0x5c, 0xc9, 0x7f, 0xa2, 0x60,
-	0xc0, 0x77, 0x67, 0xe7, 0xfe, 0x9c, 0x8e, 0x97, 0x89, 0x77, 0x67, 0x0e, 0x45, 0x59, 0x6a, 0x7f,
-	0x6d, 0x00, 0x4a, 0xca, 0xf5, 0x26, 0x62, 0xbd, 0x3d, 0xcf, 0x8f, 0x1c, 0xe1, 0x99, 0x12, 0x2b,
-	0xf9, 0xad, 0xc7, 0x6f, 0xa5, 0xe2, 0x30, 0x33, 0x17, 0x53, 0x17, 0x06, 0x60, 0xad, 0x6b, 0x19,
-	0x25, 0x68, 0x36, 0x82, 0x7c, 0x1e, 0x86, 0x5a, 0xce, 0x26, 0x6d, 0xa9, 0x85, 0x7d, 0x37, 0xc7,
-	0xe6, 0xdc, 0xe6, 0x84, 0x45, 0x4b, 0xf4, 0x08, 0x09, 0x20, 0x4a, 0xae, 0x53, 0x9f, 0x82, 0xc9,
-	0x74, 0xab, 0x33, 0xac, 0xcd, 0xe7, 0x13, 0xa2, 0xdd, 0x30, 0x0e, 0x4f, 0xfd, 0x25, 0x18, 0x35,
-	0xd8, 0x1c, 0xa7, 0xaa, 0xfd, 0x3a, 0x8c, 0xae, 0xd0, 0x28, 0x70, 0x6b, 0x9c, 0xc0, 0xc3, 0x26,
-	0xd7, 0x91, 0x76, 0x97, 0x2f, 0xf3, 0xc9, 0xca, 0x68, 0x86, 0xe4, 0x7d, 0x80, 0x4e, 0xe0, 0x33,
-	0x35, 0x8d, 0x76, 0xd5, 0xc7, 0xce, 0x41, 0xfb, 0x5a, 0xd7, 0x34, 0x85, 0xcf, 0x22, 0xfe, 0x8f,
-	0x06, 0x3f, 0xfb, 0x2a, 0x14, 0x57, 0xba, 0x11, 0xbd, 0xff, 0x70, 0x51, 0x61, 0xbf, 0x05, 0x63,
-	0x1c, 0x75, 0xc9, 0x6f, 0x31, 0x19, 0xca, 0x7a, 0xda, 0x66, 0xff, 0xd3, 0x56, 0x22, 0x8e, 0x84,
-	0xa2, 0x8c, 0xad, 0x80, 0xa6, 0xdf, 0xaa, 0xd3, 0x40, 0x8e, 0x87, 0xfe, 0xbe, 0x4b, 0x1c, 0x8a,
-	0xb2, 0xd4, 0xfe, 0xe9, 0x02, 0x8c, 0xf2, 0x8a, 0x52, 0x7a, 0xec, 0xc1, 0x70, 0x53, 0xf0, 0x91,
-	0x43, 0x92, 0x43, 0x88, 0x85, 0xd9, 0x7a, 0x43, 0x27, 0x13, 0x00, 0x54, 0xfc, 0x18, 0xeb, 0x5d,
-	0xc7, 0x8d, 0x18, 0xeb, 0xc2, 0xc9, 0xb2, 0xbe, 0x27, 0xd8, 0xa0, 0xe2, 0x67, 0xff, 0x7b, 0x0b,
-	0x60, 0xd5, 0xaf, 0x53, 0xa4, 0x61, 0xb7, 0x15, 0x91, 0x9f, 0x80, 0x62, 0xa7, 0xe9, 0x84, 0x69,
-	0xcb, 0x6f, 0x71, 0x9d, 0x01, 0x1f, 0xec, 0x4f, 0x8f, 0x30, 0x5c, 0xfe, 0x07, 0x05, 0xa2, 0x19,
-	0xa1, 0x57, 0x38, 0x3c, 0x42, 0x8f, 0x74, 0x60, 0xd8, 0xef, 0x46, 0x4c, 0x73, 0x90, 0x2a, 0x62,
-	0x0e, 0x8e, 0x8f, 0x35, 0x41, 0x50, 0xdc, 0x4b, 0x94, 0x7f, 0x50, 0xb1, 0xb1, 0xff, 0x70, 0x42,
-	0xf4, 0x4e, 0x7e, 0xe2, 0x29, 0x28, 0xb8, 0xea, 0xd8, 0x02, 0xb2, 0x99, 0x85, 0x5b, 0x0b, 0x58,
-	0x70, 0xeb, 0x7a, 0x36, 0x16, 0xfa, 0x6e, 0x5c, 0xaf, 0xc0, 0x68, 0xdd, 0x0d, 0x3b, 0x2d, 0x67,
-	0x6f, 0x35, 0xe3, 0xcc, 0xb8, 0x10, 0x17, 0xa1, 0x89, 0x47, 0x3e, 0x26, 0xa3, 0x2a, 0xc5, 0x79,
-	0xb1, 0x9c, 0x8a, 0xaa, 0x2c, 0xb1, 0xe6, 0x19, 0x01, 0x95, 0xaf, 0xc2, 0x98, 0xda, 0xd1, 0x39,
-	0x97, 0x22, 0xaf, 0xa5, 0xa3, 0xed, 0x36, 0x8c, 0x32, 0x4c, 0x60, 0xf6, 0x78, 0xa4, 0x87, 0x4e,
-	0xdf, 0x23, 0xfd, 0x49, 0x18, 0x57, 0x7f, 0xf9, 0x6e, 0x5e, 0x3e, 0xcf, 0x5b, 0xaf, 0x6d, 0x19,
-	0x1b, 0x66, 0x21, 0x26, 0x71, 0xe3, 0xa9, 0x37, 0x7c, 0xd4, 0xa9, 0x77, 0x0d, 0x60, 0xd3, 0xef,
-	0x7a, 0x75, 0x27, 0xd8, 0xbb, 0xb5, 0x20, 0xe3, 0x57, 0xb4, 0xc6, 0x58, 0xd1, 0x25, 0x68, 0x60,
-	0x99, 0xd3, 0x75, 0xe4, 0x21, 0xd3, 0xf5, 0x2d, 0x18, 0xe1, 0xb1, 0x3e, 0xb4, 0x3e, 0x17, 0x49,
-	0xcf, 0xee, 0x71, 0xc2, 0x42, 0xb4, 0xf2, 0x50, 0x55, 0x44, 0x30, 0xa6, 0x47, 0x3e, 0x03, 0xb0,
-	0xe5, 0x7a, 0x6e, 0xd8, 0xe4, 0xd4, 0x47, 0x8f, 0x4d, 0x5d, 0xf7, 0x73, 0x51, 0x53, 0x41, 0x83,
-	0x22, 0x79, 0x1b, 0xce, 0xd2, 0x30, 0x72, 0xdb, 0x4e, 0x44, 0xeb, 0x3a, 0xd8, 0xbc, 0xcc, 0x0f,
-	0xba, 0x3a, 0xda, 0xea, 0x46, 0x1a, 0xe1, 0x41, 0x16, 0x10, 0x7b, 0x09, 0x91, 0x57, 0xa1, 0xd4,
-	0x09, 0xfc, 0x46, 0x40, 0xc3, 0xb0, 0x3c, 0xc5, 0x87, 0xf1, 0xb2, 0xd2, 0x4c, 0xd7, 0x25, 0xfc,
-	0x81, 0xf1, 0x1b, 0x35, 0x36, 0xf9, 0x13, 0x0b, 0xce, 0x06, 0x54, 0xb8, 0xfb, 0x42, 0xdd, 0xb0,
-	0x0b, 0x5c, 0xea, 0xd5, 0xf2, 0xb8, 0xf5, 0xaf, 0x16, 0xfb, 0x0c, 0xa6, 0xb9, 0x88, 0xed, 0x9e,
-	0xaa, 0xde, 0xf7, 0x94, 0x3f, 0xc8, 0x02, 0x7e, 0xe9, 0xbb, 0xd3, 0xd3, 0xbd, 0x29, 0x28, 0x34,
-	0x71, 0xb6, 0xf2, 0xfe, 0xfa, 0x77, 0xa7, 0x27, 0xd5, 0xff, 0x78, 0xd0, 0x7a, 0x3a, 0xc9, 0x76,
-	0xaf, 0x8e, 0x5f, 0xbf, 0xb5, 0x2e, 0x5d, 0xf0, 0x7a, 0xf7, 0x5a, 0x67, 0x40, 0x14, 0x65, 0xe4,
-	0x25, 0x28, 0xd5, 0x1d, 0xda, 0xf6, 0x3d, 0x5a, 0x2f, 0x8f, 0xc7, 0x3e, 0x8e, 0x05, 0x09, 0x43,
-	0x5d, 0x4a, 0x5a, 0x30, 0xe4, 0xf2, 0x63, 0x98, 0x8c, 0xb7, 0xc9, 0xe1, 0xec, 0x27, 0x8e, 0x75,
-	0x2a, 0xda, 0x86, 0x8b, 0x52, 0xc9, 0xc3, 0x94, 0xdd, 0x13, 0xa7, 0x22, 0xbb, 0xd9, 0x48, 0xd4,
-	0x9a, 0x6e, 0xab, 0x1e, 0x50, 0xaf, 0x3c, 0xc9, 0x4d, 0x9b, 0x7c, 0x24, 0xe6, 0x25, 0x0c, 0x75,
-	0x29, 0xf9, 0x8b, 0x30, 0xee, 0x77, 0x23, 0xbe, 0xc8, 0xd9, 0xf7, 0x0f, 0xcb, 0x67, 0x39, 0x3a,
-	0xf7, 0x9e, 0xae, 0x99, 0x05, 0x98, 0xc4, 0x63, 0xc2, 0xb6, 0xe9, 0x87, 0x11, 0xfb, 0xc3, 0x85,
-	0xed, 0xc5, 0xa4, 0xb0, 0x5d, 0x32, 0xca, 0x30, 0x81, 0x49, 0xbe, 0x6a, 0xc1, 0xd9, 0x76, 0xfa,
-	0x00, 0x52, 0xbe, 0xc4, 0x47, 0xa6, 0x9a, 0x87, 0xa2, 0x9a, 0x22, 0x2d, 0x82, 0xcc, 0x7a, 0xc0,
-	0xd8, 0xdb, 0x08, 0x7e, 0x61, 0x2e, 0xdc, 0xf3, 0x6a, 0xcd, 0xc0, 0xf7, 0x92, 0xcd, 0x7b, 0x9a,
-	0x37, 0xef, 0xad, 0x9c, 0x56, 0x59, 0x16, 0x8b, 0xca, 0xd3, 0x07, 0xfb, 0xd3, 0x17, 0x32, 0x8b,
-	0x30, 0xbb, 0x51, 0x53, 0x0b, 0x70, 0x31, 0x7b, 0xa5, 0x3e, 0x4c, 0x63, 0x1e, 0x30, 0x35, 0xe6,
-	0x45, 0x78, 0xba, 0x6f, 0xa3, 0x98, 0xcc, 0x57, 0xea, 0x95, 0x95, 0x94, 0xf9, 0x3d, 0xea, 0xd0,
-	0x19, 0x18, 0x33, 0x13, 0x87, 0x70, 0x57, 0xb6, 0x71, 0x59, 0x93, 0x1d, 0xb2, 0xfd, 0x6a, 0xee,
-	0x3e, 0xe1, 0xb5, 0x6a, 0x8f, 0x4f, 0x58, 0x83, 0x30, 0x66, 0x78, 0x14, 0x57, 0x76, 0xe6, 0xcd,
-	0xd2, 0x27, 0xdc, 0xec, 0x63, 0xbb, 0xb2, 0xff, 0xdd, 0x20, 0xc4, 0x94, 0xc8, 0xc7, 0xa0, 0x44,
-	0xbd, 0x7a, 0xc7, 0x77, 0xbd, 0x28, 0x6d, 0x06, 0xb9, 0x21, 0xe1, 0xa8, 0x31, 0x0c, 0xc7, 0x77,
-	0xe1, 0x50, 0xc7, 0x77, 0x1d, 0x26, 0x1c, 0x1e, 0x6b, 0x1b, 0xbb, 0x2d, 0x07, 0x8e, 0xed, 0x67,
-	0x98, 0x4b, 0x52, 0xc0, 0x34, 0x49, 0xc6, 0x25, 0x8c, 0xab, 0x72, 0x2e, 0x83, 0xc7, 0xe6, 0x52,
-	0x4d, 0x52, 0xc0, 0x34, 0x49, 0xf2, 0x36, 0x94, 0x6b, 0xfc, 0x76, 0x83, 0xe8, 0xe3, 0xad, 0xad,
-	0x55, 0x3f, 0x5a, 0x0f, 0x68, 0x48, 0x3d, 0xe1, 0x56, 0x2e, 0x55, 0x9e, 0x93, 0xa3, 0x50, 0x9e,
-	0xef, 0x83, 0x87, 0x7d, 0x29, 0x30, 0xad, 0x8e, 0x3b, 0x4d, 0xdd, 0x68, 0x6f, 0xc3, 0xdf, 0xa6,
-	0x9e, 0x74, 0x25, 0x68, 0xad, 0xae, 0x6a, 0x16, 0x62, 0x12, 0x97, 0xfc, 0xbc, 0x05, 0xe3, 0x2d,
-	0x65, 0xd5, 0xc2, 0x6e, 0x4b, 0xa5, 0x26, 0xc1, 0x5c, 0xa6, 0xdf, 0x6d, 0x93, 0xb2, 0x10, 0xf8,
-	0x09, 0x10, 0x26, 0x79, 0xdb, 0xdf, 0xb6, 0x60, 0x32, 0x5d, 0x8d, 0x6c, 0xc3, 0xb3, 0x6d, 0x27,
-	0xd8, 0xbe, 0xe5, 0x6d, 0x05, 0x3c, 0xee, 0x2f, 0x12, 0x5f, 0x75, 0x6e, 0x2b, 0xa2, 0xc1, 0x82,
-	0xb3, 0x27, 0xa2, 0x7b, 0x8a, 0x3a, 0x9b, 0xd2, 0xb3, 0x2b, 0x87, 0x21, 0xe3, 0xe1, 0xb4, 0x48,
-	0x15, 0x2e, 0x30, 0x84, 0x05, 0xda, 0xa2, 0x4c, 0x42, 0xc5, 0x4c, 0x0a, 0x9c, 0x89, 0xf6, 0x5f,
-	0xaf, 0x64, 0x21, 0x61, 0x76, 0x5d, 0xfb, 0xdf, 0x16, 0x40, 0xed, 0x9f, 0x7f, 0xb6, 0x6d, 0xb2,
-	0xc4, 0x86, 0xa1, 0x80, 0x9f, 0x64, 0xe5, 0xf1, 0x8c, 0xab, 0x32, 0xe2, 0x6c, 0x8b, 0xb2, 0x84,
-	0x29, 0x16, 0xf4, 0xbe, 0x1b, 0xcd, 0xfb, 0x75, 0x75, 0x28, 0xe3, 0x8a, 0xc5, 0x0d, 0x09, 0x43,
-	0x5d, 0x6a, 0xff, 0x8c, 0x05, 0xe3, 0xac, 0x97, 0xad, 0x16, 0x6d, 0x55, 0x23, 0xda, 0x09, 0x49,
-	0x08, 0xc5, 0x90, 0xfd, 0xc8, 0xcf, 0x44, 0x10, 0x07, 0xb8, 0xd3, 0x8e, 0x61, 0x0c, 0x65, 0x4c,
-	0x50, 0xf0, 0xb2, 0xff, 0x5b, 0x01, 0x46, 0xf4, 0x60, 0x1f, 0xc1, 0xc2, 0x7a, 0x2d, 0xbe, 0x52,
-	0x2e, 0x64, 0x60, 0xd9, 0xb8, 0x4e, 0xce, 0x4e, 0x52, 0x73, 0xde, 0x9e, 0xb8, 0xa1, 0x1a, 0xdf,
-	0x2d, 0xff, 0x58, 0xd2, 0xdf, 0x70, 0xd1, 0x34, 0x62, 0x1b, 0xf8, 0xd2, 0xf1, 0x70, 0xdf, 0x74,
-	0xf7, 0x0c, 0xe6, 0xb5, 0x9f, 0x68, 0xc7, 0x4e, 0x7f, 0x3f, 0x4f, 0x2a, 0x2f, 0x52, 0xf1, 0x48,
-	0x79, 0x91, 0xae, 0xc2, 0x20, 0xf5, 0xba, 0x6d, 0x1e, 0xed, 0x3c, 0xc2, 0x35, 0xa9, 0xc1, 0x1b,
-	0x5e, 0xb7, 0x9d, 0xec, 0x19, 0x47, 0xb1, 0xff, 0x99, 0x05, 0x4c, 0x1f, 0xbf, 0x39, 0x4f, 0xfe,
-	0x32, 0x94, 0x42, 0xa9, 0x05, 0xc8, 0xa1, 0xfe, 0x11, 0x1d, 0x50, 0x27, 0xe1, 0x0f, 0xf6, 0xa7,
-	0xc7, 0x39, 0xb2, 0x02, 0xa0, 0xae, 0x42, 0x5a, 0x30, 0xce, 0xed, 0x88, 0x4a, 0x92, 0x4b, 0xcb,
-	0xef, 0xf5, 0x23, 0xde, 0x51, 0x32, 0xab, 0x4a, 0xb9, 0x66, 0x82, 0x30, 0x49, 0xdc, 0xfe, 0x9d,
-	0x41, 0x30, 0xcc, 0x6d, 0x47, 0x98, 0x22, 0xef, 0xa6, 0x8c, 0xab, 0x2b, 0xb9, 0x18, 0x57, 0x95,
-	0xc5, 0x52, 0x2c, 0xbb, 0xa4, 0x3d, 0x95, 0x35, 0xaa, 0x49, 0x5b, 0x1d, 0x39, 0xc1, 0x74, 0xa3,
-	0x96, 0x68, 0xab, 0x83, 0xbc, 0x44, 0x47, 0x5b, 0x0f, 0xf6, 0x8d, 0xb6, 0x6e, 0x42, 0xb1, 0xe1,
-	0x74, 0x1b, 0x54, 0x3a, 0xd1, 0x73, 0xb0, 0xa3, 0xf3, 0xf0, 0x33, 0x61, 0x47, 0xe7, 0x3f, 0x51,
-	0x30, 0x60, 0x33, 0xbc, 0xa9, 0x9c, 0x71, 0xd2, 0x94, 0x92, 0xc3, 0x0c, 0xd7, 0xfe, 0x3d, 0x31,
-	0xc3, 0xf5, 0x5f, 0x8c, 0x99, 0xb1, 0x93, 0x56, 0x4d, 0x5c, 0x6d, 0x94, 0x5b, 0xe5, 0xad, 0x3c,
-	0xc2, 0xc9, 0x39, 0x41, 0x71, 0xd2, 0x92, 0x7f, 0x50, 0xb1, 0xb1, 0x67, 0x61, 0xd4, 0xc8, 0x10,
-	0xc4, 0x3e, 0x83, 0xbe, 0x55, 0x67, 0x7c, 0x86, 0x05, 0x27, 0x72, 0x90, 0x97, 0xd8, 0x7f, 0x6f,
-	0x00, 0xf4, 0x89, 0xd7, 0x0c, 0x7e, 0x76, 0x6a, 0xc6, 0xd5, 0xfa, 0xc4, 0xad, 0x1b, 0xdf, 0x43,
-	0x59, 0xca, 0xd4, 0x89, 0x36, 0x0d, 0x1a, 0x5a, 0xc7, 0x96, 0x32, 0x4a, 0xab, 0x13, 0x2b, 0x66,
-	0x21, 0x26, 0x71, 0x99, 0x2e, 0xd8, 0x76, 0x3c, 0x77, 0x8b, 0x86, 0x51, 0x3a, 0x86, 0x65, 0x45,
-	0xc2, 0x51, 0x63, 0x90, 0x9b, 0x70, 0x36, 0xa4, 0xd1, 0xda, 0xae, 0x47, 0x03, 0x7d, 0x1b, 0x48,
-	0x5e, 0x0f, 0xd3, 0x71, 0x5d, 0xd5, 0x34, 0x02, 0xf6, 0xd6, 0x21, 0x0b, 0x30, 0x29, 0x6f, 0x66,
-	0xe9, 0x8b, 0x35, 0x52, 0xf6, 0xe8, 0x9c, 0x6e, 0xd5, 0x54, 0x39, 0xf6, 0xd4, 0x60, 0x54, 0xb6,
-	0x1c, 0xb7, 0xd5, 0x0d, 0x68, 0x4c, 0x65, 0x28, 0x49, 0x65, 0x31, 0x55, 0x8e, 0x3d, 0x35, 0x78,
-	0x68, 0x61, 0xcb, 0x69, 0x84, 0xe5, 0x61, 0x23, 0xb4, 0x90, 0x01, 0x50, 0xc0, 0xed, 0x7f, 0x62,
-	0xc1, 0x38, 0xd2, 0x28, 0xd8, 0x9b, 0xdb, 0xda, 0x72, 0x3d, 0x37, 0xda, 0x23, 0xbf, 0x6a, 0xc1,
-	0xa4, 0xe7, 0xd7, 0xe9, 0x9c, 0x17, 0xb9, 0x0a, 0x98, 0x5f, 0xfa, 0x14, 0xce, 0x6b, 0x35, 0x45,
-	0x5e, 0x5c, 0xf2, 0x4a, 0x43, 0xb1, 0xa7, 0x19, 0xf6, 0x25, 0xb8, 0x90, 0x49, 0xc0, 0xfe, 0xf6,
-	0x80, 0xec, 0x86, 0xfe, 0xf8, 0xaf, 0x43, 0xb1, 0xc5, 0x2f, 0xbc, 0x59, 0x8f, 0x98, 0x8f, 0x81,
-	0x8f, 0x95, 0xb8, 0x11, 0x27, 0x28, 0x91, 0x05, 0x18, 0x0d, 0x18, 0x0f, 0x79, 0x1d, 0x51, 0x4c,
-	0x45, 0x3b, 0xce, 0x2f, 0xa7, 0x8b, 0x1e, 0x24, 0xff, 0xa2, 0x59, 0x8d, 0xbc, 0x07, 0xc3, 0x9b,
-	0x22, 0xc5, 0x44, 0x7e, 0x86, 0x6d, 0x99, 0xb3, 0x82, 0xef, 0xc4, 0x2a, 0x81, 0xc5, 0x83, 0xf8,
-	0x27, 0x2a, 0x8e, 0x64, 0x0f, 0x4a, 0x8e, 0xfa, 0xa6, 0x83, 0x79, 0x05, 0xa3, 0x25, 0xe6, 0x8f,
-	0xd0, 0x8f, 0xf4, 0x37, 0xd4, 0xec, 0xd8, 0x66, 0x4c, 0xe3, 0x14, 0x7b, 0xa9, 0xcd, 0xd8, 0x48,
-	0xaf, 0x67, 0x60, 0xd9, 0xdf, 0xb0, 0x00, 0xe2, 0xe4, 0x53, 0xe4, 0x3e, 0x94, 0xc2, 0xeb, 0x89,
-	0x83, 0x69, 0x1e, 0xf7, 0x7b, 0x24, 0x45, 0x23, 0x06, 0x5e, 0x42, 0x50, 0x73, 0x7b, 0xd8, 0x61,
-	0xfa, 0x7f, 0x59, 0x70, 0x3e, 0x2b, 0x49, 0xd6, 0x13, 0x6c, 0xf1, 0x71, 0xcf, 0xd1, 0xb2, 0xc2,
-	0x7a, 0x40, 0xb7, 0xdc, 0xfb, 0x69, 0x97, 0xf6, 0xb2, 0x2a, 0xc0, 0x18, 0xc7, 0xfe, 0xe6, 0x10,
-	0x68, 0xc6, 0x27, 0x74, 0xee, 0x7e, 0x91, 0x69, 0xe8, 0x8d, 0x38, 0xf5, 0x89, 0xc6, 0x43, 0x0e,
-	0x45, 0x59, 0xca, 0xb4, 0x74, 0x15, 0xac, 0x2b, 0x45, 0x36, 0x9f, 0x85, 0x2a, 0xae, 0x17, 0x75,
-	0x69, 0xd6, 0x49, 0xbe, 0x78, 0x2a, 0x27, 0xf9, 0xa1, 0xfc, 0x4f, 0xf2, 0x57, 0x61, 0x38, 0xf0,
-	0x5b, 0x74, 0x0e, 0x57, 0xa5, 0x1b, 0x24, 0x4e, 0xd9, 0x23, 0xc0, 0xa8, 0xca, 0xc9, 0x2b, 0x30,
-	0xda, 0x0d, 0x69, 0x75, 0x61, 0x79, 0x3e, 0xa0, 0xf5, 0x50, 0xc6, 0x3f, 0x6b, 0x77, 0xd4, 0x9d,
-	0xb8, 0x08, 0x4d, 0x3c, 0xf2, 0x4d, 0xeb, 0x10, 0x63, 0xc1, 0x48, 0x5e, 0x7b, 0x42, 0x66, 0xb2,
-	0x85, 0xca, 0xe5, 0x47, 0xb4, 0x40, 0x7c, 0xcd, 0x82, 0xb3, 0xd4, 0xab, 0x05, 0x7b, 0x9c, 0x8e,
-	0xa4, 0x26, 0x5d, 0x32, 0x77, 0xf2, 0x58, 0x7c, 0x37, 0xd2, 0xc4, 0x85, 0xbd, 0xb5, 0x07, 0x8c,
-	0xbd, 0xcd, 0xb0, 0xff, 0xb0, 0x00, 0xe7, 0x32, 0x28, 0xf0, 0x58, 0xd1, 0x36, 0x9b, 0x40, 0xb7,
-	0xea, 0xe9, 0xe5, 0xb3, 0x2c, 0xe1, 0xa8, 0x31, 0xc8, 0x3a, 0x9c, 0xdf, 0x6e, 0x87, 0x31, 0x95,
-	0x79, 0xdf, 0x8b, 0xe8, 0x7d, 0xb5, 0x98, 0x94, 0x77, 0xe5, 0xfc, 0x72, 0x06, 0x0e, 0x66, 0xd6,
-	0x64, 0xda, 0x06, 0xf5, 0x9c, 0xcd, 0x16, 0x8d, 0x8b, 0x64, 0xa4, 0xb3, 0xd6, 0x36, 0x6e, 0xa4,
-	0xca, 0xb1, 0xa7, 0x06, 0xf9, 0xd0, 0x82, 0x67, 0x42, 0x1a, 0xec, 0xd0, 0xa0, 0xea, 0xd6, 0xe9,
-	0x7c, 0x37, 0x8c, 0xfc, 0x36, 0x0d, 0x1e, 0xd1, 0x9a, 0x35, 0x7d, 0xb0, 0x3f, 0xfd, 0x4c, 0xb5,
-	0x3f, 0x35, 0x3c, 0x8c, 0x95, 0xfd, 0xa1, 0x05, 0x67, 0xaa, 0xb5, 0xc0, 0xed, 0xc4, 0x29, 0x54,
-	0xf2, 0xce, 0xf0, 0xf2, 0xa2, 0xbe, 0xf5, 0x96, 0x12, 0x62, 0xc9, 0x7b, 0x6a, 0xf6, 0x3b, 0x30,
-	0x59, 0xa5, 0x6d, 0xa7, 0xd3, 0xe4, 0x97, 0x08, 0x84, 0x13, 0x7f, 0x16, 0x46, 0x42, 0x05, 0x4b,
-	0xa7, 0xc8, 0xd3, 0xc8, 0x18, 0xe3, 0x90, 0x17, 0x44, 0xc0, 0x81, 0x0a, 0xff, 0x1c, 0x11, 0xda,
-	0xb9, 0x88, 0x52, 0x08, 0x51, 0x95, 0xd9, 0xbb, 0x30, 0x16, 0x57, 0xa7, 0x5b, 0xa4, 0x01, 0x13,
-	0x35, 0x23, 0x4e, 0x38, 0x0e, 0x6c, 0x3c, 0x7a, 0x48, 0x31, 0x97, 0x45, 0xf3, 0x49, 0x22, 0x98,
-	0xa6, 0x6a, 0xff, 0x62, 0x01, 0x26, 0x34, 0x67, 0x69, 0x4a, 0xff, 0x20, 0x1d, 0x24, 0x81, 0x79,
-	0xdc, 0xc6, 0x4d, 0x8e, 0xe4, 0x21, 0x81, 0x12, 0x1f, 0xa4, 0x03, 0x25, 0x4e, 0x94, 0x7d, 0x8f,
-	0x77, 0xe0, 0x1b, 0x05, 0x28, 0xe9, 0xbb, 0xc1, 0xaf, 0x43, 0x91, 0x1f, 0xa0, 0x1e, 0x4f, 0x1b,
-	0xe5, 0x87, 0x31, 0x14, 0x94, 0x18, 0x49, 0xee, 0x21, 0x7e, 0xe4, 0x84, 0x63, 0x23, 0xc2, 0x76,
-	0xe4, 0x04, 0x11, 0x0a, 0x4a, 0x64, 0x19, 0x06, 0xa8, 0x57, 0x97, 0x6a, 0xe9, 0xf1, 0x09, 0xf2,
-	0xf4, 0x90, 0x37, 0xbc, 0x3a, 0x32, 0x2a, 0x3c, 0x3b, 0x8f, 0xd0, 0x3e, 0x06, 0x93, 0xcb, 0x43,
-	0xaa, 0x1e, 0xb2, 0xd4, 0xfe, 0xf9, 0x01, 0x18, 0xaa, 0x76, 0x37, 0x99, 0x82, 0xfd, 0xeb, 0x16,
-	0x9c, 0xdb, 0x4d, 0x25, 0xa3, 0x8a, 0xa7, 0xec, 0x9d, 0xfc, 0x33, 0x7d, 0x21, 0xdd, 0xaa, 0x3c,
-	0x23, 0xdb, 0x75, 0x2e, 0xa3, 0x10, 0xb3, 0x9a, 0x93, 0x48, 0xdc, 0x33, 0x70, 0x42, 0x29, 0xce,
-	0x4e, 0x36, 0x3c, 0x73, 0xbc, 0x6f, 0x68, 0xe6, 0x9f, 0x0e, 0x02, 0x88, 0xaf, 0xb1, 0xd6, 0x89,
-	0x8e, 0x62, 0x1c, 0x7a, 0x15, 0xc6, 0xd4, 0x1b, 0x03, 0xab, 0x71, 0x48, 0x8c, 0x76, 0x8b, 0xde,
-	0x34, 0xca, 0x30, 0x81, 0xc9, 0x0f, 0x04, 0x5e, 0x14, 0xec, 0x09, 0xa5, 0x71, 0x30, 0x75, 0x20,
-	0xd0, 0x25, 0x68, 0x60, 0x91, 0x99, 0x84, 0xc1, 0x5a, 0x24, 0x31, 0x38, 0x73, 0x88, 0x7d, 0xf9,
-	0x93, 0x30, 0xae, 0xff, 0x2d, 0xba, 0x2d, 0x9a, 0x76, 0x47, 0xac, 0x9b, 0x85, 0x98, 0xc4, 0x25,
-	0x9f, 0x82, 0x33, 0xc9, 0xbb, 0x88, 0x52, 0xcd, 0xd2, 0x37, 0x81, 0x93, 0x57, 0x18, 0x31, 0x85,
-	0xcd, 0x56, 0x40, 0x3d, 0xd8, 0xc3, 0xae, 0x27, 0xf5, 0x2d, 0xbd, 0x02, 0x16, 0x38, 0x14, 0x65,
-	0x29, 0x1b, 0x42, 0xb1, 0x95, 0x09, 0xb8, 0xbc, 0x4c, 0xa6, 0x87, 0xb0, 0x6a, 0x94, 0x61, 0x02,
-	0x93, 0x71, 0x90, 0x96, 0x39, 0x48, 0xae, 0xb1, 0x94, 0x39, 0xad, 0x03, 0x67, 0xfc, 0xa4, 0x61,
-	0x43, 0x04, 0x91, 0x7c, 0xfc, 0x88, 0xf3, 0x36, 0x51, 0x57, 0x5c, 0x7e, 0x48, 0xd9, 0x41, 0x52,
-	0xf4, 0x99, 0xc2, 0x69, 0x06, 0x89, 0x8e, 0x25, 0xe3, 0x9f, 0xfa, 0xc5, 0x71, 0xda, 0xe7, 0xe0,
-	0x6c, 0xb5, 0xdb, 0xe9, 0xb4, 0x5c, 0x5a, 0xd7, 0x16, 0x5d, 0xfb, 0x27, 0x61, 0x42, 0xe6, 0xe5,
-	0xd1, 0x7b, 0xf9, 0xb1, 0x92, 0x33, 0xda, 0x7f, 0x62, 0xc1, 0x44, 0xca, 0xdb, 0x4b, 0xde, 0x4b,
-	0xef, 0xc0, 0xb9, 0x18, 0xe8, 0xcd, 0xcd, 0x57, 0xac, 0xb2, 0xcc, 0xdd, 0xbc, 0xa9, 0x62, 0x13,
-	0x73, 0x0b, 0xf1, 0xe5, 0x11, 0x7c, 0x42, 0xa4, 0x9b, 0x01, 0x8e, 0xf6, 0x97, 0x0b, 0x90, 0xed,
-	0x62, 0x27, 0x9f, 0xef, 0x1d, 0x80, 0xd7, 0x73, 0x1c, 0x00, 0xe9, 0xe3, 0xef, 0x3f, 0x06, 0x5e,
-	0x72, 0x0c, 0x56, 0x72, 0x1a, 0x03, 0xc9, 0xb7, 0x77, 0x24, 0xfe, 0xd8, 0x82, 0xd1, 0x8d, 0x8d,
-	0xdb, 0xda, 0x40, 0x84, 0x70, 0x31, 0x14, 0x37, 0x75, 0xb8, 0x6f, 0x6c, 0xde, 0x6f, 0x77, 0x84,
-	0xab, 0x4c, 0xba, 0xf0, 0x78, 0x8a, 0xa4, 0x6a, 0x26, 0x06, 0xf6, 0xa9, 0x49, 0x6e, 0xc1, 0x39,
-	0xb3, 0x44, 0x9a, 0xf9, 0xa4, 0xbb, 0x4e, 0xdc, 0x5d, 0xed, 0x2d, 0xc6, 0xac, 0x3a, 0x69, 0x52,
-	0xd2, 0xd6, 0x27, 0x5f, 0xaf, 0xe8, 0x21, 0x25, 0x8b, 0x31, 0xab, 0x8e, 0xbd, 0x06, 0xa3, 0xc6,
-	0x5b, 0x2a, 0xe4, 0xd3, 0x30, 0x59, 0xf3, 0xdb, 0xca, 0xc6, 0x72, 0x9b, 0xee, 0xd0, 0x96, 0xec,
-	0x32, 0x37, 0xc3, 0xcd, 0xa7, 0xca, 0xb0, 0x07, 0xdb, 0xfe, 0xd2, 0x15, 0xd0, 0x97, 0x0a, 0x8e,
-	0xb0, 0x45, 0x74, 0x74, 0xf0, 0x51, 0x31, 0xe7, 0xe0, 0x23, 0x2d, 0xef, 0x52, 0x01, 0x48, 0x51,
-	0x1c, 0x80, 0x34, 0x94, 0x77, 0x00, 0x92, 0xd6, 0xf8, 0x7a, 0x82, 0x90, 0x7e, 0xd9, 0x82, 0x31,
-	0xcf, 0xaf, 0x53, 0xed, 0xc6, 0x19, 0xe6, 0x6a, 0xe7, 0xdb, 0xf9, 0x45, 0x55, 0x8a, 0x60, 0x1a,
-	0x49, 0x5e, 0x84, 0xa8, 0xe9, 0x6d, 0xc2, 0x2c, 0xc2, 0x44, 0x3b, 0xc8, 0xa2, 0x61, 0xf5, 0x13,
-	0x79, 0x71, 0x2e, 0x67, 0xa9, 0xff, 0x0f, 0x35, 0xe1, 0xdd, 0x37, 0x14, 0x9f, 0x91, 0xbc, 0xac,
-	0x59, 0x2a, 0xce, 0xde, 0x30, 0xce, 0xab, 0x2c, 0x5f, 0xb1, 0x42, 0x64, 0xc3, 0x90, 0x88, 0x65,
-	0x93, 0xaf, 0x7a, 0x70, 0x9f, 0x91, 0x88, 0x73, 0x43, 0x59, 0x42, 0x22, 0xe5, 0x6e, 0x1d, 0xcd,
-	0x2b, 0x39, 0x66, 0xc2, 0x9d, 0x9b, 0xed, 0x6f, 0x25, 0xaf, 0x99, 0xa7, 0xca, 0xb1, 0xa3, 0x9c,
-	0x2a, 0xc7, 0xfb, 0x9e, 0x28, 0xbf, 0x62, 0xc1, 0x58, 0xcd, 0xc8, 0xfe, 0x59, 0x7e, 0x29, 0xaf,
-	0x14, 0xb7, 0x59, 0x39, 0x45, 0xc5, 0xad, 0x35, 0xb3, 0x04, 0x13, 0xdc, 0x79, 0x5a, 0x17, 0x7e,
-	0x84, 0xe6, 0xc1, 0x85, 0xa3, 0xd7, 0xd6, 0x73, 0xd8, 0x1e, 0x12, 0x47, 0x72, 0xf1, 0x19, 0x05,
-	0x0c, 0x25, 0x2f, 0xf2, 0x3e, 0x94, 0x54, 0x38, 0xa4, 0x0c, 0x56, 0xc4, 0x3c, 0x4c, 0xd4, 0x49,
-	0x07, 0x94, 0x4a, 0x06, 0x21, 0xa0, 0xa8, 0x39, 0x92, 0x26, 0x0c, 0xd4, 0x9d, 0x86, 0x0c, 0x5b,
-	0x5c, 0xc9, 0x27, 0xd7, 0x8e, 0xe2, 0xc9, 0xcf, 0x47, 0x0b, 0x73, 0x37, 0x91, 0xb1, 0x20, 0xf7,
-	0xe3, 0x24, 0x84, 0x93, 0xb9, 0xed, 0xbe, 0x49, 0x35, 0x49, 0x18, 0x09, 0x7a, 0x72, 0x1a, 0xd6,
-	0xa5, 0xcf, 0xee, 0xcf, 0x71, 0xb6, 0x8b, 0xf9, 0x24, 0xeb, 0x11, 0x17, 0x5c, 0x63, 0xbf, 0x1f,
-	0xe3, 0xc2, 0x9f, 0x7f, 0xf9, 0xb1, 0xbc, 0xb8, 0x2c, 0x6d, 0x6c, 0xac, 0xf7, 0x3c, 0xfb, 0x72,
-	0x03, 0x86, 0x45, 0x1a, 0x59, 0x11, 0xc8, 0x39, 0x7a, 0x6d, 0xaa, 0x7f, 0x32, 0xda, 0x58, 0x74,
-	0x8b, 0xff, 0x21, 0xaa, 0xba, 0xe4, 0x17, 0x2d, 0x38, 0xc3, 0x64, 0x5c, 0x9c, 0xf7, 0xb6, 0x4c,
-	0xf2, 0x92, 0x22, 0x77, 0x42, 0xa6, 0x23, 0xa8, 0xd5, 0xaf, 0x0f, 0x0f, 0xb7, 0x12, 0xec, 0x30,
-	0xc5, 0x9e, 0x7c, 0x00, 0xa5, 0xd0, 0xad, 0xd3, 0x9a, 0x13, 0x84, 0xe5, 0x73, 0x27, 0xd3, 0x94,
-	0xd8, 0x7d, 0x20, 0x19, 0xa1, 0x66, 0x49, 0xfe, 0x16, 0xcf, 0x52, 0x2f, 0x5f, 0x14, 0x91, 0x8f,
-	0x5d, 0x9d, 0x3f, 0xb1, 0xc7, 0xae, 0x84, 0x55, 0x3d, 0xc9, 0x0e, 0xd3, 0xfc, 0xc9, 0x5f, 0xb3,
-	0xe0, 0x82, 0xc8, 0xc6, 0x98, 0x4e, 0xc5, 0x79, 0xe1, 0x11, 0x2d, 0x16, 0x3c, 0x02, 0x75, 0x2e,
-	0x8b, 0x24, 0x66, 0x73, 0xe2, 0xe9, 0x9c, 0x02, 0xd3, 0xd1, 0xc8, 0xe3, 0x80, 0xf3, 0x73, 0xa3,
-	0xe9, 0xb7, 0xb3, 0x78, 0x1c, 0x47, 0x02, 0x84, 0x49, 0xc6, 0xe4, 0x65, 0x18, 0xed, 0xc8, 0x0d,
-	0xca, 0x0d, 0xdb, 0x3c, 0x9e, 0x78, 0x40, 0xdc, 0xb9, 0x58, 0x8f, 0xc1, 0x68, 0xe2, 0x24, 0x72,
-	0x7b, 0x5d, 0x3d, 0x2c, 0xb7, 0x17, 0xb9, 0x03, 0xa3, 0x91, 0xdf, 0xa2, 0x81, 0x3c, 0xbf, 0x95,
-	0xf9, 0x0c, 0xbc, 0x92, 0xb5, 0xb6, 0x36, 0x34, 0x5a, 0x7c, 0xbe, 0x8b, 0x61, 0x21, 0x9a, 0x74,
-	0x78, 0x78, 0xa0, 0xcc, 0x72, 0x19, 0x70, 0x73, 0xc1, 0xd3, 0xa9, 0xf0, 0x40, 0xb3, 0x10, 0x93,
-	0xb8, 0xe4, 0x26, 0x9c, 0xed, 0x04, 0xae, 0x1f, 0xb8, 0xd1, 0xde, 0x7c, 0xcb, 0x09, 0x43, 0x4e,
-	0x40, 0xdc, 0x28, 0xd0, 0x1e, 0xfa, 0xf5, 0x34, 0x02, 0xf6, 0xd6, 0x61, 0xc3, 0xa0, 0x80, 0xe5,
-	0x67, 0xb8, 0xe6, 0x3b, 0x26, 0x6e, 0x23, 0x08, 0x18, 0xea, 0xd2, 0x3e, 0x99, 0xae, 0x2e, 0x3f,
-	0x4a, 0xa6, 0x2b, 0x52, 0x87, 0xcb, 0x4e, 0x37, 0xf2, 0xf9, 0x95, 0xe9, 0x64, 0x15, 0x11, 0x29,
-	0xf9, 0x9c, 0x08, 0xbe, 0x3c, 0xd8, 0x9f, 0xbe, 0x3c, 0x77, 0x08, 0x1e, 0x1e, 0x4a, 0x85, 0x7c,
-	0x0e, 0x4a, 0x54, 0x66, 0xeb, 0x2a, 0xff, 0x48, 0x5e, 0xdb, 0x76, 0x32, 0xff, 0x97, 0x0a, 0x81,
-	0x13, 0x30, 0xd4, 0xfc, 0xc8, 0x06, 0x8c, 0x36, 0xfd, 0x30, 0x9a, 0x6b, 0xb9, 0x4e, 0x48, 0xc3,
-	0xf2, 0xb3, 0x7c, 0xd2, 0x64, 0x6a, 0x43, 0x4b, 0x0a, 0x2d, 0x9e, 0x33, 0x4b, 0x71, 0x4d, 0x34,
-	0xc9, 0x10, 0xca, 0x9d, 0x69, 0x3c, 0x4c, 0x54, 0x39, 0x3a, 0xae, 0xf0, 0x8e, 0xbd, 0x98, 0x45,
-	0x79, 0xdd, 0xaf, 0x57, 0x93, 0xd8, 0xda, 0x9b, 0x66, 0x02, 0x31, 0x4d, 0x93, 0xbc, 0x0a, 0x63,
-	0x1d, 0xbf, 0x5e, 0xed, 0xd0, 0xda, 0xba, 0x13, 0xd5, 0x9a, 0xe5, 0xe9, 0xa4, 0x21, 0x6b, 0xdd,
-	0x28, 0xc3, 0x04, 0x26, 0xe9, 0xc0, 0x70, 0x5b, 0xdc, 0x96, 0x2c, 0x3f, 0x9f, 0xd7, 0x69, 0x43,
-	0x5e, 0xbf, 0x14, 0x3b, 0xb8, 0xfc, 0x83, 0x8a, 0x0d, 0xf9, 0x87, 0x16, 0x4c, 0xa4, 0x22, 0xe4,
-	0xcb, 0x3f, 0x9a, 0x9b, 0x12, 0x91, 0x24, 0x5c, 0x79, 0x91, 0x0f, 0x5f, 0x12, 0xf8, 0xa0, 0x17,
-	0x84, 0xe9, 0x16, 0x89, 0x71, 0xe1, 0x57, 0x9e, 0xcb, 0x2f, 0xe4, 0x37, 0x2e, 0x9c, 0xa0, 0x1a,
-	0x17, 0xfe, 0x07, 0x15, 0x1b, 0x72, 0x15, 0x86, 0x65, 0x12, 0x8e, 0xf2, 0x8b, 0x49, 0x8f, 0xa8,
-	0xcc, 0xd5, 0x81, 0xaa, 0x7c, 0xea, 0x27, 0xe1, 0x6c, 0xcf, 0x61, 0xea, 0x58, 0xf7, 0x6e, 0x7f,
-	0xc5, 0x02, 0xf3, 0x72, 0x5b, 0xee, 0x29, 0x72, 0x5f, 0x85, 0xb1, 0x9a, 0x78, 0x9f, 0x41, 0x5c,
-	0x8f, 0x1b, 0x4c, 0x5a, 0x05, 0xe7, 0x8d, 0x32, 0x4c, 0x60, 0xda, 0x4b, 0x40, 0x7a, 0xf3, 0x17,
-	0xa6, 0xe2, 0x2f, 0xac, 0x23, 0xc5, 0x5f, 0xfc, 0x86, 0x05, 0xe3, 0x09, 0x9d, 0x21, 0x77, 0x27,
-	0xda, 0x22, 0x90, 0xb6, 0x1b, 0x04, 0x7e, 0x60, 0x3e, 0x0d, 0x20, 0x13, 0xb6, 0xf1, 0x64, 0x36,
-	0x2b, 0x3d, 0xa5, 0x98, 0x51, 0xc3, 0xfe, 0xdd, 0x01, 0x88, 0x63, 0x40, 0x75, 0x1a, 0x2b, 0xab,
-	0x6f, 0x1a, 0xab, 0x8f, 0x41, 0xe9, 0x9d, 0xd0, 0xf7, 0xd6, 0xe3, 0x64, 0x57, 0xfa, 0x5b, 0xbc,
-	0x56, 0x5d, 0x5b, 0xe5, 0x98, 0x1a, 0x83, 0x63, 0xbf, 0xbb, 0xe8, 0xb6, 0xa2, 0xde, 0x6c, 0x48,
-	0xaf, 0xbd, 0x2e, 0xe0, 0xa8, 0x31, 0xf8, 0xe3, 0x05, 0x3b, 0x54, 0x9b, 0x8b, 0xe3, 0xc7, 0x0b,
-	0x44, 0x6a, 0x52, 0x5e, 0x46, 0x66, 0x61, 0x44, 0x5b, 0x9b, 0xa5, 0xf1, 0x5b, 0x8f, 0x94, 0xb6,
-	0x4a, 0x63, 0x8c, 0xc3, 0x15, 0x42, 0x69, 0x1a, 0x95, 0x46, 0x8d, 0x6a, 0x1e, 0x07, 0x86, 0x94,
-	0xb1, 0x55, 0xc8, 0x76, 0x05, 0x46, 0xcd, 0xd2, 0x8c, 0x13, 0x2e, 0x1e, 0x35, 0x4e, 0x38, 0x39,
-	0xe5, 0x4a, 0x47, 0x9a, 0x72, 0x3f, 0x3b, 0x00, 0xc3, 0x77, 0x69, 0xc0, 0x33, 0xe7, 0x5d, 0x85,
-	0xe1, 0x1d, 0xf1, 0x33, 0x7d, 0x17, 0x47, 0x62, 0xa0, 0x2a, 0x67, 0xc3, 0xb9, 0xd9, 0x75, 0x5b,
-	0xf5, 0x85, 0x78, 0x71, 0xe9, 0xe1, 0xac, 0xa8, 0x02, 0x8c, 0x71, 0x58, 0x85, 0x06, 0x53, 0xb8,
-	0xdb, 0x6d, 0x37, 0x4a, 0x87, 0xbb, 0xdc, 0x54, 0x05, 0x18, 0xe3, 0x90, 0x17, 0x61, 0xa8, 0xe1,
-	0x46, 0x1b, 0x4e, 0x23, 0xed, 0xcf, 0xba, 0xc9, 0xa1, 0x28, 0x4b, 0xb9, 0x43, 0xc4, 0x8d, 0x36,
-	0x02, 0xca, 0x4d, 0xa0, 0x3d, 0x97, 0x72, 0x6f, 0x1a, 0x65, 0x98, 0xc0, 0xe4, 0x4d, 0xf2, 0x65,
-	0xcf, 0xa4, 0xa3, 0x22, 0x6e, 0x92, 0x2a, 0xc0, 0x18, 0x87, 0x4d, 0xcb, 0x9a, 0xdf, 0xee, 0xb8,
-	0x2d, 0x19, 0xfe, 0x69, 0x4c, 0xcb, 0x79, 0x09, 0x47, 0x8d, 0xc1, 0xb0, 0x99, 0x64, 0x61, 0x52,
-	0x21, 0x9d, 0xbf, 0x7d, 0x5d, 0xc2, 0x51, 0x63, 0xd8, 0x77, 0x61, 0x5c, 0x2c, 0xb0, 0xf9, 0x96,
-	0xe3, 0xb6, 0x6f, 0xce, 0x93, 0x1b, 0x3d, 0x31, 0xce, 0x57, 0x33, 0x62, 0x9c, 0x2f, 0x24, 0x2a,
-	0xf5, 0xc6, 0x3a, 0xdb, 0xdf, 0x29, 0x40, 0xe9, 0x14, 0x9f, 0xc0, 0xe8, 0x24, 0x9e, 0xc0, 0xc8,
-	0xfb, 0x21, 0x84, 0xac, 0xe7, 0x2f, 0xee, 0xa7, 0x9e, 0xbf, 0x58, 0xcf, 0x33, 0xec, 0xff, 0xd0,
-	0xa7, 0x2f, 0x7e, 0x60, 0xc1, 0x79, 0x85, 0xca, 0x65, 0x4d, 0xc5, 0xf5, 0xb8, 0x27, 0xfc, 0xe4,
-	0x87, 0xf9, 0xfd, 0xc4, 0x30, 0xbf, 0x99, 0x5f, 0x97, 0xcd, 0x7e, 0xf4, 0x7d, 0x97, 0xe9, 0xfb,
-	0x16, 0x94, 0xb3, 0x2a, 0x9c, 0xc2, 0xdb, 0x1f, 0xef, 0x25, 0xdf, 0xfe, 0xb8, 0x7b, 0x32, 0x3d,
-	0xef, 0xf3, 0x06, 0xc8, 0x0f, 0xfa, 0xf4, 0x9b, 0x3f, 0xb8, 0xd1, 0x52, 0xbb, 0x90, 0x95, 0x97,
-	0x8f, 0x49, 0xb0, 0xc8, 0xde, 0xce, 0x5a, 0x30, 0x14, 0x72, 0xb7, 0xb1, 0x9c, 0x02, 0x4b, 0x79,
-	0xec, 0x4d, 0x8c, 0x9e, 0xb4, 0x11, 0xf2, 0xdf, 0x28, 0x79, 0xd8, 0xff, 0xd1, 0x82, 0xb1, 0x53,
-	0x7c, 0xe0, 0xc5, 0x4f, 0x7e, 0xe4, 0xd7, 0xf2, 0xfb, 0xc8, 0x7d, 0x3e, 0xec, 0x7f, 0x7f, 0x16,
-	0x12, 0x6f, 0xa9, 0x90, 0xf7, 0x60, 0x44, 0x29, 0x86, 0xea, 0x3a, 0x51, 0x9e, 0x4f, 0x26, 0xe8,
-	0x6d, 0x46, 0x41, 0x42, 0x8c, 0xf9, 0xa5, 0x1c, 0xf5, 0x85, 0x23, 0x39, 0xea, 0x9f, 0xec, 0x83,
-	0x0b, 0xd9, 0xc7, 0xf6, 0xc1, 0x13, 0x39, 0xb6, 0x5f, 0xce, 0xfd, 0xd8, 0xfe, 0xec, 0x29, 0x1f,
-	0xdb, 0x0d, 0x1b, 0x6a, 0xf1, 0x31, 0x6c, 0xa8, 0xef, 0xc1, 0xf9, 0x9d, 0x78, 0xf3, 0xd7, 0x33,
-	0x49, 0xbe, 0x1b, 0x71, 0x35, 0xf3, 0xb0, 0xce, 0x14, 0x99, 0x30, 0xa2, 0x5e, 0x64, 0xa8, 0x0d,
-	0x71, 0x00, 0xe3, 0xdd, 0x0c, 0x72, 0x98, 0xc9, 0x24, 0x6d, 0x0c, 0x1b, 0x3e, 0x82, 0x31, 0xec,
-	0x1f, 0xf7, 0x7d, 0x2c, 0xb6, 0x74, 0xb2, 0x8f, 0xc5, 0x3e, 0x7d, 0xec, 0x87, 0x62, 0x5f, 0x88,
-	0x7d, 0x05, 0x22, 0x38, 0x24, 0xdb, 0xb0, 0xff, 0xb5, 0xb4, 0x03, 0x12, 0xf8, 0xd0, 0x7f, 0x36,
-	0x5f, 0xad, 0x27, 0x07, 0x27, 0xe4, 0xe8, 0x63, 0x38, 0x21, 0x53, 0x96, 0xc9, 0xb1, 0x9c, 0x2c,
-	0x93, 0x1e, 0x4c, 0xba, 0x6d, 0xa7, 0x41, 0xd7, 0xbb, 0xad, 0x96, 0x88, 0x21, 0x55, 0x8f, 0x5a,
-	0x64, 0x86, 0x4a, 0xde, 0xf6, 0x6b, 0x4e, 0x2b, 0xfd, 0x76, 0x90, 0x8e, 0x95, 0xbd, 0x95, 0xa2,
-	0x84, 0x3d, 0xb4, 0xd9, 0x84, 0xe5, 0x49, 0x22, 0x68, 0xc4, 0x46, 0x9b, 0x7b, 0xba, 0xe4, 0xab,
-	0xde, 0x4b, 0x31, 0x18, 0x4d, 0x1c, 0xb2, 0x0c, 0x23, 0x75, 0x2f, 0x94, 0xb7, 0x4f, 0x26, 0xb8,
-	0x30, 0xfb, 0x71, 0x26, 0x02, 0x17, 0x56, 0xab, 0xfa, 0xde, 0xc9, 0xe5, 0x8c, 0xfc, 0x23, 0xba,
-	0x1c, 0xe3, 0xfa, 0x64, 0x85, 0x13, 0x93, 0x79, 0x89, 0x85, 0x03, 0xea, 0xb9, 0x3e, 0xf6, 0xb4,
-	0x85, 0x55, 0x95, 0x59, 0x79, 0x5c, 0xb2, 0x93, 0x09, 0x86, 0x63, 0x0a, 0xc6, 0xe3, 0x22, 0x67,
-	0x0f, 0x7d, 0x5c, 0x84, 0x27, 0x1e, 0x8a, 0x5a, 0xda, 0x7a, 0x7e, 0x25, 0xb7, 0xc4, 0x43, 0x71,
-	0x68, 0x87, 0x4c, 0x3c, 0x14, 0x03, 0xd0, 0x64, 0x49, 0xd6, 0xfa, 0x79, 0x11, 0xce, 0x71, 0xa1,
-	0x71, 0x7c, 0x9f, 0x80, 0x69, 0x4e, 0x3e, 0x7f, 0xa8, 0x39, 0xb9, 0xc7, 0xfc, 0x7d, 0xe1, 0x18,
-	0xe6, 0xef, 0x26, 0x4f, 0x09, 0x73, 0x73, 0x5e, 0x7a, 0x1c, 0x72, 0x50, 0xe8, 0xf8, 0x7d, 0x54,
-	0x11, 0x2a, 0xc3, 0x7f, 0xa2, 0x60, 0x40, 0xd6, 0xe1, 0x7c, 0xc7, 0xaf, 0xf7, 0x98, 0xd2, 0xb9,
-	0x8b, 0xc1, 0x88, 0x2f, 0x5f, 0xcf, 0xc0, 0xc1, 0xcc, 0x9a, 0x5c, 0x3c, 0xc7, 0x70, 0x9e, 0x5b,
-	0xa8, 0x28, 0xc5, 0x73, 0x0c, 0x46, 0x13, 0x27, 0x6d, 0x4c, 0x7e, 0xfa, 0xc4, 0x8c, 0xc9, 0x53,
-	0xa7, 0x60, 0x4c, 0x7e, 0xe6, 0xc8, 0xc6, 0xe4, 0x0f, 0xe0, 0x5c, 0xc7, 0xaf, 0x2f, 0xb8, 0x61,
-	0xd0, 0xe5, 0x41, 0xf5, 0x95, 0x6e, 0xbd, 0x41, 0x23, 0x6e, 0x8d, 0x1e, 0xbd, 0x76, 0xcd, 0x6c,
-	0x64, 0x87, 0x2f, 0xe4, 0x99, 0x9d, 0x97, 0x37, 0x69, 0x24, 0x3e, 0x66, 0xba, 0x16, 0x3f, 0x30,
-	0xf1, 0x58, 0xa1, 0x8c, 0x42, 0xcc, 0xe2, 0x63, 0xda, 0xb2, 0x9f, 0x3b, 0x1d, 0x5b, 0xf6, 0xa7,
-	0xa1, 0x14, 0x36, 0xbb, 0x51, 0xdd, 0xdf, 0xf5, 0xb8, 0xc3, 0x62, 0x44, 0x3f, 0x2f, 0x58, 0xaa,
-	0x4a, 0xf8, 0x83, 0xfd, 0xe9, 0x49, 0xf5, 0xdb, 0x30, 0x29, 0x48, 0x08, 0xf9, 0x7a, 0x9f, 0xb0,
-	0x61, 0xfb, 0x24, 0xc3, 0x86, 0x2f, 0x1d, 0x2b, 0x64, 0x38, 0xcb, 0x60, 0xff, 0xfc, 0x0f, 0x9d,
-	0xc1, 0xfe, 0x57, 0x2d, 0x18, 0xdf, 0x31, 0xed, 0x37, 0xd2, 0xa9, 0x90, 0x83, 0x73, 0x33, 0x61,
-	0x16, 0xaa, 0xd8, 0x4c, 0xd8, 0x25, 0x40, 0x0f, 0xd2, 0x00, 0x4c, 0xb6, 0x24, 0xc3, 0xf1, 0xfa,
-	0xc2, 0x93, 0x72, 0xbc, 0x7e, 0xc0, 0x85, 0x99, 0x8a, 0x52, 0xe2, 0x9e, 0x86, 0x7c, 0x23, 0xa1,
-	0x94, 0x60, 0xd4, 0x81, 0x50, 0x26, 0x3f, 0xf2, 0x15, 0x0b, 0x26, 0xd5, 0xe1, 0x4c, 0xda, 0x5f,
-	0x43, 0x19, 0xcb, 0x91, 0xe7, 0x99, 0x90, 0x07, 0x03, 0x6e, 0xa4, 0xf8, 0x60, 0x0f, 0xe7, 0xc7,
-	0x77, 0xa4, 0xfc, 0x01, 0x81, 0x33, 0xa9, 0x97, 0x1b, 0x3f, 0x9e, 0xcc, 0x2c, 0x79, 0x25, 0x9d,
-	0xde, 0x6f, 0x5c, 0xe1, 0x27, 0x52, 0xfc, 0x25, 0x72, 0xf0, 0x15, 0x4e, 0x34, 0x07, 0xdf, 0xc0,
-	0xe9, 0xe4, 0xe0, 0x9b, 0x3c, 0x89, 0x1c, 0x7c, 0x67, 0x8f, 0x95, 0x83, 0xcf, 0xc8, 0x81, 0x38,
-	0xf8, 0x90, 0x1c, 0x88, 0x73, 0x30, 0xa1, 0x42, 0x45, 0xa9, 0x4c, 0xae, 0x26, 0x8c, 0xdf, 0x97,
-	0x64, 0x95, 0x89, 0xf9, 0x64, 0x31, 0xa6, 0xf1, 0xc9, 0x47, 0x16, 0x14, 0x3d, 0x5e, 0x73, 0x28,
-	0xaf, 0xb4, 0xc2, 0xc9, 0xa9, 0xc5, 0x0f, 0x2f, 0x32, 0x99, 0xaf, 0x0a, 0xc5, 0x29, 0x72, 0xd8,
-	0x03, 0xf5, 0x03, 0x45, 0x0b, 0xc8, 0xdb, 0x50, 0xf6, 0xb7, 0xb6, 0x5a, 0xbe, 0x53, 0x8f, 0x13,
-	0x05, 0x2a, 0xeb, 0xbc, 0x08, 0xb7, 0xd7, 0x89, 0x92, 0xd6, 0xfa, 0xe0, 0x61, 0x5f, 0x0a, 0xec,
-	0xf4, 0x39, 0x11, 0x46, 0x7e, 0x40, 0xeb, 0xf1, 0x49, 0x79, 0x84, 0xf7, 0x99, 0xe6, 0xde, 0xe7,
-	0x6a, 0x92, 0x8f, 0xe8, 0xbd, 0xfe, 0x28, 0xa9, 0x52, 0x4c, 0x37, 0x8b, 0x04, 0x70, 0xb1, 0x93,
-	0x75, 0x50, 0x0f, 0x65, 0x80, 0xeb, 0x61, 0xe6, 0x02, 0xb5, 0x74, 0x2f, 0x66, 0x1e, 0xf5, 0x43,
-	0xec, 0x43, 0xd9, 0x4c, 0x21, 0x58, 0x3a, 0x9d, 0x14, 0x82, 0xc9, 0xf7, 0x56, 0xc7, 0x4f, 0xfd,
-	0xbd, 0x55, 0xf2, 0xa7, 0x99, 0xd9, 0x2e, 0xc5, 0xf9, 0xb6, 0x91, 0xfb, 0x9c, 0xf8, 0xa1, 0xcb,
-	0x78, 0xf9, 0x8f, 0x2c, 0x98, 0x12, 0x33, 0x2f, 0xad, 0x55, 0xf1, 0x97, 0xac, 0xcf, 0x9c, 0x88,
-	0x03, 0x87, 0xbb, 0x98, 0xab, 0x09, 0xae, 0xdc, 0xaf, 0x70, 0x48, 0x4b, 0xc8, 0x2f, 0x67, 0xe8,
-	0x72, 0x13, 0x79, 0x59, 0x8c, 0xb2, 0x33, 0x25, 0x9e, 0x3b, 0x38, 0x8a, 0xfa, 0xf6, 0x4f, 0xfb,
-	0x1a, 0xb4, 0x08, 0x6f, 0xde, 0x5f, 0x3d, 0x21, 0x83, 0x96, 0x99, 0xce, 0xf1, 0x38, 0x66, 0xad,
-	0xa9, 0x9f, 0x93, 0xf9, 0xa4, 0xfb, 0x66, 0x3d, 0xdf, 0x4c, 0x3e, 0xcf, 0x79, 0x3b, 0xcf, 0x9c,
-	0xaf, 0x66, 0xfa, 0xf5, 0xbf, 0x61, 0xc1, 0xf9, 0x2c, 0x21, 0x99, 0xd1, 0xa4, 0xcf, 0x26, 0x9b,
-	0x94, 0xa3, 0xc6, 0x65, 0x36, 0x28, 0x9f, 0x44, 0x97, 0xdf, 0x1f, 0x31, 0xdc, 0x08, 0x11, 0xed,
-	0x9c, 0xe0, 0x33, 0xce, 0xe3, 0xff, 0xff, 0x19, 0xe7, 0xd3, 0x48, 0x9a, 0x9d, 0x78, 0x90, 0xb9,
-	0xf8, 0xa4, 0x1e, 0x64, 0x1e, 0x7a, 0x94, 0x07, 0x99, 0x87, 0x9f, 0xd8, 0x83, 0xcc, 0xa5, 0x23,
-	0x3e, 0xc8, 0x3c, 0xf2, 0x43, 0xfa, 0x20, 0xf3, 0xaf, 0xe9, 0x57, 0x96, 0x85, 0x32, 0xf0, 0x46,
-	0xbe, 0x89, 0x04, 0xff, 0xdf, 0x7b, 0x6a, 0xf9, 0x8f, 0x0a, 0x30, 0xa1, 0xb7, 0x6e, 0x27, 0xdc,
-	0xae, 0xd2, 0xe8, 0x14, 0x62, 0x20, 0x76, 0x13, 0x31, 0x10, 0x79, 0x9a, 0x9d, 0x44, 0x17, 0xfa,
-	0x46, 0x9c, 0x7c, 0x21, 0x15, 0x71, 0x72, 0x2f, 0x7f, 0xd6, 0x87, 0x07, 0x9e, 0xfc, 0x0f, 0x0b,
-	0xce, 0xa5, 0x6a, 0x9c, 0x82, 0x57, 0x7e, 0x27, 0xe9, 0x95, 0x7f, 0x3d, 0xf7, 0x5e, 0xf7, 0x71,
-	0xce, 0xff, 0x7a, 0xa1, 0xa7, 0xb7, 0x5c, 0x2f, 0xfc, 0x59, 0x4b, 0xbd, 0xd4, 0x6d, 0xe5, 0xed,
-	0x76, 0x33, 0xd8, 0xcc, 0xf0, 0xc7, 0xba, 0xc5, 0x6a, 0xcd, 0x7c, 0xc0, 0x7b, 0xea, 0x67, 0x2c,
-	0x80, 0x18, 0xe9, 0x49, 0xa9, 0x30, 0xf6, 0x6f, 0x16, 0xe0, 0x42, 0xe6, 0x34, 0x22, 0x5f, 0xd6,
-	0x87, 0x7c, 0x31, 0x50, 0x9b, 0x27, 0x34, 0x5f, 0xcd, 0xb3, 0xfe, 0x78, 0xe2, 0xac, 0x2f, 0x8f,
-	0xf8, 0x4f, 0x4a, 0x01, 0x95, 0x39, 0x66, 0x8d, 0xc1, 0xfa, 0x9f, 0x16, 0x4c, 0xa6, 0x0f, 0x1b,
-	0xa7, 0x20, 0xb2, 0xee, 0x27, 0x44, 0xd6, 0xdd, 0xfc, 0x2d, 0xe5, 0x7d, 0x43, 0xb6, 0xfe, 0xc8,
-	0x88, 0x55, 0x53, 0xc8, 0xa7, 0x20, 0x33, 0x76, 0x93, 0x32, 0x03, 0xf3, 0xef, 0x71, 0x1f, 0xa1,
-	0xf1, 0x2e, 0x64, 0x39, 0x0b, 0x8e, 0x96, 0x5f, 0x23, 0x11, 0x06, 0x5e, 0x38, 0x72, 0x18, 0xf8,
-	0x2f, 0x14, 0x7a, 0x87, 0x98, 0x0b, 0xaa, 0x0f, 0x99, 0x6a, 0x66, 0x9c, 0x76, 0xf3, 0x4b, 0x7f,
-	0x90, 0x38, 0x5b, 0xeb, 0x36, 0x26, 0x4e, 0xd6, 0x09, 0xce, 0xe4, 0x9d, 0xb8, 0x25, 0xec, 0x4b,
-	0x3d, 0x34, 0x97, 0x4d, 0xbf, 0x69, 0xce, 0x8d, 0xd5, 0xf7, 0x0c, 0x4a, 0xdc, 0x6c, 0x9e, 0xa0,
-	0x6d, 0x8f, 0xc3, 0xe8, 0x9b, 0x6e, 0x47, 0xdb, 0xf9, 0x67, 0xbe, 0xf5, 0xbd, 0x2b, 0x4f, 0xfd,
-	0xde, 0xf7, 0xae, 0x3c, 0xf5, 0x9d, 0xef, 0x5d, 0x79, 0xea, 0x8b, 0x07, 0x57, 0xac, 0x6f, 0x1d,
-	0x5c, 0xb1, 0x7e, 0xef, 0xe0, 0x8a, 0xf5, 0x9d, 0x83, 0x2b, 0xd6, 0x7f, 0x3a, 0xb8, 0x62, 0xfd,
-	0xcd, 0xff, 0x7c, 0xe5, 0xa9, 0x37, 0x4b, 0xaa, 0x6f, 0xff, 0x37, 0x00, 0x00, 0xff, 0xff, 0xe1,
-	0x9f, 0xf9, 0x1d, 0x20, 0xa7, 0x00, 0x00,
+	0x10, 0xc6, 0x0c, 0x1f, 0xe2, 0x89, 0xb2, 0xff, 0xb9, 0x05, 0x17, 0x32, 0x5d, 0x63, 0x4f, 0xb8,
+	0xd9, 0xb3, 0x30, 0xb2, 0x4d, 0xf7, 0x16, 0xf9, 0x1c, 0x4c, 0x3b, 0x92, 0x96, 0x55, 0x01, 0xc6,
+	0x38, 0xf6, 0x37, 0x2d, 0x88, 0x29, 0x31, 0x51, 0xb4, 0x19, 0xb7, 0xdc, 0x10, 0x45, 0x92, 0x93,
+	0x2c, 0x25, 0xef, 0xc3, 0xa5, 0xe4, 0x17, 0xe4, 0xe6, 0xe2, 0xe3, 0x9b, 0xe2, 0xc5, 0x99, 0x29,
+	0x9b, 0x12, 0xf6, 0x63, 0x61, 0xdf, 0x85, 0xe2, 0x4d, 0xa7, 0xdb, 0xa0, 0x47, 0x32, 0xe2, 0x30,
+	0x31, 0x16, 0x50, 0xa7, 0x15, 0x29, 0x35, 0x5d, 0x8a, 0x31, 0x94, 0x30, 0xd4, 0xa5, 0xf6, 0xf7,
+	0x07, 0x61, 0xd4, 0x88, 0x62, 0x61, 0xfb, 0x78, 0x40, 0x3b, 0x7e, 0x5a, 0xd7, 0x65, 0x1f, 0x1b,
+	0x79, 0x09, 0x5b, 0x3f, 0x01, 0xdd, 0x71, 0x43, 0x21, 0x72, 0x12, 0xeb, 0x07, 0x25, 0x1c, 0x35,
+	0x06, 0x99, 0x86, 0x62, 0x9d, 0x76, 0xa2, 0x26, 0x97, 0xa6, 0x83, 0x95, 0x11, 0xd6, 0xd4, 0x05,
+	0x06, 0x40, 0x01, 0x67, 0x08, 0x5b, 0x34, 0xaa, 0x35, 0xb9, 0x55, 0x6f, 0x44, 0x20, 0x2c, 0x32,
+	0x00, 0x0a, 0x78, 0x86, 0x73, 0xa5, 0x78, 0xf2, 0xce, 0x95, 0xa1, 0x9c, 0x9d, 0x2b, 0xa4, 0x03,
+	0xe7, 0xc2, 0xb0, 0xb9, 0x1e, 0xb8, 0x3b, 0x4e, 0x44, 0xe3, 0x99, 0x33, 0x7c, 0x1c, 0x3e, 0x97,
+	0x0e, 0xf6, 0xa7, 0xcf, 0x55, 0xab, 0x4b, 0x69, 0x2a, 0x98, 0x45, 0x9a, 0x54, 0xe1, 0x82, 0xeb,
+	0x85, 0xb4, 0xd6, 0x0d, 0xe8, 0xad, 0x86, 0xe7, 0x07, 0x74, 0xc9, 0x0f, 0x19, 0x39, 0x19, 0x76,
+	0xa6, 0x9d, 0xb6, 0xb7, 0xb2, 0x90, 0x30, 0xbb, 0x2e, 0xb9, 0x09, 0x67, 0xeb, 0x6e, 0xe8, 0x6c,
+	0xb6, 0x68, 0xb5, 0xbb, 0xd9, 0xf6, 0xd9, 0x81, 0x4d, 0x44, 0xaa, 0x94, 0x2a, 0x4f, 0x2b, 0xd3,
+	0xc4, 0x42, 0x1a, 0x01, 0x7b, 0xeb, 0xd8, 0xdf, 0xb1, 0x60, 0xcc, 0x0c, 0x29, 0x60, 0x3a, 0x2c,
+	0x34, 0x17, 0x16, 0xab, 0x42, 0xca, 0xe6, 0xb7, 0x97, 0x2e, 0x69, 0x9a, 0xf1, 0x99, 0x2f, 0x86,
+	0xa1, 0xc1, 0xf3, 0x08, 0x61, 0x94, 0xcf, 0x43, 0x71, 0xcb, 0x67, 0x5b, 0xfd, 0x40, 0xd2, 0x32,
+	0xbb, 0xc8, 0x80, 0x28, 0xca, 0xec, 0xff, 0x6d, 0xc1, 0xc5, 0xec, 0x68, 0x89, 0x1f, 0x86, 0x4e,
+	0x5e, 0x03, 0x60, 0x5d, 0x49, 0x88, 0x4b, 0x23, 0x16, 0x56, 0x95, 0xa0, 0x81, 0x75, 0xb4, 0x6e,
+	0xff, 0x80, 0xa9, 0x9b, 0x31, 0x9f, 0xaf, 0x58, 0x30, 0xce, 0xd8, 0x2e, 0x07, 0x9b, 0x89, 0xde,
+	0xae, 0xe5, 0xd3, 0x5b, 0x4d, 0x36, 0x36, 0x40, 0x27, 0xc0, 0x98, 0x64, 0x4e, 0xfe, 0x2c, 0x8c,
+	0x38, 0xf5, 0x7a, 0x40, 0xc3, 0x50, 0xbb, 0x23, 0xb8, 0x8b, 0x6f, 0x4e, 0x01, 0x31, 0x2e, 0x67,
+	0x22, 0xae, 0x59, 0xdf, 0x0a, 0x99, 0xd4, 0x90, 0x76, 0x37, 0x2d, 0xe2, 0x18, 0x13, 0x06, 0x47,
+	0x8d, 0x61, 0xff, 0xc2, 0x20, 0x24, 0x79, 0x93, 0x3a, 0x4c, 0x6c, 0x07, 0x9b, 0xf3, 0xdc, 0x0d,
+	0xf9, 0x28, 0x0e, 0xe1, 0x73, 0x07, 0xfb, 0xd3, 0x13, 0xcb, 0x49, 0x0a, 0x98, 0x26, 0x29, 0xb9,
+	0x2c, 0xd3, 0xbd, 0xc8, 0xd9, 0x7c, 0x94, 0x8d, 0x48, 0x71, 0x31, 0x29, 0x60, 0x9a, 0x24, 0x79,
+	0x05, 0x46, 0xb7, 0x83, 0x4d, 0x25, 0x40, 0xd3, 0x5e, 0xd8, 0xe5, 0xb8, 0x08, 0x4d, 0x3c, 0x36,
+	0x84, 0xdb, 0xc1, 0x26, 0xdb, 0x70, 0x54, 0x58, 0xb1, 0x1e, 0xc2, 0x65, 0x09, 0x47, 0x8d, 0x41,
+	0x3a, 0x40, 0xb6, 0xd5, 0xe8, 0x69, 0xa7, 0xab, 0x94, 0xf3, 0x47, 0xf7, 0xd9, 0xf2, 0x10, 0x8c,
+	0xe5, 0x1e, 0x3a, 0x98, 0x41, 0x9b, 0xbc, 0x01, 0x97, 0xb6, 0x83, 0x4d, 0xb9, 0x0d, 0xaf, 0x07,
+	0xae, 0x57, 0x73, 0x3b, 0x89, 0x10, 0xe2, 0x69, 0xd9, 0xdc, 0x4b, 0xcb, 0xd9, 0x68, 0xd8, 0xaf,
+	0xbe, 0xfd, 0xf5, 0x02, 0xf0, 0xd8, 0x4c, 0xa6, 0x59, 0xb4, 0x69, 0xd4, 0xf4, 0xeb, 0x69, 0xcd,
+	0x62, 0x85, 0x43, 0x51, 0x96, 0xaa, 0x60, 0x8f, 0x42, 0x9f, 0x60, 0x8f, 0x5d, 0x18, 0x6e, 0x52,
+	0xa7, 0x4e, 0x03, 0x65, 0x08, 0xbb, 0x9d, 0x4f, 0x34, 0xe9, 0x12, 0x27, 0x1a, 0x1f, 0x70, 0xc5,
+	0xff, 0x10, 0x15, 0x37, 0xf2, 0x09, 0x38, 0xc3, 0x74, 0x04, 0xbf, 0x1b, 0x29, 0xab, 0xef, 0x20,
+	0xb7, 0xfa, 0xf2, 0xfd, 0x6e, 0x23, 0x51, 0x82, 0x29, 0x4c, 0x72, 0x19, 0x06, 0x37, 0xfd, 0xba,
+	0x88, 0x44, 0x1d, 0x13, 0x51, 0x62, 0x15, 0xbf, 0xbe, 0x87, 0x1c, 0x6a, 0xff, 0x1a, 0x93, 0xfe,
+	0x46, 0x40, 0xeb, 0xc3, 0xe2, 0x5d, 0xc2, 0x78, 0x08, 0xc4, 0x29, 0x67, 0x29, 0x87, 0x21, 0x78,
+	0x48, 0xf7, 0xed, 0x6f, 0x33, 0x81, 0xa6, 0xc7, 0xe9, 0x08, 0x56, 0xc0, 0xe7, 0xcd, 0xf3, 0x74,
+	0x3f, 0xd5, 0xec, 0x0b, 0x30, 0xc2, 0x7f, 0x2c, 0x06, 0x7e, 0x5b, 0x1a, 0xe3, 0x30, 0xcf, 0xef,
+	0x29, 0xcf, 0x8d, 0x5c, 0xb8, 0xdd, 0x55, 0x8c, 0x30, 0xe6, 0x69, 0xfb, 0x30, 0x99, 0xc6, 0x26,
+	0x6f, 0xc1, 0x58, 0xa8, 0xe4, 0x43, 0x1c, 0x30, 0x76, 0x44, 0x39, 0xc2, 0x4d, 0x43, 0x55, 0xa3,
+	0x3a, 0x26, 0x88, 0xd9, 0x6b, 0x30, 0x94, 0xeb, 0x10, 0xda, 0xdf, 0xb0, 0x60, 0x84, 0x1b, 0xe7,
+	0x1b, 0x81, 0xd3, 0x8e, 0xab, 0x0c, 0x1c, 0x32, 0xea, 0x21, 0x0c, 0x0b, 0x35, 0x5e, 0x79, 0x8f,
+	0x73, 0x98, 0x40, 0xe2, 0x2a, 0x51, 0x3c, 0x81, 0xc4, 0x79, 0x21, 0x44, 0xc5, 0xc9, 0xfe, 0xb9,
+	0x02, 0x0c, 0xdd, 0xf2, 0x3a, 0xdd, 0x3f, 0xf5, 0xd7, 0x59, 0x56, 0x60, 0xf0, 0x56, 0x44, 0xdb,
+	0xc9, 0x5b, 0x57, 0x63, 0x95, 0x17, 0xcc, 0x1b, 0x57, 0xe5, 0xe4, 0x8d, 0x2b, 0x74, 0x76, 0x55,
+	0xdc, 0x82, 0x34, 0x23, 0xc5, 0x41, 0x73, 0xbf, 0x63, 0xc1, 0x78, 0xc2, 0xd2, 0x94, 0xb0, 0xbf,
+	0x5b, 0x0f, 0xb5, 0xbf, 0x27, 0xec, 0xe1, 0x85, 0x53, 0xb6, 0x87, 0xdb, 0x2d, 0x18, 0xbc, 0xed,
+	0x7a, 0xdb, 0x47, 0x5b, 0x0c, 0x61, 0xcd, 0xef, 0xf4, 0x2c, 0x86, 0x2a, 0x03, 0xa2, 0x28, 0x53,
+	0x92, 0x73, 0x20, 0x5b, 0x72, 0xda, 0x5f, 0xb2, 0xe0, 0xec, 0x0a, 0x6d, 0xfb, 0xee, 0xe7, 0x9c,
+	0x38, 0x68, 0x84, 0x55, 0x6a, 0xba, 0x91, 0x8c, 0x2f, 0xd0, 0x95, 0x96, 0xdc, 0x08, 0x19, 0xfc,
+	0x21, 0x86, 0x00, 0x1e, 0xe2, 0xca, 0xf4, 0x90, 0xd5, 0x58, 0x21, 0x88, 0xc3, 0x41, 0x54, 0x01,
+	0xc6, 0x38, 0xf6, 0x6f, 0x5b, 0x30, 0x2c, 0x1a, 0x41, 0x15, 0x6d, 0xab, 0x0f, 0xed, 0x26, 0x14,
+	0x79, 0x3d, 0xf9, 0x5d, 0x6e, 0xe6, 0x60, 0x20, 0x66, 0xe4, 0xc4, 0xb9, 0x92, 0xff, 0x44, 0xc1,
+	0x80, 0xef, 0xce, 0xce, 0xfd, 0x39, 0x1d, 0x2f, 0x13, 0xef, 0xce, 0x1c, 0x8a, 0xb2, 0xd4, 0xfe,
+	0xda, 0x00, 0x94, 0x94, 0xeb, 0x4d, 0xc4, 0x7a, 0x7b, 0x9e, 0x1f, 0x39, 0xc2, 0x33, 0x25, 0x56,
+	0xf2, 0x5b, 0x8f, 0xdf, 0x4a, 0xc5, 0x61, 0x66, 0x2e, 0xa6, 0x2e, 0x0c, 0xc0, 0x5a, 0xd7, 0x32,
+	0x4a, 0xd0, 0x6c, 0x04, 0xf9, 0x3c, 0x0c, 0xb5, 0x9c, 0x4d, 0xda, 0x52, 0x0b, 0xfb, 0x6e, 0x8e,
+	0xcd, 0xb9, 0xcd, 0x09, 0x8b, 0x96, 0xe8, 0x11, 0x12, 0x40, 0x94, 0x5c, 0xa7, 0x3e, 0x05, 0x93,
+	0xe9, 0x56, 0x67, 0x58, 0x9b, 0xcf, 0x27, 0x44, 0xbb, 0x61, 0x1c, 0x9e, 0xfa, 0x0b, 0x30, 0x6a,
+	0xb0, 0x39, 0x4e, 0x55, 0xfb, 0x75, 0x18, 0x5d, 0xa1, 0x51, 0xe0, 0xd6, 0x38, 0x81, 0x87, 0x4d,
+	0xae, 0x23, 0xed, 0x2e, 0x5f, 0xe6, 0x93, 0x95, 0xd1, 0x0c, 0xc9, 0xfb, 0x00, 0x9d, 0xc0, 0x67,
+	0x6a, 0x1a, 0xed, 0xaa, 0x8f, 0x9d, 0x83, 0xf6, 0xb5, 0xae, 0x69, 0x0a, 0x9f, 0x45, 0xfc, 0x1f,
+	0x0d, 0x7e, 0xf6, 0x55, 0x28, 0xae, 0x74, 0x23, 0x7a, 0xff, 0xe1, 0xa2, 0xc2, 0x7e, 0x0b, 0xc6,
+	0x38, 0xea, 0x92, 0xdf, 0x62, 0x32, 0x94, 0xf5, 0xb4, 0xcd, 0xfe, 0xa7, 0xad, 0x44, 0x1c, 0x09,
+	0x45, 0x19, 0x5b, 0x01, 0x4d, 0xbf, 0x55, 0xa7, 0x81, 0x1c, 0x0f, 0xfd, 0x7d, 0x97, 0x38, 0x14,
+	0x65, 0xa9, 0xfd, 0xd3, 0x05, 0x18, 0xe5, 0x15, 0xa5, 0xf4, 0xd8, 0x83, 0xe1, 0xa6, 0xe0, 0x23,
+	0x87, 0x24, 0x87, 0x10, 0x0b, 0xb3, 0xf5, 0x86, 0x4e, 0x26, 0x00, 0xa8, 0xf8, 0x31, 0xd6, 0xbb,
+	0x8e, 0x1b, 0x31, 0xd6, 0x85, 0x93, 0x65, 0x7d, 0x4f, 0xb0, 0x41, 0xc5, 0xcf, 0xfe, 0xf7, 0x16,
+	0xc0, 0xaa, 0x5f, 0xa7, 0x48, 0xc3, 0x6e, 0x2b, 0x22, 0x3f, 0x01, 0xc5, 0x4e, 0xd3, 0x09, 0xd3,
+	0x96, 0xdf, 0xe2, 0x3a, 0x03, 0x3e, 0xd8, 0x9f, 0x1e, 0x61, 0xb8, 0xfc, 0x0f, 0x0a, 0x44, 0x33,
+	0x42, 0xaf, 0x70, 0x78, 0x84, 0x1e, 0xe9, 0xc0, 0xb0, 0xdf, 0x8d, 0x98, 0xe6, 0x20, 0x55, 0xc4,
+	0x1c, 0x1c, 0x1f, 0x6b, 0x82, 0xa0, 0xb8, 0x97, 0x28, 0xff, 0xa0, 0x62, 0x63, 0xff, 0xc1, 0x84,
+	0xe8, 0x9d, 0xfc, 0xc4, 0x53, 0x50, 0x70, 0xd5, 0xb1, 0x05, 0x64, 0x33, 0x0b, 0xb7, 0x16, 0xb0,
+	0xe0, 0xd6, 0xf5, 0x6c, 0x2c, 0xf4, 0xdd, 0xb8, 0x5e, 0x81, 0xd1, 0xba, 0x1b, 0x76, 0x5a, 0xce,
+	0xde, 0x6a, 0xc6, 0x99, 0x71, 0x21, 0x2e, 0x42, 0x13, 0x8f, 0x7c, 0x4c, 0x46, 0x55, 0x8a, 0xf3,
+	0x62, 0x39, 0x15, 0x55, 0x59, 0x62, 0xcd, 0x33, 0x02, 0x2a, 0x5f, 0x85, 0x31, 0xb5, 0xa3, 0x73,
+	0x2e, 0x45, 0x5e, 0x4b, 0x47, 0xdb, 0x6d, 0x18, 0x65, 0x98, 0xc0, 0xec, 0xf1, 0x48, 0x0f, 0x9d,
+	0xbe, 0x47, 0xfa, 0x93, 0x30, 0xae, 0xfe, 0xf2, 0xdd, 0xbc, 0x7c, 0x9e, 0xb7, 0x5e, 0xdb, 0x32,
+	0x36, 0xcc, 0x42, 0x4c, 0xe2, 0xc6, 0x53, 0x6f, 0xf8, 0xa8, 0x53, 0xef, 0x1a, 0xc0, 0xa6, 0xdf,
+	0xf5, 0xea, 0x4e, 0xb0, 0x77, 0x6b, 0x41, 0xc6, 0xaf, 0x68, 0x8d, 0xb1, 0xa2, 0x4b, 0xd0, 0xc0,
+	0x32, 0xa7, 0xeb, 0xc8, 0x43, 0xa6, 0xeb, 0x5b, 0x30, 0xc2, 0x63, 0x7d, 0x68, 0x7d, 0x2e, 0x92,
+	0x9e, 0xdd, 0xe3, 0x84, 0x85, 0x68, 0xe5, 0xa1, 0xaa, 0x88, 0x60, 0x4c, 0x8f, 0x7c, 0x06, 0x60,
+	0xcb, 0xf5, 0xdc, 0xb0, 0xc9, 0xa9, 0x8f, 0x1e, 0x9b, 0xba, 0xee, 0xe7, 0xa2, 0xa6, 0x82, 0x06,
+	0x45, 0xf2, 0x36, 0x9c, 0xa5, 0x61, 0xe4, 0xb6, 0x9d, 0x88, 0xd6, 0x75, 0xb0, 0x79, 0x99, 0x1f,
+	0x74, 0x75, 0xb4, 0xd5, 0x8d, 0x34, 0xc2, 0x83, 0x2c, 0x20, 0xf6, 0x12, 0x22, 0xaf, 0x42, 0xa9,
+	0x13, 0xf8, 0x8d, 0x80, 0x86, 0x61, 0x79, 0x8a, 0x0f, 0xe3, 0x65, 0xa5, 0x99, 0xae, 0x4b, 0xf8,
+	0x03, 0xe3, 0x37, 0x6a, 0x6c, 0xf2, 0xc7, 0x16, 0x9c, 0x0d, 0xa8, 0x70, 0xf7, 0x85, 0xba, 0x61,
+	0x17, 0xb8, 0xd4, 0xab, 0xe5, 0x71, 0xeb, 0x5f, 0x2d, 0xf6, 0x19, 0x4c, 0x73, 0x11, 0xdb, 0x3d,
+	0x55, 0xbd, 0xef, 0x29, 0x7f, 0x90, 0x05, 0xfc, 0xd2, 0x77, 0xa7, 0xa7, 0x7b, 0x53, 0x50, 0x68,
+	0xe2, 0x6c, 0xe5, 0xfd, 0xd5, 0xef, 0x4e, 0x4f, 0xaa, 0xff, 0xf1, 0xa0, 0xf5, 0x74, 0x92, 0xed,
+	0x5e, 0x1d, 0xbf, 0x7e, 0x6b, 0x5d, 0xba, 0xe0, 0xf5, 0xee, 0xb5, 0xce, 0x80, 0x28, 0xca, 0xc8,
+	0x4b, 0x50, 0xaa, 0x3b, 0xb4, 0xed, 0x7b, 0xb4, 0x5e, 0x1e, 0x8f, 0x7d, 0x1c, 0x0b, 0x12, 0x86,
+	0xba, 0x94, 0xb4, 0x60, 0xc8, 0xe5, 0xc7, 0x30, 0x19, 0x6f, 0x93, 0xc3, 0xd9, 0x4f, 0x1c, 0xeb,
+	0x54, 0xb4, 0x0d, 0x17, 0xa5, 0x92, 0x87, 0x29, 0xbb, 0x27, 0x4e, 0x45, 0x76, 0xb3, 0x91, 0xa8,
+	0x35, 0xdd, 0x56, 0x3d, 0xa0, 0x5e, 0x79, 0x92, 0x9b, 0x36, 0xf9, 0x48, 0xcc, 0x4b, 0x18, 0xea,
+	0x52, 0xf2, 0xe7, 0x61, 0xdc, 0xef, 0x46, 0x7c, 0x91, 0xb3, 0xef, 0x1f, 0x96, 0xcf, 0x72, 0x74,
+	0xee, 0x3d, 0x5d, 0x33, 0x0b, 0x30, 0x89, 0xc7, 0x84, 0x6d, 0xd3, 0x0f, 0x23, 0xf6, 0x87, 0x0b,
+	0xdb, 0x8b, 0x49, 0x61, 0xbb, 0x64, 0x94, 0x61, 0x02, 0x93, 0x7c, 0xd5, 0x82, 0xb3, 0xed, 0xf4,
+	0x01, 0xa4, 0x7c, 0x89, 0x8f, 0x4c, 0x35, 0x0f, 0x45, 0x35, 0x45, 0x5a, 0x04, 0x99, 0xf5, 0x80,
+	0xb1, 0xb7, 0x11, 0xfc, 0xc2, 0x5c, 0xb8, 0xe7, 0xd5, 0x9a, 0x81, 0xef, 0x25, 0x9b, 0xf7, 0x34,
+	0x6f, 0xde, 0x5b, 0x39, 0xad, 0xb2, 0x2c, 0x16, 0x95, 0xa7, 0x0f, 0xf6, 0xa7, 0x2f, 0x64, 0x16,
+	0x61, 0x76, 0xa3, 0xa6, 0x16, 0xe0, 0x62, 0xf6, 0x4a, 0x7d, 0x98, 0xc6, 0x3c, 0x60, 0x6a, 0xcc,
+	0x8b, 0xf0, 0x74, 0xdf, 0x46, 0x31, 0x99, 0xaf, 0xd4, 0x2b, 0x2b, 0x29, 0xf3, 0x7b, 0xd4, 0xa1,
+	0x33, 0x30, 0x66, 0x26, 0x0e, 0xe1, 0xae, 0x6c, 0xe3, 0xb2, 0x26, 0x3b, 0x64, 0xfb, 0xd5, 0xdc,
+	0x7d, 0xc2, 0x6b, 0xd5, 0x1e, 0x9f, 0xb0, 0x06, 0x61, 0xcc, 0xf0, 0x28, 0xae, 0xec, 0xcc, 0x9b,
+	0xa5, 0x4f, 0xb8, 0xd9, 0xc7, 0x76, 0x65, 0xff, 0xbb, 0x41, 0x88, 0x29, 0x91, 0x8f, 0x41, 0x89,
+	0x7a, 0xf5, 0x8e, 0xef, 0x7a, 0x51, 0xda, 0x0c, 0x72, 0x43, 0xc2, 0x51, 0x63, 0x18, 0x8e, 0xef,
+	0xc2, 0xa1, 0x8e, 0xef, 0x3a, 0x4c, 0x38, 0x3c, 0xd6, 0x36, 0x76, 0x5b, 0x0e, 0x1c, 0xdb, 0xcf,
+	0x30, 0x97, 0xa4, 0x80, 0x69, 0x92, 0x8c, 0x4b, 0x18, 0x57, 0xe5, 0x5c, 0x06, 0x8f, 0xcd, 0xa5,
+	0x9a, 0xa4, 0x80, 0x69, 0x92, 0xe4, 0x6d, 0x28, 0xd7, 0xf8, 0xed, 0x06, 0xd1, 0xc7, 0x5b, 0x5b,
+	0xab, 0x7e, 0xb4, 0x1e, 0xd0, 0x90, 0x7a, 0xc2, 0xad, 0x5c, 0xaa, 0x3c, 0x27, 0x47, 0xa1, 0x3c,
+	0xdf, 0x07, 0x0f, 0xfb, 0x52, 0x60, 0x5a, 0x1d, 0x77, 0x9a, 0xba, 0xd1, 0xde, 0x86, 0xbf, 0x4d,
+	0x3d, 0xe9, 0x4a, 0xd0, 0x5a, 0x5d, 0xd5, 0x2c, 0xc4, 0x24, 0x2e, 0xf9, 0x79, 0x0b, 0xc6, 0x5b,
+	0xca, 0xaa, 0x85, 0xdd, 0x96, 0x4a, 0x4d, 0x82, 0xb9, 0x4c, 0xbf, 0xdb, 0x26, 0x65, 0x21, 0xf0,
+	0x13, 0x20, 0x4c, 0xf2, 0xb6, 0xbf, 0x6d, 0xc1, 0x64, 0xba, 0x1a, 0xd9, 0x86, 0x67, 0xdb, 0x4e,
+	0xb0, 0x7d, 0xcb, 0xdb, 0x0a, 0x78, 0xdc, 0x5f, 0x24, 0xbe, 0xea, 0xdc, 0x56, 0x44, 0x83, 0x05,
+	0x67, 0x4f, 0x44, 0xf7, 0x14, 0x75, 0x36, 0xa5, 0x67, 0x57, 0x0e, 0x43, 0xc6, 0xc3, 0x69, 0x91,
+	0x2a, 0x5c, 0x60, 0x08, 0x0b, 0xb4, 0x45, 0x99, 0x84, 0x8a, 0x99, 0x14, 0x38, 0x13, 0xed, 0xbf,
+	0x5e, 0xc9, 0x42, 0xc2, 0xec, 0xba, 0xf6, 0xbf, 0x2d, 0x80, 0xda, 0x3f, 0xff, 0x74, 0xdb, 0x64,
+	0x89, 0x0d, 0x43, 0x01, 0x3f, 0xc9, 0xca, 0xe3, 0x19, 0x57, 0x65, 0xc4, 0xd9, 0x16, 0x65, 0x09,
+	0x53, 0x2c, 0xe8, 0x7d, 0x37, 0x9a, 0xf7, 0xeb, 0xea, 0x50, 0xc6, 0x15, 0x8b, 0x1b, 0x12, 0x86,
+	0xba, 0xd4, 0xfe, 0x19, 0x0b, 0xc6, 0x59, 0x2f, 0x5b, 0x2d, 0xda, 0xaa, 0x46, 0xb4, 0x13, 0x92,
+	0x10, 0x8a, 0x21, 0xfb, 0x91, 0x9f, 0x89, 0x20, 0x0e, 0x70, 0xa7, 0x1d, 0xc3, 0x18, 0xca, 0x98,
+	0xa0, 0xe0, 0x65, 0xff, 0xb7, 0x02, 0x8c, 0xe8, 0xc1, 0x3e, 0x82, 0x85, 0xf5, 0x5a, 0x7c, 0xa5,
+	0x5c, 0xc8, 0xc0, 0xb2, 0x71, 0x9d, 0x9c, 0x9d, 0xa4, 0xe6, 0xbc, 0x3d, 0x71, 0x43, 0x35, 0xbe,
+	0x5b, 0xfe, 0xb1, 0xa4, 0xbf, 0xe1, 0xa2, 0x69, 0xc4, 0x36, 0xf0, 0xa5, 0xe3, 0xe1, 0xbe, 0xe9,
+	0xee, 0x19, 0xcc, 0x6b, 0x3f, 0xd1, 0x8e, 0x9d, 0xfe, 0x7e, 0x9e, 0x54, 0x5e, 0xa4, 0xe2, 0x91,
+	0xf2, 0x22, 0x5d, 0x85, 0x41, 0xea, 0x75, 0xdb, 0x3c, 0xda, 0x79, 0x84, 0x6b, 0x52, 0x83, 0x37,
+	0xbc, 0x6e, 0x3b, 0xd9, 0x33, 0x8e, 0x62, 0xff, 0x53, 0x0b, 0x98, 0x3e, 0x7e, 0x73, 0x9e, 0xfc,
+	0x45, 0x28, 0x85, 0x52, 0x0b, 0x90, 0x43, 0xfd, 0x23, 0x3a, 0xa0, 0x4e, 0xc2, 0x1f, 0xec, 0x4f,
+	0x8f, 0x73, 0x64, 0x05, 0x40, 0x5d, 0x85, 0xb4, 0x60, 0x9c, 0xdb, 0x11, 0x95, 0x24, 0x97, 0x96,
+	0xdf, 0xeb, 0x47, 0xbc, 0xa3, 0x64, 0x56, 0x95, 0x72, 0xcd, 0x04, 0x61, 0x92, 0xb8, 0xfd, 0x3b,
+	0x83, 0x60, 0x98, 0xdb, 0x8e, 0x30, 0x45, 0xde, 0x4d, 0x19, 0x57, 0x57, 0x72, 0x31, 0xae, 0x2a,
+	0x8b, 0xa5, 0x58, 0x76, 0x49, 0x7b, 0x2a, 0x6b, 0x54, 0x93, 0xb6, 0x3a, 0x72, 0x82, 0xe9, 0x46,
+	0x2d, 0xd1, 0x56, 0x07, 0x79, 0x89, 0x8e, 0xb6, 0x1e, 0xec, 0x1b, 0x6d, 0xdd, 0x84, 0x62, 0xc3,
+	0xe9, 0x36, 0xa8, 0x74, 0xa2, 0xe7, 0x60, 0x47, 0xe7, 0xe1, 0x67, 0xc2, 0x8e, 0xce, 0x7f, 0xa2,
+	0x60, 0xc0, 0x66, 0x78, 0x53, 0x39, 0xe3, 0xa4, 0x29, 0x25, 0x87, 0x19, 0xae, 0xfd, 0x7b, 0x62,
+	0x86, 0xeb, 0xbf, 0x18, 0x33, 0x63, 0x27, 0xad, 0x9a, 0xb8, 0xda, 0x28, 0xb7, 0xca, 0x5b, 0x79,
+	0x84, 0x93, 0x73, 0x82, 0xe2, 0xa4, 0x25, 0xff, 0xa0, 0x62, 0x63, 0xcf, 0xc2, 0xa8, 0x91, 0x21,
+	0x88, 0x7d, 0x06, 0x7d, 0xab, 0xce, 0xf8, 0x0c, 0x0b, 0x4e, 0xe4, 0x20, 0x2f, 0xb1, 0xff, 0xce,
+	0x00, 0xe8, 0x13, 0xaf, 0x19, 0xfc, 0xec, 0xd4, 0x8c, 0xab, 0xf5, 0x89, 0x5b, 0x37, 0xbe, 0x87,
+	0xb2, 0x94, 0xa9, 0x13, 0x6d, 0x1a, 0x34, 0xb4, 0x8e, 0x2d, 0x65, 0x94, 0x56, 0x27, 0x56, 0xcc,
+	0x42, 0x4c, 0xe2, 0x32, 0x5d, 0xb0, 0xed, 0x78, 0xee, 0x16, 0x0d, 0xa3, 0x74, 0x0c, 0xcb, 0x8a,
+	0x84, 0xa3, 0xc6, 0x20, 0x37, 0xe1, 0x6c, 0x48, 0xa3, 0xb5, 0x5d, 0x8f, 0x06, 0xfa, 0x36, 0x90,
+	0xbc, 0x1e, 0xa6, 0xe3, 0xba, 0xaa, 0x69, 0x04, 0xec, 0xad, 0x43, 0x16, 0x60, 0x52, 0xde, 0xcc,
+	0xd2, 0x17, 0x6b, 0xa4, 0xec, 0xd1, 0x39, 0xdd, 0xaa, 0xa9, 0x72, 0xec, 0xa9, 0xc1, 0xa8, 0x6c,
+	0x39, 0x6e, 0xab, 0x1b, 0xd0, 0x98, 0xca, 0x50, 0x92, 0xca, 0x62, 0xaa, 0x1c, 0x7b, 0x6a, 0xf0,
+	0xd0, 0xc2, 0x96, 0xd3, 0x08, 0xcb, 0xc3, 0x46, 0x68, 0x21, 0x03, 0xa0, 0x80, 0xdb, 0xff, 0xc8,
+	0x82, 0x71, 0xa4, 0x51, 0xb0, 0x37, 0xb7, 0xb5, 0xe5, 0x7a, 0x6e, 0xb4, 0x47, 0x7e, 0xd5, 0x82,
+	0x49, 0xcf, 0xaf, 0xd3, 0x39, 0x2f, 0x72, 0x15, 0x30, 0xbf, 0xf4, 0x29, 0x9c, 0xd7, 0x6a, 0x8a,
+	0xbc, 0xb8, 0xe4, 0x95, 0x86, 0x62, 0x4f, 0x33, 0xec, 0x4b, 0x70, 0x21, 0x93, 0x80, 0xfd, 0xed,
+	0x01, 0xd9, 0x0d, 0xfd, 0xf1, 0x5f, 0x87, 0x62, 0x8b, 0x5f, 0x78, 0xb3, 0x1e, 0x31, 0x1f, 0x03,
+	0x1f, 0x2b, 0x71, 0x23, 0x4e, 0x50, 0x22, 0x0b, 0x30, 0x1a, 0x30, 0x1e, 0xf2, 0x3a, 0xa2, 0x98,
+	0x8a, 0x76, 0x9c, 0x5f, 0x4e, 0x17, 0x3d, 0x48, 0xfe, 0x45, 0xb3, 0x1a, 0x79, 0x0f, 0x86, 0x37,
+	0x45, 0x8a, 0x89, 0xfc, 0x0c, 0xdb, 0x32, 0x67, 0x05, 0xdf, 0x89, 0x55, 0x02, 0x8b, 0x07, 0xf1,
+	0x4f, 0x54, 0x1c, 0xc9, 0x1e, 0x94, 0x1c, 0xf5, 0x4d, 0x07, 0xf3, 0x0a, 0x46, 0x4b, 0xcc, 0x1f,
+	0xa1, 0x1f, 0xe9, 0x6f, 0xa8, 0xd9, 0xb1, 0xcd, 0x98, 0xc6, 0x29, 0xf6, 0x52, 0x9b, 0xb1, 0x91,
+	0x5e, 0xcf, 0xc0, 0xb2, 0xbf, 0x61, 0x01, 0xc4, 0xc9, 0xa7, 0xc8, 0x7d, 0x28, 0x85, 0xd7, 0x13,
+	0x07, 0xd3, 0x3c, 0xee, 0xf7, 0x48, 0x8a, 0x46, 0x0c, 0xbc, 0x84, 0xa0, 0xe6, 0xf6, 0xb0, 0xc3,
+	0xf4, 0xff, 0xb2, 0xe0, 0x7c, 0x56, 0x92, 0xac, 0x27, 0xd8, 0xe2, 0xe3, 0x9e, 0xa3, 0x65, 0x85,
+	0xf5, 0x80, 0x6e, 0xb9, 0xf7, 0xd3, 0x2e, 0xed, 0x65, 0x55, 0x80, 0x31, 0x8e, 0xfd, 0xcd, 0x21,
+	0xd0, 0x8c, 0x4f, 0xe8, 0xdc, 0xfd, 0x22, 0xd3, 0xd0, 0x1b, 0x71, 0xea, 0x13, 0x8d, 0x87, 0x1c,
+	0x8a, 0xb2, 0x94, 0x69, 0xe9, 0x2a, 0x58, 0x57, 0x8a, 0x6c, 0x3e, 0x0b, 0x55, 0x5c, 0x2f, 0xea,
+	0xd2, 0xac, 0x93, 0x7c, 0xf1, 0x54, 0x4e, 0xf2, 0x43, 0xf9, 0x9f, 0xe4, 0xaf, 0xc2, 0x70, 0xe0,
+	0xb7, 0xe8, 0x1c, 0xae, 0x4a, 0x37, 0x48, 0x9c, 0xb2, 0x47, 0x80, 0x51, 0x95, 0x93, 0x57, 0x60,
+	0xb4, 0x1b, 0xd2, 0xea, 0xc2, 0xf2, 0x7c, 0x40, 0xeb, 0xa1, 0x8c, 0x7f, 0xd6, 0xee, 0xa8, 0x3b,
+	0x71, 0x11, 0x9a, 0x78, 0xe4, 0x9b, 0xd6, 0x21, 0xc6, 0x82, 0x91, 0xbc, 0xf6, 0x84, 0xcc, 0x64,
+	0x0b, 0x95, 0xcb, 0x8f, 0x68, 0x81, 0xf8, 0x9a, 0x05, 0x67, 0xa9, 0x57, 0x0b, 0xf6, 0x38, 0x1d,
+	0x49, 0x4d, 0xba, 0x64, 0xee, 0xe4, 0xb1, 0xf8, 0x6e, 0xa4, 0x89, 0x0b, 0x7b, 0x6b, 0x0f, 0x18,
+	0x7b, 0x9b, 0x61, 0xff, 0x41, 0x01, 0xce, 0x65, 0x50, 0xe0, 0xb1, 0xa2, 0x6d, 0x36, 0x81, 0x6e,
+	0xd5, 0xd3, 0xcb, 0x67, 0x59, 0xc2, 0x51, 0x63, 0x90, 0x75, 0x38, 0xbf, 0xdd, 0x0e, 0x63, 0x2a,
+	0xf3, 0xbe, 0x17, 0xd1, 0xfb, 0x6a, 0x31, 0x29, 0xef, 0xca, 0xf9, 0xe5, 0x0c, 0x1c, 0xcc, 0xac,
+	0xc9, 0xb4, 0x0d, 0xea, 0x39, 0x9b, 0x2d, 0x1a, 0x17, 0xc9, 0x48, 0x67, 0xad, 0x6d, 0xdc, 0x48,
+	0x95, 0x63, 0x4f, 0x0d, 0xf2, 0xa1, 0x05, 0xcf, 0x84, 0x34, 0xd8, 0xa1, 0x41, 0xd5, 0xad, 0xd3,
+	0xf9, 0x6e, 0x18, 0xf9, 0x6d, 0x1a, 0x3c, 0xa2, 0x35, 0x6b, 0xfa, 0x60, 0x7f, 0xfa, 0x99, 0x6a,
+	0x7f, 0x6a, 0x78, 0x18, 0x2b, 0xfb, 0x43, 0x0b, 0xce, 0x54, 0x6b, 0x81, 0xdb, 0x89, 0x53, 0xa8,
+	0xe4, 0x9d, 0xe1, 0xe5, 0x45, 0x7d, 0xeb, 0x2d, 0x25, 0xc4, 0x92, 0xf7, 0xd4, 0xec, 0x77, 0x60,
+	0xb2, 0x4a, 0xdb, 0x4e, 0xa7, 0xc9, 0x2f, 0x11, 0x08, 0x27, 0xfe, 0x2c, 0x8c, 0x84, 0x0a, 0x96,
+	0x4e, 0x91, 0xa7, 0x91, 0x31, 0xc6, 0x21, 0x2f, 0x88, 0x80, 0x03, 0x15, 0xfe, 0x39, 0x22, 0xb4,
+	0x73, 0x11, 0xa5, 0x10, 0xa2, 0x2a, 0xb3, 0x77, 0x61, 0x2c, 0xae, 0x4e, 0xb7, 0x48, 0x03, 0x26,
+	0x6a, 0x46, 0x9c, 0x70, 0x1c, 0xd8, 0x78, 0xf4, 0x90, 0x62, 0x2e, 0x8b, 0xe6, 0x93, 0x44, 0x30,
+	0x4d, 0xd5, 0xfe, 0xc5, 0x02, 0x4c, 0x68, 0xce, 0xd2, 0x94, 0xfe, 0x41, 0x3a, 0x48, 0x02, 0xf3,
+	0xb8, 0x8d, 0x9b, 0x1c, 0xc9, 0x43, 0x02, 0x25, 0x3e, 0x48, 0x07, 0x4a, 0x9c, 0x28, 0xfb, 0x1e,
+	0xef, 0xc0, 0x37, 0x0a, 0x50, 0xd2, 0x77, 0x83, 0x5f, 0x87, 0x22, 0x3f, 0x40, 0x3d, 0x9e, 0x36,
+	0xca, 0x0f, 0x63, 0x28, 0x28, 0x31, 0x92, 0xdc, 0x43, 0xfc, 0xc8, 0x09, 0xc7, 0x46, 0x84, 0xed,
+	0xc8, 0x09, 0x22, 0x14, 0x94, 0xc8, 0x32, 0x0c, 0x50, 0xaf, 0x2e, 0xd5, 0xd2, 0xe3, 0x13, 0xe4,
+	0xe9, 0x21, 0x6f, 0x78, 0x75, 0x64, 0x54, 0x78, 0x76, 0x1e, 0xa1, 0x7d, 0x0c, 0x26, 0x97, 0x87,
+	0x54, 0x3d, 0x64, 0xa9, 0xfd, 0xf3, 0x03, 0x30, 0x54, 0xed, 0x6e, 0x32, 0x05, 0xfb, 0xd7, 0x2d,
+	0x38, 0xb7, 0x9b, 0x4a, 0x46, 0x15, 0x4f, 0xd9, 0x3b, 0xf9, 0x67, 0xfa, 0x42, 0xba, 0x55, 0x79,
+	0x46, 0xb6, 0xeb, 0x5c, 0x46, 0x21, 0x66, 0x35, 0x27, 0x91, 0xb8, 0x67, 0xe0, 0x84, 0x52, 0x9c,
+	0x9d, 0x6c, 0x78, 0xe6, 0x78, 0xdf, 0xd0, 0xcc, 0x3f, 0x19, 0x04, 0x10, 0x5f, 0x63, 0xad, 0x13,
+	0x1d, 0xc5, 0x38, 0xf4, 0x2a, 0x8c, 0xa9, 0x37, 0x06, 0x56, 0xe3, 0x90, 0x18, 0xed, 0x16, 0xbd,
+	0x69, 0x94, 0x61, 0x02, 0x93, 0x1f, 0x08, 0xbc, 0x28, 0xd8, 0x13, 0x4a, 0xe3, 0x60, 0xea, 0x40,
+	0xa0, 0x4b, 0xd0, 0xc0, 0x22, 0x33, 0x09, 0x83, 0xb5, 0x48, 0x62, 0x70, 0xe6, 0x10, 0xfb, 0xf2,
+	0x27, 0x61, 0x5c, 0xff, 0x5b, 0x74, 0x5b, 0x34, 0xed, 0x8e, 0x58, 0x37, 0x0b, 0x31, 0x89, 0x4b,
+	0x3e, 0x05, 0x67, 0x92, 0x77, 0x11, 0xa5, 0x9a, 0xa5, 0x6f, 0x02, 0x27, 0xaf, 0x30, 0x62, 0x0a,
+	0x9b, 0xad, 0x80, 0x7a, 0xb0, 0x87, 0x5d, 0x4f, 0xea, 0x5b, 0x7a, 0x05, 0x2c, 0x70, 0x28, 0xca,
+	0x52, 0x36, 0x84, 0x62, 0x2b, 0x13, 0x70, 0x79, 0x99, 0x4c, 0x0f, 0x61, 0xd5, 0x28, 0xc3, 0x04,
+	0x26, 0xe3, 0x20, 0x2d, 0x73, 0x90, 0x5c, 0x63, 0x29, 0x73, 0x5a, 0x07, 0xce, 0xf8, 0x49, 0xc3,
+	0x86, 0x08, 0x22, 0xf9, 0xf8, 0x11, 0xe7, 0x6d, 0xa2, 0xae, 0xb8, 0xfc, 0x90, 0xb2, 0x83, 0xa4,
+	0xe8, 0x33, 0x85, 0xd3, 0x0c, 0x12, 0x1d, 0x4b, 0xc6, 0x3f, 0xf5, 0x8b, 0xe3, 0xb4, 0xcf, 0xc1,
+	0xd9, 0x6a, 0xb7, 0xd3, 0x69, 0xb9, 0xb4, 0xae, 0x2d, 0xba, 0xf6, 0x4f, 0xc2, 0x84, 0xcc, 0xcb,
+	0xa3, 0xf7, 0xf2, 0x63, 0x25, 0x67, 0xb4, 0xff, 0xd8, 0x82, 0x89, 0x94, 0xb7, 0x97, 0xbc, 0x97,
+	0xde, 0x81, 0x73, 0x31, 0xd0, 0x9b, 0x9b, 0xaf, 0x58, 0x65, 0x99, 0xbb, 0x79, 0x53, 0xc5, 0x26,
+	0xe6, 0x16, 0xe2, 0xcb, 0x23, 0xf8, 0x84, 0x48, 0x37, 0x03, 0x1c, 0xed, 0x2f, 0x17, 0x20, 0xdb,
+	0xc5, 0x4e, 0x3e, 0xdf, 0x3b, 0x00, 0xaf, 0xe7, 0x38, 0x00, 0xd2, 0xc7, 0xdf, 0x7f, 0x0c, 0xbc,
+	0xe4, 0x18, 0xac, 0xe4, 0x34, 0x06, 0x92, 0x6f, 0xef, 0x48, 0xfc, 0x91, 0x05, 0xa3, 0x1b, 0x1b,
+	0xb7, 0xb5, 0x81, 0x08, 0xe1, 0x62, 0x28, 0x6e, 0xea, 0x70, 0xdf, 0xd8, 0xbc, 0xdf, 0xee, 0x08,
+	0x57, 0x99, 0x74, 0xe1, 0xf1, 0x14, 0x49, 0xd5, 0x4c, 0x0c, 0xec, 0x53, 0x93, 0xdc, 0x82, 0x73,
+	0x66, 0x89, 0x34, 0xf3, 0x49, 0x77, 0x9d, 0xb8, 0xbb, 0xda, 0x5b, 0x8c, 0x59, 0x75, 0xd2, 0xa4,
+	0xa4, 0xad, 0x4f, 0xbe, 0x5e, 0xd1, 0x43, 0x4a, 0x16, 0x63, 0x56, 0x1d, 0x7b, 0x0d, 0x46, 0x8d,
+	0xb7, 0x54, 0xc8, 0xa7, 0x61, 0xb2, 0xe6, 0xb7, 0x95, 0x8d, 0xe5, 0x36, 0xdd, 0xa1, 0x2d, 0xd9,
+	0x65, 0x6e, 0x86, 0x9b, 0x4f, 0x95, 0x61, 0x0f, 0xb6, 0xfd, 0xa5, 0x2b, 0xa0, 0x2f, 0x15, 0x1c,
+	0x61, 0x8b, 0xe8, 0xe8, 0xe0, 0xa3, 0x62, 0xce, 0xc1, 0x47, 0x5a, 0xde, 0xa5, 0x02, 0x90, 0xa2,
+	0x38, 0x00, 0x69, 0x28, 0xef, 0x00, 0x24, 0xad, 0xf1, 0xf5, 0x04, 0x21, 0xfd, 0xb2, 0x05, 0x63,
+	0x9e, 0x5f, 0xa7, 0xda, 0x8d, 0x33, 0xcc, 0xd5, 0xce, 0xb7, 0xf3, 0x8b, 0xaa, 0x14, 0xc1, 0x34,
+	0x92, 0xbc, 0x08, 0x51, 0xd3, 0xdb, 0x84, 0x59, 0x84, 0x89, 0x76, 0x90, 0x45, 0xc3, 0xea, 0x27,
+	0xf2, 0xe2, 0x5c, 0xce, 0x52, 0xff, 0x1f, 0x6a, 0xc2, 0xbb, 0x6f, 0x28, 0x3e, 0x23, 0x79, 0x59,
+	0xb3, 0x54, 0x9c, 0xbd, 0x61, 0x9c, 0x57, 0x59, 0xbe, 0x62, 0x85, 0xc8, 0x86, 0x21, 0x11, 0xcb,
+	0x26, 0x5f, 0xf5, 0xe0, 0x3e, 0x23, 0x11, 0xe7, 0x86, 0xb2, 0x84, 0x44, 0xca, 0xdd, 0x3a, 0x9a,
+	0x57, 0x72, 0xcc, 0x84, 0x3b, 0x37, 0xdb, 0xdf, 0x4a, 0x5e, 0x33, 0x4f, 0x95, 0x63, 0x47, 0x39,
+	0x55, 0x8e, 0xf7, 0x3d, 0x51, 0x7e, 0xc5, 0x82, 0xb1, 0x9a, 0x91, 0xfd, 0xb3, 0xfc, 0x52, 0x5e,
+	0x29, 0x6e, 0xb3, 0x72, 0x8a, 0x8a, 0x5b, 0x6b, 0x66, 0x09, 0x26, 0xb8, 0xf3, 0xb4, 0x2e, 0xfc,
+	0x08, 0xcd, 0x83, 0x0b, 0x47, 0xaf, 0xad, 0xe7, 0xb0, 0x3d, 0x24, 0x8e, 0xe4, 0xe2, 0x33, 0x0a,
+	0x18, 0x4a, 0x5e, 0xe4, 0x7d, 0x28, 0xa9, 0x70, 0x48, 0x19, 0xac, 0x88, 0x79, 0x98, 0xa8, 0x93,
+	0x0e, 0x28, 0x95, 0x0c, 0x42, 0x40, 0x51, 0x73, 0x24, 0x4d, 0x18, 0xa8, 0x3b, 0x0d, 0x19, 0xb6,
+	0xb8, 0x92, 0x4f, 0xae, 0x1d, 0xc5, 0x93, 0x9f, 0x8f, 0x16, 0xe6, 0x6e, 0x22, 0x63, 0x41, 0xee,
+	0xc7, 0x49, 0x08, 0x27, 0x73, 0xdb, 0x7d, 0x93, 0x6a, 0x92, 0x30, 0x12, 0xf4, 0xe4, 0x34, 0xac,
+	0x4b, 0x9f, 0xdd, 0x9f, 0xe1, 0x6c, 0x17, 0xf3, 0x49, 0xd6, 0x23, 0x2e, 0xb8, 0xc6, 0x7e, 0x3f,
+	0xc6, 0x85, 0x3f, 0xff, 0xf2, 0x63, 0x79, 0x71, 0x59, 0xda, 0xd8, 0x58, 0xef, 0x79, 0xf6, 0xe5,
+	0x06, 0x0c, 0x8b, 0x34, 0xb2, 0x22, 0x90, 0x73, 0xf4, 0xda, 0x54, 0xff, 0x64, 0xb4, 0xb1, 0xe8,
+	0x16, 0xff, 0x43, 0x54, 0x75, 0xc9, 0x2f, 0x5a, 0x70, 0x86, 0xc9, 0xb8, 0x38, 0xef, 0x6d, 0x99,
+	0xe4, 0x25, 0x45, 0xee, 0x84, 0x4c, 0x47, 0x50, 0xab, 0x5f, 0x1f, 0x1e, 0x6e, 0x25, 0xd8, 0x61,
+	0x8a, 0x3d, 0xf9, 0x00, 0x4a, 0xa1, 0x5b, 0xa7, 0x35, 0x27, 0x08, 0xcb, 0xe7, 0x4e, 0xa6, 0x29,
+	0xb1, 0xfb, 0x40, 0x32, 0x42, 0xcd, 0x92, 0xfc, 0x0d, 0x9e, 0xa5, 0x5e, 0xbe, 0x28, 0x22, 0x1f,
+	0xbb, 0x3a, 0x7f, 0x62, 0x8f, 0x5d, 0x09, 0xab, 0x7a, 0x92, 0x1d, 0xa6, 0xf9, 0x93, 0xbf, 0x62,
+	0xc1, 0x05, 0x91, 0x8d, 0x31, 0x9d, 0x8a, 0xf3, 0xc2, 0x23, 0x5a, 0x2c, 0x78, 0x04, 0xea, 0x5c,
+	0x16, 0x49, 0xcc, 0xe6, 0xc4, 0xd3, 0x39, 0x05, 0xa6, 0xa3, 0x91, 0xc7, 0x01, 0xe7, 0xe7, 0x46,
+	0xd3, 0x6f, 0x67, 0xf1, 0x38, 0x8e, 0x04, 0x08, 0x93, 0x8c, 0xc9, 0xcb, 0x30, 0xda, 0x91, 0x1b,
+	0x94, 0x1b, 0xb6, 0x79, 0x3c, 0xf1, 0x80, 0xb8, 0x73, 0xb1, 0x1e, 0x83, 0xd1, 0xc4, 0x49, 0xe4,
+	0xf6, 0xba, 0x7a, 0x58, 0x6e, 0x2f, 0x72, 0x07, 0x46, 0x23, 0xbf, 0x45, 0x03, 0x79, 0x7e, 0x2b,
+	0xf3, 0x19, 0x78, 0x25, 0x6b, 0x6d, 0x6d, 0x68, 0xb4, 0xf8, 0x7c, 0x17, 0xc3, 0x42, 0x34, 0xe9,
+	0xf0, 0xf0, 0x40, 0x99, 0xe5, 0x32, 0xe0, 0xe6, 0x82, 0xa7, 0x53, 0xe1, 0x81, 0x66, 0x21, 0x26,
+	0x71, 0xc9, 0x4d, 0x38, 0xdb, 0x09, 0x5c, 0x3f, 0x70, 0xa3, 0xbd, 0xf9, 0x96, 0x13, 0x86, 0x9c,
+	0x80, 0xb8, 0x51, 0xa0, 0x3d, 0xf4, 0xeb, 0x69, 0x04, 0xec, 0xad, 0xc3, 0x86, 0x41, 0x01, 0xcb,
+	0xcf, 0x70, 0xcd, 0x77, 0x4c, 0xdc, 0x46, 0x10, 0x30, 0xd4, 0xa5, 0x7d, 0x32, 0x5d, 0x5d, 0x7e,
+	0x94, 0x4c, 0x57, 0xa4, 0x0e, 0x97, 0x9d, 0x6e, 0xe4, 0xf3, 0x2b, 0xd3, 0xc9, 0x2a, 0x22, 0x52,
+	0xf2, 0x39, 0x11, 0x7c, 0x79, 0xb0, 0x3f, 0x7d, 0x79, 0xee, 0x10, 0x3c, 0x3c, 0x94, 0x0a, 0xf9,
+	0x1c, 0x94, 0xa8, 0xcc, 0xd6, 0x55, 0xfe, 0x91, 0xbc, 0xb6, 0xed, 0x64, 0xfe, 0x2f, 0x15, 0x02,
+	0x27, 0x60, 0xa8, 0xf9, 0x91, 0x0d, 0x18, 0x6d, 0xfa, 0x61, 0x34, 0xd7, 0x72, 0x9d, 0x90, 0x86,
+	0xe5, 0x67, 0xf9, 0xa4, 0xc9, 0xd4, 0x86, 0x96, 0x14, 0x5a, 0x3c, 0x67, 0x96, 0xe2, 0x9a, 0x68,
+	0x92, 0x21, 0x94, 0x3b, 0xd3, 0x78, 0x98, 0xa8, 0x72, 0x74, 0x5c, 0xe1, 0x1d, 0x7b, 0x31, 0x8b,
+	0xf2, 0xba, 0x5f, 0xaf, 0x26, 0xb1, 0xb5, 0x37, 0xcd, 0x04, 0x62, 0x9a, 0x26, 0x79, 0x15, 0xc6,
+	0x3a, 0x7e, 0xbd, 0xda, 0xa1, 0xb5, 0x75, 0x27, 0xaa, 0x35, 0xcb, 0xd3, 0x49, 0x43, 0xd6, 0xba,
+	0x51, 0x86, 0x09, 0x4c, 0xd2, 0x81, 0xe1, 0xb6, 0xb8, 0x2d, 0x59, 0x7e, 0x3e, 0xaf, 0xd3, 0x86,
+	0xbc, 0x7e, 0x29, 0x76, 0x70, 0xf9, 0x07, 0x15, 0x1b, 0xf2, 0xf7, 0x2d, 0x98, 0x48, 0x45, 0xc8,
+	0x97, 0x7f, 0x34, 0x37, 0x25, 0x22, 0x49, 0xb8, 0xf2, 0x22, 0x1f, 0xbe, 0x24, 0xf0, 0x41, 0x2f,
+	0x08, 0xd3, 0x2d, 0x12, 0xe3, 0xc2, 0xaf, 0x3c, 0x97, 0x5f, 0xc8, 0x6f, 0x5c, 0x38, 0x41, 0x35,
+	0x2e, 0xfc, 0x0f, 0x2a, 0x36, 0xe4, 0x2a, 0x0c, 0xcb, 0x24, 0x1c, 0xe5, 0x17, 0x93, 0x1e, 0x51,
+	0x99, 0xab, 0x03, 0x55, 0xf9, 0xd4, 0x4f, 0xc2, 0xd9, 0x9e, 0xc3, 0xd4, 0xb1, 0xee, 0xdd, 0xfe,
+	0x8a, 0x05, 0xe6, 0xe5, 0xb6, 0xdc, 0x53, 0xe4, 0xbe, 0x0a, 0x63, 0x35, 0xf1, 0x3e, 0x83, 0xb8,
+	0x1e, 0x37, 0x98, 0xb4, 0x0a, 0xce, 0x1b, 0x65, 0x98, 0xc0, 0xb4, 0x97, 0x80, 0xf4, 0xe6, 0x2f,
+	0x4c, 0xc5, 0x5f, 0x58, 0x47, 0x8a, 0xbf, 0xf8, 0x0d, 0x0b, 0xc6, 0x13, 0x3a, 0x43, 0xee, 0x4e,
+	0xb4, 0x45, 0x20, 0x6d, 0x37, 0x08, 0xfc, 0xc0, 0x7c, 0x1a, 0x40, 0x26, 0x6c, 0xe3, 0xc9, 0x6c,
+	0x56, 0x7a, 0x4a, 0x31, 0xa3, 0x86, 0xfd, 0x4f, 0x06, 0x21, 0x8e, 0x01, 0xd5, 0x69, 0xac, 0xac,
+	0xbe, 0x69, 0xac, 0x3e, 0x06, 0xa5, 0x77, 0x42, 0xdf, 0x5b, 0x8f, 0x93, 0x5d, 0xe9, 0x6f, 0xf1,
+	0x5a, 0x75, 0x6d, 0x95, 0x63, 0x6a, 0x0c, 0x8e, 0xfd, 0xee, 0xa2, 0xdb, 0x8a, 0x7a, 0xb3, 0x21,
+	0xbd, 0xf6, 0xba, 0x80, 0xa3, 0xc6, 0xe0, 0x8f, 0x17, 0xec, 0x50, 0x6d, 0x2e, 0x8e, 0x1f, 0x2f,
+	0x10, 0xa9, 0x49, 0x79, 0x19, 0x99, 0x85, 0x11, 0x6d, 0x6d, 0x96, 0xc6, 0x6f, 0x3d, 0x52, 0xda,
+	0x2a, 0x8d, 0x31, 0x0e, 0x57, 0x08, 0xa5, 0x69, 0x54, 0x1a, 0x35, 0xaa, 0x79, 0x1c, 0x18, 0x52,
+	0xc6, 0x56, 0x21, 0xdb, 0x15, 0x18, 0x35, 0xcb, 0x2c, 0x4f, 0xe2, 0xc8, 0x49, 0x78, 0x12, 0xcd,
+	0x80, 0xe4, 0xe2, 0x51, 0x03, 0x92, 0x93, 0x73, 0xbb, 0x74, 0xa4, 0xb9, 0xfd, 0xb3, 0x03, 0x30,
+	0x7c, 0x97, 0x06, 0x3c, 0x45, 0xdf, 0x55, 0x18, 0xde, 0x11, 0x3f, 0xd3, 0x97, 0x7e, 0x24, 0x06,
+	0xaa, 0x72, 0xf6, 0xdd, 0x36, 0xbb, 0x6e, 0xab, 0xbe, 0x10, 0xaf, 0x62, 0xfd, 0xdd, 0x2a, 0xaa,
+	0x00, 0x63, 0x1c, 0x56, 0xa1, 0xc1, 0x34, 0xfb, 0x76, 0xdb, 0x8d, 0xd2, 0x71, 0x35, 0x37, 0x55,
+	0x01, 0xc6, 0x38, 0xe4, 0x45, 0x18, 0x6a, 0xb8, 0xd1, 0x86, 0xd3, 0x48, 0x3b, 0xce, 0x6e, 0x72,
+	0x28, 0xca, 0x52, 0xee, 0x79, 0x71, 0xa3, 0x8d, 0x80, 0x72, 0x5b, 0x6b, 0xcf, 0xed, 0xdf, 0x9b,
+	0x46, 0x19, 0x26, 0x30, 0x79, 0x93, 0x7c, 0xd9, 0x33, 0xe9, 0x11, 0x89, 0x9b, 0xa4, 0x0a, 0x30,
+	0xc6, 0x61, 0xf3, 0xbf, 0xe6, 0xb7, 0x3b, 0x6e, 0x4b, 0xc6, 0x99, 0x1a, 0xf3, 0x7f, 0x5e, 0xc2,
+	0x51, 0x63, 0x30, 0x6c, 0x26, 0xc2, 0x98, 0xf8, 0x49, 0x27, 0x8a, 0x5f, 0x97, 0x70, 0xd4, 0x18,
+	0xf6, 0x5d, 0x18, 0x17, 0x2b, 0x79, 0xbe, 0xe5, 0xb8, 0xed, 0x9b, 0xf3, 0xe4, 0x46, 0x4f, 0x30,
+	0xf5, 0xd5, 0x8c, 0x60, 0xea, 0x0b, 0x89, 0x4a, 0xbd, 0x41, 0xd5, 0xf6, 0x77, 0x0a, 0x50, 0x3a,
+	0xc5, 0xb7, 0x36, 0x3a, 0x89, 0xb7, 0x36, 0xf2, 0x7e, 0x71, 0x21, 0xeb, 0x9d, 0x8d, 0xfb, 0xa9,
+	0x77, 0x36, 0xd6, 0xf3, 0xbc, 0x5f, 0x70, 0xe8, 0x1b, 0x1b, 0x3f, 0xb0, 0xe0, 0xbc, 0x42, 0xe5,
+	0x42, 0xad, 0xe2, 0x7a, 0xdc, 0xe5, 0x7e, 0xf2, 0xc3, 0xfc, 0x7e, 0x62, 0x98, 0xdf, 0xcc, 0xaf,
+	0xcb, 0x66, 0x3f, 0xfa, 0x3e, 0x00, 0xf5, 0x7d, 0x0b, 0xca, 0x59, 0x15, 0x4e, 0xe1, 0x91, 0x91,
+	0xf7, 0x92, 0x8f, 0x8c, 0xdc, 0x3d, 0x99, 0x9e, 0xf7, 0x79, 0x6c, 0xe4, 0x07, 0x7d, 0xfa, 0xcd,
+	0x5f, 0xf6, 0x68, 0xa9, 0xed, 0xce, 0xca, 0xcb, 0x99, 0x25, 0x58, 0x64, 0xef, 0x9b, 0x2d, 0x18,
+	0x0a, 0xb9, 0x7f, 0x5a, 0x4e, 0x81, 0xa5, 0x3c, 0x36, 0x41, 0x46, 0x4f, 0x1a, 0x23, 0xf9, 0x6f,
+	0x94, 0x3c, 0xec, 0xff, 0x68, 0xc1, 0xd8, 0x29, 0xbe, 0x24, 0xe3, 0x27, 0x3f, 0xf2, 0x6b, 0xf9,
+	0x7d, 0xe4, 0x3e, 0x1f, 0xf6, 0xbf, 0x3f, 0x0b, 0x89, 0x47, 0x5b, 0xc8, 0x7b, 0x30, 0xa2, 0x34,
+	0x50, 0x75, 0x6f, 0x29, 0xcf, 0xb7, 0x19, 0xf4, 0x36, 0xa3, 0x20, 0x21, 0xc6, 0xfc, 0x52, 0x11,
+	0x01, 0x85, 0x23, 0x45, 0x04, 0x3c, 0xd9, 0x97, 0x1d, 0xb2, 0xed, 0x03, 0x83, 0x27, 0x62, 0x1f,
+	0xb8, 0x9c, 0xbb, 0x7d, 0xe0, 0xd9, 0x53, 0xb6, 0x0f, 0x18, 0xc6, 0xda, 0xe2, 0x63, 0x18, 0x6b,
+	0xdf, 0x83, 0xf3, 0x3b, 0xf1, 0xe6, 0xaf, 0x67, 0x92, 0x7c, 0xa0, 0xe2, 0x6a, 0xa6, 0x55, 0x80,
+	0x29, 0x32, 0x61, 0x44, 0xbd, 0xc8, 0x50, 0x1b, 0xe2, 0x48, 0xc9, 0xbb, 0x19, 0xe4, 0x30, 0x93,
+	0x49, 0xda, 0xea, 0x36, 0x7c, 0x04, 0xab, 0xdb, 0x3f, 0xec, 0xfb, 0x2a, 0x6d, 0xe9, 0x64, 0x5f,
+	0xa5, 0x7d, 0xfa, 0xd8, 0x2f, 0xd2, 0xbe, 0x10, 0x3b, 0x25, 0x44, 0x14, 0x4a, 0xb6, 0x07, 0xe1,
+	0x6b, 0x69, 0x4f, 0x27, 0xf0, 0xa1, 0xff, 0x6c, 0xbe, 0x5a, 0x4f, 0x0e, 0xde, 0xce, 0xd1, 0xc7,
+	0xf0, 0x76, 0xa6, 0x4c, 0xa0, 0x63, 0x39, 0x99, 0x40, 0x3d, 0x98, 0x74, 0xdb, 0x4e, 0x83, 0xae,
+	0x77, 0x5b, 0x2d, 0x11, 0xac, 0xaa, 0x5e, 0xcf, 0xc8, 0x3c, 0x49, 0xdd, 0xf6, 0x6b, 0x4e, 0x2b,
+	0xfd, 0x48, 0x91, 0x0e, 0xca, 0xbd, 0x95, 0xa2, 0x84, 0x3d, 0xb4, 0xd9, 0x84, 0xe5, 0xd9, 0x28,
+	0x68, 0xc4, 0x46, 0x9b, 0xbb, 0xd4, 0xe4, 0xf3, 0xe1, 0x4b, 0x31, 0x18, 0x4d, 0x1c, 0xb2, 0x0c,
+	0x23, 0x75, 0x2f, 0x94, 0xd7, 0x5c, 0x26, 0xb8, 0x30, 0xfb, 0x71, 0x26, 0x02, 0x17, 0x56, 0xab,
+	0xfa, 0x82, 0xcb, 0xe5, 0x8c, 0x44, 0x27, 0xba, 0x1c, 0xe3, 0xfa, 0x64, 0x85, 0x13, 0x93, 0x09,
+	0x90, 0x85, 0xa7, 0xeb, 0xb9, 0x3e, 0x86, 0xbb, 0x85, 0x55, 0x95, 0xc2, 0x79, 0x5c, 0xb2, 0x93,
+	0x99, 0x8c, 0x63, 0x0a, 0xc6, 0x2b, 0x26, 0x67, 0x0f, 0x7d, 0xc5, 0x84, 0x67, 0x38, 0x8a, 0x5a,
+	0xda, 0x4c, 0x7f, 0x25, 0xb7, 0x0c, 0x47, 0x71, 0x0c, 0x89, 0xcc, 0x70, 0x14, 0x03, 0xd0, 0x64,
+	0x49, 0xd6, 0xfa, 0xb9, 0x2b, 0xce, 0x71, 0xa1, 0x71, 0x7c, 0xe7, 0x83, 0x69, 0xb7, 0x3e, 0x7f,
+	0xa8, 0xdd, 0xba, 0xc7, 0xce, 0x7e, 0xe1, 0x18, 0x76, 0xf6, 0x26, 0xcf, 0x3d, 0x73, 0x73, 0x5e,
+	0xba, 0x36, 0x72, 0x50, 0xe8, 0xf8, 0xc5, 0x57, 0x11, 0x93, 0xc3, 0x7f, 0xa2, 0x60, 0x40, 0xd6,
+	0xe1, 0x7c, 0xc7, 0xaf, 0xf7, 0xd8, 0xec, 0xb9, 0x2f, 0xc3, 0x08, 0x64, 0x5f, 0xcf, 0xc0, 0xc1,
+	0xcc, 0x9a, 0x5c, 0x3c, 0xc7, 0x70, 0x9e, 0xc4, 0xa8, 0x28, 0xc5, 0x73, 0x0c, 0x46, 0x13, 0x27,
+	0x6d, 0xb5, 0x7e, 0xfa, 0xc4, 0xac, 0xd6, 0x53, 0xa7, 0x60, 0xb5, 0x7e, 0xe6, 0xc8, 0x56, 0xeb,
+	0x0f, 0xe0, 0x5c, 0xc7, 0xaf, 0x2f, 0xb8, 0x61, 0xd0, 0xe5, 0xd1, 0xfb, 0x95, 0x6e, 0xbd, 0x41,
+	0x23, 0x6e, 0xf6, 0x1e, 0xbd, 0x76, 0xcd, 0x6c, 0x64, 0x87, 0x2f, 0xe4, 0x99, 0x9d, 0x97, 0x37,
+	0x69, 0x24, 0x3e, 0x66, 0xba, 0x16, 0x3f, 0x30, 0xf1, 0xa0, 0xa4, 0x8c, 0x42, 0xcc, 0xe2, 0x63,
+	0x1a, 0xcd, 0x9f, 0x3b, 0x1d, 0xa3, 0xf9, 0xa7, 0xa1, 0x14, 0x36, 0xbb, 0x51, 0xdd, 0xdf, 0xf5,
+	0xb8, 0x67, 0x64, 0x44, 0xbf, 0x63, 0x58, 0xaa, 0x4a, 0xf8, 0x83, 0xfd, 0xe9, 0x49, 0xf5, 0xdb,
+	0x30, 0x29, 0x48, 0x08, 0xf9, 0x7a, 0x9f, 0xf8, 0x64, 0xfb, 0x24, 0xe3, 0x93, 0x2f, 0x1d, 0x2b,
+	0x36, 0x39, 0xcb, 0x33, 0xf0, 0xfc, 0x0f, 0x9d, 0x67, 0xe0, 0x57, 0x2d, 0x18, 0xdf, 0x31, 0xed,
+	0x37, 0xd2, 0x7b, 0x91, 0x83, 0x17, 0x35, 0x61, 0x16, 0xaa, 0xd8, 0x4c, 0xd8, 0x25, 0x40, 0x0f,
+	0xd2, 0x00, 0x4c, 0xb6, 0x24, 0xc3, 0xc3, 0xfb, 0xc2, 0x93, 0xf2, 0xf0, 0x7e, 0xc0, 0x85, 0x99,
+	0x0a, 0x87, 0xe2, 0x2e, 0x8d, 0x7c, 0x43, 0xae, 0x94, 0x60, 0xd4, 0x11, 0x57, 0x26, 0x3f, 0xf2,
+	0x15, 0x0b, 0x26, 0xd5, 0xe1, 0x4c, 0xda, 0x5f, 0x43, 0x19, 0x34, 0x92, 0xe7, 0x99, 0x90, 0x47,
+	0x1d, 0x6e, 0xa4, 0xf8, 0x60, 0x0f, 0xe7, 0xc7, 0xf7, 0xd8, 0xfc, 0x3e, 0x81, 0x33, 0xa9, 0x27,
+	0x22, 0x3f, 0x9e, 0x4c, 0x61, 0x79, 0x25, 0x9d, 0x47, 0x70, 0x5c, 0xe1, 0x27, 0x72, 0x09, 0x26,
+	0x92, 0xfd, 0x15, 0x4e, 0x34, 0xd9, 0xdf, 0xc0, 0xe9, 0x24, 0xfb, 0x9b, 0x3c, 0x89, 0x64, 0x7f,
+	0x67, 0x8f, 0x95, 0xec, 0xcf, 0x48, 0xb6, 0x38, 0xf8, 0x90, 0x64, 0x8b, 0x73, 0x30, 0xa1, 0x62,
+	0x52, 0xa9, 0xcc, 0xe2, 0x26, 0x8c, 0xdf, 0x97, 0x64, 0x95, 0x89, 0xf9, 0x64, 0x31, 0xa6, 0xf1,
+	0xc9, 0x47, 0x16, 0x14, 0x3d, 0x5e, 0x73, 0x28, 0xaf, 0xfc, 0xc5, 0xc9, 0xa9, 0xc5, 0x0f, 0x2f,
+	0x32, 0x6b, 0xb0, 0x8a, 0xf9, 0x29, 0x72, 0xd8, 0x03, 0xf5, 0x03, 0x45, 0x0b, 0xc8, 0xdb, 0x50,
+	0xf6, 0xb7, 0xb6, 0x5a, 0xbe, 0x53, 0x8f, 0x33, 0x12, 0x2a, 0xeb, 0xbc, 0x88, 0xeb, 0xd7, 0x19,
+	0x99, 0xd6, 0xfa, 0xe0, 0x61, 0x5f, 0x0a, 0xec, 0xf4, 0x39, 0x11, 0x46, 0x7e, 0x40, 0xeb, 0xf1,
+	0x49, 0x79, 0x84, 0xf7, 0x99, 0xe6, 0xde, 0xe7, 0x6a, 0x92, 0x8f, 0xe8, 0xbd, 0xfe, 0x28, 0xa9,
+	0x52, 0x4c, 0x37, 0x8b, 0x04, 0x70, 0xb1, 0x93, 0x75, 0x50, 0x0f, 0x65, 0x24, 0xed, 0x61, 0xe6,
+	0x02, 0xb5, 0x74, 0x2f, 0x66, 0x1e, 0xf5, 0x43, 0xec, 0x43, 0xd9, 0xcc, 0x55, 0x58, 0x3a, 0x9d,
+	0x5c, 0x85, 0xc9, 0x87, 0x5d, 0xc7, 0x4f, 0xfd, 0x61, 0x57, 0xf2, 0x27, 0x99, 0x69, 0x35, 0xc5,
+	0xf9, 0xb6, 0x91, 0xfb, 0x9c, 0xf8, 0xa1, 0x4b, 0xad, 0xf9, 0x0f, 0x2c, 0x98, 0x12, 0x33, 0x2f,
+	0xad, 0x55, 0xf1, 0x27, 0xb3, 0xcf, 0x9c, 0x88, 0x03, 0x87, 0xfb, 0xb2, 0xab, 0x09, 0xae, 0xdc,
+	0xaf, 0x70, 0x48, 0x4b, 0xc8, 0x2f, 0x67, 0xe8, 0x72, 0x13, 0x79, 0x59, 0x8c, 0xb2, 0x53, 0x32,
+	0x9e, 0x3b, 0x38, 0x8a, 0xfa, 0xf6, 0x8f, 0xfb, 0x1a, 0xb4, 0x08, 0x6f, 0xde, 0x5f, 0x3e, 0x21,
+	0x83, 0x96, 0x99, 0x37, 0xf2, 0x38, 0x66, 0xad, 0xa9, 0x9f, 0x93, 0x89, 0xab, 0xfb, 0xa6, 0x57,
+	0xdf, 0x4c, 0xbe, 0x03, 0x7a, 0x3b, 0xcf, 0xe4, 0xb2, 0x66, 0x9e, 0xf7, 0xbf, 0x66, 0xc1, 0xf9,
+	0x2c, 0x21, 0x99, 0xd1, 0xa4, 0xcf, 0x26, 0x9b, 0x94, 0xa3, 0xc6, 0x65, 0x36, 0x28, 0x9f, 0x8c,
+	0x9a, 0xdf, 0x1f, 0x31, 0xdc, 0x08, 0x11, 0xed, 0x9c, 0xe0, 0x7b, 0xd1, 0xe3, 0xff, 0xff, 0xbd,
+	0xe8, 0xd3, 0xc8, 0xce, 0x9d, 0x78, 0xf9, 0xb9, 0xf8, 0xa4, 0x5e, 0x7e, 0x1e, 0x7a, 0x94, 0x97,
+	0x9f, 0x87, 0x9f, 0xd8, 0xcb, 0xcf, 0xa5, 0x23, 0xbe, 0xfc, 0x3c, 0xf2, 0x43, 0xfa, 0xf2, 0xf3,
+	0xaf, 0xe9, 0xe7, 0x9c, 0x85, 0x32, 0xf0, 0x46, 0xbe, 0x19, 0x0b, 0xff, 0xdf, 0x7b, 0xd3, 0xf9,
+	0x0f, 0x0b, 0x30, 0xa1, 0xb7, 0x6e, 0x27, 0xdc, 0xae, 0xd2, 0xe8, 0x14, 0x62, 0x20, 0x76, 0x13,
+	0x31, 0x10, 0x79, 0x9a, 0x9d, 0x44, 0x17, 0xfa, 0x46, 0x9c, 0x7c, 0x21, 0x15, 0x71, 0x72, 0x2f,
+	0x7f, 0xd6, 0x87, 0x07, 0x9e, 0xfc, 0x0f, 0x0b, 0xce, 0xa5, 0x6a, 0x9c, 0x82, 0x57, 0x7e, 0x27,
+	0xe9, 0x95, 0x7f, 0x3d, 0xf7, 0x5e, 0xf7, 0x71, 0xce, 0xff, 0x7a, 0xa1, 0xa7, 0xb7, 0x5c, 0x2f,
+	0xfc, 0x59, 0x4b, 0x3d, 0x09, 0x6e, 0xe5, 0xed, 0x76, 0x33, 0xd8, 0xcc, 0xf0, 0x57, 0xc1, 0xc5,
+	0x6a, 0xcd, 0x7c, 0x29, 0x7c, 0xea, 0x67, 0x2c, 0x80, 0x18, 0xe9, 0x49, 0xa9, 0x30, 0xf6, 0x6f,
+	0x16, 0xe0, 0x42, 0xe6, 0x34, 0x22, 0x5f, 0xd6, 0x87, 0x7c, 0x31, 0x50, 0x9b, 0x27, 0x34, 0x5f,
+	0xcd, 0xb3, 0xfe, 0x78, 0xe2, 0xac, 0x2f, 0x8f, 0xf8, 0x4f, 0x4a, 0x01, 0x95, 0xc9, 0x6c, 0x8d,
+	0xc1, 0xfa, 0x9f, 0x16, 0x4c, 0xa6, 0x0f, 0x1b, 0xa7, 0x20, 0xb2, 0xee, 0x27, 0x44, 0xd6, 0xdd,
+	0xfc, 0x2d, 0xe5, 0x7d, 0x43, 0xb6, 0xfe, 0xd0, 0x88, 0x55, 0x53, 0xc8, 0xa7, 0x20, 0x33, 0x76,
+	0x93, 0x32, 0x03, 0xf3, 0xef, 0x71, 0x1f, 0xa1, 0xf1, 0x2e, 0x64, 0x39, 0x0b, 0x8e, 0x96, 0xc8,
+	0x23, 0x11, 0x6f, 0x5e, 0x38, 0x72, 0xbc, 0xf9, 0x2f, 0x14, 0x7a, 0x87, 0x98, 0x0b, 0xaa, 0x0f,
+	0x99, 0x6a, 0x66, 0x9c, 0x76, 0xf3, 0xcb, 0xb3, 0x90, 0x38, 0x5b, 0xeb, 0x36, 0x26, 0x4e, 0xd6,
+	0x09, 0xce, 0xe4, 0x9d, 0xb8, 0x25, 0xec, 0x4b, 0x3d, 0x34, 0x69, 0x4e, 0xbf, 0x69, 0xce, 0x8d,
+	0xd5, 0xf7, 0x0c, 0x4a, 0xdc, 0x6c, 0x9e, 0xa0, 0x6d, 0x8f, 0xc3, 0xe8, 0x9b, 0x6e, 0x47, 0xdb,
+	0xf9, 0x67, 0xbe, 0xf5, 0xbd, 0x2b, 0x4f, 0xfd, 0xee, 0xf7, 0xae, 0x3c, 0xf5, 0x9d, 0xef, 0x5d,
+	0x79, 0xea, 0x8b, 0x07, 0x57, 0xac, 0x6f, 0x1d, 0x5c, 0xb1, 0x7e, 0xf7, 0xe0, 0x8a, 0xf5, 0x9d,
+	0x83, 0x2b, 0xd6, 0x7f, 0x3a, 0xb8, 0x62, 0xfd, 0xf5, 0xff, 0x7c, 0xe5, 0xa9, 0x37, 0x4b, 0xaa,
+	0x6f, 0xff, 0x37, 0x00, 0x00, 0xff, 0xff, 0x5b, 0x76, 0x77, 0x12, 0x89, 0xa7, 0x00, 0x00,
 }
 
 func (m *Amount) Marshal() (dAtA []byte, err error) {
@@ -9437,6 +9437,18 @@ func (m *ValueFrom) MarshalToSizedBuffer(dAtA []byte) (int, error) {
 	_ = i
 	var l int
 	_ = l
+	if m.ConfigMapKeyRef != nil {
+		{
+			size, err := m.ConfigMapKeyRef.MarshalToSizedBuffer(dAtA[:i])
+			if err != nil {
+				return 0, err
+			}
+			i -= size
+			i = encodeVarintGenerated(dAtA, i, uint64(size))
+		}
+		i--
+		dAtA[i] = 0x4a
+	}
 	i -= len(m.Expression)
 	copy(dAtA[i:], m.Expression)
 	i = encodeVarintGenerated(dAtA, i, uint64(len(m.Expression)))
@@ -13050,6 +13062,10 @@ func (m *ValueFrom) Size() (n int) {
 	n += 1 + l + sovGenerated(uint64(l))
 	l = len(m.Expression)
 	n += 1 + l + sovGenerated(uint64(l))
+	if m.ConfigMapKeyRef != nil {
+		l = m.ConfigMapKeyRef.Size()
+		n += 1 + l + sovGenerated(uint64(l))
+	}
 	return n
 }
 
@@ -15002,6 +15018,7 @@ func (this *ValueFrom) String() string {
 		`Supplied:` + strings.Replace(this.Supplied.String(), "SuppliedValueFrom", "SuppliedValueFrom", 1) + `,`,
 		`Event:` + fmt.Sprintf("%v", this.Event) + `,`,
 		`Expression:` + fmt.Sprintf("%v", this.Expression) + `,`,
+		`ConfigMapKeyRef:` + strings.Replace(fmt.Sprintf("%v", this.ConfigMapKeyRef), "ConfigMapKeySelector", "v1.ConfigMapKeySelector", 1) + `,`,
 		`}`,
 	}, "")
 	return s
@@ -32087,6 +32104,42 @@ func (m *ValueFrom) Unmarshal(dAtA []byte) error {
 			}
 			m.Expression = string(dAtA[iNdEx:postIndex])
 			iNdEx = postIndex
+		case 9:
+			if wireType != 2 {
+				return fmt.Errorf("proto: wrong wireType = %d for field ConfigMapKeyRef", wireType)
+			}
+			var msglen int
+			for shift := uint(0); ; shift += 7 {
+				if shift >= 64 {
+					return ErrIntOverflowGenerated
+				}
+				if iNdEx >= l {
+					return io.ErrUnexpectedEOF
+				}
+				b := dAtA[iNdEx]
+				iNdEx++
+				msglen |= int(b&0x7F) << shift
+				if b < 0x80 {
+					break
+				}
+			}
+			if msglen < 0 {
+				return ErrInvalidLengthGenerated
+			}
+			postIndex := iNdEx + msglen
+			if postIndex < 0 {
+				return ErrInvalidLengthGenerated
+			}
+			if postIndex > l {
+				return io.ErrUnexpectedEOF
+			}
+			if m.ConfigMapKeyRef == nil {
+				m.ConfigMapKeyRef = &v1.ConfigMapKeySelector{}
+			}
+			if err := m.ConfigMapKeyRef.Unmarshal(dAtA[iNdEx:postIndex]); err != nil {
+				return err
+			}
+			iNdEx = postIndex
 		default:
 			iNdEx = preIndex
 			skippy, err := skipGenerated(dAtA[iNdEx:])
diff --git a/pkg/apis/workflow/v1alpha1/generated.proto b/pkg/apis/workflow/v1alpha1/generated.proto
index f9c40df4fb78..1f145d746daa 100644
--- a/pkg/apis/workflow/v1alpha1/generated.proto
+++ b/pkg/apis/workflow/v1alpha1/generated.proto
@@ -1442,6 +1442,9 @@ message ValueFrom {
   // Supplied value to be filled in directly, either through the CLI, API, etc.
   optional SuppliedValueFrom supplied = 6;
 
+  // ConfigMapKeyRef is configmap selector for input parameter configuration
+  optional k8s.io.api.core.v1.ConfigMapKeySelector configMapKeyRef = 9;
+
   // Default specifies a value to be used if retrieving the value from the specified source fails
   optional string default = 5;
 
diff --git a/pkg/apis/workflow/v1alpha1/openapi_generated.go b/pkg/apis/workflow/v1alpha1/openapi_generated.go
index f4ab2baebed6..e5ed34c96d7b 100644
--- a/pkg/apis/workflow/v1alpha1/openapi_generated.go
+++ b/pkg/apis/workflow/v1alpha1/openapi_generated.go
@@ -5604,6 +5604,12 @@ func schema_pkg_apis_workflow_v1alpha1_ValueFrom(ref common.ReferenceCallback) c
 							Ref:         ref("github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.SuppliedValueFrom"),
 						},
 					},
+					"configMapKeyRef": {
+						SchemaProps: spec.SchemaProps{
+							Description: "ConfigMapKeyRef is configmap selector for input parameter configuration",
+							Ref:         ref("k8s.io/api/core/v1.ConfigMapKeySelector"),
+						},
+					},
 					"default": {
 						SchemaProps: spec.SchemaProps{
 							Description: "Default specifies a value to be used if retrieving the value from the specified source fails",
@@ -5622,7 +5628,7 @@ func schema_pkg_apis_workflow_v1alpha1_ValueFrom(ref common.ReferenceCallback) c
 			},
 		},
 		Dependencies: []string{
-			"github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.SuppliedValueFrom"},
+			"github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1.SuppliedValueFrom", "k8s.io/api/core/v1.ConfigMapKeySelector"},
 	}
 }
 
diff --git a/pkg/apis/workflow/v1alpha1/workflow_types.go b/pkg/apis/workflow/v1alpha1/workflow_types.go
index 7163cec2f0a1..5cde34fb8f50 100644
--- a/pkg/apis/workflow/v1alpha1/workflow_types.go
+++ b/pkg/apis/workflow/v1alpha1/workflow_types.go
@@ -772,6 +772,9 @@ type ValueFrom struct {
 	// Supplied value to be filled in directly, either through the CLI, API, etc.
 	Supplied *SuppliedValueFrom `json:"supplied,omitempty" protobuf:"bytes,6,opt,name=supplied"`
 
+	// ConfigMapKeyRef is configmap selector for input parameter configuration
+	ConfigMapKeyRef *apiv1.ConfigMapKeySelector `json:"configMapKeyRef,omitempty" protobuf:"bytes,9,opt,name=configMapKeyRef"`
+
 	// Default specifies a value to be used if retrieving the value from the specified source fails
 	Default *AnyString `json:"default,omitempty" protobuf:"bytes,5,opt,name=default"`
 
diff --git a/pkg/apis/workflow/v1alpha1/zz_generated.deepcopy.go b/pkg/apis/workflow/v1alpha1/zz_generated.deepcopy.go
index e5e7d0e345e8..acfbac89e35b 100644
--- a/pkg/apis/workflow/v1alpha1/zz_generated.deepcopy.go
+++ b/pkg/apis/workflow/v1alpha1/zz_generated.deepcopy.go
@@ -2678,6 +2678,11 @@ func (in *ValueFrom) DeepCopyInto(out *ValueFrom) {
 		*out = new(SuppliedValueFrom)
 		**out = **in
 	}
+	if in.ConfigMapKeyRef != nil {
+		in, out := &in.ConfigMapKeyRef, &out.ConfigMapKeyRef
+		*out = new(v1.ConfigMapKeySelector)
+		(*in).DeepCopyInto(*out)
+	}
 	if in.Default != nil {
 		in, out := &in.Default, &out.Default
 		*out = new(AnyString)
diff --git a/util/configmap.go b/util/configmap.go
new file mode 100644
index 000000000000..edf4f481fbc4
--- /dev/null
+++ b/util/configmap.go
@@ -0,0 +1,28 @@
+package util
+
+import (
+	"fmt"
+
+	apiv1 "k8s.io/api/core/v1"
+	"k8s.io/client-go/tools/cache"
+)
+
+// GetConfigMapValue retrieves a configmap value
+func GetConfigMapValue(configMapInformer cache.SharedIndexInformer, namespace, name, key string) (string, error) {
+	obj, exists, err := configMapInformer.GetIndexer().GetByKey(namespace + "/" + name)
+	if err != nil {
+		return "", err
+	}
+	if exists {
+		cm, ok := obj.(*apiv1.ConfigMap)
+		if !ok {
+			return "", fmt.Errorf("unable to convert object %s to configmap when syncing ConfigMaps", name)
+		}
+		cmValue, ok := cm.Data[key]
+		if !ok {
+			return "", fmt.Errorf("ConfigMap '%s' does not have the key '%s'", name, key)
+		}
+		return cmValue, nil
+	}
+	return "", fmt.Errorf("ConfigMap '%s' does not exist", name)
+}
diff --git a/workflow/common/util.go b/workflow/common/util.go
index 089919313ec5..f9784c1165ed 100644
--- a/workflow/common/util.go
+++ b/workflow/common/util.go
@@ -12,6 +12,8 @@ import (
 	"strings"
 	"time"
 
+	"k8s.io/client-go/tools/cache"
+
 	"github.com/gorilla/websocket"
 	log "github.com/sirupsen/logrus"
 	apiv1 "k8s.io/api/core/v1"
@@ -116,7 +118,7 @@ func GetExecutorOutput(exec remotecommand.Executor) (*bytes.Buffer, *bytes.Buffe
 // * parameters in the template from the arguments
 // * global parameters (e.g. {{workflow.parameters.XX}}, {{workflow.name}}, {{workflow.status}})
 // * local parameters (e.g. {{pod.name}})
-func ProcessArgs(tmpl *wfv1.Template, args wfv1.ArgumentsProvider, globalParams, localParams Parameters, validateOnly bool) (*wfv1.Template, error) {
+func ProcessArgs(tmpl *wfv1.Template, args wfv1.ArgumentsProvider, globalParams, localParams Parameters, validateOnly bool, namespace string, configMapInformer cache.SharedIndexInformer) (*wfv1.Template, error) {
 	// For each input parameter:
 	// 1) check if was supplied as argument. if so use the supplied value from arg
 	// 2) if not, use default value.
@@ -132,9 +134,20 @@ func ProcessArgs(tmpl *wfv1.Template, args wfv1.ArgumentsProvider, globalParams,
 		if argParam != nil && argParam.Value != nil {
 			inParam.Value = argParam.Value
 		}
-		if inParam.Value == nil {
-			return nil, errors.Errorf(errors.CodeBadRequest, "inputs.parameters.%s was not supplied", inParam.Name)
+		if inParam.ValueFrom != nil && inParam.ValueFrom.ConfigMapKeyRef != nil {
+			if configMapInformer != nil {
+				cmValue, err := util.GetConfigMapValue(configMapInformer, namespace, inParam.ValueFrom.ConfigMapKeyRef.Name, inParam.ValueFrom.ConfigMapKeyRef.Key)
+				if err != nil {
+					return nil, errors.Errorf(errors.CodeBadRequest, "unable to retrieve inputs.parameters.%s from ConfigMap: %s", inParam.Name, err)
+				}
+				inParam.Value = wfv1.AnyStringPtr(cmValue)
+			}
+		} else {
+			if inParam.Value == nil {
+				return nil, errors.Errorf(errors.CodeBadRequest, "inputs.parameters.%s was not supplied", inParam.Name)
+			}
 		}
+
 		newTmpl.Inputs.Parameters[i] = inParam
 	}
 
@@ -186,10 +199,11 @@ func SubstituteParams(tmpl *wfv1.Template, globalParams, localParams Parameters)
 	// Now replace the rest of substitutions (the ones that can be made) in the template
 	replaceMap = make(map[string]string)
 	for _, inParam := range globalReplacedTmpl.Inputs.Parameters {
-		if inParam.Value == nil {
+		if inParam.Value == nil && inParam.ValueFrom == nil {
 			return nil, errors.InternalErrorf("inputs.parameters.%s had no value", inParam.Name)
+		} else if inParam.Value != nil {
+			replaceMap["inputs.parameters."+inParam.Name] = inParam.Value.String()
 		}
-		replaceMap["inputs.parameters."+inParam.Name] = inParam.Value.String()
 	}
 	// allow {{inputs.parameters}} to fetch the entire input parameters list as JSON
 	jsonInputParametersBytes, err := json.Marshal(globalReplacedTmpl.Inputs.Parameters)
diff --git a/workflow/controller/operator.go b/workflow/controller/operator.go
index bad8b16f7b2f..8c6c60ce8ef2 100644
--- a/workflow/controller/operator.go
+++ b/workflow/controller/operator.go
@@ -493,7 +493,7 @@ func (woc *wfOperationCtx) getWorkflowDeadline() *time.Time {
 }
 
 // setGlobalParameters sets the globalParam map with global parameters
-func (woc *wfOperationCtx) setGlobalParameters(executionParameters wfv1.Arguments) {
+func (woc *wfOperationCtx) setGlobalParameters(executionParameters wfv1.Arguments) error {
 	woc.globalParams[common.GlobalVarWorkflowName] = woc.wf.ObjectMeta.Name
 	woc.globalParams[common.GlobalVarWorkflowNamespace] = woc.wf.ObjectMeta.Namespace
 	woc.globalParams[common.GlobalVarWorkflowServiceAccountName] = woc.execWf.Spec.ServiceAccountName
@@ -519,7 +519,20 @@ func (woc *wfOperationCtx) setGlobalParameters(executionParameters wfv1.Argument
 		woc.globalParams[common.GlobalVarWorkflowParameters] = string(workflowParameters)
 	}
 	for _, param := range executionParameters.Parameters {
-		woc.globalParams["workflow.parameters."+param.Name] = param.Value.String()
+		if param.Value != nil {
+			woc.globalParams["workflow.parameters."+param.Name] = param.Value.String()
+		} else if param.ValueFrom != nil {
+			if param.ValueFrom.ConfigMapKeyRef != nil {
+				cmValue, err := util.GetConfigMapValue(woc.controller.configMapInformer, woc.wf.ObjectMeta.Namespace, param.ValueFrom.ConfigMapKeyRef.Name, param.ValueFrom.ConfigMapKeyRef.Key)
+				if err != nil {
+					return fmt.Errorf("failed to set global parameter %s from configmap with name %s and key %s: %w",
+						param.Name, param.ValueFrom.ConfigMapKeyRef.Name, param.ValueFrom.ConfigMapKeyRef.Key, err)
+				}
+				woc.globalParams["workflow.parameters."+param.Name] = cmValue
+			}
+		} else {
+			return fmt.Errorf("either value or valueFrom must be specified in order to set global parameter %s", param.Name)
+		}
 	}
 	for k, v := range woc.wf.ObjectMeta.Annotations {
 		woc.globalParams["workflow.annotations."+k] = v
@@ -534,6 +547,7 @@ func (woc *wfOperationCtx) setGlobalParameters(executionParameters wfv1.Argument
 			}
 		}
 	}
+	return nil
 }
 
 // persistUpdates will update a workflow with any updates made during workflow operation.
@@ -1610,7 +1624,7 @@ func (woc *wfOperationCtx) executeTemplate(ctx context.Context, nodeName string,
 	}
 
 	// Inputs has been processed with arguments already, so pass empty arguments.
-	processedTmpl, err := common.ProcessArgs(resolvedTmpl, &args, woc.globalParams, localParams, false)
+	processedTmpl, err := common.ProcessArgs(resolvedTmpl, &args, woc.globalParams, localParams, false, woc.wf.Namespace, woc.controller.configMapInformer)
 	if err != nil {
 		return woc.initializeNodeOrMarkError(node, nodeName, templateScope, orgTmpl, opts.boundaryID, err), err
 	}
@@ -3373,8 +3387,12 @@ func (woc *wfOperationCtx) setExecWorkflow(ctx context.Context) error {
 			woc.updated = true
 		}
 	}
-	woc.setGlobalParameters(woc.execWf.Spec.Arguments)
-	err := woc.substituteGlobalVariables()
+	err := woc.setGlobalParameters(woc.execWf.Spec.Arguments)
+	if err != nil {
+		woc.markWorkflowFailed(ctx, fmt.Sprintf("failed to set global parameters: %s", err.Error()))
+		return err
+	}
+	err = woc.substituteGlobalVariables()
 	if err != nil {
 		return err
 	}
diff --git a/workflow/controller/workflowpod.go b/workflow/controller/workflowpod.go
index 34d432139cde..8e57bd6dfd84 100644
--- a/workflow/controller/workflowpod.go
+++ b/workflow/controller/workflowpod.go
@@ -393,7 +393,7 @@ func (woc *wfOperationCtx) createWorkflowPod(ctx context.Context, nodeName strin
 		if tmpl.IsPodType() {
 			localParams[common.LocalVarPodName] = woc.wf.NodeID(nodeName)
 		}
-		tmpl, err := common.ProcessArgs(tmpl, &wfv1.Arguments{}, woc.globalParams, localParams, false)
+		tmpl, err := common.ProcessArgs(tmpl, &wfv1.Arguments{}, woc.globalParams, localParams, false, woc.wf.Namespace, woc.controller.configMapInformer)
 		if err != nil {
 			return nil, errors.Wrap(err, "", "Failed to substitute the PodSpecPatch variables")
 		}
diff --git a/workflow/validate/validate.go b/workflow/validate/validate.go
index 1763982fe379..6f3839b84847 100644
--- a/workflow/validate/validate.go
+++ b/workflow/validate/validate.go
@@ -341,7 +341,7 @@ func (ctx *templateValidationCtx) validateTemplate(tmpl *wfv1.Template, tmplCtx
 		}
 	}
 
-	newTmpl, err := common.ProcessArgs(tmpl, args, ctx.globalParams, localParams, true)
+	newTmpl, err := common.ProcessArgs(tmpl, args, ctx.globalParams, localParams, true, "", nil)
 	if err != nil {
 		return errors.Errorf(errors.CodeBadRequest, "templates.%s %s", tmpl.Name, err)
 	}
@@ -705,7 +705,7 @@ func validateArgumentsFieldNames(prefix string, arguments wfv1.Arguments) error
 // validateArgumentsValues ensures that all arguments have parameter values or artifact locations
 func validateArgumentsValues(prefix string, arguments wfv1.Arguments) error {
 	for _, param := range arguments.Parameters {
-		if param.Value == nil {
+		if param.ValueFrom == nil && param.Value == nil {
 			return errors.Errorf(errors.CodeBadRequest, "%s%s.value is required", prefix, param.Name)
 		}
 		if param.Enum != nil {
diff --git a/workflow/validate/validate_test.go b/workflow/validate/validate_test.go
index 546ba0003d98..997d360bf5d3 100644
--- a/workflow/validate/validate_test.go
+++ b/workflow/validate/validate_test.go
@@ -453,7 +453,32 @@ func TestStepArtReference(t *testing.T) {
 	assert.NoError(t, err)
 }
 
-var unsatisfiedParam = `
+var paramWithValueFromConfigMapRef = `
+apiVersion: argoproj.io/v1alpha1
+kind: Workflow
+metadata:
+  generateName: hello-world-
+spec:
+  entrypoint: whalesay
+  templates:
+  - name: whalesay
+    inputs:
+      parameters:
+      - name: message
+        valueFrom:
+          configMapKeyRef:
+            name: simple-config
+            key: msg
+    container:
+      image: docker/whalesay:latest
+`
+
+func TestParamWithValueFromConfigMapRef(t *testing.T) {
+	_, err := validate(paramWithValueFromConfigMapRef)
+	assert.NoError(t, err)
+}
+
+var paramWithoutValue = `
 apiVersion: argoproj.io/v1alpha1
 kind: Workflow
 metadata:
@@ -469,8 +494,8 @@ spec:
       image: docker/whalesay:latest
 `
 
-func TestUnsatisfiedParam(t *testing.T) {
-	_, err := validate(unsatisfiedParam)
+func TestParamWithoutValue(t *testing.T) {
+	_, err := validate(paramWithoutValue)
 	if assert.NotNil(t, err) {
 		assert.Contains(t, err.Error(), "not supplied")
 	}

From 4b5d7ecfd1087f22002bc63658dc5ad3fe30927f Mon Sep 17 00:00:00 2001
From: Elliot Maincourt <e.maincourt@gmail.com>
Date: Thu, 9 Sep 2021 21:57:48 +0200
Subject: [PATCH 099/137] =?UTF-8?q?fix(emissary):=20strip=20trailing=20sla?=
 =?UTF-8?q?sh=20from=20artifact=20src=20before=20creating=E2=80=A6=20(#669?=
 =?UTF-8?q?6)?=
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Signed-off-by: Elliot Maincourt <e.maincourt@gmail.com>
---
 cmd/argoexec/commands/emissary.go      |  3 ++-
 cmd/argoexec/commands/emissary_test.go | 17 +++++++++++++++++
 workflow/executor/emissary/emissary.go |  3 ++-
 3 files changed, 21 insertions(+), 2 deletions(-)

diff --git a/cmd/argoexec/commands/emissary.go b/cmd/argoexec/commands/emissary.go
index 8d1dd13810e2..e85fe6320cca 100644
--- a/cmd/argoexec/commands/emissary.go
+++ b/cmd/argoexec/commands/emissary.go
@@ -11,6 +11,7 @@ import (
 	"os/signal"
 	"path/filepath"
 	"strconv"
+	"strings"
 	"syscall"
 	"time"
 
@@ -192,7 +193,7 @@ func saveArtifact(srcPath string) error {
 		logger.WithError(err).Errorf("cannot save artifact %s", srcPath)
 		return nil
 	}
-	dstPath := varRunArgo + "/outputs/artifacts/" + srcPath + ".tgz"
+	dstPath := filepath.Join(varRunArgo, "/outputs/artifacts/", strings.TrimSuffix(srcPath, "/")+".tgz")
 	logger.Infof("%s -> %s", srcPath, dstPath)
 	z := filepath.Dir(dstPath)
 	if err := os.MkdirAll(z, 0o755); err != nil { // chmod rwxr-xr-x
diff --git a/cmd/argoexec/commands/emissary_test.go b/cmd/argoexec/commands/emissary_test.go
index 1225c8b56495..f69ea40ef882 100644
--- a/cmd/argoexec/commands/emissary_test.go
+++ b/cmd/argoexec/commands/emissary_test.go
@@ -83,6 +83,23 @@ func TestEmissary(t *testing.T) {
 		]
 	}
 }
+`), 0o600)
+		assert.NoError(t, err)
+		err := run(x, []string{"echo", "hello", "/tmp/artifact"})
+		assert.NoError(t, err)
+		data, err := ioutil.ReadFile(varRunArgo + "/outputs/artifacts/tmp/artifact.tgz")
+		assert.NoError(t, err)
+		assert.NotEmpty(t, string(data)) // data is tgz format
+	})
+	t.Run("ArtifactWithTrailingAndLeadingSlash", func(t *testing.T) {
+		err = ioutil.WriteFile(varRunArgo+"/template", []byte(`
+{
+	"outputs": {
+		"artifacts": [
+			{"path": "/tmp/artifact/"}
+		]
+	}
+}
 `), 0o600)
 		assert.NoError(t, err)
 		err := run(x, []string{"echo", "hello", "/tmp/artifact"})
diff --git a/workflow/executor/emissary/emissary.go b/workflow/executor/emissary/emissary.go
index 134f0f2518d6..715cce8b7250 100644
--- a/workflow/executor/emissary/emissary.go
+++ b/workflow/executor/emissary/emissary.go
@@ -8,6 +8,7 @@ import (
 	"os"
 	"path/filepath"
 	"strconv"
+	"strings"
 	"syscall"
 	"time"
 
@@ -78,7 +79,7 @@ func (e emissary) CopyFile(_ string, sourcePath string, destPath string, _ int)
 	// this implementation is very different, because we expect the emissary binary has already compressed the file
 	// so no compression can or needs to be implemented here
 	// TODO - warn the user we ignored compression?
-	sourceFile := filepath.Join("/var/run/argo/outputs/artifacts", sourcePath+".tgz")
+	sourceFile := filepath.Join("/var/run/argo/outputs/artifacts", strings.TrimSuffix(sourcePath, "/")+".tgz")
 	log.Infof("%s -> %s", sourceFile, destPath)
 	src, err := os.Open(filepath.Clean(sourceFile))
 	if err != nil {

From 2e174bd4c585ccf72e34c8f72703a0950a67460c Mon Sep 17 00:00:00 2001
From: Tianchu Zhao <evantczhao@gmail.com>
Date: Sat, 11 Sep 2021 01:46:32 +1000
Subject: [PATCH 100/137] fix(ui): button margin (#6699)

Signed-off-by: Tianchu Zhao <evantczhao@gmail.com>
---
 ui/src/app/shared/components/button.tsx        | 6 +++++-
 ui/src/app/shared/components/upload-button.tsx | 2 +-
 2 files changed, 6 insertions(+), 2 deletions(-)

diff --git a/ui/src/app/shared/components/button.tsx b/ui/src/app/shared/components/button.tsx
index 37a576ea58ef..fb06e763a2fd 100644
--- a/ui/src/app/shared/components/button.tsx
+++ b/ui/src/app/shared/components/button.tsx
@@ -17,7 +17,11 @@ export const Button = ({
     icon?: Icon;
     className?: string;
 }) => (
-    <button className={'argo-button ' + (!outline ? 'argo-button--base' : 'argo-button--base-o') + ' ' + (className || '')} title={title} onClick={onClick}>
+    <button
+        style={{marginBottom: 2, marginRight: 2}}
+        className={'argo-button ' + (!outline ? 'argo-button--base' : 'argo-button--base-o') + ' ' + (className || '')}
+        title={title}
+        onClick={onClick}>
         {icon && <i className={'fa fa-' + icon} />} {children}
     </button>
 );
diff --git a/ui/src/app/shared/components/upload-button.tsx b/ui/src/app/shared/components/upload-button.tsx
index 80b00afad3fb..66eaaeb25a5b 100644
--- a/ui/src/app/shared/components/upload-button.tsx
+++ b/ui/src/app/shared/components/upload-button.tsx
@@ -10,7 +10,7 @@ export const UploadButton = <T extends any>(props: {onUpload: (value: T) => void
     };
 
     return (
-        <label className='argo-button argo-button--base-o' key='upload-file'>
+        <label style={{marginBottom: 2, marginRight: 2}} className='argo-button argo-button--base-o' key='upload-file'>
             <input type='file' onChange={e => handleFiles(e.target.files)} style={{display: 'none'}} />
             <i className='fa fa-upload' /> Upload file
         </label>

From d45395b6f3b0cc40444e98af921b9e80284b74e8 Mon Sep 17 00:00:00 2001
From: Alex Collins <alexec@users.noreply.github.com>
Date: Fri, 10 Sep 2021 13:14:41 -0700
Subject: [PATCH 101/137] fix: run Snyk on UI. Fixes #6604 (#6651)

Signed-off-by: Alex Collins <alex_collins@intuit.com>
---
 .github/workflows/snyk.yml | 15 ++++++++++-
 ui/package.json            |  2 ++
 ui/yarn.lock               | 53 ++++++--------------------------------
 3 files changed, 24 insertions(+), 46 deletions(-)

diff --git a/.github/workflows/snyk.yml b/.github/workflows/snyk.yml
index 625a639b4d6a..2759535a2d2a 100644
--- a/.github/workflows/snyk.yml
+++ b/.github/workflows/snyk.yml
@@ -3,7 +3,7 @@ on:
   schedule:
     - cron: "30 2 * * *"
 jobs:
-  security:
+  golang:
     if: github.repository == 'argoproj/argo-workflows'
     runs-on: ubuntu-latest
     steps:
@@ -14,3 +14,16 @@ jobs:
           SNYK_TOKEN: ${{ secrets.SNYK_TOKEN }}
         with:
           args: --severity-threshold=high
+  node:
+    if: github.repository == 'argoproj/argo-workflows'
+    runs-on: ubuntu-latest
+    steps:
+      - uses: actions/checkout@master
+      - run: yarn --cwd ui install
+      - name: Run Snyk to check for vulnerabilities
+        uses: snyk/actions/node@master
+        env:
+          SNYK_TOKEN: ${{ secrets.SNYK_TOKEN }}
+        with:
+          args: --file=ui/package.json --severity-threshold=high
+
diff --git a/ui/package.json b/ui/package.json
index 7d2158e57430..36138ddd837e 100644
--- a/ui/package.json
+++ b/ui/package.json
@@ -85,6 +85,8 @@
         "webpack-dev-server": "^3.7.2"
     },
     "resolutions": {
+        "lodash": "4.17.21",
+        "prismjs": "1.24.0",
         "@types/react": "16.8.5"
     }
 }
diff --git a/ui/yarn.lock b/ui/yarn.lock
index 0da66db41b7f..b99fe81982b6 100644
--- a/ui/yarn.lock
+++ b/ui/yarn.lock
@@ -2605,15 +2605,6 @@ clean-css@4.1.x:
   dependencies:
     source-map "0.5.x"
 
-clipboard@^2.0.0:
-  version "2.0.6"
-  resolved "https://registry.yarnpkg.com/clipboard/-/clipboard-2.0.6.tgz#52921296eec0fdf77ead1749421b21c968647376"
-  integrity sha512-g5zbiixBRk/wyKakSwCKd7vQXDjFnAMGHoEyBogG/bw9kTD9GvdAvaoRR1ALcEzt3pVKxZR0pViekPMIS0QyGg==
-  dependencies:
-    good-listener "^1.2.2"
-    select "^1.1.2"
-    tiny-emitter "^2.0.0"
-
 cliui@^2.1.0:
   version "2.1.0"
   resolved "https://registry.yarnpkg.com/cliui/-/cliui-2.1.0.tgz#4b475760ff80264c762c3a1719032e91c7fea0d1"
@@ -3248,11 +3239,6 @@ delayed-stream@~1.0.0:
   resolved "https://registry.yarnpkg.com/delayed-stream/-/delayed-stream-1.0.0.tgz#df3ae199acadfb7d440aaae0b29e2272b24ec619"
   integrity sha1-3zrhmayt+31ECqrgsp4icrJOxhk=
 
-delegate@^3.1.2:
-  version "3.2.0"
-  resolved "https://registry.yarnpkg.com/delegate/-/delegate-3.2.0.tgz#b66b71c3158522e8ab5744f720d8ca0c2af59166"
-  integrity sha512-IofjkYBZaZivn0V8nnsMJGBr4jVLxHDheKSW88PyxS5QC4Vo9ZbZVvhzlSxY87fVq3STR6r+4cGepyHkcWOQSw==
-
 delegates@^1.0.0:
   version "1.0.0"
   resolved "https://registry.yarnpkg.com/delegates/-/delegates-1.0.0.tgz#84c6e159b81904fdca59a0ef44cd870d31250f9a"
@@ -4401,13 +4387,6 @@ globby@^7.1.1:
     pify "^3.0.0"
     slash "^1.0.0"
 
-good-listener@^1.2.2:
-  version "1.2.2"
-  resolved "https://registry.yarnpkg.com/good-listener/-/good-listener-1.2.2.tgz#d53b30cdf9313dffb7dc9a0d477096aa6d145c50"
-  integrity sha1-1TswzfkxPf+33JoNR3CWqm0UXFA=
-  dependencies:
-    delegate "^3.1.2"
-
 graceful-fs@^4.1.11, graceful-fs@^4.1.15:
   version "4.2.2"
   resolved "https://registry.yarnpkg.com/graceful-fs/-/graceful-fs-4.2.2.tgz#6f0952605d0140c1cfdb138ed005775b92d67b02"
@@ -6015,14 +5994,10 @@ lodash.sortby@^4.7.0:
   resolved "https://registry.yarnpkg.com/lodash.sortby/-/lodash.sortby-4.7.0.tgz#edd14c824e2cc9c1e0b0a1b42bb5210516a42438"
   integrity sha1-7dFMgk4sycHgsKG0K7UhBRakJDg=
 
-lodash@^4.17.11, lodash@^4.17.14, lodash@^4.17.15, lodash@^4.17.19, lodash@^4.17.20, lodash@^4.2.1:
-  version "4.17.20"
-  resolved "https://registry.yarnpkg.com/lodash/-/lodash-4.17.20.tgz#b44a9b6297bcb698f1c51a3545a2b3b368d59c52"
-  integrity sha512-PlhdFcillOINfeV7Ni6oF1TAEayyZBoZ8bcshTHqOYJYlrqzRK5hagpagky5o4HfCzzd1TRkXPMFq6cKk9rGmA==
-
-lodash@^4.17.3, lodash@^4.6.1:
-  version "4.17.10"
-  resolved "https://registry.yarnpkg.com/lodash/-/lodash-4.17.10.tgz#1b7793cf7259ea38fb3661d4d38b3260af8ae4e7"
+lodash@4.17.21, lodash@^4.17.11, lodash@^4.17.14, lodash@^4.17.15, lodash@^4.17.19, lodash@^4.17.20, lodash@^4.17.3, lodash@^4.2.1, lodash@^4.6.1:
+  version "4.17.21"
+  resolved "https://registry.yarnpkg.com/lodash/-/lodash-4.17.21.tgz#679591c564c3bffaae8454cf0b3df370c3d6911c"
+  integrity sha512-v2kDEe57lecTulaDIuNTPy3Ry4gLGJ6Z1O3vE1krgXZNrsQ+LFTGHVxVjcXPs17LhbZVGedAJv8XZ1tvj5FvSg==
 
 loglevel@^1.6.3:
   version "1.6.3"
@@ -7259,12 +7234,10 @@ pretty-format@^26.0.0, pretty-format@^26.6.2:
     ansi-styles "^4.0.0"
     react-is "^17.0.1"
 
-prismjs@^1.21.0, prismjs@~1.22.0:
-  version "1.22.0"
-  resolved "https://registry.yarnpkg.com/prismjs/-/prismjs-1.22.0.tgz#73c3400afc58a823dd7eed023f8e1ce9fd8977fa"
-  integrity sha512-lLJ/Wt9yy0AiSYBf212kK3mM5L8ycwlyTlSxHBAneXLR0nzFMlZ5y7riFPF3E33zXOF2IH95xdY5jIyZbM9z/w==
-  optionalDependencies:
-    clipboard "^2.0.0"
+prismjs@1.24.0, prismjs@^1.21.0, prismjs@~1.22.0:
+  version "1.24.0"
+  resolved "https://registry.yarnpkg.com/prismjs/-/prismjs-1.24.0.tgz#0409c30068a6c52c89ef7f1089b3ca4de56be2ac"
+  integrity sha512-SqV5GRsNqnzCL8k5dfAjCNhUrF3pR0A9lTDSCUZeh/LIshheXJEaP0hwLz2t4XHivd2J/v2HR+gRnigzeKe3cQ==
 
 process-nextick-args@~1.0.6:
   version "1.0.7"
@@ -8346,11 +8319,6 @@ select-hose@^2.0.0:
   version "2.0.0"
   resolved "https://registry.yarnpkg.com/select-hose/-/select-hose-2.0.0.tgz#625d8658f865af43ec962bfc376a37359a4994ca"
 
-select@^1.1.2:
-  version "1.1.2"
-  resolved "https://registry.yarnpkg.com/select/-/select-1.1.2.tgz#0e7350acdec80b1108528786ec1d4418d11b396d"
-  integrity sha1-DnNQrN7ICxEIUoeG7B1EGNEbOW0=
-
 selfsigned@^1.10.4:
   version "1.10.4"
   resolved "https://registry.yarnpkg.com/selfsigned/-/selfsigned-1.10.4.tgz#cdd7eccfca4ed7635d47a08bf2d5d3074092e2cd"
@@ -9237,11 +9205,6 @@ timers-ext@^0.1.5:
     es5-ext "~0.10.46"
     next-tick "1"
 
-tiny-emitter@^2.0.0:
-  version "2.1.0"
-  resolved "https://registry.yarnpkg.com/tiny-emitter/-/tiny-emitter-2.1.0.tgz#1d1a56edfc51c43e863cbb5382a72330e3555423"
-  integrity sha512-NB6Dk1A9xgQPMoGqC5CVXn123gWyte215ONT5Pp5a0yt4nlEoO1ZWeCwpncaekPHXO60i47ihFnZPiRPjRMq4Q==
-
 tiny-warning@^1.0.2:
   version "1.0.3"
   resolved "https://registry.yarnpkg.com/tiny-warning/-/tiny-warning-1.0.3.tgz#94a30db453df4c643d0fd566060d60a875d84754"

From fd535002335f6e491029ccece21f54760fe1b5b4 Mon Sep 17 00:00:00 2001
From: "github-actions[bot]"
 <41898282+github-actions[bot]@users.noreply.github.com>
Date: Fri, 10 Sep 2021 13:15:01 -0700
Subject: [PATCH 102/137] docs: updated CHANGELOG.md (#6701)

Signed-off-by: GitHub <noreply@github.com>

Co-authored-by: sarabala1979 <sarabala1979@users.noreply.github.com>
---
 CHANGELOG.md | 8 ++++++++
 1 file changed, 8 insertions(+)

diff --git a/CHANGELOG.md b/CHANGELOG.md
index 5319fc62436f..ba5ced531acb 100644
--- a/CHANGELOG.md
+++ b/CHANGELOG.md
@@ -190,6 +190,14 @@
  * meijin
  * wanghong230
 
+## v3.1.10 (2021-09-10)
+
+ * [2730a51a2](https://github.com/argoproj/argo-workflows/commit/2730a51a203d6b587db5fe43a0e3de018a35dbd8) fix: Fix `x509: certificate signed by unknown authority` error (#6566)
+
+### Contributors
+
+ * Alex Collins
+
 ## v3.1.9 (2021-09-03)
 
  * [e4f6bcb02](https://github.com/argoproj/argo-workflows/commit/e4f6bcb02f10bea5c76f2f91ff223b8a380b4557) fix the codegen

From 1e31eb85655d2118f2e3c3edaa8886f923de4f5b Mon Sep 17 00:00:00 2001
From: Tianchu Zhao <evantczhao@gmail.com>
Date: Mon, 13 Sep 2021 08:53:42 +1000
Subject: [PATCH 103/137] fix(ui): report phase button alignment (#6707)

Signed-off-by: Tianchu Zhao <evantczhao@gmail.com>
---
 ui/src/app/reports/components/reports.tsx | 10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

diff --git a/ui/src/app/reports/components/reports.tsx b/ui/src/app/reports/components/reports.tsx
index e6201e7ca190..2684fa6c2c39 100644
--- a/ui/src/app/reports/components/reports.tsx
+++ b/ui/src/app/reports/components/reports.tsx
@@ -295,10 +295,12 @@ export class Reports extends BasePage<RouteComponentProps<any>, State> {
                     <div className=' columns small-12 xlarge-12'>
                         <p className='wf-filters-container__title'>Phase</p>
                         {[NODE_PHASE.SUCCEEDED, NODE_PHASE.ERROR, NODE_PHASE.FAILED].map(phase => (
-                            <label key={phase} style={{marginRight: 10}}>
-                                <input type='radio' checked={phase === this.phase} onChange={() => (this.phase = phase)} style={{marginRight: 5}} />
-                                {phase}
-                            </label>
+                            <div>
+                                <label key={phase} style={{marginRight: 10}}>
+                                    <input type='radio' checked={phase === this.phase} onChange={() => (this.phase = phase)} style={{marginRight: 5}} />
+                                    {phase}
+                                </label>
+                            </div>
                         ))}
                     </div>
                 </div>

From a1cc0f557c08c1206df89e39d2c286f02a6675de Mon Sep 17 00:00:00 2001
From: Tianchu Zhao <evantczhao@gmail.com>
Date: Mon, 13 Sep 2021 09:25:20 +1000
Subject: [PATCH 104/137] feat: archivewf add name filter. Fixes #5824 (#6706)

Signed-off-by: Tianchu Zhao <evantczhao@gmail.com>
---
 persist/sqldb/mocks/WorkflowArchive.go        | 14 +++----
 persist/sqldb/null_workflow_archive.go        |  2 +-
 persist/sqldb/workflow_archive.go             | 13 ++++++-
 .../archived_workflow_server.go               |  5 ++-
 .../archived_workflow_server_test.go          | 12 ++++--
 test/e2e/fixtures/e2e_suite.go                |  2 +-
 .../archived-workflow-filters.tsx             | 31 ++++++++++++---
 .../archived-workflow-list.tsx                | 38 +++++++++++++++----
 ui/src/app/reports/components/reports.tsx     |  2 +-
 .../services/archived-workflows-service.ts    | 21 +++++++---
 .../estimation/estimator_factory.go           |  2 +-
 .../estimation/estimator_factory_test.go      |  2 +-
 12 files changed, 108 insertions(+), 36 deletions(-)

diff --git a/persist/sqldb/mocks/WorkflowArchive.go b/persist/sqldb/mocks/WorkflowArchive.go
index 845731a638c6..53b23df38330 100644
--- a/persist/sqldb/mocks/WorkflowArchive.go
+++ b/persist/sqldb/mocks/WorkflowArchive.go
@@ -95,13 +95,13 @@ func (_m *WorkflowArchive) IsEnabled() bool {
 	return r0
 }
 
-// ListWorkflows provides a mock function with given fields: namespace, minStartAt, maxStartAt, labelRequirements, limit, offset
-func (_m *WorkflowArchive) ListWorkflows(namespace string, minStartAt time.Time, maxStartAt time.Time, labelRequirements labels.Requirements, limit int, offset int) (v1alpha1.Workflows, error) {
-	ret := _m.Called(namespace, minStartAt, maxStartAt, labelRequirements, limit, offset)
+// ListWorkflows provides a mock function with given fields: namespace, name, minStartAt, maxStartAt, labelRequirements, limit, offset
+func (_m *WorkflowArchive) ListWorkflows(namespace string, name string, minStartAt time.Time, maxStartAt time.Time, labelRequirements labels.Requirements, limit int, offset int) (v1alpha1.Workflows, error) {
+	ret := _m.Called(namespace, name, minStartAt, maxStartAt, labelRequirements, limit, offset)
 
 	var r0 v1alpha1.Workflows
-	if rf, ok := ret.Get(0).(func(string, time.Time, time.Time, labels.Requirements, int, int) v1alpha1.Workflows); ok {
-		r0 = rf(namespace, minStartAt, maxStartAt, labelRequirements, limit, offset)
+	if rf, ok := ret.Get(0).(func(string, string, time.Time, time.Time, labels.Requirements, int, int) v1alpha1.Workflows); ok {
+		r0 = rf(namespace, name, minStartAt, maxStartAt, labelRequirements, limit, offset)
 	} else {
 		if ret.Get(0) != nil {
 			r0 = ret.Get(0).(v1alpha1.Workflows)
@@ -109,8 +109,8 @@ func (_m *WorkflowArchive) ListWorkflows(namespace string, minStartAt time.Time,
 	}
 
 	var r1 error
-	if rf, ok := ret.Get(1).(func(string, time.Time, time.Time, labels.Requirements, int, int) error); ok {
-		r1 = rf(namespace, minStartAt, maxStartAt, labelRequirements, limit, offset)
+	if rf, ok := ret.Get(1).(func(string, string, time.Time, time.Time, labels.Requirements, int, int) error); ok {
+		r1 = rf(namespace, name, minStartAt, maxStartAt, labelRequirements, limit, offset)
 	} else {
 		r1 = ret.Error(1)
 	}
diff --git a/persist/sqldb/null_workflow_archive.go b/persist/sqldb/null_workflow_archive.go
index e572ca096ca7..a4e6ff2356e5 100644
--- a/persist/sqldb/null_workflow_archive.go
+++ b/persist/sqldb/null_workflow_archive.go
@@ -21,7 +21,7 @@ func (r *nullWorkflowArchive) ArchiveWorkflow(*wfv1.Workflow) error {
 	return nil
 }
 
-func (r *nullWorkflowArchive) ListWorkflows(string, time.Time, time.Time, labels.Requirements, int, int) (wfv1.Workflows, error) {
+func (r *nullWorkflowArchive) ListWorkflows(string, string, time.Time, time.Time, labels.Requirements, int, int) (wfv1.Workflows, error) {
 	return wfv1.Workflows{}, nil
 }
 
diff --git a/persist/sqldb/workflow_archive.go b/persist/sqldb/workflow_archive.go
index 3fab445391ed..8fdea0e14e8a 100644
--- a/persist/sqldb/workflow_archive.go
+++ b/persist/sqldb/workflow_archive.go
@@ -51,7 +51,7 @@ type archivedWorkflowLabelRecord struct {
 type WorkflowArchive interface {
 	ArchiveWorkflow(wf *wfv1.Workflow) error
 	// list workflows, with the most recently started workflows at the beginning (i.e. index 0 is the most recent)
-	ListWorkflows(namespace string, minStartAt, maxStartAt time.Time, labelRequirements labels.Requirements, limit, offset int) (wfv1.Workflows, error)
+	ListWorkflows(namespace string, name string, minStartAt, maxStartAt time.Time, labelRequirements labels.Requirements, limit, offset int) (wfv1.Workflows, error)
 	GetWorkflow(uid string) (*wfv1.Workflow, error)
 	DeleteWorkflow(uid string) error
 	DeleteExpiredWorkflows(ttl time.Duration) error
@@ -134,7 +134,7 @@ func (r *workflowArchive) ArchiveWorkflow(wf *wfv1.Workflow) error {
 	})
 }
 
-func (r *workflowArchive) ListWorkflows(namespace string, minStartedAt, maxStartedAt time.Time, labelRequirements labels.Requirements, limit int, offset int) (wfv1.Workflows, error) {
+func (r *workflowArchive) ListWorkflows(namespace string, name string, minStartedAt, maxStartedAt time.Time, labelRequirements labels.Requirements, limit int, offset int) (wfv1.Workflows, error) {
 	var archivedWfs []archivedWorkflowMetadata
 	clause, err := labelsClause(r.dbType, labelRequirements)
 	if err != nil {
@@ -153,6 +153,7 @@ func (r *workflowArchive) ListWorkflows(namespace string, minStartedAt, maxStart
 		From(archiveTableName).
 		Where(r.clusterManagedNamespaceAndInstanceID()).
 		And(namespaceEqual(namespace)).
+		And(nameEqual(name)).
 		And(startedAtClause(minStartedAt, maxStartedAt)).
 		And(clause).
 		OrderBy("-startedat").
@@ -208,6 +209,14 @@ func namespaceEqual(namespace string) db.Cond {
 	}
 }
 
+func nameEqual(name string) db.Cond {
+	if name == "" {
+		return db.Cond{}
+	} else {
+		return db.Cond{"name": name}
+	}
+}
+
 func (r *workflowArchive) GetWorkflow(uid string) (*wfv1.Workflow, error) {
 	archivedWf := &archivedWorkflowRecord{}
 	err := r.session.
diff --git a/server/workflowarchive/archived_workflow_server.go b/server/workflowarchive/archived_workflow_server.go
index 08e603daae3f..f9dfe9ab1fcf 100644
--- a/server/workflowarchive/archived_workflow_server.go
+++ b/server/workflowarchive/archived_workflow_server.go
@@ -48,6 +48,7 @@ func (w *archivedWorkflowServer) ListArchivedWorkflows(ctx context.Context, req
 	}
 
 	namespace := ""
+	name := ""
 	minStartedAt := time.Time{}
 	maxStartedAt := time.Time{}
 	for _, selector := range strings.Split(options.FieldSelector, ",") {
@@ -56,6 +57,8 @@ func (w *archivedWorkflowServer) ListArchivedWorkflows(ctx context.Context, req
 		}
 		if strings.HasPrefix(selector, "metadata.namespace=") {
 			namespace = strings.TrimPrefix(selector, "metadata.namespace=")
+		} else if strings.HasPrefix(selector, "metadata.name=") {
+			name = strings.TrimPrefix(selector, "metadata.name=")
 		} else if strings.HasPrefix(selector, "spec.startedAt>") {
 			minStartedAt, err = time.Parse(time.RFC3339, strings.TrimPrefix(selector, "spec.startedAt>"))
 			if err != nil {
@@ -94,7 +97,7 @@ func (w *archivedWorkflowServer) ListArchivedWorkflows(ctx context.Context, req
 		limitWithMore = limit + 1
 	}
 
-	items, err := w.wfArchive.ListWorkflows(namespace, minStartedAt, maxStartedAt, requirements, limitWithMore, offset)
+	items, err := w.wfArchive.ListWorkflows(namespace, name, minStartedAt, maxStartedAt, requirements, limitWithMore, offset)
 	if err != nil {
 		return nil, err
 	}
diff --git a/server/workflowarchive/archived_workflow_server_test.go b/server/workflowarchive/archived_workflow_server_test.go
index b08a6b97939b..6b00f73d2dfc 100644
--- a/server/workflowarchive/archived_workflow_server_test.go
+++ b/server/workflowarchive/archived_workflow_server_test.go
@@ -46,11 +46,12 @@ func Test_archivedWorkflowServer(t *testing.T) {
 		}, nil
 	})
 	// two pages of results for limit 1
-	repo.On("ListWorkflows", "", time.Time{}, time.Time{}, labels.Requirements(nil), 2, 0).Return(wfv1.Workflows{{}, {}}, nil)
-	repo.On("ListWorkflows", "", time.Time{}, time.Time{}, labels.Requirements(nil), 2, 1).Return(wfv1.Workflows{{}}, nil)
+	repo.On("ListWorkflows", "", "", time.Time{}, time.Time{}, labels.Requirements(nil), 2, 0).Return(wfv1.Workflows{{}, {}}, nil)
+	repo.On("ListWorkflows", "", "", time.Time{}, time.Time{}, labels.Requirements(nil), 2, 1).Return(wfv1.Workflows{{}}, nil)
 	minStartAt, _ := time.Parse(time.RFC3339, "2020-01-01T00:00:00Z")
 	maxStartAt, _ := time.Parse(time.RFC3339, "2020-01-02T00:00:00Z")
-	repo.On("ListWorkflows", "", minStartAt, maxStartAt, labels.Requirements(nil), 2, 0).Return(wfv1.Workflows{{}}, nil)
+	repo.On("ListWorkflows", "", "", minStartAt, maxStartAt, labels.Requirements(nil), 2, 0).Return(wfv1.Workflows{{}}, nil)
+	repo.On("ListWorkflows", "", "my-name", minStartAt, maxStartAt, labels.Requirements(nil), 2, 0).Return(wfv1.Workflows{{}}, nil)
 	repo.On("GetWorkflow", "").Return(nil, nil)
 	repo.On("GetWorkflow", "my-uid").Return(&wfv1.Workflow{
 		ObjectMeta: metav1.ObjectMeta{Name: "my-name"},
@@ -89,6 +90,11 @@ func Test_archivedWorkflowServer(t *testing.T) {
 			assert.Len(t, resp.Items, 1)
 			assert.Empty(t, resp.Continue)
 		}
+		resp, err = w.ListArchivedWorkflows(ctx, &workflowarchivepkg.ListArchivedWorkflowsRequest{ListOptions: &metav1.ListOptions{FieldSelector: "metadata.name=my-name,spec.startedAt>2020-01-01T00:00:00Z,spec.startedAt<2020-01-02T00:00:00Z", Limit: 1}})
+		if assert.NoError(t, err) {
+			assert.Len(t, resp.Items, 1)
+			assert.Empty(t, resp.Continue)
+		}
 	})
 	t.Run("GetArchivedWorkflow", func(t *testing.T) {
 		allowed = false
diff --git a/test/e2e/fixtures/e2e_suite.go b/test/e2e/fixtures/e2e_suite.go
index ca8a3125b8b5..c34d969db5da 100644
--- a/test/e2e/fixtures/e2e_suite.go
+++ b/test/e2e/fixtures/e2e_suite.go
@@ -145,7 +145,7 @@ func (s *E2ESuite) DeleteResources() {
 		archive := s.Persistence.workflowArchive
 		parse, err := labels.ParseToRequirements(Label)
 		s.CheckError(err)
-		workflows, err := archive.ListWorkflows(Namespace, time.Time{}, time.Time{}, parse, 0, 0)
+		workflows, err := archive.ListWorkflows(Namespace, "", time.Time{}, time.Time{}, parse, 0, 0)
 		s.CheckError(err)
 		for _, w := range workflows {
 			err := archive.DeleteWorkflow(string(w.UID))
diff --git a/ui/src/app/archived-workflows/components/archived-workflow-filters/archived-workflow-filters.tsx b/ui/src/app/archived-workflows/components/archived-workflow-filters/archived-workflow-filters.tsx
index 57cb5c3e1e70..0700daebacbb 100644
--- a/ui/src/app/archived-workflows/components/archived-workflow-filters/archived-workflow-filters.tsx
+++ b/ui/src/app/archived-workflows/components/archived-workflow-filters/archived-workflow-filters.tsx
@@ -2,6 +2,7 @@ import * as React from 'react';
 import DatePicker from 'react-datepicker';
 import * as models from '../../../../models';
 import {CheckboxFilter} from '../../../shared/components/checkbox-filter/checkbox-filter';
+import {InputFilter} from '../../../shared/components/input-filter';
 import {NamespaceFilter} from '../../../shared/components/namespace-filter';
 import {TagsInput} from '../../../shared/components/tags-input/tags-input';
 
@@ -12,12 +13,13 @@ require('./archived-workflow-filters.scss');
 interface ArchivedWorkflowFilterProps {
     workflows: models.Workflow[];
     namespace: string;
+    name: string;
     phaseItems: string[];
     selectedPhases: string[];
     selectedLabels: string[];
     minStartedAt?: Date;
     maxStartedAt?: Date;
-    onChange: (namespace: string, selectedPhases: string[], labels: string[], minStartedAt: Date, maxStartedAt: Date) => void;
+    onChange: (namespace: string, name: string, selectedPhases: string[], labels: string[], minStartedAt: Date, maxStartedAt: Date) => void;
 }
 
 export class ArchivedWorkflowFilters extends React.Component<ArchivedWorkflowFilterProps, {}> {
@@ -30,7 +32,24 @@ export class ArchivedWorkflowFilters extends React.Component<ArchivedWorkflowFil
                         <NamespaceFilter
                             value={this.props.namespace}
                             onChange={ns => {
-                                this.props.onChange(ns, this.props.selectedPhases, this.props.selectedLabels, this.props.minStartedAt, this.props.maxStartedAt);
+                                this.props.onChange(ns, this.props.name, this.props.selectedPhases, this.props.selectedLabels, this.props.minStartedAt, this.props.maxStartedAt);
+                            }}
+                        />
+                    </div>
+                    <div className='columns small-2 xlarge-12'>
+                        <p className='wf-filters-container__title'>Name</p>
+                        <InputFilter
+                            value={this.props.name}
+                            name='wfname'
+                            onChange={wfname => {
+                                this.props.onChange(
+                                    this.props.namespace,
+                                    wfname,
+                                    this.props.selectedPhases,
+                                    this.props.selectedLabels,
+                                    this.props.minStartedAt,
+                                    this.props.maxStartedAt
+                                );
                             }}
                         />
                     </div>
@@ -41,7 +60,7 @@ export class ArchivedWorkflowFilters extends React.Component<ArchivedWorkflowFil
                             autocomplete={this.getLabelSuggestions(this.props.workflows)}
                             tags={this.props.selectedLabels}
                             onChange={tags => {
-                                this.props.onChange(this.props.namespace, this.props.selectedPhases, tags, this.props.minStartedAt, this.props.maxStartedAt);
+                                this.props.onChange(this.props.namespace, this.props.name, this.props.selectedPhases, tags, this.props.minStartedAt, this.props.maxStartedAt);
                             }}
                         />
                     </div>
@@ -50,7 +69,7 @@ export class ArchivedWorkflowFilters extends React.Component<ArchivedWorkflowFil
                         <CheckboxFilter
                             selected={this.props.selectedPhases}
                             onChange={selected => {
-                                this.props.onChange(this.props.namespace, selected, this.props.selectedLabels, this.props.minStartedAt, this.props.maxStartedAt);
+                                this.props.onChange(this.props.namespace, this.props.name, selected, this.props.selectedLabels, this.props.minStartedAt, this.props.maxStartedAt);
                             }}
                             items={this.getPhaseItems(this.props.workflows)}
                             type='phase'
@@ -61,7 +80,7 @@ export class ArchivedWorkflowFilters extends React.Component<ArchivedWorkflowFil
                         <DatePicker
                             selected={this.props.minStartedAt}
                             onChange={date => {
-                                this.props.onChange(this.props.namespace, this.props.selectedPhases, this.props.selectedLabels, date, this.props.maxStartedAt);
+                                this.props.onChange(this.props.namespace, this.props.name, this.props.selectedPhases, this.props.selectedLabels, date, this.props.maxStartedAt);
                             }}
                             placeholderText='From'
                             dateFormat='dd MMM yyyy'
@@ -71,7 +90,7 @@ export class ArchivedWorkflowFilters extends React.Component<ArchivedWorkflowFil
                         <DatePicker
                             selected={this.props.maxStartedAt}
                             onChange={date => {
-                                this.props.onChange(this.props.namespace, this.props.selectedPhases, this.props.selectedLabels, this.props.minStartedAt, date);
+                                this.props.onChange(this.props.namespace, this.props.name, this.props.selectedPhases, this.props.selectedLabels, this.props.minStartedAt, date);
                             }}
                             placeholderText='To'
                             dateFormat='dd MMM yyyy'
diff --git a/ui/src/app/archived-workflows/components/archived-workflow-list/archived-workflow-list.tsx b/ui/src/app/archived-workflows/components/archived-workflow-list/archived-workflow-list.tsx
index be2318029421..3ae49217302d 100644
--- a/ui/src/app/archived-workflows/components/archived-workflow-list/archived-workflow-list.tsx
+++ b/ui/src/app/archived-workflows/components/archived-workflow-list/archived-workflow-list.tsx
@@ -21,6 +21,7 @@ import {ArchivedWorkflowFilters} from '../archived-workflow-filters/archived-wor
 
 interface State {
     pagination: Pagination;
+    name: string;
     namespace: string;
     selectedPhases: string[];
     selectedLabels: string[];
@@ -48,6 +49,7 @@ export class ArchivedWorkflowList extends BasePage<RouteComponentProps<any>, Sta
         this.state = {
             pagination: {offset: this.queryParam('offset'), limit: parseLimit(this.queryParam('limit')) || savedOptions.pagination.limit},
             namespace: Utils.getNamespace(this.props.match.params.namespace) || '',
+            name: this.queryParams('name').toString() || '',
             selectedPhases: phaseQueryParam.length > 0 ? phaseQueryParam : savedOptions.selectedPhases,
             selectedLabels: labelQueryParam.length > 0 ? labelQueryParam : savedOptions.selectedLabels,
             minStartedAt: this.parseTime(this.queryParam('minStartedAt')) || this.lastMonth(),
@@ -58,6 +60,7 @@ export class ArchivedWorkflowList extends BasePage<RouteComponentProps<any>, Sta
     public componentDidMount(): void {
         this.fetchArchivedWorkflows(
             this.state.namespace,
+            this.state.name,
             this.state.selectedPhases,
             this.state.selectedLabels,
             this.state.minStartedAt,
@@ -82,13 +85,14 @@ export class ArchivedWorkflowList extends BasePage<RouteComponentProps<any>, Sta
                             <ArchivedWorkflowFilters
                                 workflows={this.state.workflows || []}
                                 namespace={this.state.namespace}
+                                name={this.state.name}
                                 phaseItems={Object.values([models.NODE_PHASE.SUCCEEDED, models.NODE_PHASE.FAILED, models.NODE_PHASE.ERROR])}
                                 selectedPhases={this.state.selectedPhases}
                                 selectedLabels={this.state.selectedLabels}
                                 minStartedAt={this.state.minStartedAt}
                                 maxStartedAt={this.state.maxStartedAt}
-                                onChange={(namespace, selectedPhases, selectedLabels, minStartedAt, maxStartedAt) =>
-                                    this.changeFilters(namespace, selectedPhases, selectedLabels, minStartedAt, maxStartedAt, {limit: this.state.pagination.limit})
+                                onChange={(namespace, name, selectedPhases, selectedLabels, minStartedAt, maxStartedAt) =>
+                                    this.changeFilters(namespace, name, selectedPhases, selectedLabels, minStartedAt, maxStartedAt, {limit: this.state.pagination.limit})
                                 }
                             />
                         </div>
@@ -119,8 +123,8 @@ export class ArchivedWorkflowList extends BasePage<RouteComponentProps<any>, Sta
         }
     }
 
-    private changeFilters(namespace: string, selectedPhases: string[], selectedLabels: string[], minStartedAt: Date, maxStartedAt: Date, pagination: Pagination) {
-        this.fetchArchivedWorkflows(namespace, selectedPhases, selectedLabels, minStartedAt, maxStartedAt, pagination);
+    private changeFilters(namespace: string, name: string, selectedPhases: string[], selectedLabels: string[], minStartedAt: Date, maxStartedAt: Date, pagination: Pagination) {
+        this.fetchArchivedWorkflows(namespace, name, selectedPhases, selectedLabels, minStartedAt, maxStartedAt, pagination);
     }
 
     private get filterParams() {
@@ -135,6 +139,9 @@ export class ArchivedWorkflowList extends BasePage<RouteComponentProps<any>, Sta
                 params.append('label', label);
             });
         }
+        if (this.state.name) {
+            params.append('name', this.state.name);
+        }
         params.append('minStartedAt', this.state.minStartedAt.toISOString());
         params.append('maxStartedAt', this.state.maxStartedAt.toISOString());
         if (this.state.pagination.offset) {
@@ -153,14 +160,23 @@ export class ArchivedWorkflowList extends BasePage<RouteComponentProps<any>, Sta
         Utils.currentNamespace = this.state.namespace;
     }
 
-    private fetchArchivedWorkflows(namespace: string, selectedPhases: string[], selectedLabels: string[], minStartedAt: Date, maxStartedAt: Date, pagination: Pagination): void {
+    private fetchArchivedWorkflows(
+        namespace: string,
+        name: string,
+        selectedPhases: string[],
+        selectedLabels: string[],
+        minStartedAt: Date,
+        maxStartedAt: Date,
+        pagination: Pagination
+    ): void {
         services.archivedWorkflows
-            .list(namespace, selectedPhases, selectedLabels, minStartedAt, maxStartedAt, pagination)
+            .list(namespace, name, selectedPhases, selectedLabels, minStartedAt, maxStartedAt, pagination)
             .then(list => {
                 this.setState(
                     {
                         error: null,
                         namespace,
+                        name,
                         workflows: list.items || [],
                         selectedPhases,
                         selectedLabels,
@@ -225,7 +241,15 @@ export class ArchivedWorkflowList extends BasePage<RouteComponentProps<any>, Sta
                 </div>
                 <PaginationPanel
                     onChange={pagination =>
-                        this.changeFilters(this.state.namespace, this.state.selectedPhases, this.state.selectedLabels, this.state.minStartedAt, this.state.maxStartedAt, pagination)
+                        this.changeFilters(
+                            this.state.namespace,
+                            this.state.name,
+                            this.state.selectedPhases,
+                            this.state.selectedLabels,
+                            this.state.minStartedAt,
+                            this.state.maxStartedAt,
+                            pagination
+                        )
                     }
                     pagination={this.state.pagination}
                     numRecords={(this.state.workflows || []).length}
diff --git a/ui/src/app/reports/components/reports.tsx b/ui/src/app/reports/components/reports.tsx
index 2684fa6c2c39..656b98ae2852 100644
--- a/ui/src/app/reports/components/reports.tsx
+++ b/ui/src/app/reports/components/reports.tsx
@@ -104,7 +104,7 @@ export class Reports extends BasePage<RouteComponentProps<any>, State> {
             return;
         }
         (archivedWorkflows
-            ? services.archivedWorkflows.list(namespace, [], labels, null, null, {limit})
+            ? services.archivedWorkflows.list(namespace, '', [], labels, null, null, {limit})
             : services.workflows.list(namespace, [], labels, {limit}, [
                   'items.metadata.name',
                   'items.status.phase',
diff --git a/ui/src/app/shared/services/archived-workflows-service.ts b/ui/src/app/shared/services/archived-workflows-service.ts
index 50b37e3d18ba..9e75444098b4 100644
--- a/ui/src/app/shared/services/archived-workflows-service.ts
+++ b/ui/src/app/shared/services/archived-workflows-service.ts
@@ -3,9 +3,9 @@ import {Pagination} from '../pagination';
 import requests from './requests';
 
 export class ArchivedWorkflowsService {
-    public list(namespace: string, phases: string[], labels: string[], minStartedAt: Date, maxStartedAt: Date, pagination: Pagination) {
+    public list(namespace: string, name: string, phases: string[], labels: string[], minStartedAt: Date, maxStartedAt: Date, pagination: Pagination) {
         return requests
-            .get(`api/v1/archived-workflows?${this.queryParams({namespace, phases, labels, minStartedAt, maxStartedAt, pagination}).join('&')}`)
+            .get(`api/v1/archived-workflows?${this.queryParams({namespace, name, phases, labels, minStartedAt, maxStartedAt, pagination}).join('&')}`)
             .then(res => res.body as models.WorkflowList);
     }
 
@@ -17,9 +17,17 @@ export class ArchivedWorkflowsService {
         return requests.delete(`api/v1/archived-workflows/${uid}`);
     }
 
-    private queryParams(filter: {namespace?: string; phases?: Array<string>; labels?: Array<string>; minStartedAt?: Date; maxStartedAt?: Date; pagination: Pagination}) {
+    private queryParams(filter: {
+        namespace?: string;
+        name?: string;
+        phases?: Array<string>;
+        labels?: Array<string>;
+        minStartedAt?: Date;
+        maxStartedAt?: Date;
+        pagination: Pagination;
+    }) {
         const queryParams: string[] = [];
-        const fieldSelector = this.fieldSelectorParams(filter.namespace, filter.minStartedAt, filter.maxStartedAt);
+        const fieldSelector = this.fieldSelectorParams(filter.namespace, filter.name, filter.minStartedAt, filter.maxStartedAt);
         if (fieldSelector.length > 0) {
             queryParams.push(`listOptions.fieldSelector=${fieldSelector}`);
         }
@@ -36,11 +44,14 @@ export class ArchivedWorkflowsService {
         return queryParams;
     }
 
-    private fieldSelectorParams(namespace: string, minStartedAt: Date, maxStartedAt: Date) {
+    private fieldSelectorParams(namespace: string, name: string, minStartedAt: Date, maxStartedAt: Date) {
         let fieldSelector = '';
         if (namespace) {
             fieldSelector += 'metadata.namespace=' + namespace + ',';
         }
+        if (name) {
+            fieldSelector += 'metadata.name=' + name + ',';
+        }
         if (minStartedAt) {
             fieldSelector += 'spec.startedAt>' + minStartedAt.toISOString() + ',';
         }
diff --git a/workflow/controller/estimation/estimator_factory.go b/workflow/controller/estimation/estimator_factory.go
index a6f15d8df71a..56fc5cd555c8 100644
--- a/workflow/controller/estimation/estimator_factory.go
+++ b/workflow/controller/estimation/estimator_factory.go
@@ -76,7 +76,7 @@ func (f *estimatorFactory) NewEstimator(wf *wfv1.Workflow) (Estimator, error) {
 			if err != nil {
 				return defaultEstimator, fmt.Errorf("failed to parse selector to requirements: %v", err)
 			}
-			workflows, err := f.wfArchive.ListWorkflows(wf.Namespace, time.Time{}, time.Time{}, requirements, 1, 0)
+			workflows, err := f.wfArchive.ListWorkflows(wf.Namespace, "", time.Time{}, time.Time{}, requirements, 1, 0)
 			if err != nil {
 				return defaultEstimator, fmt.Errorf("failed to list archived workflows: %v", err)
 			}
diff --git a/workflow/controller/estimation/estimator_factory_test.go b/workflow/controller/estimation/estimator_factory_test.go
index 6072222edfc0..e778094644ee 100644
--- a/workflow/controller/estimation/estimator_factory_test.go
+++ b/workflow/controller/estimation/estimator_factory_test.go
@@ -53,7 +53,7 @@ metadata:
 	wfArchive := &sqldbmocks.WorkflowArchive{}
 	r, err := labels.ParseToRequirements("workflows.argoproj.io/phase=Succeeded,workflows.argoproj.io/workflow-template=my-archived-wftmpl")
 	assert.NoError(t, err)
-	wfArchive.On("ListWorkflows", "my-ns", time.Time{}, time.Time{}, labels.Requirements(r), 1, 0).Return(wfv1.Workflows{
+	wfArchive.On("ListWorkflows", "my-ns", "", time.Time{}, time.Time{}, labels.Requirements(r), 1, 0).Return(wfv1.Workflows{
 		*testutil.MustUnmarshalWorkflow(`
 metadata:
   name: my-archived-wftmpl-baseline`),

From 11657fe169e31319da431d77ed3355ab2848401d Mon Sep 17 00:00:00 2001
From: Damian Czaja <trojan295@protonmail.com>
Date: Mon, 13 Sep 2021 01:49:01 +0200
Subject: [PATCH 105/137] feat: Provide context to NewAPIClient (#6667)

Signed-off-by: Damian Czaja <trojan295@protonmail.com>
---
 USERS.md                                    |  1 +
 cmd/argo/commands/archive/delete.go         |  2 +-
 cmd/argo/commands/archive/get.go            |  2 +-
 cmd/argo/commands/archive/list.go           |  2 +-
 cmd/argo/commands/client/conn.go            |  3 ++-
 cmd/argo/commands/clustertemplate/create.go |  7 ++++---
 cmd/argo/commands/clustertemplate/delete.go |  7 ++++---
 cmd/argo/commands/clustertemplate/get.go    |  2 +-
 cmd/argo/commands/clustertemplate/lint.go   |  2 +-
 cmd/argo/commands/clustertemplate/list.go   |  2 +-
 cmd/argo/commands/cron/create.go            |  7 ++++---
 cmd/argo/commands/cron/delete.go            |  2 +-
 cmd/argo/commands/cron/get.go               |  2 +-
 cmd/argo/commands/cron/lint.go              |  2 +-
 cmd/argo/commands/cron/list.go              |  2 +-
 cmd/argo/commands/cron/resume.go            |  2 +-
 cmd/argo/commands/cron/suspend.go           |  2 +-
 cmd/argo/commands/delete.go                 |  2 +-
 cmd/argo/commands/get.go                    |  2 +-
 cmd/argo/commands/lint.go                   |  2 +-
 cmd/argo/commands/list.go                   |  2 +-
 cmd/argo/commands/logs.go                   |  2 +-
 cmd/argo/commands/node.go                   |  2 +-
 cmd/argo/commands/resubmit.go               |  2 +-
 cmd/argo/commands/resume.go                 |  2 +-
 cmd/argo/commands/retry.go                  |  2 +-
 cmd/argo/commands/stop.go                   |  2 +-
 cmd/argo/commands/submit.go                 |  2 +-
 cmd/argo/commands/suspend.go                |  2 +-
 cmd/argo/commands/template/create.go        |  7 ++++---
 cmd/argo/commands/template/delete.go        |  6 +++---
 cmd/argo/commands/template/get.go           |  2 +-
 cmd/argo/commands/template/lint.go          |  2 +-
 cmd/argo/commands/template/list.go          |  2 +-
 cmd/argo/commands/terminate.go              |  2 +-
 cmd/argo/commands/version.go                |  2 +-
 cmd/argo/commands/wait.go                   |  2 +-
 cmd/argo/commands/watch.go                  |  5 ++++-
 pkg/apiclient/apiclient.go                  | 12 +++++++++++-
 pkg/apiclient/argo-kube-client.go           |  4 ++--
 40 files changed, 69 insertions(+), 50 deletions(-)

diff --git a/USERS.md b/USERS.md
index abbf966b448e..a3edfa1b0e57 100644
--- a/USERS.md
+++ b/USERS.md
@@ -32,6 +32,7 @@ Currently, the following organizations are **officially** using Argo Workflows:
 1. [Botkeeper](https://www.botkeeper.com/)
 1. [ByteDance](https://www.bytedance.com/en/)
 1. [Canva](https://www.canva.com/)
+1. [Capact](https://capact.io/)
 1. [Capital One](https://www.capitalone.com/tech/)
 1. [Carrefour](https://www.carrefour.com/)
 1. [CarTrack](https://www.cartrack.com/)
diff --git a/cmd/argo/commands/archive/delete.go b/cmd/argo/commands/archive/delete.go
index 381539063cd2..cfc801a72a61 100644
--- a/cmd/argo/commands/archive/delete.go
+++ b/cmd/argo/commands/archive/delete.go
@@ -15,7 +15,7 @@ func NewDeleteCommand() *cobra.Command {
 		Use:   "delete UID...",
 		Short: "delete a workflow in the archive",
 		Run: func(cmd *cobra.Command, args []string) {
-			ctx, apiClient := client.NewAPIClient()
+			ctx, apiClient := client.NewAPIClient(cmd.Context())
 			serviceClient, err := apiClient.NewArchivedWorkflowServiceClient()
 			errors.CheckError(err)
 			for _, uid := range args {
diff --git a/cmd/argo/commands/archive/get.go b/cmd/argo/commands/archive/get.go
index a7ece8afbb74..7d57f5088b09 100644
--- a/cmd/argo/commands/archive/get.go
+++ b/cmd/argo/commands/archive/get.go
@@ -27,7 +27,7 @@ func NewGetCommand() *cobra.Command {
 			}
 			uid := args[0]
 
-			ctx, apiClient := client.NewAPIClient()
+			ctx, apiClient := client.NewAPIClient(cmd.Context())
 			serviceClient, err := apiClient.NewArchivedWorkflowServiceClient()
 			errors.CheckError(err)
 			wf, err := serviceClient.GetArchivedWorkflow(ctx, &workflowarchivepkg.GetArchivedWorkflowRequest{Uid: uid})
diff --git a/cmd/argo/commands/archive/list.go b/cmd/argo/commands/archive/list.go
index 0359a7f7f041..2a4569a3b8b2 100644
--- a/cmd/argo/commands/archive/list.go
+++ b/cmd/argo/commands/archive/list.go
@@ -25,7 +25,7 @@ func NewListCommand() *cobra.Command {
 		Use:   "list",
 		Short: "list workflows in the archive",
 		Run: func(cmd *cobra.Command, args []string) {
-			ctx, apiClient := client.NewAPIClient()
+			ctx, apiClient := client.NewAPIClient(cmd.Context())
 			serviceClient, err := apiClient.NewArchivedWorkflowServiceClient()
 			errors.CheckError(err)
 			namespace := client.Namespace()
diff --git a/cmd/argo/commands/client/conn.go b/cmd/argo/commands/client/conn.go
index b0879b30e355..dfbc91906b27 100644
--- a/cmd/argo/commands/client/conn.go
+++ b/cmd/argo/commands/client/conn.go
@@ -52,7 +52,7 @@ func AddAPIClientFlagsToCmd(cmd *cobra.Command) {
 	cmd.PersistentFlags().BoolVarP(&argoServerOpts.InsecureSkipVerify, "insecure-skip-verify", "k", os.Getenv("ARGO_INSECURE_SKIP_VERIFY") == "true", "If true, the Argo Server's certificate will not be checked for validity. This will make your HTTPS connections insecure. Defaults to the ARGO_INSECURE_SKIP_VERIFY environment variable.")
 }
 
-func NewAPIClient() (context.Context, apiclient.Client) {
+func NewAPIClient(ctx context.Context) (context.Context, apiclient.Client) {
 	ctx, client, err := apiclient.NewClientFromOpts(
 		apiclient.Opts{
 			ArgoServerOpts: argoServerOpts,
@@ -62,6 +62,7 @@ func NewAPIClient() (context.Context, apiclient.Client) {
 			},
 			ClientConfigSupplier: func() clientcmd.ClientConfig { return GetConfig() },
 			Offline:              Offline,
+			Context:              ctx,
 		})
 	if err != nil {
 		log.Fatal(err)
diff --git a/cmd/argo/commands/clustertemplate/create.go b/cmd/argo/commands/clustertemplate/create.go
index c539327ead59..ea7ea4acd330 100644
--- a/cmd/argo/commands/clustertemplate/create.go
+++ b/cmd/argo/commands/clustertemplate/create.go
@@ -1,6 +1,7 @@
 package clustertemplate
 
 import (
+	"context"
 	"log"
 	"os"
 
@@ -30,7 +31,7 @@ func NewCreateCommand() *cobra.Command {
 				os.Exit(1)
 			}
 
-			createClusterWorkflowTemplates(args, &cliCreateOpts)
+			createClusterWorkflowTemplates(cmd.Context(), args, &cliCreateOpts)
 		},
 	}
 	command.Flags().StringVarP(&cliCreateOpts.output, "output", "o", "", "Output format. One of: name|json|yaml|wide")
@@ -38,11 +39,11 @@ func NewCreateCommand() *cobra.Command {
 	return command
 }
 
-func createClusterWorkflowTemplates(filePaths []string, cliOpts *cliCreateOpts) {
+func createClusterWorkflowTemplates(ctx context.Context, filePaths []string, cliOpts *cliCreateOpts) {
 	if cliOpts == nil {
 		cliOpts = &cliCreateOpts{}
 	}
-	ctx, apiClient := client.NewAPIClient()
+	ctx, apiClient := client.NewAPIClient(ctx)
 	serviceClient, err := apiClient.NewClusterWorkflowTemplateServiceClient()
 	if err != nil {
 		log.Fatal(err)
diff --git a/cmd/argo/commands/clustertemplate/delete.go b/cmd/argo/commands/clustertemplate/delete.go
index 07eae5291531..fdf46a84ae7d 100644
--- a/cmd/argo/commands/clustertemplate/delete.go
+++ b/cmd/argo/commands/clustertemplate/delete.go
@@ -1,6 +1,7 @@
 package clustertemplate
 
 import (
+	"context"
 	"fmt"
 
 	"github.com/argoproj/pkg/errors"
@@ -18,7 +19,7 @@ func NewDeleteCommand() *cobra.Command {
 		Use:   "delete WORKFLOW_TEMPLATE",
 		Short: "delete a cluster workflow template",
 		Run: func(cmd *cobra.Command, args []string) {
-			apiServerDeleteClusterWorkflowTemplates(all, args)
+			apiServerDeleteClusterWorkflowTemplates(cmd.Context(), all, args)
 		},
 	}
 
@@ -26,8 +27,8 @@ func NewDeleteCommand() *cobra.Command {
 	return command
 }
 
-func apiServerDeleteClusterWorkflowTemplates(allWFs bool, wfTmplNames []string) {
-	ctx, apiClient := client.NewAPIClient()
+func apiServerDeleteClusterWorkflowTemplates(ctx context.Context, allWFs bool, wfTmplNames []string) {
+	ctx, apiClient := client.NewAPIClient(ctx)
 	serviceClient, err := apiClient.NewClusterWorkflowTemplateServiceClient()
 	errors.CheckError(err)
 
diff --git a/cmd/argo/commands/clustertemplate/get.go b/cmd/argo/commands/clustertemplate/get.go
index 9705c0bbf2fb..13505ba82a53 100644
--- a/cmd/argo/commands/clustertemplate/get.go
+++ b/cmd/argo/commands/clustertemplate/get.go
@@ -21,7 +21,7 @@ func NewGetCommand() *cobra.Command {
 		Use:   "get CLUSTER WORKFLOW_TEMPLATE...",
 		Short: "display details about a cluster workflow template",
 		Run: func(cmd *cobra.Command, args []string) {
-			ctx, apiClient := client.NewAPIClient()
+			ctx, apiClient := client.NewAPIClient(cmd.Context())
 			serviceClient, err := apiClient.NewClusterWorkflowTemplateServiceClient()
 			if err != nil {
 				log.Fatal(err)
diff --git a/cmd/argo/commands/clustertemplate/lint.go b/cmd/argo/commands/clustertemplate/lint.go
index 5d410c592851..cd4febb47f9a 100644
--- a/cmd/argo/commands/clustertemplate/lint.go
+++ b/cmd/argo/commands/clustertemplate/lint.go
@@ -25,7 +25,7 @@ func NewLintCommand() *cobra.Command {
 				os.Exit(1)
 			}
 
-			ctx, apiClient := client.NewAPIClient()
+			ctx, apiClient := client.NewAPIClient(cmd.Context())
 			opts := lint.LintOptions{
 				Files:            args,
 				DefaultNamespace: client.Namespace(),
diff --git a/cmd/argo/commands/clustertemplate/list.go b/cmd/argo/commands/clustertemplate/list.go
index 4d9f5b7b93cd..d26fd1243853 100644
--- a/cmd/argo/commands/clustertemplate/list.go
+++ b/cmd/argo/commands/clustertemplate/list.go
@@ -23,7 +23,7 @@ func NewListCommand() *cobra.Command {
 		Use:   "list",
 		Short: "list cluster workflow templates",
 		Run: func(cmd *cobra.Command, args []string) {
-			ctx, apiClient := client.NewAPIClient()
+			ctx, apiClient := client.NewAPIClient(cmd.Context())
 			serviceClient, err := apiClient.NewClusterWorkflowTemplateServiceClient()
 			if err != nil {
 				log.Fatal(err)
diff --git a/cmd/argo/commands/cron/create.go b/cmd/argo/commands/cron/create.go
index 67ed419a5833..82cf4d915bf2 100644
--- a/cmd/argo/commands/cron/create.go
+++ b/cmd/argo/commands/cron/create.go
@@ -1,6 +1,7 @@
 package cron
 
 import (
+	"context"
 	"fmt"
 	"log"
 	"os"
@@ -35,7 +36,7 @@ func NewCreateCommand() *cobra.Command {
 				os.Exit(1)
 			}
 
-			CreateCronWorkflows(args, &cliCreateOpts, &submitOpts)
+			CreateCronWorkflows(cmd.Context(), args, &cliCreateOpts, &submitOpts)
 		},
 	}
 
@@ -46,8 +47,8 @@ func NewCreateCommand() *cobra.Command {
 	return command
 }
 
-func CreateCronWorkflows(filePaths []string, cliOpts *cliCreateOpts, submitOpts *wfv1.SubmitOpts) {
-	ctx, apiClient := client.NewAPIClient()
+func CreateCronWorkflows(ctx context.Context, filePaths []string, cliOpts *cliCreateOpts, submitOpts *wfv1.SubmitOpts) {
+	ctx, apiClient := client.NewAPIClient(ctx)
 	serviceClient, err := apiClient.NewCronWorkflowServiceClient()
 	if err != nil {
 		log.Fatal(err)
diff --git a/cmd/argo/commands/cron/delete.go b/cmd/argo/commands/cron/delete.go
index 9efbe1fea52d..5e55e73b418b 100644
--- a/cmd/argo/commands/cron/delete.go
+++ b/cmd/argo/commands/cron/delete.go
@@ -16,7 +16,7 @@ func NewDeleteCommand() *cobra.Command {
 		Use:   "delete [CRON_WORKFLOW... | --all]",
 		Short: "delete a cron workflow",
 		Run: func(cmd *cobra.Command, args []string) {
-			ctx, apiClient := client.NewAPIClient()
+			ctx, apiClient := client.NewAPIClient(cmd.Context())
 			serviceClient, err := apiClient.NewCronWorkflowServiceClient()
 			errors.CheckError(err)
 			if all {
diff --git a/cmd/argo/commands/cron/get.go b/cmd/argo/commands/cron/get.go
index 3b488e23b4ae..10121f7e52d4 100644
--- a/cmd/argo/commands/cron/get.go
+++ b/cmd/argo/commands/cron/get.go
@@ -29,7 +29,7 @@ func NewGetCommand() *cobra.Command {
 				os.Exit(1)
 			}
 
-			ctx, apiClient := client.NewAPIClient()
+			ctx, apiClient := client.NewAPIClient(cmd.Context())
 			serviceClient, err := apiClient.NewCronWorkflowServiceClient()
 			errors.CheckError(err)
 			namespace := client.Namespace()
diff --git a/cmd/argo/commands/cron/lint.go b/cmd/argo/commands/cron/lint.go
index 320143383b6a..9f41235cfa99 100644
--- a/cmd/argo/commands/cron/lint.go
+++ b/cmd/argo/commands/cron/lint.go
@@ -24,7 +24,7 @@ func NewLintCommand() *cobra.Command {
 				cmd.HelpFunc()(cmd, args)
 				os.Exit(1)
 			}
-			ctx, apiClient := client.NewAPIClient()
+			ctx, apiClient := client.NewAPIClient(cmd.Context())
 			opts := lint.LintOptions{
 				Files:            args,
 				Strict:           strict,
diff --git a/cmd/argo/commands/cron/list.go b/cmd/argo/commands/cron/list.go
index 804b49bc44a9..ad4860faa7e7 100644
--- a/cmd/argo/commands/cron/list.go
+++ b/cmd/argo/commands/cron/list.go
@@ -29,7 +29,7 @@ func NewListCommand() *cobra.Command {
 		Use:   "list",
 		Short: "list cron workflows",
 		Run: func(cmd *cobra.Command, args []string) {
-			ctx, apiClient := client.NewAPIClient()
+			ctx, apiClient := client.NewAPIClient(cmd.Context())
 			serviceClient, err := apiClient.NewCronWorkflowServiceClient()
 			errors.CheckError(err)
 			namespace := client.Namespace()
diff --git a/cmd/argo/commands/cron/resume.go b/cmd/argo/commands/cron/resume.go
index abd3c15c14ee..7fee961d1f14 100644
--- a/cmd/argo/commands/cron/resume.go
+++ b/cmd/argo/commands/cron/resume.go
@@ -16,7 +16,7 @@ func NewResumeCommand() *cobra.Command {
 		Use:   "resume [CRON_WORKFLOW...]",
 		Short: "resume zero or more cron workflows",
 		Run: func(cmd *cobra.Command, args []string) {
-			ctx, apiClient := client.NewAPIClient()
+			ctx, apiClient := client.NewAPIClient(cmd.Context())
 			serviceClient, err := apiClient.NewCronWorkflowServiceClient()
 			errors.CheckError(err)
 			namespace := client.Namespace()
diff --git a/cmd/argo/commands/cron/suspend.go b/cmd/argo/commands/cron/suspend.go
index ff9cca8b3ed6..3a7e46ac5fff 100644
--- a/cmd/argo/commands/cron/suspend.go
+++ b/cmd/argo/commands/cron/suspend.go
@@ -16,7 +16,7 @@ func NewSuspendCommand() *cobra.Command {
 		Use:   "suspend CRON_WORKFLOW...",
 		Short: "suspend zero or more cron workflows",
 		Run: func(cmd *cobra.Command, args []string) {
-			ctx, apiClient := client.NewAPIClient()
+			ctx, apiClient := client.NewAPIClient(cmd.Context())
 			serviceClient, err := apiClient.NewCronWorkflowServiceClient()
 			errors.CheckError(err)
 			namespace := client.Namespace()
diff --git a/cmd/argo/commands/delete.go b/cmd/argo/commands/delete.go
index abea36dfcc0f..b8f663fa02c9 100644
--- a/cmd/argo/commands/delete.go
+++ b/cmd/argo/commands/delete.go
@@ -40,7 +40,7 @@ func NewDeleteCommand() *cobra.Command {
 				os.Exit(1)
 			}
 
-			ctx, apiClient := client.NewAPIClient()
+			ctx, apiClient := client.NewAPIClient(cmd.Context())
 			serviceClient := apiClient.NewWorkflowServiceClient()
 			var workflows wfv1.Workflows
 			if !allNamespaces {
diff --git a/cmd/argo/commands/get.go b/cmd/argo/commands/get.go
index db7bc3f23167..e1c1b2d3d8b3 100644
--- a/cmd/argo/commands/get.go
+++ b/cmd/argo/commands/get.go
@@ -70,7 +70,7 @@ func NewGetCommand() *cobra.Command {
 				cmd.HelpFunc()(cmd, args)
 				os.Exit(1)
 			}
-			ctx, apiClient := client.NewAPIClient()
+			ctx, apiClient := client.NewAPIClient(cmd.Context())
 			serviceClient := apiClient.NewWorkflowServiceClient()
 			namespace := client.Namespace()
 			for _, name := range args {
diff --git a/cmd/argo/commands/lint.go b/cmd/argo/commands/lint.go
index e0aa3ebaab31..608be5835efc 100644
--- a/cmd/argo/commands/lint.go
+++ b/cmd/argo/commands/lint.go
@@ -35,7 +35,7 @@ func NewLintCommand() *cobra.Command {
   cat manifests.yaml | argo lint --kinds=workflows,cronworkflows -`,
 		Run: func(cmd *cobra.Command, args []string) {
 			client.Offline = offline
-			ctx, apiClient := client.NewAPIClient()
+			ctx, apiClient := client.NewAPIClient(cmd.Context())
 			if len(args) == 0 {
 				cmd.HelpFunc()(cmd, args)
 				os.Exit(1)
diff --git a/cmd/argo/commands/list.go b/cmd/argo/commands/list.go
index f5a7f7c3db89..26973e4b3d7e 100644
--- a/cmd/argo/commands/list.go
+++ b/cmd/argo/commands/list.go
@@ -62,7 +62,7 @@ func NewListCommand() *cobra.Command {
 		Use:   "list",
 		Short: "list workflows",
 		Run: func(cmd *cobra.Command, args []string) {
-			ctx, apiClient := client.NewAPIClient()
+			ctx, apiClient := client.NewAPIClient(cmd.Context())
 			serviceClient := apiClient.NewWorkflowServiceClient()
 			if !allNamespaces {
 				listArgs.namespace = client.Namespace()
diff --git a/cmd/argo/commands/logs.go b/cmd/argo/commands/logs.go
index f9b5c168fc76..6724ed7bb25d 100644
--- a/cmd/argo/commands/logs.go
+++ b/cmd/argo/commands/logs.go
@@ -88,7 +88,7 @@ func NewLogsCommand() *cobra.Command {
 			}
 
 			// set-up
-			ctx, apiClient := client.NewAPIClient()
+			ctx, apiClient := client.NewAPIClient(cmd.Context())
 			serviceClient := apiClient.NewWorkflowServiceClient()
 			namespace := client.Namespace()
 
diff --git a/cmd/argo/commands/node.go b/cmd/argo/commands/node.go
index a044fa60222d..fb4403d37053 100644
--- a/cmd/argo/commands/node.go
+++ b/cmd/argo/commands/node.go
@@ -68,7 +68,7 @@ func NewNodeCommand() *cobra.Command {
 				outputParameters = string(res)
 			}
 
-			ctx, apiClient := client.NewAPIClient()
+			ctx, apiClient := client.NewAPIClient(cmd.Context())
 			serviceClient := apiClient.NewWorkflowServiceClient()
 			namespace := client.Namespace()
 
diff --git a/cmd/argo/commands/resubmit.go b/cmd/argo/commands/resubmit.go
index 20a437fda33e..b4d776911e21 100644
--- a/cmd/argo/commands/resubmit.go
+++ b/cmd/argo/commands/resubmit.go
@@ -74,7 +74,7 @@ func NewResubmitCommand() *cobra.Command {
 				cliSubmitOpts.priority = &resubmitOpts.priority
 			}
 
-			ctx, apiClient := client.NewAPIClient()
+			ctx, apiClient := client.NewAPIClient(cmd.Context())
 			serviceClient := apiClient.NewWorkflowServiceClient()
 			resubmitOpts.namespace = client.Namespace()
 			err := resubmitWorkflows(ctx, serviceClient, resubmitOpts, cliSubmitOpts, args)
diff --git a/cmd/argo/commands/resume.go b/cmd/argo/commands/resume.go
index 6ef2b1e7e31f..2a9a51105214 100644
--- a/cmd/argo/commands/resume.go
+++ b/cmd/argo/commands/resume.go
@@ -29,7 +29,7 @@ func NewResumeCommand() *cobra.Command {
   argo resume @latest
 `,
 		Run: func(cmd *cobra.Command, args []string) {
-			ctx, apiClient := client.NewAPIClient()
+			ctx, apiClient := client.NewAPIClient(cmd.Context())
 			serviceClient := apiClient.NewWorkflowServiceClient()
 			namespace := client.Namespace()
 
diff --git a/cmd/argo/commands/retry.go b/cmd/argo/commands/retry.go
index e35e62d9252e..3c7e425292a9 100644
--- a/cmd/argo/commands/retry.go
+++ b/cmd/argo/commands/retry.go
@@ -77,7 +77,7 @@ func NewRetryCommand() *cobra.Command {
 				cmd.HelpFunc()(cmd, args)
 				os.Exit(1)
 			}
-			ctx, apiClient := client.NewAPIClient()
+			ctx, apiClient := client.NewAPIClient(cmd.Context())
 			serviceClient := apiClient.NewWorkflowServiceClient()
 			retryOpts.namespace = client.Namespace()
 
diff --git a/cmd/argo/commands/stop.go b/cmd/argo/commands/stop.go
index 34821a373fd1..b289b264001d 100644
--- a/cmd/argo/commands/stop.go
+++ b/cmd/argo/commands/stop.go
@@ -59,7 +59,7 @@ func NewStopCommand() *cobra.Command {
 				cmd.HelpFunc()(cmd, args)
 				os.Exit(1)
 			}
-			ctx, apiClient := client.NewAPIClient()
+			ctx, apiClient := client.NewAPIClient(cmd.Context())
 			serviceClient := apiClient.NewWorkflowServiceClient()
 			stopArgs.namespace = client.Namespace()
 
diff --git a/cmd/argo/commands/submit.go b/cmd/argo/commands/submit.go
index de8654fb8bd6..0e3cc5c21f7b 100644
--- a/cmd/argo/commands/submit.go
+++ b/cmd/argo/commands/submit.go
@@ -73,7 +73,7 @@ func NewSubmitCommand() *cobra.Command {
 				log.Warn("--status should only be used with --watch")
 			}
 
-			ctx, apiClient := client.NewAPIClient()
+			ctx, apiClient := client.NewAPIClient(cmd.Context())
 			serviceClient := apiClient.NewWorkflowServiceClient()
 			namespace := client.Namespace()
 			if from != "" {
diff --git a/cmd/argo/commands/suspend.go b/cmd/argo/commands/suspend.go
index 5f900f90d302..f7a5fed34b5a 100644
--- a/cmd/argo/commands/suspend.go
+++ b/cmd/argo/commands/suspend.go
@@ -22,7 +22,7 @@ func NewSuspendCommand() *cobra.Command {
   argo suspend @latest
 `,
 		Run: func(cmd *cobra.Command, args []string) {
-			ctx, apiClient := client.NewAPIClient()
+			ctx, apiClient := client.NewAPIClient(cmd.Context())
 			serviceClient := apiClient.NewWorkflowServiceClient()
 			namespace := client.Namespace()
 			for _, wfName := range args {
diff --git a/cmd/argo/commands/template/create.go b/cmd/argo/commands/template/create.go
index 55280beb1142..7dc08c87d8a7 100644
--- a/cmd/argo/commands/template/create.go
+++ b/cmd/argo/commands/template/create.go
@@ -1,6 +1,7 @@
 package template
 
 import (
+	"context"
 	"log"
 	"os"
 
@@ -30,7 +31,7 @@ func NewCreateCommand() *cobra.Command {
 				os.Exit(1)
 			}
 
-			CreateWorkflowTemplates(args, &cliCreateOpts)
+			CreateWorkflowTemplates(cmd.Context(), args, &cliCreateOpts)
 		},
 	}
 	command.Flags().StringVarP(&cliCreateOpts.output, "output", "o", "", "Output format. One of: name|json|yaml|wide")
@@ -38,11 +39,11 @@ func NewCreateCommand() *cobra.Command {
 	return command
 }
 
-func CreateWorkflowTemplates(filePaths []string, cliOpts *cliCreateOpts) {
+func CreateWorkflowTemplates(ctx context.Context, filePaths []string, cliOpts *cliCreateOpts) {
 	if cliOpts == nil {
 		cliOpts = &cliCreateOpts{}
 	}
-	ctx, apiClient := client.NewAPIClient()
+	ctx, apiClient := client.NewAPIClient(ctx)
 	serviceClient, err := apiClient.NewWorkflowTemplateServiceClient()
 	if err != nil {
 		log.Fatal(err)
diff --git a/cmd/argo/commands/template/delete.go b/cmd/argo/commands/template/delete.go
index 02d4103707ef..d3b221b88ce0 100644
--- a/cmd/argo/commands/template/delete.go
+++ b/cmd/argo/commands/template/delete.go
@@ -20,7 +20,7 @@ func NewDeleteCommand() *cobra.Command {
 		Use:   "delete WORKFLOW_TEMPLATE",
 		Short: "delete a workflow template",
 		Run: func(cmd *cobra.Command, args []string) {
-			apiServerDeleteWorkflowTemplates(all, args)
+			apiServerDeleteWorkflowTemplates(cmd.Context(), all, args)
 		},
 	}
 
@@ -28,8 +28,8 @@ func NewDeleteCommand() *cobra.Command {
 	return command
 }
 
-func apiServerDeleteWorkflowTemplates(allWFs bool, wfTmplNames []string) {
-	ctx, apiClient := client.NewAPIClient()
+func apiServerDeleteWorkflowTemplates(ctx context.Context, allWFs bool, wfTmplNames []string) {
+	ctx, apiClient := client.NewAPIClient(ctx)
 	serviceClient, err := apiClient.NewWorkflowTemplateServiceClient()
 	if err != nil {
 		log.Fatal(err)
diff --git a/cmd/argo/commands/template/get.go b/cmd/argo/commands/template/get.go
index b33d8f0707b3..276e19495296 100644
--- a/cmd/argo/commands/template/get.go
+++ b/cmd/argo/commands/template/get.go
@@ -21,7 +21,7 @@ func NewGetCommand() *cobra.Command {
 		Use:   "get WORKFLOW_TEMPLATE...",
 		Short: "display details about a workflow template",
 		Run: func(cmd *cobra.Command, args []string) {
-			ctx, apiClient := client.NewAPIClient()
+			ctx, apiClient := client.NewAPIClient(cmd.Context())
 			serviceClient, err := apiClient.NewWorkflowTemplateServiceClient()
 			if err != nil {
 				log.Fatal(err)
diff --git a/cmd/argo/commands/template/lint.go b/cmd/argo/commands/template/lint.go
index f511aa75a7dc..c01e427217e0 100644
--- a/cmd/argo/commands/template/lint.go
+++ b/cmd/argo/commands/template/lint.go
@@ -24,7 +24,7 @@ func NewLintCommand() *cobra.Command {
 				cmd.HelpFunc()(cmd, args)
 				os.Exit(1)
 			}
-			ctx, apiClient := client.NewAPIClient()
+			ctx, apiClient := client.NewAPIClient(cmd.Context())
 			opts := lint.LintOptions{
 				Files:            args,
 				Strict:           strict,
diff --git a/cmd/argo/commands/template/list.go b/cmd/argo/commands/template/list.go
index b6e73b64828d..a1a2556d06af 100644
--- a/cmd/argo/commands/template/list.go
+++ b/cmd/argo/commands/template/list.go
@@ -25,7 +25,7 @@ func NewListCommand() *cobra.Command {
 		Use:   "list",
 		Short: "list workflow templates",
 		Run: func(cmd *cobra.Command, args []string) {
-			ctx, apiClient := client.NewAPIClient()
+			ctx, apiClient := client.NewAPIClient(cmd.Context())
 			serviceClient, err := apiClient.NewWorkflowTemplateServiceClient()
 			if err != nil {
 				log.Fatal(err)
diff --git a/cmd/argo/commands/terminate.go b/cmd/argo/commands/terminate.go
index 900ff5ef20ab..f21ee0aa51a2 100644
--- a/cmd/argo/commands/terminate.go
+++ b/cmd/argo/commands/terminate.go
@@ -68,7 +68,7 @@ func NewTerminateCommand() *cobra.Command {
 				os.Exit(1)
 			}
 
-			ctx, apiClient := client.NewAPIClient()
+			ctx, apiClient := client.NewAPIClient(cmd.Context())
 			serviceClient := apiClient.NewWorkflowServiceClient()
 			t.namespace = client.Namespace()
 
diff --git a/cmd/argo/commands/version.go b/cmd/argo/commands/version.go
index 5138571fc981..cee3b22293a1 100644
--- a/cmd/argo/commands/version.go
+++ b/cmd/argo/commands/version.go
@@ -21,7 +21,7 @@ func NewVersionCommand() *cobra.Command {
 		Run: func(cmd *cobra.Command, args []string) {
 			cmdutil.PrintVersion(CLIName, argo.GetVersion(), short)
 			if _, ok := os.LookupEnv("ARGO_SERVER"); ok {
-				ctx, apiClient := client.NewAPIClient()
+				ctx, apiClient := client.NewAPIClient(cmd.Context())
 				serviceClient, err := apiClient.NewInfoServiceClient()
 				errors.CheckError(err)
 				serverVersion, err := serviceClient.GetVersion(ctx, &infopkg.GetVersionRequest{})
diff --git a/cmd/argo/commands/wait.go b/cmd/argo/commands/wait.go
index 6cf63290fd11..50fa00a92641 100644
--- a/cmd/argo/commands/wait.go
+++ b/cmd/argo/commands/wait.go
@@ -34,7 +34,7 @@ func NewWaitCommand() *cobra.Command {
   argo wait @latest
 `,
 		Run: func(cmd *cobra.Command, args []string) {
-			ctx, apiClient := client.NewAPIClient()
+			ctx, apiClient := client.NewAPIClient(cmd.Context())
 			serviceClient := apiClient.NewWorkflowServiceClient()
 			namespace := client.Namespace()
 			waitWorkflows(ctx, serviceClient, namespace, args, ignoreNotFound, false)
diff --git a/cmd/argo/commands/watch.go b/cmd/argo/commands/watch.go
index daa740730052..a8bb58208bc2 100644
--- a/cmd/argo/commands/watch.go
+++ b/cmd/argo/commands/watch.go
@@ -38,7 +38,7 @@ func NewWatchCommand() *cobra.Command {
 				cmd.HelpFunc()(cmd, args)
 				os.Exit(1)
 			}
-			ctx, apiClient := client.NewAPIClient()
+			ctx, apiClient := client.NewAPIClient(cmd.Context())
 			serviceClient := apiClient.NewWorkflowServiceClient()
 			namespace := client.Namespace()
 			watchWorkflow(ctx, serviceClient, namespace, args[0], getArgs)
@@ -90,6 +90,9 @@ func watchWorkflow(ctx context.Context, serviceClient workflowpkg.WorkflowServic
 			wf = newWf
 		case <-ticker.C:
 			// If we don't, refresh the workflow screen every second
+		case <-ctx.Done():
+			// When the context gets canceled
+			return
 		}
 
 		printWorkflowStatus(wf, getArgs)
diff --git a/pkg/apiclient/apiclient.go b/pkg/apiclient/apiclient.go
index bf4600a9cee0..a20eae13b5da 100644
--- a/pkg/apiclient/apiclient.go
+++ b/pkg/apiclient/apiclient.go
@@ -33,12 +33,21 @@ type Opts struct {
 	ClientConfig         clientcmd.ClientConfig
 	ClientConfigSupplier func() clientcmd.ClientConfig
 	Offline              bool
+	Context              context.Context
 }
 
 func (o Opts) String() string {
 	return fmt.Sprintf("(argoServerOpts=%v,instanceID=%v)", o.ArgoServerOpts, o.InstanceID)
 }
 
+func (o *Opts) GetContext() context.Context {
+	if o.Context == nil {
+		o.Context = context.Background()
+	}
+
+	return o.Context
+}
+
 // DEPRECATED: use NewClientFromOpts
 func NewClient(argoServer string, authSupplier func() string, clientConfig clientcmd.ClientConfig) (context.Context, Client, error) {
 	return NewClientFromOpts(Opts{
@@ -47,6 +56,7 @@ func NewClient(argoServer string, authSupplier func() string, clientConfig clien
 		ClientConfigSupplier: func() clientcmd.ClientConfig {
 			return clientConfig
 		},
+		Context: context.Background(),
 	})
 }
 
@@ -67,7 +77,7 @@ func NewClientFromOpts(opts Opts) (context.Context, Client, error) {
 			opts.ClientConfig = opts.ClientConfigSupplier()
 		}
 
-		ctx, client, err := newArgoKubeClient(opts.ClientConfig, instanceid.NewService(opts.InstanceID))
+		ctx, client, err := newArgoKubeClient(opts.GetContext(), opts.ClientConfig, instanceid.NewService(opts.InstanceID))
 		return ctx, client, err
 	}
 }
diff --git a/pkg/apiclient/argo-kube-client.go b/pkg/apiclient/argo-kube-client.go
index 35b39cdca270..1ccb71b6f1ce 100644
--- a/pkg/apiclient/argo-kube-client.go
+++ b/pkg/apiclient/argo-kube-client.go
@@ -39,7 +39,7 @@ type argoKubeClient struct {
 
 var _ Client = &argoKubeClient{}
 
-func newArgoKubeClient(clientConfig clientcmd.ClientConfig, instanceIDService instanceid.Service) (context.Context, Client, error) {
+func newArgoKubeClient(ctx context.Context, clientConfig clientcmd.ClientConfig, instanceIDService instanceid.Service) (context.Context, Client, error) {
 	restConfig, err := clientConfig.ClientConfig()
 	if err != nil {
 		return nil, nil, err
@@ -75,7 +75,7 @@ func newArgoKubeClient(clientConfig clientcmd.ClientConfig, instanceIDService in
 	if err != nil {
 		return nil, nil, err
 	}
-	ctx, err := gatekeeper.Context(context.Background())
+	ctx, err = gatekeeper.Context(ctx)
 	if err != nil {
 		return nil, nil, err
 	}

From d1299ec8073789af8c9b6281770f9236013d5acf Mon Sep 17 00:00:00 2001
From: Tianchu Zhao <evantczhao@gmail.com>
Date: Mon, 13 Sep 2021 14:03:48 +1000
Subject: [PATCH 106/137] fix(executor): handle hdfs optional artifact at
 retriving hdfs file stat (#6703)

Signed-off-by: Tianchu Zhao <evantczhao@gmail.com>
---
 workflow/artifacts/hdfs/hdfs.go | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/workflow/artifacts/hdfs/hdfs.go b/workflow/artifacts/hdfs/hdfs.go
index 3900c115d575..ec029f610836 100644
--- a/workflow/artifacts/hdfs/hdfs.go
+++ b/workflow/artifacts/hdfs/hdfs.go
@@ -144,6 +144,9 @@ func (driver *ArtifactDriver) Load(_ *wfv1.Artifact, path string) error {
 
 	srcStat, err := hdfscli.Stat(driver.Path)
 	if err != nil {
+		if os.IsNotExist(err) {
+			return errors.New(errors.CodeNotFound, err.Error())
+		}
 		return err
 	}
 	if srcStat.IsDir() {

From 4c9c922924be2a299995fc06efbaef15c7fb0f84 Mon Sep 17 00:00:00 2001
From: Saravanan Balasubramanian
 <33908564+sarabala1979@users.noreply.github.com>
Date: Mon, 13 Sep 2021 12:21:49 -0700
Subject: [PATCH 107/137] fix: panic in prepareMetricScope (#6720)

Signed-off-by: Saravanan Balasubramanian <sarabala1979@gmail.com>
---
 workflow/controller/steps.go      | 12 ++++++++++--
 workflow/controller/steps_test.go |  2 ++
 2 files changed, 12 insertions(+), 2 deletions(-)

diff --git a/workflow/controller/steps.go b/workflow/controller/steps.go
index f2e538d46fc3..11e74f775bec 100644
--- a/workflow/controller/steps.go
+++ b/workflow/controller/steps.go
@@ -502,7 +502,11 @@ func (woc *wfOperationCtx) prepareMetricScope(node *wfv1.NodeStatus) (map[string
 	if node.Inputs != nil {
 		for _, param := range node.Inputs.Parameters {
 			key := fmt.Sprintf("inputs.parameters.%s", param.Name)
-			localScope[key] = param.Value.String()
+			if param.Value == nil {
+				localScope[key] = ""
+			} else {
+				localScope[key] = param.Value.String()
+			}
 		}
 	}
 
@@ -515,7 +519,11 @@ func (woc *wfOperationCtx) prepareMetricScope(node *wfv1.NodeStatus) (map[string
 		}
 		for _, param := range node.Outputs.Parameters {
 			key := fmt.Sprintf("outputs.parameters.%s", param.Name)
-			localScope[key] = param.Value.String()
+			if param.Value == nil {
+				localScope[key] = ""
+			} else {
+				localScope[key] = param.Value.String()
+			}
 		}
 	}
 
diff --git a/workflow/controller/steps_test.go b/workflow/controller/steps_test.go
index 5da0aedfa6c0..b907c7481710 100644
--- a/workflow/controller/steps_test.go
+++ b/workflow/controller/steps_test.go
@@ -135,6 +135,8 @@ func TestResourceDurationMetric(t *testing.T) {
       id: many-items-z26lj-3491220632
       name: many-items-z26lj[0].sleep(4:four)
       outputs:
+        parameters:
+        - name: pipeline_tid
         artifacts:
         - archiveLogs: true
           name: main-logs

From 3ba7d5fd64f5bab7c96b6b4ff65e488f8faa570e Mon Sep 17 00:00:00 2001
From: Tianchu Zhao <evantczhao@gmail.com>
Date: Tue, 14 Sep 2021 06:59:26 +1000
Subject: [PATCH 108/137] fix(ui): undefined cron timestamp (#6713)

Signed-off-by: Tianchu Zhao <evantczhao@gmail.com>
---
 ui/src/app/shared/components/timestamp.tsx | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/ui/src/app/shared/components/timestamp.tsx b/ui/src/app/shared/components/timestamp.tsx
index 67f1df37bd75..a2d13b5e9873 100644
--- a/ui/src/app/shared/components/timestamp.tsx
+++ b/ui/src/app/shared/components/timestamp.tsx
@@ -5,7 +5,7 @@ import {ago} from '../duration';
 export const Timestamp = ({date}: {date: Date | string | number}) => {
     return (
         <span>
-            {date === null ? (
+            {date === null || date === undefined ? (
                 '-'
             ) : (
                 <span title={date.toString()}>

From cf14cad41e1a8428cae8382398ee778892e63198 Mon Sep 17 00:00:00 2001
From: Tianchu Zhao <evantczhao@gmail.com>
Date: Tue, 14 Sep 2021 07:00:16 +1000
Subject: [PATCH 109/137] feat(ui): logsViewer use archived log if node finish
 and archived (#6708)

Signed-off-by: Tianchu Zhao <evantczhao@gmail.com>
---
 ui/src/app/shared/services/workflows-service.ts | 9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

diff --git a/ui/src/app/shared/services/workflows-service.ts b/ui/src/app/shared/services/workflows-service.ts
index 0566ff6224aa..e2a02e77201e 100644
--- a/ui/src/app/shared/services/workflows-service.ts
+++ b/ui/src/app/shared/services/workflows-service.ts
@@ -194,8 +194,13 @@ export class WorkflowsService {
         if (archived) {
             return getLogsFromArtifact();
         }
-
-        return this.getContainerLogsFromCluster(workflow, nodeId, container, grep).catch(getLogsFromArtifact);
+        // return archived log if main container is finished and has artifact
+        return Observable.fromPromise(this.isWorkflowNodePendingOrRunning(workflow, nodeId)).switchMap(isPendingOrRunning => {
+            if (!isPendingOrRunning && this.hasArtifactLogs(workflow, nodeId, container) && container === 'main') {
+                return getLogsFromArtifact();
+            }
+            return this.getContainerLogsFromCluster(workflow, nodeId, container, grep).catch(getLogsFromArtifact);
+        });
     }
 
     public getArtifactLogsUrl(workflow: Workflow, nodeId: string, container: string, archived: boolean) {

From 0b3f62cbe747aa82cff1419cf26db6007d1d1079 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?=E5=A4=A7=E9=9B=84?= <henrywangx@gmail.com>
Date: Tue, 14 Sep 2021 05:01:53 +0800
Subject: [PATCH 110/137] fix: kill sidecar timeout issue (#6700)

Signed-off-by: xiong wang <xiong.wang@inceptio.ai>

Co-authored-by: xiong wang <xiong.wang@inceptio.ai>
---
 workflow/executor/k8sapi/client.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/workflow/executor/k8sapi/client.go b/workflow/executor/k8sapi/client.go
index 0b07b6f338d0..60f9c26dd202 100644
--- a/workflow/executor/k8sapi/client.go
+++ b/workflow/executor/k8sapi/client.go
@@ -98,7 +98,7 @@ func (c *k8sAPIClient) GetContainerStatuses(ctx context.Context) (*corev1.Pod, [
 
 func (c *k8sAPIClient) KillContainer(pod *corev1.Pod, container *corev1.ContainerStatus, sig syscall.Signal) error {
 	command := []string{"/bin/sh", "-c", fmt.Sprintf("kill -%d 1", sig)}
-	exec, err := common.ExecPodContainer(c.config, c.namespace, c.podName, container.Name, false, true, command...)
+	exec, err := common.ExecPodContainer(c.config, c.namespace, c.podName, container.Name, true, true, command...)
 	if err != nil {
 		return err
 	}

From e57249e647ec15c859e1035d451c65ae76cc27b6 Mon Sep 17 00:00:00 2001
From: Anish Dangi <anish.dangi@gmail.com>
Date: Mon, 13 Sep 2021 14:58:15 -0700
Subject: [PATCH 111/137] fix: remove windows UNC paths from wait/init
 containers. Fixes #6583 (#6704)

Signed-off-by: Anish Dangi <anish.dangi@gmail.com>
---
 workflow/controller/workflowpod.go      | 34 ++++++-----------
 workflow/controller/workflowpod_test.go | 49 +++++++++++++++++++++++++
 workflow/util/util.go                   | 42 +++++++++++++++++++++
 3 files changed, 102 insertions(+), 23 deletions(-)

diff --git a/workflow/controller/workflowpod.go b/workflow/controller/workflowpod.go
index 8e57bd6dfd84..974da2f8e5d6 100644
--- a/workflow/controller/workflowpod.go
+++ b/workflow/controller/workflowpod.go
@@ -51,11 +51,11 @@ func (woc *wfOperationCtx) getVolumeMountDockerSock(tmpl *wfv1.Template) apiv1.V
 }
 
 func getDockerSockReadOnly(tmpl *wfv1.Template) bool {
-	return !hasWindowsOSNodeSelector(tmpl.NodeSelector)
+	return !util.HasWindowsOSNodeSelector(tmpl.NodeSelector)
 }
 
 func getDockerSockPath(tmpl *wfv1.Template) string {
-	if hasWindowsOSNodeSelector(tmpl.NodeSelector) {
+	if util.HasWindowsOSNodeSelector(tmpl.NodeSelector) {
 		return "\\\\.\\pipe\\docker_engine"
 	}
 
@@ -63,25 +63,13 @@ func getDockerSockPath(tmpl *wfv1.Template) string {
 }
 
 func getVolumeHostPathType(tmpl *wfv1.Template) *apiv1.HostPathType {
-	if hasWindowsOSNodeSelector(tmpl.NodeSelector) {
+	if util.HasWindowsOSNodeSelector(tmpl.NodeSelector) {
 		return nil
 	}
 
 	return &hostPathSocket
 }
 
-func hasWindowsOSNodeSelector(nodeSelector map[string]string) bool {
-	if nodeSelector == nil {
-		return false
-	}
-
-	if os, keyExists := nodeSelector["kubernetes.io/os"]; keyExists && os == "windows" {
-		return true
-	}
-
-	return false
-}
-
 func (woc *wfOperationCtx) getVolumeDockerSock(tmpl *wfv1.Template) apiv1.Volume {
 	dockerSockPath := getDockerSockPath(tmpl)
 
@@ -906,6 +894,9 @@ func (woc *wfOperationCtx) addInputArtifactsVolumes(pod *apiv1.Pod, tmpl *wfv1.T
 			// in case the executor needs to load artifacts to this volume
 			// instead of the artifacts volume
 			for _, mnt := range tmpl.GetVolumeMounts() {
+				if util.IsWindowsUNCPath(mnt.MountPath, tmpl) {
+					continue
+				}
 				mnt.MountPath = filepath.Join(common.ExecutorMainFilesystemDir, mnt.MountPath)
 				initCtr.VolumeMounts = append(initCtr.VolumeMounts, mnt)
 			}
@@ -959,14 +950,8 @@ func addOutputArtifactsVolumes(pod *apiv1.Pod, tmpl *wfv1.Template) {
 		return
 	}
 
-	waitCtrIndex := -1
-	for i, ctr := range pod.Spec.Containers {
-		switch ctr.Name {
-		case common.WaitContainerName:
-			waitCtrIndex = i
-		}
-	}
-	if waitCtrIndex == -1 {
+	waitCtrIndex, err := util.FindWaitCtrIndex(pod)
+	if err != nil {
 		log.Info("Could not find wait container in pod spec")
 		return
 	}
@@ -977,6 +962,9 @@ func addOutputArtifactsVolumes(pod *apiv1.Pod, tmpl *wfv1.Template) {
 			continue
 		}
 		for _, mnt := range c.VolumeMounts {
+			if util.IsWindowsUNCPath(mnt.MountPath, tmpl) {
+				continue
+			}
 			mnt.MountPath = filepath.Join(common.ExecutorMainFilesystemDir, mnt.MountPath)
 			// ReadOnly is needed to be false for overlapping volume mounts
 			mnt.ReadOnly = false
diff --git a/workflow/controller/workflowpod_test.go b/workflow/controller/workflowpod_test.go
index 4740fcd7d922..2f028110ba42 100644
--- a/workflow/controller/workflowpod_test.go
+++ b/workflow/controller/workflowpod_test.go
@@ -18,6 +18,7 @@ import (
 	"github.com/argoproj/argo-workflows/v3/test/util"
 	armocks "github.com/argoproj/argo-workflows/v3/workflow/artifactrepositories/mocks"
 	"github.com/argoproj/argo-workflows/v3/workflow/common"
+	wfutil "github.com/argoproj/argo-workflows/v3/workflow/util"
 )
 
 // Deprecated
@@ -1389,6 +1390,54 @@ func TestHybridWfVolumesWindows(t *testing.T) {
 	assert.Equal(t, (*apiv1.HostPathType)(nil), pod.Spec.Volumes[0].HostPath.Type)
 }
 
+func TestWindowsUNCPathsAreRemoved(t *testing.T) {
+	wf := wfv1.MustUnmarshalWorkflow(helloWindowsWf)
+	uncVolume := apiv1.Volume{
+		Name: "unc",
+		VolumeSource: apiv1.VolumeSource{
+			HostPath: &apiv1.HostPathVolumeSource{
+				Path: "\\\\.\\pipe\\test",
+			},
+		},
+	}
+	uncMount := apiv1.VolumeMount{
+		Name:      "unc",
+		MountPath: "\\\\.\\pipe\\test",
+	}
+
+	// Add artifacts so that initContainer volumeMount logic is run
+	inp := wfv1.Artifact{
+		Name: "kubectl",
+		Path: "C:\\kubectl",
+		ArtifactLocation: wfv1.ArtifactLocation{HTTP: &wfv1.HTTPArtifact{
+			URL: "https://dl.k8s.io/release/v1.22.0/bin/windows/amd64/kubectl.exe"},
+		},
+	}
+	wf.Spec.Volumes = append(wf.Spec.Volumes, uncVolume)
+	wf.Spec.Templates[0].Container.VolumeMounts = append(wf.Spec.Templates[0].Container.VolumeMounts, uncMount)
+	wf.Spec.Templates[0].Inputs.Artifacts = append(wf.Spec.Templates[0].Inputs.Artifacts, inp)
+	woc := newWoc(*wf)
+
+	ctx := context.Background()
+	mainCtr := woc.execWf.Spec.Templates[0].Container
+	pod, _ := woc.createWorkflowPod(ctx, wf.Name, []apiv1.Container{*mainCtr}, &wf.Spec.Templates[0], &createWorkflowPodOpts{})
+	waitCtrIdx, err := wfutil.FindWaitCtrIndex(pod)
+
+	if err != nil {
+		assert.Errorf(t, err, "could not find wait ctr index")
+	}
+	for _, mnt := range pod.Spec.Containers[waitCtrIdx].VolumeMounts {
+		assert.NotEqual(t, mnt.Name, "unc")
+	}
+	for _, initCtr := range pod.Spec.InitContainers {
+		if initCtr.Name == common.InitContainerName {
+			for _, mnt := range initCtr.VolumeMounts {
+				assert.NotEqual(t, mnt.Name, "unc")
+			}
+		}
+	}
+}
+
 func TestHybridWfVolumesLinux(t *testing.T) {
 	wf := wfv1.MustUnmarshalWorkflow(helloLinuxWf)
 	woc := newWoc(*wf)
diff --git a/workflow/util/util.go b/workflow/util/util.go
index 8c7fd9a44545..7ae62606ef99 100644
--- a/workflow/util/util.go
+++ b/workflow/util/util.go
@@ -11,6 +11,7 @@ import (
 	"os"
 	"path/filepath"
 	"regexp"
+	nruntime "runtime"
 	"strconv"
 	"strings"
 	"time"
@@ -1054,3 +1055,44 @@ func GetNodeType(tmpl *wfv1.Template) wfv1.NodeType {
 	}
 	return ""
 }
+
+// IsWindowsUNCPath checks if path is prefixed with \\
+// This can be used to skip any processing of paths
+// that point to SMB shares, local named pipes and local UNC path
+func IsWindowsUNCPath(path string, tmpl *wfv1.Template) bool {
+	if !HasWindowsOSNodeSelector(tmpl.NodeSelector) && nruntime.GOOS != "windows" {
+		return false
+	}
+	// Check for UNC prefix \\
+	if strings.HasPrefix(path, `\\`) {
+		return true
+	}
+	return false
+}
+
+func HasWindowsOSNodeSelector(nodeSelector map[string]string) bool {
+	if nodeSelector == nil {
+		return false
+	}
+
+	if platform, keyExists := nodeSelector["kubernetes.io/os"]; keyExists && platform == "windows" {
+		return true
+	}
+
+	return false
+}
+
+func FindWaitCtrIndex(pod *apiv1.Pod) (int, error) {
+	waitCtrIndex := -1
+	for i, ctr := range pod.Spec.Containers {
+		switch ctr.Name {
+		case common.WaitContainerName:
+			waitCtrIndex = i
+		}
+	}
+	if waitCtrIndex == -1 {
+		err := errors.Errorf("-1", "Could not find wait container in pod spec")
+		return -1, err
+	}
+	return waitCtrIndex, nil
+}

From ae5398698afd3676ba180874987bfc6c3563b9a6 Mon Sep 17 00:00:00 2001
From: Tianchu Zhao <evantczhao@gmail.com>
Date: Wed, 15 Sep 2021 01:04:40 +1000
Subject: [PATCH 112/137] fix(executor): allow emptyRepo artifact input. Fixes
 #5857 (#6711)

Signed-off-by: Tianchu Zhao <evantczhao@gmail.com>
---
 workflow/artifacts/git/git.go      | 23 +++++++-
 workflow/artifacts/git/git_test.go | 94 +++++++++++++++++-------------
 2 files changed, 77 insertions(+), 40 deletions(-)

diff --git a/workflow/artifacts/git/git.go b/workflow/artifacts/git/git.go
index 6f9a55daf86c..9931c49bc1af 100644
--- a/workflow/artifacts/git/git.go
+++ b/workflow/artifacts/git/git.go
@@ -14,6 +14,7 @@ import (
 	"golang.org/x/crypto/ssh"
 	"gopkg.in/src-d/go-git.v4"
 	"gopkg.in/src-d/go-git.v4/config"
+	"gopkg.in/src-d/go-git.v4/plumbing"
 	"gopkg.in/src-d/go-git.v4/plumbing/transport"
 	"gopkg.in/src-d/go-git.v4/plumbing/transport/http"
 	ssh2 "gopkg.in/src-d/go-git.v4/plumbing/transport/ssh"
@@ -129,8 +130,28 @@ func (g *ArtifactDriver) Load(inputArtifact *wfv1.Artifact, path string) error {
 		Auth:              auth,
 		Depth:             inputArtifact.Git.GetDepth(),
 	})
-	if err != nil {
+	switch err {
+	case transport.ErrEmptyRemoteRepository:
+		log.Info("Cloned an empty repository ")
+		r, err := git.PlainInit(path, false)
+		if err != nil {
+			return err
+		}
+		if _, err := r.CreateRemote(&config.RemoteConfig{Name: git.DefaultRemoteName, URLs: []string{inputArtifact.Git.Repo}}); err != nil {
+			return err
+		}
+		branchName := inputArtifact.Git.Revision
+		if branchName == "" {
+			branchName = "master"
+		}
+		if err = r.CreateBranch(&config.Branch{Name: branchName, Remote: git.DefaultRemoteName, Merge: plumbing.Master}); err != nil {
+			return err
+		}
+		return nil
+	default:
 		return err
+	case nil:
+		// fallthrough ...
 	}
 	if inputArtifact.Git.Fetch != nil {
 		refSpecs := make([]config.RefSpec, len(inputArtifact.Git.Fetch))
diff --git a/workflow/artifacts/git/git_test.go b/workflow/artifacts/git/git_test.go
index dbf3e55a82f2..07fa0f349f61 100644
--- a/workflow/artifacts/git/git_test.go
+++ b/workflow/artifacts/git/git_test.go
@@ -13,24 +13,30 @@ import (
 var d = uint64(1)
 
 func TestGitArtifactDriver_Load(t *testing.T) {
-	_ = os.Remove("git-ask-pass.sh")
-	driver := &ArtifactDriver{}
-	path := "/tmp/git-found"
-	assert.NoError(t, os.RemoveAll(path))
-	assert.NoError(t, os.MkdirAll(path, 0o777))
-	err := driver.Load(&wfv1.Artifact{
-		ArtifactLocation: wfv1.ArtifactLocation{
-			Git: &wfv1.GitArtifact{
-				Repo:     "https://github.com/argoproj/argoproj.git",
-				Fetch:    []string{"+refs/heads/*:refs/remotes/origin/*"},
-				Revision: "HEAD",
-				Depth:    &d,
+	for _, tt := range []struct {
+		url string
+	}{
+		{"https://github.com/argoproj/argo-workflows.git"},
+	} {
+		_ = os.Remove("git-ask-pass.sh")
+		driver := &ArtifactDriver{}
+		path := "/tmp/git-found"
+		assert.NoError(t, os.RemoveAll(path))
+		assert.NoError(t, os.MkdirAll(path, 0o777))
+		err := driver.Load(&wfv1.Artifact{
+			ArtifactLocation: wfv1.ArtifactLocation{
+				Git: &wfv1.GitArtifact{
+					Repo:     tt.url,
+					Fetch:    []string{"+refs/heads/*:refs/remotes/origin/*"},
+					Revision: "HEAD",
+					Depth:    &d,
+				},
 			},
-		},
-	}, path)
-	if assert.NoError(t, err) {
-		_, err := os.Stat(path)
-		assert.NoError(t, err)
+		}, path)
+		if assert.NoError(t, err) {
+			_, err := os.Stat(path)
+			assert.NoError(t, err)
+		}
 	}
 }
 
@@ -41,35 +47,45 @@ func TestGitArtifactDriver_Save(t *testing.T) {
 }
 
 func TestGitArtifactDriverLoad_HTTPS(t *testing.T) {
-	if os.Getenv("GITHUB_TOKEN") == "" {
-		t.Skip("not running an GITHUB_TOKEN not set")
-	}
-	_ = os.Remove("git-ask-pass.sh")
-	tmp, err := ioutil.TempDir("", "")
-	assert.NoError(t, err)
-	driver := &ArtifactDriver{Username: os.Getenv("GITHUB_TOKEN")}
-	assert.NotEmpty(t, driver.Username)
-	err = driver.Load(&wfv1.Artifact{
-		ArtifactLocation: wfv1.ArtifactLocation{
-			Git: &wfv1.GitArtifact{
-				Repo:     "https://github.com/argoproj/argo-workflows.git",
-				Fetch:    []string{"+refs/heads/*:refs/remotes/origin/*"},
-				Revision: "HEAD",
-				Depth:    &d,
+	for _, tt := range []struct {
+		url string
+	}{
+		{"https://github.com/argoproj/argo-workflows.git"},
+		{"https://github.com/argoproj/empty.git"},
+	} {
+		if os.Getenv("GITHUB_TOKEN") == "" {
+			t.Skip("not running an GITHUB_TOKEN not set")
+		}
+		_ = os.Remove("git-ask-pass.sh")
+		tmp, err := ioutil.TempDir("", "")
+		assert.NoError(t, err)
+		driver := &ArtifactDriver{Username: os.Getenv("GITHUB_TOKEN")}
+		assert.NotEmpty(t, driver.Username)
+		err = driver.Load(&wfv1.Artifact{
+			ArtifactLocation: wfv1.ArtifactLocation{
+				Git: &wfv1.GitArtifact{
+					Repo:     tt.url,
+					Fetch:    []string{"+refs/heads/*:refs/remotes/origin/*"},
+					Revision: "HEAD",
+					Depth:    &d,
+				},
 			},
-		},
-	}, tmp)
-	assert.NoError(t, err)
-	println(tmp)
+		}, tmp)
+		assert.NoError(t, err)
+		println(tmp)
+	}
 }
 
 func TestGitArtifactDriverLoad_SSL(t *testing.T) {
 	for _, tt := range []struct {
 		name     string
 		insecure bool
+		url      string
 	}{
-		{"Insecure", true},
-		{"Secure", false},
+		{"Insecure", true, "https://github.com/argoproj/argo-workflows.git"},
+		{"Secure", false, "https://github.com/argoproj/argo-workflows.git"},
+		{"Insecure", true, "https://github.com/argoproj/empty.git"},
+		{"Secure", false, "https://github.com/argoproj/empty.git"},
 	} {
 		t.Run(tt.name, func(t *testing.T) {
 			_ = os.Remove("git-ask-pass.sh")
@@ -86,7 +102,7 @@ func TestGitArtifactDriverLoad_SSL(t *testing.T) {
 			err = driver.Load(&wfv1.Artifact{
 				ArtifactLocation: wfv1.ArtifactLocation{
 					Git: &wfv1.GitArtifact{
-						Repo:                  "git@github.com:argoproj/argo-workflows.git",
+						Repo:                  tt.url,
 						Fetch:                 []string{"+refs/heads/*:refs/remotes/origin/*"},
 						Revision:              "HEAD",
 						InsecureIgnoreHostKey: tt.insecure,

From a82f42f271a75e9753ff3e66c05d70fdd2e41f41 Mon Sep 17 00:00:00 2001
From: Yuan Tang <terrytangyuan@gmail.com>
Date: Tue, 14 Sep 2021 11:08:40 -0400
Subject: [PATCH 113/137] docs: Fix link to examples in website (#6730)

Signed-off-by: Yuan Tang <terrytangyuan@gmail.com>
---
 docs/README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/docs/README.md b/docs/README.md
index 621392cc65dc..78292bd060ce 100644
--- a/docs/README.md
+++ b/docs/README.md
@@ -30,7 +30,7 @@ For set-up information and running your first Workflows, please see our [Getting
 
 ### Examples
 
-For detailed examples about what Argo can do, please see our [documentation by example](https://argoproj.github.io/argo-workflows/examples/) page.
+For detailed examples about what Argo can do, please see our [documentation by example](https://github.com/argoproj/argo-workflows/blob/master/examples/README.md) page.
 
 ### Fields
 

From a449b47728a7b86f1a1702b46c13b684aad8c667 Mon Sep 17 00:00:00 2001
From: "github-actions[bot]"
 <41898282+github-actions[bot]@users.noreply.github.com>
Date: Tue, 14 Sep 2021 08:08:52 -0700
Subject: [PATCH 114/137] docs: updated CHANGELOG.md (#6723)

Signed-off-by: GitHub <noreply@github.com>

Co-authored-by: sarabala1979 <sarabala1979@users.noreply.github.com>
---
 CHANGELOG.md | 12 ++++++++++++
 1 file changed, 12 insertions(+)

diff --git a/CHANGELOG.md b/CHANGELOG.md
index ba5ced531acb..6811916f0894 100644
--- a/CHANGELOG.md
+++ b/CHANGELOG.md
@@ -190,6 +190,18 @@
  * meijin
  * wanghong230
 
+## v3.1.11 (2021-09-13)
+
+ * [665c08d29](https://github.com/argoproj/argo-workflows/commit/665c08d2906f1bb15fdd8c2f21e6877923e0394b) skippied flakytest
+ * [459a61170](https://github.com/argoproj/argo-workflows/commit/459a61170663729c912a9b387fd7fa5c8a147839) fix(executor): handle hdfs optional artifact at retriving hdfs file stat (#6703)
+ * [82e408297](https://github.com/argoproj/argo-workflows/commit/82e408297c65a2d64408d9f6fb01766192fcec42) fix: panic in prepareMetricScope (#6720)
+ * [808d897a8](https://github.com/argoproj/argo-workflows/commit/808d897a844b46487de65ce27ddeb2dad614f417) fix(ui): undefined cron timestamp (#6713)
+
+### Contributors
+
+ * Saravanan Balasubramanian
+ * Tianchu Zhao
+
 ## v3.1.10 (2021-09-10)
 
  * [2730a51a2](https://github.com/argoproj/argo-workflows/commit/2730a51a203d6b587db5fe43a0e3de018a35dbd8) fix: Fix `x509: certificate signed by unknown authority` error (#6566)

From 69e438426e4d116e2c9a1716651af7ef14864f04 Mon Sep 17 00:00:00 2001
From: Joshua Carp <jm.carp@gmail.com>
Date: Tue, 14 Sep 2021 11:08:59 -0400
Subject: [PATCH 115/137] fix: correct minor typos in docs (#6722)

Signed-off-by: Josh Carp <jm.carp@gmail.com>
---
 cmd/argo/commands/root.go | 2 +-
 docs/cli/argo.md          | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/cmd/argo/commands/root.go b/cmd/argo/commands/root.go
index e7c703fc7584..e9ef3d554c6c 100644
--- a/cmd/argo/commands/root.go
+++ b/cmd/argo/commands/root.go
@@ -30,7 +30,7 @@ You can use the CLI in the following modes:
 
 # Kubernetes API Mode (default)
 
-Requests are sent directly to the Kubernetes API. No Argo Server is needs. Large workflows and the workflow archive are not supported.
+Requests are sent directly to the Kubernetes API. No Argo Server is needed. Large workflows and the workflow archive are not supported.
 
 Use when you have direct access to the Kubernetes API, and don't need large workflow or workflow archive support.
 
diff --git a/docs/cli/argo.md b/docs/cli/argo.md
index bb86519535dd..6533c891c4f8 100644
--- a/docs/cli/argo.md
+++ b/docs/cli/argo.md
@@ -9,7 +9,7 @@ You can use the CLI in the following modes:
 
 # Kubernetes API Mode (default)
 
-Requests are sent directly to the Kubernetes API. No Argo Server is needs. Large workflows and the workflow archive are not supported.
+Requests are sent directly to the Kubernetes API. No Argo Server is needed. Large workflows and the workflow archive are not supported.
 
 Use when you have direct access to the Kubernetes API, and don't need large workflow or workflow archive support.
 

From 9936cf680d56b88ea9c16411500924724fb2f06d Mon Sep 17 00:00:00 2001
From: "github-actions[bot]"
 <41898282+github-actions[bot]@users.noreply.github.com>
Date: Tue, 14 Sep 2021 13:16:38 -0700
Subject: [PATCH 116/137] docs: updated CHANGELOG.md (#6734)

Signed-off-by: GitHub <noreply@github.com>

Co-authored-by: sarabala1979 <sarabala1979@users.noreply.github.com>
---
 CHANGELOG.md | 37 +++++++++++++++++++++++++++++++++++++
 1 file changed, 37 insertions(+)

diff --git a/CHANGELOG.md b/CHANGELOG.md
index 6811916f0894..56bbdd821d95 100644
--- a/CHANGELOG.md
+++ b/CHANGELOG.md
@@ -1,5 +1,42 @@
 # Changelog
 
+## v3.2.0-rc3 (2021-09-14)
+
+ * [69e438426](https://github.com/argoproj/argo-workflows/commit/69e438426e4d116e2c9a1716651af7ef14864f04) fix: correct minor typos in docs (#6722)
+ * [ae5398698](https://github.com/argoproj/argo-workflows/commit/ae5398698afd3676ba180874987bfc6c3563b9a6) fix(executor): allow emptyRepo artifact input. Fixes #5857 (#6711)
+ * [e57249e64](https://github.com/argoproj/argo-workflows/commit/e57249e647ec15c859e1035d451c65ae76cc27b6) fix: remove windows UNC paths from wait/init containers. Fixes #6583 (#6704)
+ * [0b3f62cbe](https://github.com/argoproj/argo-workflows/commit/0b3f62cbe747aa82cff1419cf26db6007d1d1079) fix: kill sidecar timeout issue (#6700)
+ * [cf14cad41](https://github.com/argoproj/argo-workflows/commit/cf14cad41e1a8428cae8382398ee778892e63198) feat(ui): logsViewer use archived log if node finish and archived (#6708)
+ * [3ba7d5fd6](https://github.com/argoproj/argo-workflows/commit/3ba7d5fd64f5bab7c96b6b4ff65e488f8faa570e) fix(ui): undefined cron timestamp (#6713)
+ * [4c9c92292](https://github.com/argoproj/argo-workflows/commit/4c9c922924be2a299995fc06efbaef15c7fb0f84) fix: panic in prepareMetricScope (#6720)
+ * [d1299ec80](https://github.com/argoproj/argo-workflows/commit/d1299ec8073789af8c9b6281770f9236013d5acf) fix(executor): handle hdfs optional artifact at retriving hdfs file stat (#6703)
+ * [11657fe16](https://github.com/argoproj/argo-workflows/commit/11657fe169e31319da431d77ed3355ab2848401d) feat: Provide context to NewAPIClient (#6667)
+ * [a1cc0f557](https://github.com/argoproj/argo-workflows/commit/a1cc0f557c08c1206df89e39d2c286f02a6675de) feat: archivewf add name filter. Fixes #5824 (#6706)
+ * [1e31eb856](https://github.com/argoproj/argo-workflows/commit/1e31eb85655d2118f2e3c3edaa8886f923de4f5b) fix(ui): report phase button alignment (#6707)
+ * [d45395b6f](https://github.com/argoproj/argo-workflows/commit/d45395b6f3b0cc40444e98af921b9e80284b74e8) fix: run Snyk on UI. Fixes #6604 (#6651)
+ * [2e174bd4c](https://github.com/argoproj/argo-workflows/commit/2e174bd4c585ccf72e34c8f72703a0950a67460c) fix(ui): button margin (#6699)
+ * [4b5d7ecfd](https://github.com/argoproj/argo-workflows/commit/4b5d7ecfd1087f22002bc63658dc5ad3fe30927f) fix(emissary): strip trailing slash from artifact src before creating (#6696)
+ * [28c8dc7a9](https://github.com/argoproj/argo-workflows/commit/28c8dc7a9054fdf90fd7f98e03f86923dc6e6d2a) feat: Support loading parameter values from configmaps (#6662)
+ * [9c76cc34c](https://github.com/argoproj/argo-workflows/commit/9c76cc34c7591f0113dea4e35b58b902d8386544) fix(executor): Retry `kubectl` on transient error (#6472)
+ * [929351267](https://github.com/argoproj/argo-workflows/commit/9293512674c21a2494c704978990cf89eb5ad8c0) fix(cli): Added validatation for StartAt, FinishedAt and ID (#6661)
+ * [a147f178d](https://github.com/argoproj/argo-workflows/commit/a147f178d9ddbe139551bf5636f73fb1af2e61f8) fix(controller): Set finishedAt for workflow with Daemon steps (#6650)
+ * [5522d4b4c](https://github.com/argoproj/argo-workflows/commit/5522d4b4c6f3b2de68956998c877b2c596e158af) fix: Do not index complete workflow semaphores (#6639)
+ * [2ac3c48d3](https://github.com/argoproj/argo-workflows/commit/2ac3c48d33415b804067b07a13185b06d3b416bc) fix: `argo node set` panic: index out of range and correct docs (#6653)
+
+### Contributors
+
+ * Alex Collins
+ * Anish Dangi
+ * Damian Czaja
+ * Elliot Maincourt
+ * Jesse Suen
+ * Joshua Carp
+ * Saravanan Balasubramanian
+ * Tianchu Zhao
+ * William Van Hevelingen
+ * Yuan Tang
+ * 
+
 ## v3.2.0-rc2 (2021-09-01)
 
  * [6d46fd9f8](https://github.com/argoproj/argo-workflows/commit/6d46fd9f881a337b5b3d34d62e71d9b56ba05b1a) feat(controller): Add a shared index informer for ConfigMaps (#6644)

From e5b131a333afac0ed3444b70e2fe846b86dc63e1 Mon Sep 17 00:00:00 2001
From: "J.P. Zivalich" <j.p.zivalich@gmail.com>
Date: Wed, 15 Sep 2021 11:03:11 -0700
Subject: [PATCH 117/137] feat: Add template node to pod name. Fixes #1319
 (#6712)

Signed-off-by: J.P. Zivalich <j.p.zivalich@gmail.com>
---
 docs/environment-variables.md                 |  1 +
 test/e2e/fixtures/then.go                     |  4 +-
 workflow/common/common.go                     |  4 ++
 workflow/controller/controller.go             |  1 +
 workflow/controller/exec_control.go           | 22 +++++----
 workflow/controller/indexes/indexes.go        |  1 +
 workflow/controller/indexes/workflow_index.go | 15 ++++++
 .../controller/indexes/workflow_index_test.go | 37 ++++++++++++++
 workflow/controller/node_counters.go          |  4 +-
 workflow/controller/node_counters_test.go     | 13 +++++
 workflow/controller/operator.go               | 16 +++++--
 workflow/controller/operator_test.go          | 25 +++-------
 workflow/controller/workflowpod.go            | 48 ++++++++++++++-----
 workflow/controller/workflowpod_test.go       | 25 ++++++++++
 workflow/util/pod_name.go                     | 40 ++++++++++++++++
 workflow/util/pod_name_test.go                | 39 +++++++++++++++
 workflow/util/util.go                         |  3 +-
 17 files changed, 249 insertions(+), 49 deletions(-)
 create mode 100644 workflow/util/pod_name.go
 create mode 100644 workflow/util/pod_name_test.go

diff --git a/docs/environment-variables.md b/docs/environment-variables.md
index 4b3e2ed332cb..dfee85c59bcf 100644
--- a/docs/environment-variables.md
+++ b/docs/environment-variables.md
@@ -26,6 +26,7 @@ Note that these environment variables may be removed at any time.
 | `LEADER_ELECTION_RETRY_PERIOD` | `time.Duration` | `5s` | The duration that the leader election clients should wait between tries of actions. |
 | `MAX_OPERATION_TIME` | `time.Duration` | `30s` | The maximum time a workflow operation is allowed to run for before requeuing the workflow onto the work queue. |
 | `OFFLOAD_NODE_STATUS_TTL` | `time.Duration` | `5m` | The TTL to delete the offloaded node status. Currently only used for testing. |
+| `POD_NAMES` | `string` | `v2` | Whether to have pod names contain the template name (v2) or be the node id (v1). |
 | `RECENTLY_STARTED_POD_DURATION` | `time.Duration` | `10s` | The duration of a pod before the pod is considered to be recently started. |
 | `RETRY_BACKOFF_DURATION` | `time.Duration` | `10ms` | The retry backoff duration when retrying API calls. |
 | `RETRY_BACKOFF_FACTOR` | `float` | `2.0` | The retry backoff factor when retrying API calls. |
diff --git a/test/e2e/fixtures/then.go b/test/e2e/fixtures/then.go
index b2a40c848e8d..38978171e997 100644
--- a/test/e2e/fixtures/then.go
+++ b/test/e2e/fixtures/then.go
@@ -18,6 +18,7 @@ import (
 	wfv1 "github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1"
 	"github.com/argoproj/argo-workflows/v3/pkg/client/clientset/versioned/typed/workflow/v1alpha1"
 	"github.com/argoproj/argo-workflows/v3/workflow/hydrator"
+	"github.com/argoproj/argo-workflows/v3/workflow/util"
 )
 
 type Then struct {
@@ -87,7 +88,8 @@ func (t *Then) ExpectWorkflowNode(selector func(status wfv1.NodeStatus) bool, f
 			if n.Type == wfv1.NodeTypePod {
 				var err error
 				ctx := context.Background()
-				p, err = t.kubeClient.CoreV1().Pods(t.wf.Namespace).Get(ctx, n.ID, metav1.GetOptions{})
+				podName := util.PodName(t.wf.Name, n.Name, n.TemplateName, n.ID)
+				p, err = t.kubeClient.CoreV1().Pods(t.wf.Namespace).Get(ctx, podName, metav1.GetOptions{})
 				if err != nil {
 					if !apierr.IsNotFound(err) {
 						t.t.Error(err)
diff --git a/workflow/common/common.go b/workflow/common/common.go
index 4a2d832deb23..1b12141a7498 100644
--- a/workflow/common/common.go
+++ b/workflow/common/common.go
@@ -15,6 +15,10 @@ const (
 	// DockerSockVolumeName is the volume name for the /var/run/docker.sock host path volume
 	DockerSockVolumeName = "docker-sock"
 
+	// AnnotationKeyNodeID is the ID of the node.
+	// Historically, the pod name was the same as the node ID.
+	// Therefore, if it does not exist, then the node ID is the pod name.
+	AnnotationKeyNodeID = workflow.WorkflowFullName + "/node-id"
 	// AnnotationKeyNodeName is the pod metadata annotation key containing the workflow node name
 	AnnotationKeyNodeName = workflow.WorkflowFullName + "/node-name"
 	// AnnotationKeyNodeName is the node's type
diff --git a/workflow/controller/controller.go b/workflow/controller/controller.go
index 870fd5919b1d..306fd8e7798c 100644
--- a/workflow/controller/controller.go
+++ b/workflow/controller/controller.go
@@ -1029,6 +1029,7 @@ func (wfc *WorkflowController) newPodInformer(ctx context.Context) cache.SharedI
 	source := wfc.newWorkflowPodWatch(ctx)
 	informer := cache.NewSharedIndexInformer(source, &apiv1.Pod{}, podResyncPeriod, cache.Indexers{
 		indexes.WorkflowIndex: indexes.MetaWorkflowIndexFunc,
+		indexes.NodeIDIndex:   indexes.MetaNodeIDIndexFunc,
 		indexes.PodPhaseIndex: indexes.PodPhaseIndexFunc,
 	})
 	informer.AddEventHandler(
diff --git a/workflow/controller/exec_control.go b/workflow/controller/exec_control.go
index 961faf16c6e3..338de07d49e4 100644
--- a/workflow/controller/exec_control.go
+++ b/workflow/controller/exec_control.go
@@ -19,6 +19,9 @@ func (woc *wfOperationCtx) applyExecutionControl(ctx context.Context, pod *apiv1
 	if pod == nil {
 		return
 	}
+
+	nodeID := woc.nodeID(pod)
+
 	switch pod.Status.Phase {
 	case apiv1.PodSucceeded, apiv1.PodFailed:
 		// Skip any pod which are already completed
@@ -33,10 +36,8 @@ func (woc *wfOperationCtx) applyExecutionControl(ctx context.Context, pod *apiv1
 				woc.log.Infof("Deleting Pending pod %s/%s as part of workflow shutdown with strategy: %s", pod.Namespace, pod.Name, woc.GetShutdownStrategy())
 				err := woc.controller.kubeclientset.CoreV1().Pods(pod.Namespace).Delete(ctx, pod.Name, metav1.DeleteOptions{})
 				if err == nil {
-					wfNodesLock.Lock()
-					node := woc.wf.Status.Nodes[pod.Name]
-					wfNodesLock.Unlock()
-					woc.markNodePhase(node.Name, wfv1.NodeFailed, fmt.Sprintf("workflow shutdown with strategy:  %s", woc.GetShutdownStrategy()))
+					msg := fmt.Sprintf("workflow shutdown with strategy:  %s", woc.GetShutdownStrategy())
+					woc.handleExecutionControlError(nodeID, wfNodesLock, msg)
 					return
 				}
 				// If we fail to delete the pod, fall back to setting the annotation
@@ -52,10 +53,7 @@ func (woc *wfOperationCtx) applyExecutionControl(ctx context.Context, pod *apiv1
 				woc.log.Infof("Deleting Pending pod %s/%s which has exceeded workflow deadline %s", pod.Namespace, pod.Name, woc.workflowDeadline)
 				err := woc.controller.kubeclientset.CoreV1().Pods(pod.Namespace).Delete(ctx, pod.Name, metav1.DeleteOptions{})
 				if err == nil {
-					wfNodesLock.Lock()
-					node := woc.wf.Status.Nodes[pod.Name]
-					wfNodesLock.Unlock()
-					woc.markNodePhase(node.Name, wfv1.NodeFailed, "Step exceeded its deadline")
+					woc.handleExecutionControlError(nodeID, wfNodesLock, "Step exceeded its deadline")
 					return
 				}
 				// If we fail to delete the pod, fall back to setting the annotation
@@ -71,6 +69,14 @@ func (woc *wfOperationCtx) applyExecutionControl(ctx context.Context, pod *apiv1
 	}
 }
 
+// handleExecutionControlError marks a node as failed with an error message
+func (woc *wfOperationCtx) handleExecutionControlError(nodeID string, wfNodesLock *sync.RWMutex, errorMsg string) {
+	wfNodesLock.Lock()
+	node := woc.wf.Status.Nodes[nodeID]
+	wfNodesLock.Unlock()
+	woc.markNodePhase(node.Name, wfv1.NodeFailed, errorMsg)
+}
+
 // killDaemonedChildren kill any daemoned pods of a steps or DAG template node.
 func (woc *wfOperationCtx) killDaemonedChildren(nodeID string) {
 	woc.log.Infof("Checking daemoned children of %s", nodeID)
diff --git a/workflow/controller/indexes/indexes.go b/workflow/controller/indexes/indexes.go
index 06a444bda1de..8d484288c788 100644
--- a/workflow/controller/indexes/indexes.go
+++ b/workflow/controller/indexes/indexes.go
@@ -9,6 +9,7 @@ package indexes
 const (
 	ClusterWorkflowTemplateIndex = "clusterworkflowtemplate"
 	CronWorkflowIndex            = "cronworkflow"
+	NodeIDIndex                  = "nodeID"
 	WorkflowIndex                = "workflow"
 	WorkflowTemplateIndex        = "workflowtemplate"
 	WorkflowPhaseIndex           = "workflow.phase"
diff --git a/workflow/controller/indexes/workflow_index.go b/workflow/controller/indexes/workflow_index.go
index 2b462061931f..11bf375bfc88 100644
--- a/workflow/controller/indexes/workflow_index.go
+++ b/workflow/controller/indexes/workflow_index.go
@@ -32,6 +32,21 @@ func MetaWorkflowIndexFunc(obj interface{}) ([]string, error) {
 	return []string{WorkflowIndexValue(m.GetNamespace(), name)}, nil
 }
 
+// MetaNodeIDIndexFunc takes a kubernetes object and returns either the
+// namespace and its node id or the namespace and its name
+func MetaNodeIDIndexFunc(obj interface{}) ([]string, error) {
+	m, err := meta.Accessor(obj)
+	if err != nil {
+		return nil, err
+	}
+
+	if nodeID, ok := m.GetAnnotations()[common.AnnotationKeyNodeID]; ok {
+		return []string{m.GetNamespace() + "/" + nodeID}, nil
+	}
+
+	return []string{m.GetNamespace() + "/" + m.GetName()}, nil
+}
+
 func WorkflowIndexValue(namespace, name string) string {
 	return namespace + "/" + name
 }
diff --git a/workflow/controller/indexes/workflow_index_test.go b/workflow/controller/indexes/workflow_index_test.go
index 037ed47c38cd..63235c7dde7f 100644
--- a/workflow/controller/indexes/workflow_index_test.go
+++ b/workflow/controller/indexes/workflow_index_test.go
@@ -29,6 +29,43 @@ metadata:
 	}
 }
 
+func TestMetaNodeIDIndexFunc(t *testing.T) {
+	withNodeID := `
+apiVersion: v1
+kind: Pod
+metadata:
+  namespace: my-ns
+  name: retry-test-p7jzr-whalesay-2308805457
+  labels:
+    workflows.argoproj.io/workflow: my-wf
+  annotations:
+    workflows.argoproj.io/node-id: retry-test-p7jzr-2308805457
+    workflows.argoproj.io/node-name: 'retry-test-p7jzr[0].steps-outer-step1'
+`
+	withoutNodeID := `
+apiVersion: v1
+kind: Pod
+metadata:
+  namespace: my-ns
+  name: retry-test-p7jzr-whalesay-2308805457
+  labels:
+    workflows.argoproj.io/workflow: my-wf
+  annotations:
+    workflows.argoproj.io/node-name: 'retry-test-p7jzr[0].steps-outer-step1'
+`
+	obj := &unstructured.Unstructured{}
+	wfv1.MustUnmarshal(withNodeID, obj)
+	v, err := MetaNodeIDIndexFunc(obj)
+	assert.NoError(t, err)
+	assert.Equal(t, []string{"my-ns/retry-test-p7jzr-2308805457"}, v)
+
+	obj = &unstructured.Unstructured{}
+	wfv1.MustUnmarshal(withoutNodeID, obj)
+	v, err = MetaNodeIDIndexFunc(obj)
+	assert.NoError(t, err)
+	assert.Equal(t, []string{"my-ns/retry-test-p7jzr-whalesay-2308805457"}, v)
+}
+
 func TestWorkflowIndexValue(t *testing.T) {
 	assert.Equal(t, "my-ns/my-wf", WorkflowIndexValue("my-ns", "my-wf"))
 }
diff --git a/workflow/controller/node_counters.go b/workflow/controller/node_counters.go
index 62b25375ff72..36faf247a591 100644
--- a/workflow/controller/node_counters.go
+++ b/workflow/controller/node_counters.go
@@ -1,8 +1,6 @@
 package controller
 
 import (
-	"fmt"
-
 	wfv1 "github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1"
 )
 
@@ -55,7 +53,7 @@ func (woc *wfOperationCtx) getUnsuccessfulChildren(boundaryID string) int64 {
 }
 
 func (woc *wfOperationCtx) nodePodExist(node wfv1.NodeStatus) bool {
-	_, podExist, _ := woc.controller.podInformer.GetIndexer().GetByKey(fmt.Sprintf("%s/%s", woc.wf.Namespace, node.ID))
+	_, podExist, _ := woc.podExists(node.ID)
 	return podExist
 }
 
diff --git a/workflow/controller/node_counters_test.go b/workflow/controller/node_counters_test.go
index d32b73577f9f..b2b3a13db639 100644
--- a/workflow/controller/node_counters_test.go
+++ b/workflow/controller/node_counters_test.go
@@ -147,4 +147,17 @@ func TestCounters(t *testing.T) {
 	assert.Equal(t, int64(2), woc.getActivePods("2"))
 	assert.Equal(t, int64(2), woc.getActiveChildren("2"))
 	assert.Equal(t, int64(2), woc.getUnsuccessfulChildren("2"))
+
+	testNodePodExists(t, woc)
+}
+
+func testNodePodExists(t *testing.T, woc *wfOperationCtx) {
+	for _, node := range woc.wf.Status.Nodes {
+		if node.ID == "" {
+			continue
+		}
+
+		doesPodExist := woc.nodePodExist(node)
+		assert.True(t, doesPodExist)
+	}
 }
diff --git a/workflow/controller/operator.go b/workflow/controller/operator.go
index 8c6c60ce8ef2..00dc071dfb22 100644
--- a/workflow/controller/operator.go
+++ b/workflow/controller/operator.go
@@ -953,9 +953,7 @@ func (woc *wfOperationCtx) podReconciliation(ctx context.Context) error {
 			woc.updateAgentPodStatus(ctx, pod)
 			return
 		}
-		nodeNameForPod := pod.Annotations[common.AnnotationKeyNodeName]
-
-		nodeID := woc.wf.NodeID(nodeNameForPod)
+		nodeID := woc.nodeID(pod)
 		seenPodLock.Lock()
 		seenPods[nodeID] = pod
 		seenPodLock.Unlock()
@@ -981,7 +979,7 @@ func (woc *wfOperationCtx) podReconciliation(ctx context.Context) error {
 				}
 				woc.updated = true
 			}
-			node := woc.wf.Status.Nodes[pod.ObjectMeta.Name]
+			node := woc.wf.Status.Nodes[nodeID]
 			match := true
 			if woc.execWf.Spec.PodGC.GetLabelSelector() != nil {
 				var podLabels labels.Set = pod.GetLabels()
@@ -1046,7 +1044,7 @@ func (woc *wfOperationCtx) podReconciliation(ctx context.Context) error {
 
 			// grace-period to allow informer sync
 			recentlyStarted := recentlyStarted(node)
-			woc.log.WithFields(log.Fields{"podName": node.Name, "nodePhase": node.Phase, "recentlyStarted": recentlyStarted}).Info("Workflow pod is missing")
+			woc.log.WithFields(log.Fields{"nodeName": node.Name, "nodePhase": node.Phase, "recentlyStarted": recentlyStarted}).Info("Workflow pod is missing")
 			metrics.PodMissingMetric.WithLabelValues(strconv.FormatBool(recentlyStarted), string(node.Phase)).Inc()
 
 			// If the node is pending and the pod does not exist, it could be the case that we want to try to submit it
@@ -1073,6 +1071,14 @@ func (woc *wfOperationCtx) podReconciliation(ctx context.Context) error {
 	return nil
 }
 
+func (woc *wfOperationCtx) nodeID(pod *apiv1.Pod) string {
+	nodeID, ok := pod.Annotations[common.AnnotationKeyNodeID]
+	if !ok {
+		nodeID = woc.wf.NodeID(pod.Annotations[common.AnnotationKeyNodeName])
+	}
+	return nodeID
+}
+
 func recentlyStarted(node wfv1.NodeStatus) bool {
 	return time.Since(node.StartedAt.Time) <= envutil.LookupEnvDurationOr("RECENTLY_STARTED_POD_DURATION", 10*time.Second)
 }
diff --git a/workflow/controller/operator_test.go b/workflow/controller/operator_test.go
index 964eae413b3e..27e1e4ddb467 100644
--- a/workflow/controller/operator_test.go
+++ b/workflow/controller/operator_test.go
@@ -1564,36 +1564,25 @@ spec:
 
 // TestWorkflowParallelismLimit verifies parallelism at a workflow level is honored.
 func TestWorkflowParallelismLimit(t *testing.T) {
-	cancel, controller := newController()
-	defer cancel()
-
 	ctx := context.Background()
-	wfcset := controller.wfclientset.ArgoprojV1alpha1().Workflows("default")
 	wf := wfv1.MustUnmarshalWorkflow(workflowParallelismLimit)
-	wf, err := wfcset.Create(ctx, wf, metav1.CreateOptions{})
-	assert.NoError(t, err)
+	cancel, controller := newController(wf)
+	defer cancel()
 
-	wf, err = wfcset.Get(ctx, wf.ObjectMeta.Name, metav1.GetOptions{})
-	assert.NoError(t, err)
 	woc := newWorkflowOperationCtx(wf, controller)
 	woc.operate(ctx)
 	pods, err := listPods(woc)
 	assert.NoError(t, err)
-	assert.Equal(t, 2, len(pods.Items))
-	// operate again and make sure we don't schedule any more pods
-	makePodsPhase(ctx, woc, apiv1.PodRunning)
+	assert.Len(t, pods.Items, 2)
 
-	syncPodsInformer(ctx, woc)
+	makePodsPhase(ctx, woc, apiv1.PodRunning)
 
-	wf, err = wfcset.Get(ctx, wf.ObjectMeta.Name, metav1.GetOptions{})
-	assert.NoError(t, err)
-	// wfBytes, _ := json.MarshalIndent(wf, "", "  ")
-	// log.Printf("%s", wfBytes)
-	woc = newWorkflowOperationCtx(wf, controller)
+	// operate again and make sure we don't schedule any more pods
+	woc = newWorkflowOperationCtx(woc.wf, controller)
 	woc.operate(ctx)
 	pods, err = listPods(woc)
 	assert.NoError(t, err)
-	assert.Equal(t, 2, len(pods.Items))
+	assert.Len(t, pods.Items, 2)
 }
 
 var stepsTemplateParallelismLimit = `
diff --git a/workflow/controller/workflowpod.go b/workflow/controller/workflowpod.go
index 974da2f8e5d6..94cc559de3bf 100644
--- a/workflow/controller/workflowpod.go
+++ b/workflow/controller/workflowpod.go
@@ -9,12 +9,13 @@ import (
 	"strconv"
 	"time"
 
+	"github.com/argoproj/argo-workflows/v3/workflow/controller/indexes"
+
 	log "github.com/sirupsen/logrus"
 	apiv1 "k8s.io/api/core/v1"
 	apierr "k8s.io/apimachinery/pkg/api/errors"
 	metav1 "k8s.io/apimachinery/pkg/apis/meta/v1"
 	"k8s.io/apimachinery/pkg/util/strategicpatch"
-	"k8s.io/client-go/tools/cache"
 	"k8s.io/utils/pointer"
 
 	"github.com/argoproj/argo-workflows/v3/config"
@@ -130,16 +131,14 @@ func (woc *wfOperationCtx) createWorkflowPod(ctx context.Context, nodeName strin
 	// we must check to see if the pod exists rather than just optimistically creating the pod and see if we get
 	// an `AlreadyExists` error because we won't get that error if there is not enough resources.
 	// Performance enhancement: Code later in this func is expensive to execute, so return quickly if we can.
-	obj, exists, err := woc.controller.podInformer.GetStore().Get(cache.ExplicitKey(woc.wf.Namespace + "/" + nodeID))
+	existing, exists, err := woc.podExists(nodeID)
 	if err != nil {
-		return nil, fmt.Errorf("failed to get pod from informer store: %w", err)
+		return nil, err
 	}
+
 	if exists {
-		existing, ok := obj.(*apiv1.Pod)
-		if ok {
-			woc.log.WithField("podPhase", existing.Status.Phase).Debugf("Skipped pod %s (%s) creation: already exists", nodeName, nodeID)
-			return existing, nil
-		}
+		woc.log.WithField("podPhase", existing.Status.Phase).Debugf("Skipped pod %s (%s) creation: already exists", nodeName, nodeID)
+		return existing, nil
 	}
 
 	if !woc.GetShutdownStrategy().ShouldExecute(opts.onExitPod) {
@@ -193,10 +192,9 @@ func (woc *wfOperationCtx) createWorkflowPod(ctx context.Context, nodeName strin
 			activeDeadlineSeconds = tmplActiveDeadlineSeconds
 		}
 	}
-
 	pod := &apiv1.Pod{
 		ObjectMeta: metav1.ObjectMeta{
-			Name:      nodeID,
+			Name:      util.PodName(woc.wf.Name, nodeName, tmpl.Name, nodeID),
 			Namespace: woc.wf.ObjectMeta.Namespace,
 			Labels: map[string]string{
 				common.LabelKeyWorkflow:  woc.wf.ObjectMeta.Name, // Allows filtering by pods related to specific workflow
@@ -204,6 +202,7 @@ func (woc *wfOperationCtx) createWorkflowPod(ctx context.Context, nodeName strin
 			},
 			Annotations: map[string]string{
 				common.AnnotationKeyNodeName: nodeName,
+				common.AnnotationKeyNodeID:   nodeID,
 			},
 			OwnerReferences: []metav1.OwnerReference{
 				*metav1.NewControllerRef(woc.wf, wfv1.SchemeGroupVersion.WithKind(workflow.WorkflowKind)),
@@ -425,20 +424,20 @@ func (woc *wfOperationCtx) createWorkflowPod(ctx context.Context, nodeName strin
 		return nil, ErrResourceRateLimitReached
 	}
 
-	woc.log.Debugf("Creating Pod: %s (%s)", nodeName, nodeID)
+	woc.log.Debugf("Creating Pod: %s (%s)", nodeName, pod.Name)
 
 	created, err := woc.controller.kubeclientset.CoreV1().Pods(woc.wf.ObjectMeta.Namespace).Create(ctx, pod, metav1.CreateOptions{})
 	if err != nil {
 		if apierr.IsAlreadyExists(err) {
 			// workflow pod names are deterministic. We can get here if the
 			// controller fails to persist the workflow after creating the pod.
-			woc.log.Infof("Failed pod %s (%s) creation: already exists", nodeName, nodeID)
+			woc.log.Infof("Failed pod %s (%s) creation: already exists", nodeName, pod.Name)
 			return created, nil
 		}
 		if errorsutil.IsTransientErr(err) {
 			return nil, err
 		}
-		woc.log.Infof("Failed to create pod %s (%s): %v", nodeName, nodeID, err)
+		woc.log.Infof("Failed to create pod %s (%s): %v", nodeName, pod.Name, err)
 		return nil, errors.InternalWrapError(err)
 	}
 	woc.log.Infof("Created pod: %s (%s)", nodeName, created.Name)
@@ -446,6 +445,29 @@ func (woc *wfOperationCtx) createWorkflowPod(ctx context.Context, nodeName strin
 	return created, nil
 }
 
+func (woc *wfOperationCtx) podExists(nodeID string) (existing *apiv1.Pod, exists bool, err error) {
+	objs, err := woc.controller.podInformer.GetIndexer().ByIndex(indexes.NodeIDIndex, woc.wf.Namespace+"/"+nodeID)
+	if err != nil {
+		return nil, false, fmt.Errorf("failed to get pod from informer store: %w", err)
+	}
+
+	objectCount := len(objs)
+
+	if objectCount == 0 {
+		return nil, false, nil
+	}
+
+	if objectCount > 1 {
+		return nil, false, fmt.Errorf("expected < 2 pods, got %d - this is a bug", len(objs))
+	}
+
+	if existing, ok := objs[0].(*apiv1.Pod); ok {
+		return existing, true, nil
+	}
+
+	return nil, false, nil
+}
+
 func (woc *wfOperationCtx) getDeadline(opts *createWorkflowPodOpts) *time.Time {
 	deadline := time.Time{}
 	if woc.workflowDeadline != nil {
diff --git a/workflow/controller/workflowpod_test.go b/workflow/controller/workflowpod_test.go
index 2f028110ba42..ffa8a23eee05 100644
--- a/workflow/controller/workflowpod_test.go
+++ b/workflow/controller/workflowpod_test.go
@@ -1618,3 +1618,28 @@ func TestPodMetadataWithWorkflowDefaults(t *testing.T) {
 	assert.Equal(t, "label-value", pod.ObjectMeta.Labels["controller-level-pod-label"])
 	cancel()
 }
+
+func TestPodExists(t *testing.T) {
+	cancel, controller := newController()
+	defer cancel()
+
+	wf := wfv1.MustUnmarshalWorkflow(helloWorldWf)
+	ctx := context.Background()
+	woc := newWorkflowOperationCtx(wf, controller)
+	err := woc.setExecWorkflow(ctx)
+	assert.NoError(t, err)
+	mainCtr := woc.execWf.Spec.Templates[0].Container
+	pod, err := woc.createWorkflowPod(ctx, wf.Name, []apiv1.Container{*mainCtr}, &wf.Spec.Templates[0], &createWorkflowPodOpts{})
+	assert.NoError(t, err)
+	assert.NotNil(t, pod)
+
+	pods, err := listPods(woc)
+	assert.NoError(t, err)
+	assert.Len(t, pods.Items, 1)
+
+	existingPod, doesExist, err := woc.podExists(pod.Name)
+	assert.NoError(t, err)
+	assert.NotNil(t, existingPod)
+	assert.True(t, doesExist)
+	assert.EqualValues(t, pod, existingPod)
+}
diff --git a/workflow/util/pod_name.go b/workflow/util/pod_name.go
new file mode 100644
index 000000000000..09f4c1079960
--- /dev/null
+++ b/workflow/util/pod_name.go
@@ -0,0 +1,40 @@
+package util
+
+import (
+	"fmt"
+	"hash/fnv"
+	"os"
+)
+
+const (
+	maxK8sResourceNameLength = 253
+	k8sNamingHashLength      = 10
+)
+
+// PodName return a deterministic pod name
+func PodName(workflowName, nodeName, templateName, nodeID string) string {
+	if os.Getenv("POD_NAMES") == "v1" {
+		return nodeID
+	}
+
+	if workflowName == nodeName {
+		return workflowName
+	}
+
+	prefix := fmt.Sprintf("%s-%s", workflowName, templateName)
+	prefix = ensurePodNamePrefixLength(prefix)
+
+	h := fnv.New32a()
+	_, _ = h.Write([]byte(nodeName))
+	return fmt.Sprintf("%s-%v", prefix, h.Sum32())
+}
+
+func ensurePodNamePrefixLength(prefix string) string {
+	maxPrefixLength := maxK8sResourceNameLength - k8sNamingHashLength
+
+	if len(prefix) > maxPrefixLength-1 {
+		return prefix[0 : maxPrefixLength-1]
+	}
+
+	return prefix
+}
diff --git a/workflow/util/pod_name_test.go b/workflow/util/pod_name_test.go
new file mode 100644
index 000000000000..cb6e4f93dcbf
--- /dev/null
+++ b/workflow/util/pod_name_test.go
@@ -0,0 +1,39 @@
+package util
+
+import (
+	"fmt"
+	"testing"
+
+	"github.com/stretchr/testify/assert"
+)
+
+func TestPodName(t *testing.T) {
+	nodeName := "nodename"
+	nodeID := "1"
+
+	// short case
+	shortWfName := "wfname"
+	shortTemplateName := "templatename"
+
+	expected := fmt.Sprintf("%s-%s", shortWfName, shortTemplateName)
+	actual := ensurePodNamePrefixLength(expected)
+	assert.Equal(t, expected, actual)
+
+	name := PodName(shortWfName, nodeName, shortTemplateName, nodeID)
+	assert.Equal(t, "wfname-templatename-1454367246", name)
+
+	// long case
+	longWfName := "alongworkflownamethatincludeslotsofdetailsandisessentiallyalargerunonsentencewithpoorstyleandnopunctuationtobehadwhatsoever"
+	longTemplateName := "alongtemplatenamethatincludessliightlymoredetailsandiscertainlyalargerunonstnencewithevenworsestylisticconcernsandpreposterouslyeliminatespunctuation"
+
+	sum := len(longWfName) + len(longTemplateName)
+	assert.Greater(t, sum, maxK8sResourceNameLength-k8sNamingHashLength)
+
+	expected = fmt.Sprintf("%s-%s", longWfName, longTemplateName)
+	actual = ensurePodNamePrefixLength(expected)
+
+	assert.Equal(t, maxK8sResourceNameLength-k8sNamingHashLength-1, len(actual))
+
+	name = PodName(longWfName, nodeName, longTemplateName, nodeID)
+	assert.Equal(t, maxK8sResourceNameLength, len(name))
+}
diff --git a/workflow/util/util.go b/workflow/util/util.go
index 7ae62606ef99..62451bad7169 100644
--- a/workflow/util/util.go
+++ b/workflow/util/util.go
@@ -805,7 +805,8 @@ func retryWorkflow(ctx context.Context, kubeClient kubernetes.Interface, hydrato
 		}
 		if node.Type == wfv1.NodeTypePod {
 			log.Infof("Deleting pod: %s", node.ID)
-			err := podIf.Delete(ctx, node.ID, metav1.DeleteOptions{})
+			podName := PodName(wf.Name, node.Name, node.TemplateName, node.ID)
+			err := podIf.Delete(ctx, podName, metav1.DeleteOptions{})
 			if err != nil && !apierr.IsNotFound(err) {
 				return nil, errors.InternalWrapError(err)
 			}

From 6875479db8c466c443acbc15a3fe04d8d6a8b1d2 Mon Sep 17 00:00:00 2001
From: Saravanan Balasubramanian
 <33908564+sarabala1979@users.noreply.github.com>
Date: Wed, 15 Sep 2021 14:57:51 -0700
Subject: [PATCH 118/137] fix: Daemond status stuck with Running (#6742)

* fix: Daemond status stuck with Running

Signed-off-by: Saravanan Balasubramanian <sarabala1979@gmail.com>

* fixed test

Signed-off-by: Saravanan Balasubramanian <sarabala1979@gmail.com>

* added test

Signed-off-by: Saravanan Balasubramanian <sarabala1979@gmail.com>
---
 workflow/controller/operator.go      | 82 ++++++++++++++--------------
 workflow/controller/operator_test.go | 18 +++++-
 2 files changed, 57 insertions(+), 43 deletions(-)

diff --git a/workflow/controller/operator.go b/workflow/controller/operator.go
index 00dc071dfb22..63662738008f 100644
--- a/workflow/controller/operator.go
+++ b/workflow/controller/operator.go
@@ -1207,56 +1207,56 @@ func (woc *wfOperationCtx) assessNodeStatus(pod *apiv1.Pod, node *wfv1.NodeStatu
 			}
 		}
 	}
-
-	if !node.Fulfilled() && newDaemonStatus != nil {
-		if !*newDaemonStatus {
-			// if the daemon status switched to false, we prefer to just unset daemoned status field
-			// (as opposed to setting it to false)
-			newDaemonStatus = nil
-		}
-		if (newDaemonStatus != nil && node.Daemoned == nil) || (newDaemonStatus == nil && node.Daemoned != nil) {
-			woc.log.Infof("Setting node %v daemoned: %v -> %v", node.ID, node.Daemoned, newDaemonStatus)
-			node.Daemoned = newDaemonStatus
-			updated = true
-			if pod.Status.PodIP != "" && pod.Status.PodIP != node.PodIP {
-				// only update Pod IP for daemoned nodes to reduce number of updates
-				woc.log.Infof("Updating daemon node %s IP %s -> %s", node.ID, node.PodIP, pod.Status.PodIP)
-				node.PodIP = pod.Status.PodIP
+	if !node.Completed() {
+		if newDaemonStatus != nil {
+			if !*newDaemonStatus {
+				// if the daemon status switched to false, we prefer to just unset daemoned status field
+				// (as opposed to setting it to false)
+				newDaemonStatus = nil
+			}
+			if (newDaemonStatus != nil && node.Daemoned == nil) || (newDaemonStatus == nil && node.Daemoned != nil) {
+				woc.log.Infof("Setting node %v daemoned: %v -> %v", node.ID, node.Daemoned, newDaemonStatus)
+				node.Daemoned = newDaemonStatus
+				updated = true
+				if pod.Status.PodIP != "" && pod.Status.PodIP != node.PodIP {
+					// only update Pod IP for daemoned nodes to reduce number of updates
+					woc.log.Infof("Updating daemon node %s IP %s -> %s", node.ID, node.PodIP, pod.Status.PodIP)
+					node.PodIP = pod.Status.PodIP
+				}
 			}
 		}
-	}
 
-	// we only need to update these values if the container transitions to complete
-	if !node.Phase.Fulfilled() && newPhase.Fulfilled() {
-		// outputs are mixed between the annotation (parameters, artifacts, and result) and the pod's status (exit code)
-		if exitCode := getExitCode(pod); exitCode != nil {
-			woc.log.Infof("Updating node %s exit code %d", node.ID, *exitCode)
-			node.Outputs = &wfv1.Outputs{ExitCode: pointer.StringPtr(fmt.Sprintf("%d", int(*exitCode)))}
-			if outputStr, ok := pod.Annotations[common.AnnotationKeyOutputs]; ok {
-				woc.log.Infof("Setting node %v outputs: %s", node.ID, outputStr)
-				if err := json.Unmarshal([]byte(outputStr), node.Outputs); err != nil { // I don't expect an error to ever happen in production
-					node.Phase = wfv1.NodeError
-					node.Message = err.Error()
+		// we only need to update these values if the container transitions to complete
+		if newPhase.Fulfilled() {
+			// outputs are mixed between the annotation (parameters, artifacts, and result) and the pod's status (exit code)
+			if exitCode := getExitCode(pod); exitCode != nil {
+				woc.log.Infof("Updating node %s exit code %d", node.ID, *exitCode)
+				node.Outputs = &wfv1.Outputs{ExitCode: pointer.StringPtr(fmt.Sprintf("%d", int(*exitCode)))}
+				if outputStr, ok := pod.Annotations[common.AnnotationKeyOutputs]; ok {
+					woc.log.Infof("Setting node %v outputs: %s", node.ID, outputStr)
+					if err := json.Unmarshal([]byte(outputStr), node.Outputs); err != nil { // I don't expect an error to ever happen in production
+						node.Phase = wfv1.NodeError
+						node.Message = err.Error()
+					}
 				}
 			}
 		}
-	}
 
-	if node.Phase != newPhase {
-		woc.log.Infof("Updating node %s status %s -> %s", node.ID, node.Phase, newPhase)
-		// if we are transitioning from Pending to a different state, clear out pending message
-		if node.Phase == wfv1.NodePending {
-			node.Message = ""
+		if node.Phase != newPhase {
+			woc.log.Infof("Updating node %s status %s -> %s", node.ID, node.Phase, newPhase)
+			// if we are transitioning from Pending to a different state, clear out pending message
+			if node.Phase == wfv1.NodePending {
+				node.Message = ""
+			}
+			updated = true
+			node.Phase = newPhase
+		}
+		if message != "" && node.Message != message {
+			woc.log.Infof("Updating node %s message: %s", node.ID, message)
+			updated = true
+			node.Message = message
 		}
-		updated = true
-		node.Phase = newPhase
-	}
-	if message != "" && node.Message != message {
-		woc.log.Infof("Updating node %s message: %s", node.ID, message)
-		updated = true
-		node.Message = message
 	}
-
 	if node.Fulfilled() && node.FinishedAt.IsZero() {
 		updated = true
 		node.FinishedAt = getLatestFinishedAt(pod)
diff --git a/workflow/controller/operator_test.go b/workflow/controller/operator_test.go
index 27e1e4ddb467..c5b7bf32e2a6 100644
--- a/workflow/controller/operator_test.go
+++ b/workflow/controller/operator_test.go
@@ -1300,10 +1300,24 @@ func TestAssessNodeStatus(t *testing.T) {
 				Phase: apiv1.PodRunning,
 			},
 		}
-		node := &wfv1.NodeStatus{Phase: wfv1.NodeFailed}
+		node := &wfv1.NodeStatus{Daemoned: &daemoned, Phase: wfv1.NodeFailed}
 		woc := newWorkflowOperationCtx(wf, controller)
 		got := woc.assessNodeStatus(pod, node)
-		assert.True(t, got.Daemoned == nil)
+		assert.True(t, got.Phase == wfv1.NodeFailed)
+	})
+
+	t.Run("Daemon Step finished - Pod running", func(t *testing.T) {
+		cancel, controller := newController()
+		defer cancel()
+		pod := &apiv1.Pod{
+			Status: apiv1.PodStatus{
+				Phase: apiv1.PodRunning,
+			},
+		}
+		node := &wfv1.NodeStatus{Daemoned: &daemoned, Phase: wfv1.NodeSucceeded}
+		woc := newWorkflowOperationCtx(wf, controller)
+		got := woc.assessNodeStatus(pod, node)
+		assert.True(t, got.Phase == wfv1.NodeSucceeded)
 	})
 
 }

From 7684ef4a0c5f57e8723dc8e4d3a17246f7edc2e6 Mon Sep 17 00:00:00 2001
From: Stephen Raghunath <straghunath@gmail.com>
Date: Thu, 16 Sep 2021 10:44:14 -0400
Subject: [PATCH 119/137] docs: Fix indentation describing how steps work
 (#6738)

---
 examples/README.md | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

diff --git a/examples/README.md b/examples/README.md
index 04c4b114c8d4..c81bea74448f 100644
--- a/examples/README.md
+++ b/examples/README.md
@@ -235,12 +235,12 @@ spec:
           parameters:
           - name: message
             value: "hello2a"
-      - name: hello2b           # single dash => run in parallel with previous step
-        template: whalesay
-        arguments:
-          parameters:
-          - name: message
-            value: "hello2b"
+    - name: hello2b           # single dash => run in parallel with previous step
+      template: whalesay
+      arguments:
+        parameters:
+        - name: message
+          value: "hello2b"
 
   # This is the same template as from the previous example
   - name: whalesay

From bc21183afa6d1eec3d04d4f664278060226c5690 Mon Sep 17 00:00:00 2001
From: "github-actions[bot]"
 <41898282+github-actions[bot]@users.noreply.github.com>
Date: Mon, 20 Sep 2021 08:03:01 -0700
Subject: [PATCH 120/137] docs: updated CHANGELOG.md (#6745)

Signed-off-by: GitHub <noreply@github.com>

Co-authored-by: sarabala1979 <sarabala1979@users.noreply.github.com>
---
 CHANGELOG.md | 10 ++++++++++
 1 file changed, 10 insertions(+)

diff --git a/CHANGELOG.md b/CHANGELOG.md
index 56bbdd821d95..0dbd40104fbc 100644
--- a/CHANGELOG.md
+++ b/CHANGELOG.md
@@ -227,6 +227,16 @@
  * meijin
  * wanghong230
 
+## v3.1.12 (2021-09-16)
+
+ * [e62b9a8dc](https://github.com/argoproj/argo-workflows/commit/e62b9a8dc8924e545d57d1f90f901fbb0b694e09) feat(ui): logsViewer use archived log if node finish and archived (#6708)
+ * [da5ce18cf](https://github.com/argoproj/argo-workflows/commit/da5ce18cf24103ca9418137229fc355a9dc725c9) fix: Daemond status stuck with Running (#6742)
+
+### Contributors
+
+ * Saravanan Balasubramanian
+ * Tianchu Zhao
+
 ## v3.1.11 (2021-09-13)
 
  * [665c08d29](https://github.com/argoproj/argo-workflows/commit/665c08d2906f1bb15fdd8c2f21e6877923e0394b) skippied flakytest

From 96afac1ef49c59d76b2cdd5dbb7a98c69146ce32 Mon Sep 17 00:00:00 2001
From: yyyyyy888 <55045599+yangtian9999@users.noreply.github.com>
Date: Mon, 20 Sep 2021 23:03:47 +0800
Subject: [PATCH 121/137] docs: Add Sutpc company into the user list. (#6764)

Signed-off-by: yangtian9999 <yangtian9999@163.com>
---
 USERS.md | 1 +
 1 file changed, 1 insertion(+)

diff --git a/USERS.md b/USERS.md
index a3edfa1b0e57..791f4ec94c5b 100644
--- a/USERS.md
+++ b/USERS.md
@@ -131,6 +131,7 @@ Currently, the following organizations are **officially** using Argo Workflows:
 1. [Stillwater Supercomputing, Inc](http://www.stillwater-sc.com/)
 1. [strongDM](https://www.strongdm.com/)
 1. [Styra](https://www.styra.com/)
+1. [Sutpc](http://www.sutpc.com/)
 1. [Threekit](https://www.threekit.com/)
 1. [Tiger Analytics](https://www.tigeranalytics.com/)
 1. [Tulip](https://tulip.com/)

From 1a76e6581dd079bdcfc76be545b3f7dd1ba48105 Mon Sep 17 00:00:00 2001
From: Tianchu Zhao <evantczhao@gmail.com>
Date: Tue, 21 Sep 2021 01:05:02 +1000
Subject: [PATCH 122/137] fix(controller): TestPodExists unit test (#6763)

Signed-off-by: Tianchu Zhao <evantczhao@gmail.com>
---
 workflow/controller/workflowpod_test.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/workflow/controller/workflowpod_test.go b/workflow/controller/workflowpod_test.go
index ffa8a23eee05..4cdcbc75bb4e 100644
--- a/workflow/controller/workflowpod_test.go
+++ b/workflow/controller/workflowpod_test.go
@@ -1637,7 +1637,7 @@ func TestPodExists(t *testing.T) {
 	assert.NoError(t, err)
 	assert.Len(t, pods.Items, 1)
 
-	existingPod, doesExist, err := woc.podExists(pod.Name)
+	existingPod, doesExist, err := woc.podExists(pod.ObjectMeta.Name)
 	assert.NoError(t, err)
 	assert.NotNil(t, existingPod)
 	assert.True(t, doesExist)

From 9cb25d95a1b6b594e032a0ea79cf91cab367c998 Mon Sep 17 00:00:00 2001
From: Brewster Malevich <sbmalev@gmail.com>
Date: Mon, 20 Sep 2021 08:05:18 -0700
Subject: [PATCH 123/137] docs: Fix bad callout render in quick-start docs
 (#6762)

Signed-off-by: Brewster Malevich <bmalevich@rhg.com>

Co-authored-by: Stephen Raghunath <straghunath@gmail.com>
---
 docs/quick-start.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/docs/quick-start.md b/docs/quick-start.md
index 0ade1f96d149..337680daec50 100644
--- a/docs/quick-start.md
+++ b/docs/quick-start.md
@@ -9,7 +9,7 @@ Firstly, you'll need a Kubernetes cluster and `kubectl` set-up
 To get started quickly, you can use the quick start manifest which will install Argo Workflow as well as some commonly used components:
 
 !!! note
-These manifests are intended to help you get started quickly. They are not suitable in production, on test environments, or any environment containing any real data. They contain hard-coded passwords that are publicly available.
+    These manifests are intended to help you get started quickly. They are not suitable in production, on test environments, or any environment containing any real data. They contain hard-coded passwords that are publicly available.
 
 ```sh
 kubectl create ns argo

From b8288460052125641ff1b4e1bcc4ee03ecfe319b Mon Sep 17 00:00:00 2001
From: Alex Collins <alexec@users.noreply.github.com>
Date: Tue, 21 Sep 2021 09:51:42 -0700
Subject: [PATCH 124/137] feat: upgrade Argo Dataflow to v0.0.104 (#6749)

Signed-off-by: Alex Collins <alex_collins@intuit.com>
---
 api/jsonschema/schema.json                    | 461 +++++++----------
 api/openapi-spec/swagger.json                 | 467 +++++++-----------
 go.mod                                        |   3 +-
 go.sum                                        |  51 +-
 .../pipeline-details/pipeline-graph.ts        |  52 +-
 .../pipelines/components/step-side-panel.tsx  | 117 -----
 ui/src/app/pipelines/components/total-rate.ts |  17 -
 ui/src/models/step.ts                         |  22 -
 8 files changed, 389 insertions(+), 801 deletions(-)
 delete mode 100644 ui/src/app/pipelines/components/total-rate.ts

diff --git a/api/jsonschema/schema.json b/api/jsonschema/schema.json
index 5f614c0cc6dd..504a11d66cee 100644
--- a/api/jsonschema/schema.json
+++ b/api/jsonschema/schema.json
@@ -92,6 +92,136 @@
       },
       "type": "object"
     },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.AbstractStep": {
+      "properties": {
+        "resources": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.ResourceRequirements",
+          "title": "+kubebuilder:default={limits: {\"cpu\": \"500m\", \"memory\": \"256Mi\"}, requests: {\"cpu\": \"100m\", \"memory\": \"64Mi\"}}"
+        }
+      },
+      "type": "object"
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.AbstractVolumeSource": {
+      "properties": {
+        "awsElasticBlockStore": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.AWSElasticBlockStoreVolumeSource",
+          "title": "AWSElasticBlockStore represents an AWS Disk resource that is attached to a\nkubelet's host machine and then exposed to the pod.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#awselasticblockstore\n+optional"
+        },
+        "azureDisk": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.AzureDiskVolumeSource",
+          "title": "AzureDisk represents an Azure Data Disk mount on the host and bind mount to the pod.\n+optional"
+        },
+        "azureFile": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.AzureFileVolumeSource",
+          "title": "AzureFile represents an Azure File Service mount on the host and bind mount to the pod.\n+optional"
+        },
+        "cephfs": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.CephFSVolumeSource",
+          "title": "CephFS represents a Ceph FS mount on the host that shares a pod's lifetime\n+optional"
+        },
+        "cinder": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.CinderVolumeSource",
+          "title": "Cinder represents a cinder volume attached and mounted on kubelets host machine.\nMore info: https://examples.io.k8s.mysql-cinder-pd/README.md\n+optional"
+        },
+        "configMap": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.ConfigMapVolumeSource",
+          "title": "ConfigMap represents a configMap that should populate this volume\n+optional"
+        },
+        "csi": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.CSIVolumeSource",
+          "title": "CSI (Container Storage Interface) represents ephemeral storage that is handled by certain external CSI drivers (Beta feature).\n+optional"
+        },
+        "downwardAPI": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.DownwardAPIVolumeSource",
+          "title": "DownwardAPI represents downward API about the pod that should populate this volume\n+optional"
+        },
+        "emptyDir": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.EmptyDirVolumeSource",
+          "title": "EmptyDir represents a temporary directory that shares a pod's lifetime.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#emptydir\n+optional"
+        },
+        "ephemeral": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.EphemeralVolumeSource",
+          "description": "Ephemeral represents a volume that is handled by a cluster storage driver (Alpha feature).\nThe volume's lifecycle is tied to the pod that defines it - it will be created before the pod starts,\nand deleted when the pod is removed.\n\nUse this if:\na) the volume is only needed while the pod runs,\nb) features of normal volumes like restoring from snapshot or capacity\n   tracking are needed,\nc) the storage driver is specified through a storage class, and\nd) the storage driver supports dynamic volume provisioning through\n   a PersistentVolumeClaim (see EphemeralVolumeSource for more\n   information on the connection between this volume type\n   and PersistentVolumeClaim).\n\nUse PersistentVolumeClaim or one of the vendor-specific\nAPIs for volumes that persist for longer than the lifecycle\nof an individual pod.\n\nUse CSI for light-weight local ephemeral volumes if the CSI driver is meant to\nbe used that way - see the documentation of the driver for\nmore information.\n\nA pod can use both types of ephemeral volumes and\npersistent volumes at the same time.\n\n+optional"
+        },
+        "fc": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.FCVolumeSource",
+          "title": "FC represents a Fibre Channel resource that is attached to a kubelet's host machine and then exposed to the pod.\n+optional"
+        },
+        "flexVolume": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.FlexVolumeSource",
+          "title": "FlexVolume represents a generic volume resource that is\nprovisioned/attached using an exec based plugin.\n+optional"
+        },
+        "flocker": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.FlockerVolumeSource",
+          "title": "Flocker represents a Flocker volume attached to a kubelet's host machine. This depends on the Flocker control service being running\n+optional"
+        },
+        "gcePersistentDisk": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.GCEPersistentDiskVolumeSource",
+          "title": "GCEPersistentDisk represents a GCE Disk resource that is attached to a\nkubelet's host machine and then exposed to the pod.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#gcepersistentdisk\n+optional"
+        },
+        "gitRepo": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.GitRepoVolumeSource",
+          "title": "GitRepo represents a git repository at a particular revision.\nDEPRECATED: GitRepo is deprecated. To provision a container with a git repo, mount an\nEmptyDir into an InitContainer that clones the repo using git, then mount the EmptyDir\ninto the Pod's container.\n+optional"
+        },
+        "glusterfs": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.GlusterfsVolumeSource",
+          "title": "Glusterfs represents a Glusterfs mount on the host that shares a pod's lifetime.\nMore info: https://examples.io.k8s.volumes/glusterfs/README.md\n+optional"
+        },
+        "hostPath": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.HostPathVolumeSource",
+          "title": "HostPath represents a pre-existing file or directory on the host\nmachine that is directly exposed to the container. This is generally\nused for system agents or other privileged things that are allowed\nto see the host machine. Most containers will NOT need this.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#hostpath\n---\nTODO(jonesdl) We need to restrict who can use host directory mounts and who can/can not\nmount host directories as read/write.\n+optional"
+        },
+        "iscsi": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.ISCSIVolumeSource",
+          "title": "ISCSI represents an ISCSI Disk resource that is attached to a\nkubelet's host machine and then exposed to the pod.\nMore info: https://examples.io.k8s.volumes/iscsi/README.md\n+optional"
+        },
+        "nfs": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.NFSVolumeSource",
+          "title": "NFS represents an NFS mount on the host that shares a pod's lifetime\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#nfs\n+optional"
+        },
+        "persistentVolumeClaim": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.PersistentVolumeClaimVolumeSource",
+          "title": "PersistentVolumeClaimVolumeSource represents a reference to a\nPersistentVolumeClaim in the same namespace.\nMore info: https://kubernetes.io/docs/concepts/storage/persistent-volumes#persistentvolumeclaims\n+optional"
+        },
+        "photonPersistentDisk": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.PhotonPersistentDiskVolumeSource",
+          "title": "PhotonPersistentDisk represents a PhotonController persistent disk attached and mounted on kubelets host machine"
+        },
+        "portworxVolume": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.PortworxVolumeSource",
+          "title": "PortworxVolume represents a portworx volume attached and mounted on kubelets host machine\n+optional"
+        },
+        "projected": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.ProjectedVolumeSource",
+          "title": "Items for all in one resources secrets, configmaps, and downward API"
+        },
+        "quobyte": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.QuobyteVolumeSource",
+          "title": "Quobyte represents a Quobyte mount on the host that shares a pod's lifetime\n+optional"
+        },
+        "rbd": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.RBDVolumeSource",
+          "title": "RBD represents a Rados Block Device mount on the host that shares a pod's lifetime.\nMore info: https://examples.io.k8s.volumes/rbd/README.md\n+optional"
+        },
+        "scaleIO": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.ScaleIOVolumeSource",
+          "title": "ScaleIO represents a ScaleIO persistent volume attached and mounted on Kubernetes nodes.\n+optional"
+        },
+        "secret": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.SecretVolumeSource",
+          "title": "Secret represents a secret that should populate this volume.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#secret\n+optional"
+        },
+        "storageos": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.StorageOSVolumeSource",
+          "title": "StorageOS represents a StorageOS volume attached and mounted on Kubernetes nodes.\n+optional"
+        },
+        "vsphereVolume": {
+          "$ref": "#/definitions/io.k8s.api.core.v1.VsphereVirtualDiskVolumeSource",
+          "title": "VsphereVolume represents a vSphere volume attached and mounted on kubelets host machine\n+optional"
+        }
+      },
+      "type": "object"
+    },
     "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Backoff": {
       "properties": {
         "FactorPercentage": {
@@ -119,6 +249,11 @@
       "type": "object"
     },
     "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Cat": {
+      "properties": {
+        "abstractStep": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.AbstractStep"
+        }
+      },
       "type": "object"
     },
     "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Code": {
@@ -255,6 +390,9 @@
     },
     "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Dedupe": {
       "properties": {
+        "abstractStep": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.AbstractStep"
+        },
         "maxSize": {
           "$ref": "#/definitions/io.k8s.apimachinery.pkg.api.resource.Quantity",
           "title": "MaxSize is the maximum number of entries to keep in the in-memory database used to store recent UIDs.\nLarger number mean bigger windows of time for dedupe, but greater memory usage.\n+kubebuilder:default=\"1M\""
@@ -267,10 +405,18 @@
       "type": "object"
     },
     "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Expand": {
+      "properties": {
+        "abstractStep": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.AbstractStep"
+        }
+      },
       "type": "object"
     },
     "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Filter": {
       "properties": {
+        "abstractStep": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.AbstractStep"
+        },
         "expression": {
           "type": "string"
         }
@@ -278,6 +424,11 @@
       "type": "object"
     },
     "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Flatten": {
+      "properties": {
+        "abstractStep": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.AbstractStep"
+        }
+      },
       "type": "object"
     },
     "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Git": {
@@ -373,6 +524,9 @@
           },
           "type": "array"
         },
+        "insecureSkipVerify": {
+          "type": "boolean"
+        },
         "url": {
           "type": "string"
         }
@@ -421,6 +575,9 @@
           },
           "type": "array"
         },
+        "maxMessageBytes": {
+          "type": "integer"
+        },
         "net": {
           "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.KafkaNET"
         },
@@ -475,6 +632,9 @@
     },
     "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Map": {
       "properties": {
+        "abstractStep": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.AbstractStep"
+        },
         "expression": {
           "type": "string"
         }
@@ -498,31 +658,6 @@
       },
       "type": "object"
     },
-    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Metrics": {
-      "properties": {
-        "errors": {
-          "format": "uint64",
-          "type": "string"
-        },
-        "rate": {
-          "$ref": "#/definitions/io.k8s.apimachinery.pkg.api.resource.Quantity"
-        },
-        "retries": {
-          "format": "uint64",
-          "title": "current rate of messages per second",
-          "type": "string"
-        },
-        "total": {
-          "format": "uint64",
-          "type": "string"
-        },
-        "totalBytes": {
-          "format": "uint64",
-          "type": "string"
-        }
-      },
-      "type": "object"
-    },
     "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Pipeline": {
       "properties": {
         "metadata": {
@@ -807,25 +942,6 @@
       },
       "type": "object"
     },
-    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.SourceStatus": {
-      "properties": {
-        "lastPending": {
-          "format": "uint64",
-          "type": "string"
-        },
-        "metrics": {
-          "additionalProperties": {
-            "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Metrics"
-          },
-          "type": "object"
-        },
-        "pending": {
-          "format": "uint64",
-          "type": "string"
-        }
-      },
-      "type": "object"
-    },
     "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Step": {
       "properties": {
         "metadata": {
@@ -968,18 +1084,6 @@
         },
         "selector": {
           "type": "string"
-        },
-        "sinkStatuses": {
-          "additionalProperties": {
-            "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.SourceStatus"
-          },
-          "type": "object"
-        },
-        "sourceStatuses": {
-          "additionalProperties": {
-            "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.SourceStatus"
-          },
-          "type": "object"
         }
       },
       "type": "object"
@@ -1015,127 +1119,17 @@
     },
     "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.VolumeSink": {
       "properties": {
-        "awsElasticBlockStore": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.AWSElasticBlockStoreVolumeSource",
-          "title": "AWSElasticBlockStore represents an AWS Disk resource that is attached to a\nkubelet's host machine and then exposed to the pod.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#awselasticblockstore\n+optional"
-        },
-        "azureDisk": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.AzureDiskVolumeSource",
-          "title": "AzureDisk represents an Azure Data Disk mount on the host and bind mount to the pod.\n+optional"
-        },
-        "azureFile": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.AzureFileVolumeSource",
-          "title": "AzureFile represents an Azure File Service mount on the host and bind mount to the pod.\n+optional"
-        },
-        "cephfs": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.CephFSVolumeSource",
-          "title": "CephFS represents a Ceph FS mount on the host that shares a pod's lifetime\n+optional"
-        },
-        "cinder": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.CinderVolumeSource",
-          "title": "Cinder represents a cinder volume attached and mounted on kubelets host machine.\nMore info: https://examples.io.k8s.mysql-cinder-pd/README.md\n+optional"
-        },
-        "configMap": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.ConfigMapVolumeSource",
-          "title": "ConfigMap represents a configMap that should populate this volume\n+optional"
-        },
-        "csi": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.CSIVolumeSource",
-          "title": "CSI (Container Storage Interface) represents ephemeral storage that is handled by certain external CSI drivers (Beta feature).\n+optional"
-        },
-        "downwardAPI": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.DownwardAPIVolumeSource",
-          "title": "DownwardAPI represents downward API about the pod that should populate this volume\n+optional"
-        },
-        "emptyDir": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.EmptyDirVolumeSource",
-          "title": "EmptyDir represents a temporary directory that shares a pod's lifetime.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#emptydir\n+optional"
-        },
-        "ephemeral": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.EphemeralVolumeSource",
-          "description": "Ephemeral represents a volume that is handled by a cluster storage driver (Alpha feature).\nThe volume's lifecycle is tied to the pod that defines it - it will be created before the pod starts,\nand deleted when the pod is removed.\n\nUse this if:\na) the volume is only needed while the pod runs,\nb) features of normal volumes like restoring from snapshot or capacity\n   tracking are needed,\nc) the storage driver is specified through a storage class, and\nd) the storage driver supports dynamic volume provisioning through\n   a PersistentVolumeClaim (see EphemeralVolumeSource for more\n   information on the connection between this volume type\n   and PersistentVolumeClaim).\n\nUse PersistentVolumeClaim or one of the vendor-specific\nAPIs for volumes that persist for longer than the lifecycle\nof an individual pod.\n\nUse CSI for light-weight local ephemeral volumes if the CSI driver is meant to\nbe used that way - see the documentation of the driver for\nmore information.\n\nA pod can use both types of ephemeral volumes and\npersistent volumes at the same time.\n\n+optional"
-        },
-        "fc": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.FCVolumeSource",
-          "title": "FC represents a Fibre Channel resource that is attached to a kubelet's host machine and then exposed to the pod.\n+optional"
-        },
-        "flexVolume": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.FlexVolumeSource",
-          "title": "FlexVolume represents a generic volume resource that is\nprovisioned/attached using an exec based plugin.\n+optional"
-        },
-        "flocker": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.FlockerVolumeSource",
-          "title": "Flocker represents a Flocker volume attached to a kubelet's host machine. This depends on the Flocker control service being running\n+optional"
-        },
-        "gcePersistentDisk": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.GCEPersistentDiskVolumeSource",
-          "title": "GCEPersistentDisk represents a GCE Disk resource that is attached to a\nkubelet's host machine and then exposed to the pod.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#gcepersistentdisk\n+optional"
-        },
-        "gitRepo": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.GitRepoVolumeSource",
-          "title": "GitRepo represents a git repository at a particular revision.\nDEPRECATED: GitRepo is deprecated. To provision a container with a git repo, mount an\nEmptyDir into an InitContainer that clones the repo using git, then mount the EmptyDir\ninto the Pod's container.\n+optional"
-        },
-        "glusterfs": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.GlusterfsVolumeSource",
-          "title": "Glusterfs represents a Glusterfs mount on the host that shares a pod's lifetime.\nMore info: https://examples.io.k8s.volumes/glusterfs/README.md\n+optional"
-        },
-        "hostPath": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.HostPathVolumeSource",
-          "title": "HostPath represents a pre-existing file or directory on the host\nmachine that is directly exposed to the container. This is generally\nused for system agents or other privileged things that are allowed\nto see the host machine. Most containers will NOT need this.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#hostpath\n---\nTODO(jonesdl) We need to restrict who can use host directory mounts and who can/can not\nmount host directories as read/write.\n+optional"
-        },
-        "iscsi": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.ISCSIVolumeSource",
-          "title": "ISCSI represents an ISCSI Disk resource that is attached to a\nkubelet's host machine and then exposed to the pod.\nMore info: https://examples.io.k8s.volumes/iscsi/README.md\n+optional"
-        },
-        "nfs": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.NFSVolumeSource",
-          "title": "NFS represents an NFS mount on the host that shares a pod's lifetime\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#nfs\n+optional"
-        },
-        "persistentVolumeClaim": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.PersistentVolumeClaimVolumeSource",
-          "title": "PersistentVolumeClaimVolumeSource represents a reference to a\nPersistentVolumeClaim in the same namespace.\nMore info: https://kubernetes.io/docs/concepts/storage/persistent-volumes#persistentvolumeclaims\n+optional"
-        },
-        "photonPersistentDisk": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.PhotonPersistentDiskVolumeSource",
-          "title": "PhotonPersistentDisk represents a PhotonController persistent disk attached and mounted on kubelets host machine"
-        },
-        "portworxVolume": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.PortworxVolumeSource",
-          "title": "PortworxVolume represents a portworx volume attached and mounted on kubelets host machine\n+optional"
-        },
-        "projected": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.ProjectedVolumeSource",
-          "title": "Items for all in one resources secrets, configmaps, and downward API"
-        },
-        "quobyte": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.QuobyteVolumeSource",
-          "title": "Quobyte represents a Quobyte mount on the host that shares a pod's lifetime\n+optional"
-        },
-        "rbd": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.RBDVolumeSource",
-          "title": "RBD represents a Rados Block Device mount on the host that shares a pod's lifetime.\nMore info: https://examples.io.k8s.volumes/rbd/README.md\n+optional"
-        },
-        "scaleIO": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.ScaleIOVolumeSource",
-          "title": "ScaleIO represents a ScaleIO persistent volume attached and mounted on Kubernetes nodes.\n+optional"
-        },
-        "secret": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.SecretVolumeSource",
-          "title": "Secret represents a secret that should populate this volume.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#secret\n+optional"
-        },
-        "storageos": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.StorageOSVolumeSource",
-          "title": "StorageOS represents a StorageOS volume attached and mounted on Kubernetes nodes.\n+optional"
-        },
-        "vsphereVolume": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.VsphereVirtualDiskVolumeSource",
-          "title": "VsphereVolume represents a vSphere volume attached and mounted on kubelets host machine\n+optional"
+        "abstractVolumeSource": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.AbstractVolumeSource"
         }
       },
       "type": "object"
     },
     "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.VolumeSource": {
       "properties": {
+        "abstractVolumeSource": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.AbstractVolumeSource"
+        },
         "concurrency": {
           "title": "+kubebuilder:default=1",
           "type": "integer"
@@ -1146,9 +1140,6 @@
         },
         "readOnly": {
           "type": "boolean"
-        },
-        "volumeSource": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.VolumeSource"
         }
       },
       "type": "object"
@@ -10353,128 +10344,6 @@
       },
       "type": "object"
     },
-    "io.k8s.api.core.v1.VolumeSource": {
-      "description": "Represents the source of a volume to mount.\nOnly one of its members may be specified.",
-      "properties": {
-        "awsElasticBlockStore": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.AWSElasticBlockStoreVolumeSource",
-          "title": "AWSElasticBlockStore represents an AWS Disk resource that is attached to a\nkubelet's host machine and then exposed to the pod.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#awselasticblockstore\n+optional"
-        },
-        "azureDisk": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.AzureDiskVolumeSource",
-          "title": "AzureDisk represents an Azure Data Disk mount on the host and bind mount to the pod.\n+optional"
-        },
-        "azureFile": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.AzureFileVolumeSource",
-          "title": "AzureFile represents an Azure File Service mount on the host and bind mount to the pod.\n+optional"
-        },
-        "cephfs": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.CephFSVolumeSource",
-          "title": "CephFS represents a Ceph FS mount on the host that shares a pod's lifetime\n+optional"
-        },
-        "cinder": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.CinderVolumeSource",
-          "title": "Cinder represents a cinder volume attached and mounted on kubelets host machine.\nMore info: https://examples.io.k8s.mysql-cinder-pd/README.md\n+optional"
-        },
-        "configMap": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.ConfigMapVolumeSource",
-          "title": "ConfigMap represents a configMap that should populate this volume\n+optional"
-        },
-        "csi": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.CSIVolumeSource",
-          "title": "CSI (Container Storage Interface) represents ephemeral storage that is handled by certain external CSI drivers (Beta feature).\n+optional"
-        },
-        "downwardAPI": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.DownwardAPIVolumeSource",
-          "title": "DownwardAPI represents downward API about the pod that should populate this volume\n+optional"
-        },
-        "emptyDir": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.EmptyDirVolumeSource",
-          "title": "EmptyDir represents a temporary directory that shares a pod's lifetime.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#emptydir\n+optional"
-        },
-        "ephemeral": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.EphemeralVolumeSource",
-          "description": "Ephemeral represents a volume that is handled by a cluster storage driver (Alpha feature).\nThe volume's lifecycle is tied to the pod that defines it - it will be created before the pod starts,\nand deleted when the pod is removed.\n\nUse this if:\na) the volume is only needed while the pod runs,\nb) features of normal volumes like restoring from snapshot or capacity\n   tracking are needed,\nc) the storage driver is specified through a storage class, and\nd) the storage driver supports dynamic volume provisioning through\n   a PersistentVolumeClaim (see EphemeralVolumeSource for more\n   information on the connection between this volume type\n   and PersistentVolumeClaim).\n\nUse PersistentVolumeClaim or one of the vendor-specific\nAPIs for volumes that persist for longer than the lifecycle\nof an individual pod.\n\nUse CSI for light-weight local ephemeral volumes if the CSI driver is meant to\nbe used that way - see the documentation of the driver for\nmore information.\n\nA pod can use both types of ephemeral volumes and\npersistent volumes at the same time.\n\n+optional"
-        },
-        "fc": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.FCVolumeSource",
-          "title": "FC represents a Fibre Channel resource that is attached to a kubelet's host machine and then exposed to the pod.\n+optional"
-        },
-        "flexVolume": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.FlexVolumeSource",
-          "title": "FlexVolume represents a generic volume resource that is\nprovisioned/attached using an exec based plugin.\n+optional"
-        },
-        "flocker": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.FlockerVolumeSource",
-          "title": "Flocker represents a Flocker volume attached to a kubelet's host machine. This depends on the Flocker control service being running\n+optional"
-        },
-        "gcePersistentDisk": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.GCEPersistentDiskVolumeSource",
-          "title": "GCEPersistentDisk represents a GCE Disk resource that is attached to a\nkubelet's host machine and then exposed to the pod.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#gcepersistentdisk\n+optional"
-        },
-        "gitRepo": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.GitRepoVolumeSource",
-          "title": "GitRepo represents a git repository at a particular revision.\nDEPRECATED: GitRepo is deprecated. To provision a container with a git repo, mount an\nEmptyDir into an InitContainer that clones the repo using git, then mount the EmptyDir\ninto the Pod's container.\n+optional"
-        },
-        "glusterfs": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.GlusterfsVolumeSource",
-          "title": "Glusterfs represents a Glusterfs mount on the host that shares a pod's lifetime.\nMore info: https://examples.io.k8s.volumes/glusterfs/README.md\n+optional"
-        },
-        "hostPath": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.HostPathVolumeSource",
-          "title": "HostPath represents a pre-existing file or directory on the host\nmachine that is directly exposed to the container. This is generally\nused for system agents or other privileged things that are allowed\nto see the host machine. Most containers will NOT need this.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#hostpath\n---\nTODO(jonesdl) We need to restrict who can use host directory mounts and who can/can not\nmount host directories as read/write.\n+optional"
-        },
-        "iscsi": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.ISCSIVolumeSource",
-          "title": "ISCSI represents an ISCSI Disk resource that is attached to a\nkubelet's host machine and then exposed to the pod.\nMore info: https://examples.io.k8s.volumes/iscsi/README.md\n+optional"
-        },
-        "nfs": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.NFSVolumeSource",
-          "title": "NFS represents an NFS mount on the host that shares a pod's lifetime\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#nfs\n+optional"
-        },
-        "persistentVolumeClaim": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.PersistentVolumeClaimVolumeSource",
-          "title": "PersistentVolumeClaimVolumeSource represents a reference to a\nPersistentVolumeClaim in the same namespace.\nMore info: https://kubernetes.io/docs/concepts/storage/persistent-volumes#persistentvolumeclaims\n+optional"
-        },
-        "photonPersistentDisk": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.PhotonPersistentDiskVolumeSource",
-          "title": "PhotonPersistentDisk represents a PhotonController persistent disk attached and mounted on kubelets host machine"
-        },
-        "portworxVolume": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.PortworxVolumeSource",
-          "title": "PortworxVolume represents a portworx volume attached and mounted on kubelets host machine\n+optional"
-        },
-        "projected": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.ProjectedVolumeSource",
-          "title": "Items for all in one resources secrets, configmaps, and downward API"
-        },
-        "quobyte": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.QuobyteVolumeSource",
-          "title": "Quobyte represents a Quobyte mount on the host that shares a pod's lifetime\n+optional"
-        },
-        "rbd": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.RBDVolumeSource",
-          "title": "RBD represents a Rados Block Device mount on the host that shares a pod's lifetime.\nMore info: https://examples.io.k8s.volumes/rbd/README.md\n+optional"
-        },
-        "scaleIO": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.ScaleIOVolumeSource",
-          "title": "ScaleIO represents a ScaleIO persistent volume attached and mounted on Kubernetes nodes.\n+optional"
-        },
-        "secret": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.SecretVolumeSource",
-          "title": "Secret represents a secret that should populate this volume.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#secret\n+optional"
-        },
-        "storageos": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.StorageOSVolumeSource",
-          "title": "StorageOS represents a StorageOS volume attached and mounted on Kubernetes nodes.\n+optional"
-        },
-        "vsphereVolume": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.VsphereVirtualDiskVolumeSource",
-          "title": "VsphereVolume represents a vSphere volume attached and mounted on kubelets host machine\n+optional"
-        }
-      },
-      "type": "object"
-    },
     "io.k8s.api.core.v1.VsphereVirtualDiskVolumeSource": {
       "description": "Represents a vSphere volume resource.",
       "properties": {
diff --git a/api/openapi-spec/swagger.json b/api/openapi-spec/swagger.json
index 176ed599f7ae..608c1b28e6b9 100644
--- a/api/openapi-spec/swagger.json
+++ b/api/openapi-spec/swagger.json
@@ -4254,6 +4254,136 @@
         }
       }
     },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.AbstractStep": {
+      "type": "object",
+      "properties": {
+        "resources": {
+          "title": "+kubebuilder:default={limits: {\"cpu\": \"500m\", \"memory\": \"256Mi\"}, requests: {\"cpu\": \"100m\", \"memory\": \"64Mi\"}}",
+          "$ref": "#/definitions/io.k8s.api.core.v1.ResourceRequirements"
+        }
+      }
+    },
+    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.AbstractVolumeSource": {
+      "type": "object",
+      "properties": {
+        "awsElasticBlockStore": {
+          "title": "AWSElasticBlockStore represents an AWS Disk resource that is attached to a\nkubelet's host machine and then exposed to the pod.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#awselasticblockstore\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.AWSElasticBlockStoreVolumeSource"
+        },
+        "azureDisk": {
+          "title": "AzureDisk represents an Azure Data Disk mount on the host and bind mount to the pod.\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.AzureDiskVolumeSource"
+        },
+        "azureFile": {
+          "title": "AzureFile represents an Azure File Service mount on the host and bind mount to the pod.\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.AzureFileVolumeSource"
+        },
+        "cephfs": {
+          "title": "CephFS represents a Ceph FS mount on the host that shares a pod's lifetime\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.CephFSVolumeSource"
+        },
+        "cinder": {
+          "title": "Cinder represents a cinder volume attached and mounted on kubelets host machine.\nMore info: https://examples.io.k8s.mysql-cinder-pd/README.md\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.CinderVolumeSource"
+        },
+        "configMap": {
+          "title": "ConfigMap represents a configMap that should populate this volume\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.ConfigMapVolumeSource"
+        },
+        "csi": {
+          "title": "CSI (Container Storage Interface) represents ephemeral storage that is handled by certain external CSI drivers (Beta feature).\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.CSIVolumeSource"
+        },
+        "downwardAPI": {
+          "title": "DownwardAPI represents downward API about the pod that should populate this volume\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.DownwardAPIVolumeSource"
+        },
+        "emptyDir": {
+          "title": "EmptyDir represents a temporary directory that shares a pod's lifetime.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#emptydir\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.EmptyDirVolumeSource"
+        },
+        "ephemeral": {
+          "description": "Ephemeral represents a volume that is handled by a cluster storage driver (Alpha feature).\nThe volume's lifecycle is tied to the pod that defines it - it will be created before the pod starts,\nand deleted when the pod is removed.\n\nUse this if:\na) the volume is only needed while the pod runs,\nb) features of normal volumes like restoring from snapshot or capacity\n   tracking are needed,\nc) the storage driver is specified through a storage class, and\nd) the storage driver supports dynamic volume provisioning through\n   a PersistentVolumeClaim (see EphemeralVolumeSource for more\n   information on the connection between this volume type\n   and PersistentVolumeClaim).\n\nUse PersistentVolumeClaim or one of the vendor-specific\nAPIs for volumes that persist for longer than the lifecycle\nof an individual pod.\n\nUse CSI for light-weight local ephemeral volumes if the CSI driver is meant to\nbe used that way - see the documentation of the driver for\nmore information.\n\nA pod can use both types of ephemeral volumes and\npersistent volumes at the same time.\n\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.EphemeralVolumeSource"
+        },
+        "fc": {
+          "title": "FC represents a Fibre Channel resource that is attached to a kubelet's host machine and then exposed to the pod.\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.FCVolumeSource"
+        },
+        "flexVolume": {
+          "title": "FlexVolume represents a generic volume resource that is\nprovisioned/attached using an exec based plugin.\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.FlexVolumeSource"
+        },
+        "flocker": {
+          "title": "Flocker represents a Flocker volume attached to a kubelet's host machine. This depends on the Flocker control service being running\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.FlockerVolumeSource"
+        },
+        "gcePersistentDisk": {
+          "title": "GCEPersistentDisk represents a GCE Disk resource that is attached to a\nkubelet's host machine and then exposed to the pod.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#gcepersistentdisk\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.GCEPersistentDiskVolumeSource"
+        },
+        "gitRepo": {
+          "title": "GitRepo represents a git repository at a particular revision.\nDEPRECATED: GitRepo is deprecated. To provision a container with a git repo, mount an\nEmptyDir into an InitContainer that clones the repo using git, then mount the EmptyDir\ninto the Pod's container.\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.GitRepoVolumeSource"
+        },
+        "glusterfs": {
+          "title": "Glusterfs represents a Glusterfs mount on the host that shares a pod's lifetime.\nMore info: https://examples.io.k8s.volumes/glusterfs/README.md\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.GlusterfsVolumeSource"
+        },
+        "hostPath": {
+          "title": "HostPath represents a pre-existing file or directory on the host\nmachine that is directly exposed to the container. This is generally\nused for system agents or other privileged things that are allowed\nto see the host machine. Most containers will NOT need this.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#hostpath\n---\nTODO(jonesdl) We need to restrict who can use host directory mounts and who can/can not\nmount host directories as read/write.\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.HostPathVolumeSource"
+        },
+        "iscsi": {
+          "title": "ISCSI represents an ISCSI Disk resource that is attached to a\nkubelet's host machine and then exposed to the pod.\nMore info: https://examples.io.k8s.volumes/iscsi/README.md\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.ISCSIVolumeSource"
+        },
+        "nfs": {
+          "title": "NFS represents an NFS mount on the host that shares a pod's lifetime\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#nfs\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.NFSVolumeSource"
+        },
+        "persistentVolumeClaim": {
+          "title": "PersistentVolumeClaimVolumeSource represents a reference to a\nPersistentVolumeClaim in the same namespace.\nMore info: https://kubernetes.io/docs/concepts/storage/persistent-volumes#persistentvolumeclaims\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.PersistentVolumeClaimVolumeSource"
+        },
+        "photonPersistentDisk": {
+          "title": "PhotonPersistentDisk represents a PhotonController persistent disk attached and mounted on kubelets host machine",
+          "$ref": "#/definitions/io.k8s.api.core.v1.PhotonPersistentDiskVolumeSource"
+        },
+        "portworxVolume": {
+          "title": "PortworxVolume represents a portworx volume attached and mounted on kubelets host machine\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.PortworxVolumeSource"
+        },
+        "projected": {
+          "title": "Items for all in one resources secrets, configmaps, and downward API",
+          "$ref": "#/definitions/io.k8s.api.core.v1.ProjectedVolumeSource"
+        },
+        "quobyte": {
+          "title": "Quobyte represents a Quobyte mount on the host that shares a pod's lifetime\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.QuobyteVolumeSource"
+        },
+        "rbd": {
+          "title": "RBD represents a Rados Block Device mount on the host that shares a pod's lifetime.\nMore info: https://examples.io.k8s.volumes/rbd/README.md\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.RBDVolumeSource"
+        },
+        "scaleIO": {
+          "title": "ScaleIO represents a ScaleIO persistent volume attached and mounted on Kubernetes nodes.\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.ScaleIOVolumeSource"
+        },
+        "secret": {
+          "title": "Secret represents a secret that should populate this volume.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#secret\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.SecretVolumeSource"
+        },
+        "storageos": {
+          "title": "StorageOS represents a StorageOS volume attached and mounted on Kubernetes nodes.\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.StorageOSVolumeSource"
+        },
+        "vsphereVolume": {
+          "title": "VsphereVolume represents a vSphere volume attached and mounted on kubelets host machine\n+optional",
+          "$ref": "#/definitions/io.k8s.api.core.v1.VsphereVirtualDiskVolumeSource"
+        }
+      }
+    },
     "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Backoff": {
       "type": "object",
       "properties": {
@@ -4281,7 +4411,12 @@
       }
     },
     "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Cat": {
-      "type": "object"
+      "type": "object",
+      "properties": {
+        "abstractStep": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.AbstractStep"
+        }
+      }
     },
     "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Code": {
       "type": "object",
@@ -4418,6 +4553,9 @@
     "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Dedupe": {
       "type": "object",
       "properties": {
+        "abstractStep": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.AbstractStep"
+        },
         "maxSize": {
           "title": "MaxSize is the maximum number of entries to keep in the in-memory database used to store recent UIDs.\nLarger number mean bigger windows of time for dedupe, but greater memory usage.\n+kubebuilder:default=\"1M\"",
           "$ref": "#/definitions/io.k8s.apimachinery.pkg.api.resource.Quantity"
@@ -4429,18 +4567,31 @@
       }
     },
     "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Expand": {
-      "type": "object"
+      "type": "object",
+      "properties": {
+        "abstractStep": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.AbstractStep"
+        }
+      }
     },
     "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Filter": {
       "type": "object",
       "properties": {
+        "abstractStep": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.AbstractStep"
+        },
         "expression": {
           "type": "string"
         }
       }
     },
     "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Flatten": {
-      "type": "object"
+      "type": "object",
+      "properties": {
+        "abstractStep": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.AbstractStep"
+        }
+      }
     },
     "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Git": {
       "type": "object",
@@ -4536,6 +4687,9 @@
             "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.HTTPHeader"
           }
         },
+        "insecureSkipVerify": {
+          "type": "boolean"
+        },
         "url": {
           "type": "string"
         }
@@ -4584,6 +4738,9 @@
             "type": "string"
           }
         },
+        "maxMessageBytes": {
+          "type": "integer"
+        },
         "net": {
           "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.KafkaNET"
         },
@@ -4638,6 +4795,9 @@
     "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Map": {
       "type": "object",
       "properties": {
+        "abstractStep": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.AbstractStep"
+        },
         "expression": {
           "type": "string"
         }
@@ -4660,31 +4820,6 @@
         }
       }
     },
-    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Metrics": {
-      "type": "object",
-      "properties": {
-        "errors": {
-          "type": "string",
-          "format": "uint64"
-        },
-        "rate": {
-          "$ref": "#/definitions/io.k8s.apimachinery.pkg.api.resource.Quantity"
-        },
-        "retries": {
-          "type": "string",
-          "format": "uint64",
-          "title": "current rate of messages per second"
-        },
-        "total": {
-          "type": "string",
-          "format": "uint64"
-        },
-        "totalBytes": {
-          "type": "string",
-          "format": "uint64"
-        }
-      }
-    },
     "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Pipeline": {
       "type": "object",
       "title": "+kubebuilder:object:root=true\n+kubebuilder:resource:shortName=pl\n+kubebuilder:subresource:status\n+kubebuilder:printcolumn:name=\"Phase\",type=string,JSONPath=`.status.phase`\n+kubebuilder:printcolumn:name=\"Message\",type=string,JSONPath=`.status.message`",
@@ -4969,25 +5104,6 @@
         }
       }
     },
-    "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.SourceStatus": {
-      "type": "object",
-      "properties": {
-        "lastPending": {
-          "type": "string",
-          "format": "uint64"
-        },
-        "metrics": {
-          "type": "object",
-          "additionalProperties": {
-            "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Metrics"
-          }
-        },
-        "pending": {
-          "type": "string",
-          "format": "uint64"
-        }
-      }
-    },
     "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.Step": {
       "type": "object",
       "title": "+kubebuilder:object:root=true\n+kubebuilder:subresource:status\n+kubebuilder:subresource:scale:specpath=.spec.replicas,statuspath=.status.replicas,selectorpath=.status.selector\n+kubebuilder:printcolumn:name=\"Phase\",type=string,JSONPath=`.status.phase`\n+kubebuilder:printcolumn:name=\"Reason\",type=string,JSONPath=`.status.reason`\n+kubebuilder:printcolumn:name=\"Message\",type=string,JSONPath=`.status.message`\n+kubebuilder:printcolumn:name=\"Desired\",type=string,JSONPath=`.spec.replicas`\n+kubebuilder:printcolumn:name=\"Current\",type=string,JSONPath=`.status.replicas`",
@@ -5131,18 +5247,6 @@
         },
         "selector": {
           "type": "string"
-        },
-        "sinkStatuses": {
-          "type": "object",
-          "additionalProperties": {
-            "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.SourceStatus"
-          }
-        },
-        "sourceStatuses": {
-          "type": "object",
-          "additionalProperties": {
-            "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.SourceStatus"
-          }
         }
       }
     },
@@ -5178,127 +5282,17 @@
     "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.VolumeSink": {
       "type": "object",
       "properties": {
-        "awsElasticBlockStore": {
-          "title": "AWSElasticBlockStore represents an AWS Disk resource that is attached to a\nkubelet's host machine and then exposed to the pod.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#awselasticblockstore\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.AWSElasticBlockStoreVolumeSource"
-        },
-        "azureDisk": {
-          "title": "AzureDisk represents an Azure Data Disk mount on the host and bind mount to the pod.\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.AzureDiskVolumeSource"
-        },
-        "azureFile": {
-          "title": "AzureFile represents an Azure File Service mount on the host and bind mount to the pod.\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.AzureFileVolumeSource"
-        },
-        "cephfs": {
-          "title": "CephFS represents a Ceph FS mount on the host that shares a pod's lifetime\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.CephFSVolumeSource"
-        },
-        "cinder": {
-          "title": "Cinder represents a cinder volume attached and mounted on kubelets host machine.\nMore info: https://examples.io.k8s.mysql-cinder-pd/README.md\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.CinderVolumeSource"
-        },
-        "configMap": {
-          "title": "ConfigMap represents a configMap that should populate this volume\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.ConfigMapVolumeSource"
-        },
-        "csi": {
-          "title": "CSI (Container Storage Interface) represents ephemeral storage that is handled by certain external CSI drivers (Beta feature).\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.CSIVolumeSource"
-        },
-        "downwardAPI": {
-          "title": "DownwardAPI represents downward API about the pod that should populate this volume\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.DownwardAPIVolumeSource"
-        },
-        "emptyDir": {
-          "title": "EmptyDir represents a temporary directory that shares a pod's lifetime.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#emptydir\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.EmptyDirVolumeSource"
-        },
-        "ephemeral": {
-          "description": "Ephemeral represents a volume that is handled by a cluster storage driver (Alpha feature).\nThe volume's lifecycle is tied to the pod that defines it - it will be created before the pod starts,\nand deleted when the pod is removed.\n\nUse this if:\na) the volume is only needed while the pod runs,\nb) features of normal volumes like restoring from snapshot or capacity\n   tracking are needed,\nc) the storage driver is specified through a storage class, and\nd) the storage driver supports dynamic volume provisioning through\n   a PersistentVolumeClaim (see EphemeralVolumeSource for more\n   information on the connection between this volume type\n   and PersistentVolumeClaim).\n\nUse PersistentVolumeClaim or one of the vendor-specific\nAPIs for volumes that persist for longer than the lifecycle\nof an individual pod.\n\nUse CSI for light-weight local ephemeral volumes if the CSI driver is meant to\nbe used that way - see the documentation of the driver for\nmore information.\n\nA pod can use both types of ephemeral volumes and\npersistent volumes at the same time.\n\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.EphemeralVolumeSource"
-        },
-        "fc": {
-          "title": "FC represents a Fibre Channel resource that is attached to a kubelet's host machine and then exposed to the pod.\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.FCVolumeSource"
-        },
-        "flexVolume": {
-          "title": "FlexVolume represents a generic volume resource that is\nprovisioned/attached using an exec based plugin.\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.FlexVolumeSource"
-        },
-        "flocker": {
-          "title": "Flocker represents a Flocker volume attached to a kubelet's host machine. This depends on the Flocker control service being running\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.FlockerVolumeSource"
-        },
-        "gcePersistentDisk": {
-          "title": "GCEPersistentDisk represents a GCE Disk resource that is attached to a\nkubelet's host machine and then exposed to the pod.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#gcepersistentdisk\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.GCEPersistentDiskVolumeSource"
-        },
-        "gitRepo": {
-          "title": "GitRepo represents a git repository at a particular revision.\nDEPRECATED: GitRepo is deprecated. To provision a container with a git repo, mount an\nEmptyDir into an InitContainer that clones the repo using git, then mount the EmptyDir\ninto the Pod's container.\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.GitRepoVolumeSource"
-        },
-        "glusterfs": {
-          "title": "Glusterfs represents a Glusterfs mount on the host that shares a pod's lifetime.\nMore info: https://examples.io.k8s.volumes/glusterfs/README.md\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.GlusterfsVolumeSource"
-        },
-        "hostPath": {
-          "title": "HostPath represents a pre-existing file or directory on the host\nmachine that is directly exposed to the container. This is generally\nused for system agents or other privileged things that are allowed\nto see the host machine. Most containers will NOT need this.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#hostpath\n---\nTODO(jonesdl) We need to restrict who can use host directory mounts and who can/can not\nmount host directories as read/write.\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.HostPathVolumeSource"
-        },
-        "iscsi": {
-          "title": "ISCSI represents an ISCSI Disk resource that is attached to a\nkubelet's host machine and then exposed to the pod.\nMore info: https://examples.io.k8s.volumes/iscsi/README.md\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.ISCSIVolumeSource"
-        },
-        "nfs": {
-          "title": "NFS represents an NFS mount on the host that shares a pod's lifetime\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#nfs\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.NFSVolumeSource"
-        },
-        "persistentVolumeClaim": {
-          "title": "PersistentVolumeClaimVolumeSource represents a reference to a\nPersistentVolumeClaim in the same namespace.\nMore info: https://kubernetes.io/docs/concepts/storage/persistent-volumes#persistentvolumeclaims\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.PersistentVolumeClaimVolumeSource"
-        },
-        "photonPersistentDisk": {
-          "title": "PhotonPersistentDisk represents a PhotonController persistent disk attached and mounted on kubelets host machine",
-          "$ref": "#/definitions/io.k8s.api.core.v1.PhotonPersistentDiskVolumeSource"
-        },
-        "portworxVolume": {
-          "title": "PortworxVolume represents a portworx volume attached and mounted on kubelets host machine\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.PortworxVolumeSource"
-        },
-        "projected": {
-          "title": "Items for all in one resources secrets, configmaps, and downward API",
-          "$ref": "#/definitions/io.k8s.api.core.v1.ProjectedVolumeSource"
-        },
-        "quobyte": {
-          "title": "Quobyte represents a Quobyte mount on the host that shares a pod's lifetime\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.QuobyteVolumeSource"
-        },
-        "rbd": {
-          "title": "RBD represents a Rados Block Device mount on the host that shares a pod's lifetime.\nMore info: https://examples.io.k8s.volumes/rbd/README.md\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.RBDVolumeSource"
-        },
-        "scaleIO": {
-          "title": "ScaleIO represents a ScaleIO persistent volume attached and mounted on Kubernetes nodes.\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.ScaleIOVolumeSource"
-        },
-        "secret": {
-          "title": "Secret represents a secret that should populate this volume.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#secret\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.SecretVolumeSource"
-        },
-        "storageos": {
-          "title": "StorageOS represents a StorageOS volume attached and mounted on Kubernetes nodes.\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.StorageOSVolumeSource"
-        },
-        "vsphereVolume": {
-          "title": "VsphereVolume represents a vSphere volume attached and mounted on kubelets host machine\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.VsphereVirtualDiskVolumeSource"
+        "abstractVolumeSource": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.AbstractVolumeSource"
         }
       }
     },
     "github.com.argoproj_labs.argo_dataflow.api.v1alpha1.VolumeSource": {
       "type": "object",
       "properties": {
+        "abstractVolumeSource": {
+          "$ref": "#/definitions/github.com.argoproj_labs.argo_dataflow.api.v1alpha1.AbstractVolumeSource"
+        },
         "concurrency": {
           "type": "integer",
           "title": "+kubebuilder:default=1"
@@ -5309,9 +5303,6 @@
         },
         "readOnly": {
           "type": "boolean"
-        },
-        "volumeSource": {
-          "$ref": "#/definitions/io.k8s.api.core.v1.VolumeSource"
         }
       }
     },
@@ -14503,128 +14494,6 @@
         }
       }
     },
-    "io.k8s.api.core.v1.VolumeSource": {
-      "description": "Represents the source of a volume to mount.\nOnly one of its members may be specified.",
-      "type": "object",
-      "properties": {
-        "awsElasticBlockStore": {
-          "title": "AWSElasticBlockStore represents an AWS Disk resource that is attached to a\nkubelet's host machine and then exposed to the pod.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#awselasticblockstore\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.AWSElasticBlockStoreVolumeSource"
-        },
-        "azureDisk": {
-          "title": "AzureDisk represents an Azure Data Disk mount on the host and bind mount to the pod.\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.AzureDiskVolumeSource"
-        },
-        "azureFile": {
-          "title": "AzureFile represents an Azure File Service mount on the host and bind mount to the pod.\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.AzureFileVolumeSource"
-        },
-        "cephfs": {
-          "title": "CephFS represents a Ceph FS mount on the host that shares a pod's lifetime\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.CephFSVolumeSource"
-        },
-        "cinder": {
-          "title": "Cinder represents a cinder volume attached and mounted on kubelets host machine.\nMore info: https://examples.io.k8s.mysql-cinder-pd/README.md\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.CinderVolumeSource"
-        },
-        "configMap": {
-          "title": "ConfigMap represents a configMap that should populate this volume\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.ConfigMapVolumeSource"
-        },
-        "csi": {
-          "title": "CSI (Container Storage Interface) represents ephemeral storage that is handled by certain external CSI drivers (Beta feature).\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.CSIVolumeSource"
-        },
-        "downwardAPI": {
-          "title": "DownwardAPI represents downward API about the pod that should populate this volume\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.DownwardAPIVolumeSource"
-        },
-        "emptyDir": {
-          "title": "EmptyDir represents a temporary directory that shares a pod's lifetime.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#emptydir\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.EmptyDirVolumeSource"
-        },
-        "ephemeral": {
-          "description": "Ephemeral represents a volume that is handled by a cluster storage driver (Alpha feature).\nThe volume's lifecycle is tied to the pod that defines it - it will be created before the pod starts,\nand deleted when the pod is removed.\n\nUse this if:\na) the volume is only needed while the pod runs,\nb) features of normal volumes like restoring from snapshot or capacity\n   tracking are needed,\nc) the storage driver is specified through a storage class, and\nd) the storage driver supports dynamic volume provisioning through\n   a PersistentVolumeClaim (see EphemeralVolumeSource for more\n   information on the connection between this volume type\n   and PersistentVolumeClaim).\n\nUse PersistentVolumeClaim or one of the vendor-specific\nAPIs for volumes that persist for longer than the lifecycle\nof an individual pod.\n\nUse CSI for light-weight local ephemeral volumes if the CSI driver is meant to\nbe used that way - see the documentation of the driver for\nmore information.\n\nA pod can use both types of ephemeral volumes and\npersistent volumes at the same time.\n\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.EphemeralVolumeSource"
-        },
-        "fc": {
-          "title": "FC represents a Fibre Channel resource that is attached to a kubelet's host machine and then exposed to the pod.\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.FCVolumeSource"
-        },
-        "flexVolume": {
-          "title": "FlexVolume represents a generic volume resource that is\nprovisioned/attached using an exec based plugin.\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.FlexVolumeSource"
-        },
-        "flocker": {
-          "title": "Flocker represents a Flocker volume attached to a kubelet's host machine. This depends on the Flocker control service being running\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.FlockerVolumeSource"
-        },
-        "gcePersistentDisk": {
-          "title": "GCEPersistentDisk represents a GCE Disk resource that is attached to a\nkubelet's host machine and then exposed to the pod.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#gcepersistentdisk\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.GCEPersistentDiskVolumeSource"
-        },
-        "gitRepo": {
-          "title": "GitRepo represents a git repository at a particular revision.\nDEPRECATED: GitRepo is deprecated. To provision a container with a git repo, mount an\nEmptyDir into an InitContainer that clones the repo using git, then mount the EmptyDir\ninto the Pod's container.\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.GitRepoVolumeSource"
-        },
-        "glusterfs": {
-          "title": "Glusterfs represents a Glusterfs mount on the host that shares a pod's lifetime.\nMore info: https://examples.io.k8s.volumes/glusterfs/README.md\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.GlusterfsVolumeSource"
-        },
-        "hostPath": {
-          "title": "HostPath represents a pre-existing file or directory on the host\nmachine that is directly exposed to the container. This is generally\nused for system agents or other privileged things that are allowed\nto see the host machine. Most containers will NOT need this.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#hostpath\n---\nTODO(jonesdl) We need to restrict who can use host directory mounts and who can/can not\nmount host directories as read/write.\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.HostPathVolumeSource"
-        },
-        "iscsi": {
-          "title": "ISCSI represents an ISCSI Disk resource that is attached to a\nkubelet's host machine and then exposed to the pod.\nMore info: https://examples.io.k8s.volumes/iscsi/README.md\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.ISCSIVolumeSource"
-        },
-        "nfs": {
-          "title": "NFS represents an NFS mount on the host that shares a pod's lifetime\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#nfs\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.NFSVolumeSource"
-        },
-        "persistentVolumeClaim": {
-          "title": "PersistentVolumeClaimVolumeSource represents a reference to a\nPersistentVolumeClaim in the same namespace.\nMore info: https://kubernetes.io/docs/concepts/storage/persistent-volumes#persistentvolumeclaims\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.PersistentVolumeClaimVolumeSource"
-        },
-        "photonPersistentDisk": {
-          "title": "PhotonPersistentDisk represents a PhotonController persistent disk attached and mounted on kubelets host machine",
-          "$ref": "#/definitions/io.k8s.api.core.v1.PhotonPersistentDiskVolumeSource"
-        },
-        "portworxVolume": {
-          "title": "PortworxVolume represents a portworx volume attached and mounted on kubelets host machine\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.PortworxVolumeSource"
-        },
-        "projected": {
-          "title": "Items for all in one resources secrets, configmaps, and downward API",
-          "$ref": "#/definitions/io.k8s.api.core.v1.ProjectedVolumeSource"
-        },
-        "quobyte": {
-          "title": "Quobyte represents a Quobyte mount on the host that shares a pod's lifetime\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.QuobyteVolumeSource"
-        },
-        "rbd": {
-          "title": "RBD represents a Rados Block Device mount on the host that shares a pod's lifetime.\nMore info: https://examples.io.k8s.volumes/rbd/README.md\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.RBDVolumeSource"
-        },
-        "scaleIO": {
-          "title": "ScaleIO represents a ScaleIO persistent volume attached and mounted on Kubernetes nodes.\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.ScaleIOVolumeSource"
-        },
-        "secret": {
-          "title": "Secret represents a secret that should populate this volume.\nMore info: https://kubernetes.io/docs/concepts/storage/volumes#secret\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.SecretVolumeSource"
-        },
-        "storageos": {
-          "title": "StorageOS represents a StorageOS volume attached and mounted on Kubernetes nodes.\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.StorageOSVolumeSource"
-        },
-        "vsphereVolume": {
-          "title": "VsphereVolume represents a vSphere volume attached and mounted on kubelets host machine\n+optional",
-          "$ref": "#/definitions/io.k8s.api.core.v1.VsphereVirtualDiskVolumeSource"
-        }
-      }
-    },
     "io.k8s.api.core.v1.VsphereVirtualDiskVolumeSource": {
       "description": "Represents a vSphere volume resource.",
       "type": "object",
diff --git a/go.mod b/go.mod
index 51205995444a..ad020fa3ced0 100644
--- a/go.mod
+++ b/go.mod
@@ -9,7 +9,7 @@ require (
 	github.com/TwinProduction/go-color v0.0.3
 	github.com/aliyun/aliyun-oss-go-sdk v2.1.8+incompatible
 	github.com/antonmedv/expr v1.8.9
-	github.com/argoproj-labs/argo-dataflow v0.0.98
+	github.com/argoproj-labs/argo-dataflow v0.0.107
 	github.com/argoproj/argo-events v1.4.0
 	github.com/argoproj/pkg v0.11.0
 	github.com/baiyubin/aliyun-sts-go-sdk v0.0.0-20180326062324-cfa1a18b161f // indirect
@@ -35,6 +35,7 @@ require (
 	github.com/grpc-ecosystem/go-grpc-prometheus v1.2.0
 	github.com/grpc-ecosystem/grpc-gateway v1.16.0
 	github.com/imkira/go-interpol v1.1.0 // indirect
+	github.com/klauspost/compress v1.13.1 // indirect
 	github.com/klauspost/pgzip v1.2.5
 	github.com/minio/minio-go/v7 v7.0.2
 	github.com/mitchellh/go-ps v0.0.0-20190716172923-621e5597135b
diff --git a/go.sum b/go.sum
index 42f1503de96d..70d97fe45e34 100644
--- a/go.sum
+++ b/go.sum
@@ -97,6 +97,7 @@ github.com/BurntSushi/toml v0.3.1/go.mod h1:xHWCNGjB5oqiDr8zfno3MHue2Ht5sIBksp03
 github.com/BurntSushi/xgb v0.0.0-20160522181843-27f122750802/go.mod h1:IVnqGOEym/WlBOVXweHU+Q+/VP0lqqI8lqeDx9IjBqo=
 github.com/DATA-DOG/go-sqlmock v1.3.3/go.mod h1:f/Ixk793poVmq4qj/V1dPUg2JEAKC73Q5eFN3EC/SaM=
 github.com/DataDog/datadog-go v2.2.0+incompatible/go.mod h1:LButxg5PwREeZtORoXG3tL4fMGNddJ+vMq1mwgfaqoQ=
+github.com/HdrHistogram/hdrhistogram-go v1.1.2/go.mod h1:yDgFjdqOqDEKOvasDdhWNXYg9BVp4O+o5f6V/ehm6Oo=
 github.com/Knetic/govaluate v3.0.1-0.20171022003610-9aa49832a739+incompatible h1:1G1pk05UrOh0NlF1oeaaix1x8XzrfjIDK47TY0Zehcw=
 github.com/Knetic/govaluate v3.0.1-0.20171022003610-9aa49832a739+incompatible/go.mod h1:r7JcOSlj0wfOMncg0iLm8Leh48TZaKVeNIfJntJ2wa0=
 github.com/Masterminds/goutils v1.1.0/go.mod h1:8cTjp+g8YejhMuvIA5y2vz3BpJxksy863GQaJW2MFNU=
@@ -133,6 +134,7 @@ github.com/agnivade/levenshtein v1.0.1/go.mod h1:CURSv5d9Uaml+FovSIICkLbAUZ9S4Rq
 github.com/ahmetb/gen-crd-api-reference-docs v0.2.0/go.mod h1:P/XzJ+c2+khJKNKABcm2biRwk2QAuwbLf8DlXuaL7WM=
 github.com/ajg/form v1.5.1 h1:t9c7v8JUKu/XxOGBU0yjNpaMloxGEJhUkqFRq0ibGeU=
 github.com/ajg/form v1.5.1/go.mod h1:uL1WgH+h2mgNtvBq0339dVnzXdBETtL2LeUXaIv25UY=
+github.com/ajstarks/svgo v0.0.0-20180226025133-644b8db467af/go.mod h1:K08gAheRH3/J6wwsYMMT4xOr94bZjxIelGM0+d/wbFw=
 github.com/alcortesm/tgz v0.0.0-20161220082320-9c5fe88206d7 h1:uSoVVbwJiQipAclBbw+8quDsfcvFjOpI5iCf4p/cqCs=
 github.com/alcortesm/tgz v0.0.0-20161220082320-9c5fe88206d7/go.mod h1:6zEj6s6u/ghQa61ZWa/C2Aw3RkjiTBOix7dkqa1VLIs=
 github.com/alecthomas/template v0.0.0-20160405071501-a0175ee3bccc/go.mod h1:LOuyumcjzFXgccqObfd/Ljyb9UuFJ6TxHnclSeseNhc=
@@ -157,8 +159,8 @@ github.com/apache/thrift v0.12.0/go.mod h1:cp2SuWMxlEZw2r+iP2GNCdIi4C1qmUzdZFSVb
 github.com/apache/thrift v0.13.0/go.mod h1:cp2SuWMxlEZw2r+iP2GNCdIi4C1qmUzdZFSVb+bacwQ=
 github.com/ardielle/ardielle-go v1.5.2/go.mod h1:I4hy1n795cUhaVt/ojz83SNVCYIGsAFAONtv2Dr7HUI=
 github.com/ardielle/ardielle-tools v1.5.4/go.mod h1:oZN+JRMnqGiIhrzkRN9l26Cej9dEx4jeNG6A+AdkShk=
-github.com/argoproj-labs/argo-dataflow v0.0.98 h1:RFWehxNRYaFBGTHqJMDW6RnsokgwPxYhlLYIgHZD02g=
-github.com/argoproj-labs/argo-dataflow v0.0.98/go.mod h1:HOdmu21+Xx59R28S8+e+wMx+/ApHWNtglPqLvgLRI2E=
+github.com/argoproj-labs/argo-dataflow v0.0.107 h1:z6grrCaMAn3AVbdTpiFZNi74NRZTLW4CYL5NQg8dr7E=
+github.com/argoproj-labs/argo-dataflow v0.0.107/go.mod h1:XQ+s9j5t/7R11Oi+P8dmbX9JRi+UdscGURxC457y6O8=
 github.com/argoproj/argo-events v1.4.0 h1:RIzAOomP/4rnv3X6KIDKzXZJ56JKFxSYmksoE98ILWI=
 github.com/argoproj/argo-events v1.4.0/go.mod h1:wI5A0U3Wj9ZvfPn3ioL18Dz29+7aibtlyU9pS0Ry+bg=
 github.com/argoproj/pkg v0.9.0/go.mod h1:ra+bQPmbVAoEL+gYSKesuigt4m49i3Qa3mE/xQcjCiA=
@@ -184,12 +186,18 @@ github.com/aws/aws-sdk-go v1.27.0/go.mod h1:KmX6BPdI08NWTb3/sm4ZGu5ShLoqVDhKgpiN
 github.com/aws/aws-sdk-go v1.33.16 h1:h/3BL2BQMEbS67BPoEo/5jD8IPGVrKBmoa4S9mBBntw=
 github.com/aws/aws-sdk-go v1.33.16/go.mod h1:5zCpMtNQVjRREroY7sYe8lOMRSxkhG6MZveU8YkpAk0=
 github.com/aws/aws-sdk-go-v2 v0.18.0/go.mod h1:JWVYvqSMppoMJC0x5wdwiImzgXTI9FuZwxzkQq9wy+g=
-github.com/aws/aws-sdk-go-v2 v1.7.1/go.mod h1:L5LuPC1ZgDr2xQS7AmIec/Jlc7O/Y1u2KxJyNVab250=
-github.com/aws/aws-sdk-go-v2/service/internal/accept-encoding v1.2.1/go.mod h1:v33JQ57i2nekYTA70Mb+O18KeH4KqhdqxTJZNK1zdRE=
-github.com/aws/aws-sdk-go-v2/service/internal/presigned-url v1.2.1/go.mod h1:zceowr5Z1Nh2WVP8bf/3ikB41IZW59E4yIYbg+pC6mw=
-github.com/aws/aws-sdk-go-v2/service/internal/s3shared v1.5.1/go.mod h1:6EQZIwNNvHpq/2/QSJnp4+ECvqIy55w95Ofs0ze+nGQ=
-github.com/aws/aws-sdk-go-v2/service/s3 v1.11.1/go.mod h1:XLAGFrEjbvMCLvAtWLLP32yTv8GpBquCApZEycDLunI=
-github.com/aws/smithy-go v1.6.0/go.mod h1:SObp3lf9smib00L/v3U2eAKG8FyQ7iLrJnQiAmR5n+E=
+github.com/aws/aws-sdk-go-v2 v1.9.0/go.mod h1:cK/D0BBs0b/oWPIcX/Z/obahJK1TT7IPVjy53i/mX/4=
+github.com/aws/aws-sdk-go-v2/config v1.7.0/go.mod h1:w9+nMZ7soXCe5nT46Ri354SNhXDQ6v+V5wqDjnZE+GY=
+github.com/aws/aws-sdk-go-v2/credentials v1.4.0/go.mod h1:dgGR+Qq7Wjcd4AOAW5Rf5Tnv3+x7ed6kETXyS9WCuAY=
+github.com/aws/aws-sdk-go-v2/feature/ec2/imds v1.5.0/go.mod h1:CpNzHK9VEFUCknu50kkB8z58AH2B5DvPP7ea1LHve/Y=
+github.com/aws/aws-sdk-go-v2/internal/ini v1.2.2/go.mod h1:BQV0agm+JEhqR+2RT5e1XTFIDcAAV0eW6z2trp+iduw=
+github.com/aws/aws-sdk-go-v2/service/internal/accept-encoding v1.3.0/go.mod h1:v8ygadNyATSm6elwJ/4gzJwcFhri9RqS8skgHKiwXPU=
+github.com/aws/aws-sdk-go-v2/service/internal/presigned-url v1.3.0/go.mod h1:R1KK+vY8AfalhG1AOu5e35pOD2SdoPKQCFLTvnxiohk=
+github.com/aws/aws-sdk-go-v2/service/internal/s3shared v1.6.0/go.mod h1:LKb3cKNQIMh+itGnEpKGcnL/6OIjPZqrtYah1w5f+3o=
+github.com/aws/aws-sdk-go-v2/service/s3 v1.14.0/go.mod h1:Qit9H3zjAmF7CLHOkrepE9b2ndX/2l3scstsM5g2jSk=
+github.com/aws/aws-sdk-go-v2/service/sso v1.4.0/go.mod h1:+1fpWnL96DL23aXPpMGbsmKe8jLTEfbjuQoA4WS1VaA=
+github.com/aws/aws-sdk-go-v2/service/sts v1.7.0/go.mod h1:0qcSMCyASQPN2sk/1KQLQ2Fh6yq8wm0HSDAimPhzCoM=
+github.com/aws/smithy-go v1.8.0/go.mod h1:SObp3lf9smib00L/v3U2eAKG8FyQ7iLrJnQiAmR5n+E=
 github.com/baiyubin/aliyun-sts-go-sdk v0.0.0-20180326062324-cfa1a18b161f h1:ZNv7On9kyUzm7fvRZumSyy/IUiSC7AzL0I1jKKtwooA=
 github.com/baiyubin/aliyun-sts-go-sdk v0.0.0-20180326062324-cfa1a18b161f/go.mod h1:AuiFmCCPBSrqvVMvuqFuk0qogytodnVFVSN5CeJB8Gc=
 github.com/beefsack/go-rate v0.0.0-20180408011153-efa7637bb9b6/go.mod h1:6YNgTHLutezwnBvyneBbwvB8C82y3dcoOj5EQJIdGXA=
@@ -316,6 +324,7 @@ github.com/fatih/structs v1.1.0/go.mod h1:9NiDSp5zOcgEDl+j00MP/WkGVPOlPRLejGD8Ga
 github.com/felixge/httpsnoop v1.0.1 h1:lvB5Jl89CsZtGIWuTcDM1E/vkVs49/Ml7JJe07l8SPQ=
 github.com/felixge/httpsnoop v1.0.1/go.mod h1:m8KPJKqk1gH5J9DgRY2ASl2lWCfGKXixSwevea8zH2U=
 github.com/flynn/go-shlex v0.0.0-20150515145356-3f9db97f8568/go.mod h1:xEzjJPgXI435gkrCt3MPfRiAkVrwSbHsst4LCFVfpJc=
+github.com/fogleman/gg v1.2.1-0.20190220221249-0403632d5b90/go.mod h1:R/bRT+9gY/C5z7JzPU0zXsXHKM4/ayA+zqcVNZzPa1k=
 github.com/form3tech-oss/jwt-go v3.2.2+incompatible h1:TcekIExNqud5crz4xD2pavyTgWiPvpYe4Xau31I0PRk=
 github.com/form3tech-oss/jwt-go v3.2.2+incompatible/go.mod h1:pbq4aXjuKjdthFRnoDwaVPLA+WlJuPGy+QneDUgJi2k=
 github.com/fortytw2/leaktest v1.3.0/go.mod h1:jDsjWgpAGjm2CA7WthBh/CdZYEPF31XHquHwclZch5g=
@@ -487,6 +496,7 @@ github.com/gogo/protobuf v1.2.2-0.20190723190241-65acae22fc9d/go.mod h1:SlYgWuQ5
 github.com/gogo/protobuf v1.3.1/go.mod h1:SlYgWuQ5SjCEi6WLHjHCa1yvBfUnHcTbrrZtXPKa29o=
 github.com/gogo/protobuf v1.3.2 h1:Ov1cvc58UF3b5XjBnZv7+opcTcQFZebYjWzi34vdm4Q=
 github.com/gogo/protobuf v1.3.2/go.mod h1:P1XiOD3dCwIKUDQYPy72D8LYyHL2YPYrpS2s69NZV8Q=
+github.com/golang/freetype v0.0.0-20170609003504-e2365dfdc4a0/go.mod h1:E/TSTwGwJL78qG/PmXZO1EjYhfJinVAhrmmHX6Z8B9k=
 github.com/golang/glog v0.0.0-20160126235308-23def4e6c14b h1:VKtxabqXZkF25pY9ekfRL6a582T4P37/31XEstQ5p58=
 github.com/golang/glog v0.0.0-20160126235308-23def4e6c14b/go.mod h1:SBH7ygxi8pfUlaOkMMuAQtPIUF8ecWP5IEl/CR7VP2Q=
 github.com/golang/groupcache v0.0.0-20160516000752-02826c3e7903/go.mod h1:cIg4eruTrX1D+g88fzRXU5OdNfaM+9IcxsU14FzY7Hc=
@@ -526,7 +536,6 @@ github.com/golang/protobuf v1.5.2/go.mod h1:XVQd3VNwM+JqD3oG2Ue2ip4fOMUkwXdXDdiu
 github.com/golang/snappy v0.0.0-20180518054509-2e65f85255db/go.mod h1:/XxbfmMg8lxefKM7IXC3fBNl/7bRcc72aCRzEWrmP2Q=
 github.com/golang/snappy v0.0.1/go.mod h1:/XxbfmMg8lxefKM7IXC3fBNl/7bRcc72aCRzEWrmP2Q=
 github.com/golang/snappy v0.0.3/go.mod h1:/XxbfmMg8lxefKM7IXC3fBNl/7bRcc72aCRzEWrmP2Q=
-github.com/golang/snappy v0.0.4/go.mod h1:/XxbfmMg8lxefKM7IXC3fBNl/7bRcc72aCRzEWrmP2Q=
 github.com/google/btree v0.0.0-20180813153112-4030bb1f1f0c/go.mod h1:lNA+9X1NB3Zf8V7Ke586lFgjr2dZNuvo3lPJSGZ5JPQ=
 github.com/google/btree v1.0.0/go.mod h1:lNA+9X1NB3Zf8V7Ke586lFgjr2dZNuvo3lPJSGZ5JPQ=
 github.com/google/go-cmp v0.2.0/go.mod h1:oXzfMopK8JAjlY9xF4vHSVASa0yLyX7SntLO5aqRK0M=
@@ -712,6 +721,7 @@ github.com/jtolds/gls v4.20.0+incompatible/go.mod h1:QJZ7F/aHp+rZTRtaJ1ow/lLfFfV
 github.com/juju/fslock v0.0.0-20160525022230-4d5c94c67b4b/go.mod h1:HMcgvsgd0Fjj4XXDkbjdmlbI505rUPBs6WBMYg2pXks=
 github.com/julienschmidt/httprouter v1.2.0/go.mod h1:SYymIcj16QtmaHHD7aYtjjsJG7VTCxuUUipMqKk8s4w=
 github.com/julienschmidt/httprouter v1.3.0/go.mod h1:JR6WtHb+2LUe8TCKY3cZOxFyyO8IZAc4RVcycCCAKdM=
+github.com/jung-kurt/gofpdf v1.0.3-0.20190309125859-24315acbbda5/go.mod h1:7Id9E/uU8ce6rXgefFLlgrJj/GYY22cpxn+r32jIOes=
 github.com/k0kubun/colorstring v0.0.0-20150214042306-9440f1994b88/go.mod h1:3w7q1U84EfirKl04SVQ/s7nPm1ZPhiXd34z40TNz36k=
 github.com/karrick/godirwalk v1.7.8/go.mod h1:2c9FRhkDxdIbgkOnCEvnSWs71Bhugbl46shStcFDJ34=
 github.com/karrick/godirwalk v1.8.0/go.mod h1:H5KPZjojv4lE+QYImBI8xVtrBRgYrIVsaRPx4tDPEn4=
@@ -808,8 +818,8 @@ github.com/minio/sha256-simd v0.1.1 h1:5QHSlgo3nt5yKOJrC7W8w7X+NFl8cMPZm96iu8kKU
 github.com/minio/sha256-simd v0.1.1/go.mod h1:B5e1o+1/KgNmWrSQK08Y6Z1Vb5pwIktudl0J58iy0KM=
 github.com/mitchellh/cli v1.0.0/go.mod h1:hNIlj7HEI86fIcpObd7a0FcrxTWetlwJDGcceTlRvqc=
 github.com/mitchellh/copystructure v1.0.0/go.mod h1:SNtv71yrdKgLRyLFxmLdkAbkKEFWgYaq1OVrnRcwhnw=
-github.com/mitchellh/copystructure v1.1.1 h1:Bp6x9R1Wn16SIz3OfeDr0b7RnCG2OB66Y7PQyC/cvq4=
-github.com/mitchellh/copystructure v1.1.1/go.mod h1:EBArHfARyrSWO/+Wyr9zwEkc6XMFB9XyNgFNmRkZZU4=
+github.com/mitchellh/copystructure v1.2.0 h1:vpKXTN4ewci03Vljg/q9QvCGUDttBOGBIa15WveJJGw=
+github.com/mitchellh/copystructure v1.2.0/go.mod h1:qLl+cE2AmVv+CoeAwDPye/v+N2HKCj9FbZEVFJRxO9s=
 github.com/mitchellh/go-homedir v1.0.0/go.mod h1:SfyaCUpYCn1Vlf4IUYiD9fPX4A5wJrkLzIz1N1q0pr0=
 github.com/mitchellh/go-homedir v1.1.0 h1:lukF9ziXFxDFPkA1vsr5zpc1XuPDn/wFntq5mG+4E0Y=
 github.com/mitchellh/go-homedir v1.1.0/go.mod h1:SfyaCUpYCn1Vlf4IUYiD9fPX4A5wJrkLzIz1N1q0pr0=
@@ -826,8 +836,9 @@ github.com/mitchellh/mapstructure v1.3.2/go.mod h1:bFUtVrKA4DC2yAKiSyO/QUcy7e+RR
 github.com/mitchellh/mapstructure v1.4.1 h1:CpVNEelQCZBooIPDn+AR3NpivK/TIKU8bDxdASFVQag=
 github.com/mitchellh/mapstructure v1.4.1/go.mod h1:bFUtVrKA4DC2yAKiSyO/QUcy7e+RRV2QTWOzhPopBRo=
 github.com/mitchellh/reflectwalk v1.0.0/go.mod h1:mSTlrgnPZtwu0c4WaC2kGObEpuNDbx0jmZXqmk4esnw=
-github.com/mitchellh/reflectwalk v1.0.1 h1:FVzMWA5RllMAKIdUSC8mdWo3XtwoecrH79BY70sEEpE=
 github.com/mitchellh/reflectwalk v1.0.1/go.mod h1:mSTlrgnPZtwu0c4WaC2kGObEpuNDbx0jmZXqmk4esnw=
+github.com/mitchellh/reflectwalk v1.0.2 h1:G2LzWKi524PWgd3mLHV8Y5k7s6XUvT0Gef6zxSIeXaQ=
+github.com/mitchellh/reflectwalk v1.0.2/go.mod h1:mSTlrgnPZtwu0c4WaC2kGObEpuNDbx0jmZXqmk4esnw=
 github.com/moby/term v0.0.0-20200312100748-672ec06f55cd/go.mod h1:DdlQx2hp0Ss5/fLikoLlEeIYiATotOjgB//nb973jeo=
 github.com/modern-go/concurrent v0.0.0-20180228061459-e0a39a4cb421/go.mod h1:6dJC0mAP4ikYIbvyc7fijjWJddQyLn8Ig3JB5CqoB9Q=
 github.com/modern-go/concurrent v0.0.0-20180306012644-bacd9c7ef1dd h1:TRLaZ9cD/w8PVh93nsPXa1VrQ6jlwL5oN8l14QlcNfg=
@@ -897,6 +908,7 @@ github.com/opentracing-contrib/go-observer v0.0.0-20170622124052-a52f23424492/go
 github.com/opentracing/basictracer-go v1.0.0/go.mod h1:QfBfYuafItcjQuMwinw9GhYKwFXS9KnPs5lxoYwgW74=
 github.com/opentracing/opentracing-go v1.0.2/go.mod h1:UkNAQd3GIcIGf0SeVgPpRdFStlNbqXla1AfSYxPUl2o=
 github.com/opentracing/opentracing-go v1.1.0/go.mod h1:UkNAQd3GIcIGf0SeVgPpRdFStlNbqXla1AfSYxPUl2o=
+github.com/opentracing/opentracing-go v1.2.0/go.mod h1:GxEUsuufX4nBwe+T+Wl9TAgYrxe9dPLANfrWvHYVTgc=
 github.com/openzipkin-contrib/zipkin-go-opentracing v0.4.5/go.mod h1:/wsWhb9smxSfWAKL3wpBW7V8scJMt8N8gnaMCS9E/cA=
 github.com/openzipkin/zipkin-go v0.1.6/go.mod h1:QgAqvLzwWbR/WpD4A3cGpPtJrZXNIiJc5AZX7/PBEpw=
 github.com/openzipkin/zipkin-go v0.2.1/go.mod h1:NaW6tEwdmWMaCDZzg8sh+IBNOxHMPnhQw8ySjnjRyN4=
@@ -904,7 +916,6 @@ github.com/openzipkin/zipkin-go v0.2.2/go.mod h1:NaW6tEwdmWMaCDZzg8sh+IBNOxHMPnh
 github.com/pact-foundation/pact-go v1.0.4/go.mod h1:uExwJY4kCzNPcHRj+hCR/HBbOOIwwtUjcrb0b5/5kLM=
 github.com/pascaldekloe/goe v0.0.0-20180627143212-57f6aae5913c/go.mod h1:lzWF7FIEvWOWxwDKqyGYQf6ZUaNfKdP144TG7ZOy1lc=
 github.com/pascaldekloe/goe v0.1.0/go.mod h1:lzWF7FIEvWOWxwDKqyGYQf6ZUaNfKdP144TG7ZOy1lc=
-github.com/paulbellamy/ratecounter v0.2.0/go.mod h1:Hfx1hDpSGoqxkVVpBi/IlYD7kChlfo5C6hzIHwPqfFE=
 github.com/pborman/getopt v0.0.0-20180729010549-6fdd0a2c7117/go.mod h1:85jBQOZwpVEaDAr341tbn15RS4fCAsIst0qp7i8ex1o=
 github.com/pborman/uuid v1.2.0/go.mod h1:X/NO0urCmaxf9VXbdlT7C2Yzkj2IKimNn4k+gtPdI/k=
 github.com/pelletier/go-buffruneio v0.2.0/go.mod h1:JkE26KsDizTr40EUHkXVtNPvgGtbSNq5BcowyYOWdKo=
@@ -921,7 +932,6 @@ github.com/pierrec/lz4 v2.0.5+incompatible/go.mod h1:pdkljMzZIN41W+lC3N2tnIh5sFi
 github.com/pierrec/lz4 v2.4.1+incompatible/go.mod h1:pdkljMzZIN41W+lC3N2tnIh5sFi+IEE17M5jbnwPHcY=
 github.com/pierrec/lz4 v2.5.0+incompatible/go.mod h1:pdkljMzZIN41W+lC3N2tnIh5sFi+IEE17M5jbnwPHcY=
 github.com/pierrec/lz4 v2.6.0+incompatible/go.mod h1:pdkljMzZIN41W+lC3N2tnIh5sFi+IEE17M5jbnwPHcY=
-github.com/pierrec/lz4 v2.6.1+incompatible/go.mod h1:pdkljMzZIN41W+lC3N2tnIh5sFi+IEE17M5jbnwPHcY=
 github.com/pkg/errors v0.8.0/go.mod h1:bwawxfHBFNV+L2hUp1rHADufV3IMtnDRdf1r5NINEl0=
 github.com/pkg/errors v0.8.1/go.mod h1:bwawxfHBFNV+L2hUp1rHADufV3IMtnDRdf1r5NINEl0=
 github.com/pkg/errors v0.9.1 h1:FEBLx1zS214owpjy7qsBeixbURkuhQAwrK5UwLGTwt4=
@@ -1092,6 +1102,8 @@ github.com/tmc/grpc-websocket-proxy v0.0.0-20190109142713-0ad062ec5ee5/go.mod h1
 github.com/toqueteos/webbrowser v1.2.0 h1:tVP/gpK69Fx+qMJKsLE7TD8LuGWPnEV71wBN9rrstGQ=
 github.com/toqueteos/webbrowser v1.2.0/go.mod h1:XWoZq4cyp9WeUeak7w7LXRUQf1F1ATJMir8RTqb4ayM=
 github.com/tv42/httpunix v0.0.0-20150427012821-b75d8614f926/go.mod h1:9ESjWnEqriFuLhtthL60Sar/7RFoluCcXsuvEwTV5KM=
+github.com/uber/jaeger-client-go v2.29.1+incompatible/go.mod h1:WVhlPFC8FDjOFMMWRy2pZqQJSXxYSwNYOkTr/Z6d3Kk=
+github.com/uber/jaeger-lib v2.4.1+incompatible/go.mod h1:ComeNDZlWwrWnDv8aPp0Ba6+uUTzImX/AauajbLI56U=
 github.com/ugorji/go v1.1.4/go.mod h1:uQMGLiO92mf5W77hV/PUCpI3pbzQx3CRekS0kk+RGrc=
 github.com/ugorji/go/codec v0.0.0-20181204163529-d75b2dcb6bc8/go.mod h1:VFNgLljTbGfSG7qAOspJ7OScBnGdDN/yBr0sguwnwf0=
 github.com/urfave/cli v1.20.0/go.mod h1:70zkFmudgCuE/ngEzBv17Jvp/497gISqfk5gWijbERA=
@@ -1218,7 +1230,10 @@ golang.org/x/crypto v0.0.0-20210322153248-0c34fe9e7dc2/go.mod h1:T9bdIzuCu7OtxOm
 golang.org/x/crypto v0.0.0-20210616213533-5ff15b29337e/go.mod h1:GvvjBRRGRdwPK5ydBHafDWAxML/pGHZbMvKqRZ5+Abc=
 golang.org/x/crypto v0.0.0-20210711020723-a769d52b0f97 h1:/UOmuWzQfxxo9UtlXMwuQU8CMgg1eZXqTRwkSQJWKOI=
 golang.org/x/crypto v0.0.0-20210711020723-a769d52b0f97/go.mod h1:GvvjBRRGRdwPK5ydBHafDWAxML/pGHZbMvKqRZ5+Abc=
+golang.org/x/exp v0.0.0-20180321215751-8460e604b9de/go.mod h1:CJ0aWSM057203Lf6IL+f9T1iT9GByDxfZKAQTCR3kQA=
+golang.org/x/exp v0.0.0-20180807140117-3d87b88a115f/go.mod h1:CJ0aWSM057203Lf6IL+f9T1iT9GByDxfZKAQTCR3kQA=
 golang.org/x/exp v0.0.0-20190121172915-509febef88a4/go.mod h1:CJ0aWSM057203Lf6IL+f9T1iT9GByDxfZKAQTCR3kQA=
+golang.org/x/exp v0.0.0-20190125153040-c74c464bbbf2/go.mod h1:CJ0aWSM057203Lf6IL+f9T1iT9GByDxfZKAQTCR3kQA=
 golang.org/x/exp v0.0.0-20190306152737-a1d7652674e8/go.mod h1:CJ0aWSM057203Lf6IL+f9T1iT9GByDxfZKAQTCR3kQA=
 golang.org/x/exp v0.0.0-20190510132918-efd6b22b2522/go.mod h1:ZjyILWgesfNpC6sMxTJOJm9Kp84zZh5NQWvqDGG3Qr8=
 golang.org/x/exp v0.0.0-20190829153037-c13cbed26979/go.mod h1:86+5VVa7VpoJ4kLfm080zCjGlMRFzhUhsZKEZO7MGek=
@@ -1229,6 +1244,7 @@ golang.org/x/exp v0.0.0-20200119233911-0405dc783f0a/go.mod h1:2RIsYlXP63K8oxa1u0
 golang.org/x/exp v0.0.0-20200207192155-f17229e696bd/go.mod h1:J/WKrq2StrnmMY6+EHIKF9dgMWnmCNThgcyBT1FY9mM=
 golang.org/x/exp v0.0.0-20200224162631-6cc2880d07d6/go.mod h1:3jZMyOhIsHpP37uCMkUooju7aAi5cS1Q23tOzKc+0MU=
 golang.org/x/exp v0.0.0-20200908183739-ae8ad444f925/go.mod h1:1phAWC201xIgDyaFpmDeZkgf70Q4Pd/CNqfRtVPtxNw=
+golang.org/x/image v0.0.0-20180708004352-c73c2afc3b81/go.mod h1:ux5Hcp/YLpHSI86hEcLt0YII63i6oz57MZXIpbrjZUs=
 golang.org/x/image v0.0.0-20190227222117-0694c2d4d067/go.mod h1:kZ7UVZpmo3dzQBMxlp+ypCbDeSB+sBbTgSJuh5dn5js=
 golang.org/x/image v0.0.0-20190802002840-cff245a6509b/go.mod h1:FeLwcggjj3mMvU+oOTbSwawSJRM1uh48EjtB4UJZlP0=
 golang.org/x/lint v0.0.0-20181026193005-c67002cb31c3/go.mod h1:UVdnD1Gm6xHRNCYTkRU2/jEulfH38KcIWyp/GAMgvoE=
@@ -1446,12 +1462,14 @@ golang.org/x/time v0.0.0-20191024005414-555d28b269f0/go.mod h1:tRJNPiyCQ0inRvYxb
 golang.org/x/time v0.0.0-20200630173020-3af7569d3a1e h1:EHBhcS0mlXEAVwNyO2dLfjToGsyY4j24pTs2ScHnX7s=
 golang.org/x/time v0.0.0-20200630173020-3af7569d3a1e/go.mod h1:tRJNPiyCQ0inRvYxbN9jk5I+vvW/OXSQhTDSoE431IQ=
 golang.org/x/tools v0.0.0-20180221164845-07fd8470d635/go.mod h1:n7NCudcB/nEzxVGmLbDWY5pfWTLqBcC2KZ6jyYvM4mQ=
+golang.org/x/tools v0.0.0-20180525024113-a5b4c53f6e8b/go.mod h1:n7NCudcB/nEzxVGmLbDWY5pfWTLqBcC2KZ6jyYvM4mQ=
 golang.org/x/tools v0.0.0-20180828015842-6cd1fcedba52/go.mod h1:n7NCudcB/nEzxVGmLbDWY5pfWTLqBcC2KZ6jyYvM4mQ=
 golang.org/x/tools v0.0.0-20180917221912-90fa682c2a6e/go.mod h1:n7NCudcB/nEzxVGmLbDWY5pfWTLqBcC2KZ6jyYvM4mQ=
 golang.org/x/tools v0.0.0-20181011042414-1f849cf54d09/go.mod h1:n7NCudcB/nEzxVGmLbDWY5pfWTLqBcC2KZ6jyYvM4mQ=
 golang.org/x/tools v0.0.0-20181030221726-6c7e314b6563/go.mod h1:n7NCudcB/nEzxVGmLbDWY5pfWTLqBcC2KZ6jyYvM4mQ=
 golang.org/x/tools v0.0.0-20190114222345-bf090417da8b/go.mod h1:n7NCudcB/nEzxVGmLbDWY5pfWTLqBcC2KZ6jyYvM4mQ=
 golang.org/x/tools v0.0.0-20190125232054-d66bd3c5d5a6/go.mod h1:n7NCudcB/nEzxVGmLbDWY5pfWTLqBcC2KZ6jyYvM4mQ=
+golang.org/x/tools v0.0.0-20190206041539-40960b6deb8e/go.mod h1:n7NCudcB/nEzxVGmLbDWY5pfWTLqBcC2KZ6jyYvM4mQ=
 golang.org/x/tools v0.0.0-20190213192042-740235f6c0d8/go.mod h1:n7NCudcB/nEzxVGmLbDWY5pfWTLqBcC2KZ6jyYvM4mQ=
 golang.org/x/tools v0.0.0-20190226205152-f727befe758c/go.mod h1:9Yl7xja0Znq3iFh3HoIrodX9oNMXvdceNzlUR8zjMvY=
 golang.org/x/tools v0.0.0-20190311212946-11955173bddd/go.mod h1:LCzVGOaR6xXOjkQ3onu1FJEFr0SW1gC7cKk1uF8kGRs=
@@ -1529,6 +1547,10 @@ golang.org/x/xerrors v0.0.0-20191204190536-9bdfabe68543/go.mod h1:I/5z698sn9Ka8T
 golang.org/x/xerrors v0.0.0-20200804184101-5ec99f83aff1 h1:go1bK/D/BFZV2I8cIQd1NKEZ+0owSTG1fDTci4IqFcE=
 golang.org/x/xerrors v0.0.0-20200804184101-5ec99f83aff1/go.mod h1:I/5z698sn9Ka8TeJc9MKroUUfqBBauWjQqLJ2OPfmY0=
 gomodules.xyz/jsonpatch/v2 v2.1.0/go.mod h1:IhYNNY4jnS53ZnfE4PAmpKtDpTCj1JFXc+3mwe7XcUU=
+gonum.org/v1/gonum v0.0.0-20180816165407-929014505bf4/go.mod h1:Y+Yx5eoAFn32cQvJDxZx5Dpnq+c3wtXuadVZAcxbbBo=
+gonum.org/v1/gonum v0.8.2/go.mod h1:oe/vMfY3deqTw+1EZJhuvEW2iwGF1bW9wwu7XCu0+v0=
+gonum.org/v1/netlib v0.0.0-20190313105609-8cb42192e0e0/go.mod h1:wa6Ws7BG/ESfp6dHfk7C6KdzKA7wR7u/rKwOGE66zvw=
+gonum.org/v1/plot v0.0.0-20190515093506-e2840ee46a6b/go.mod h1:Wt8AAjI+ypCyYX3nZBvf6cAIx93T+c/OS2HFAYskSZc=
 google.golang.org/api v0.3.1/go.mod h1:6wY9I6uQWHQ8EM57III9mq/AjF+i8G65rmVagqKMtkk=
 google.golang.org/api v0.4.0/go.mod h1:8k5glujaEP+g9n7WNsDg8QP6cUVNI86fCNMcbazEtwE=
 google.golang.org/api v0.7.0/go.mod h1:WtwebWUNSVBH/HAw79HIFXZNqEvBhG+Ra+ax0hx3E3M=
@@ -1789,6 +1811,7 @@ k8s.io/utils v0.0.0-20201110183641-67b214c5f920/go.mod h1:jPW/WVKK9YHAvNhRxK0md/
 moul.io/http2curl v1.0.1-0.20190925090545-5cd742060b0e h1:C7q+e9M5nggAvWfVg9Nl66kebKeuJlP3FD58V4RR5wo=
 moul.io/http2curl v1.0.1-0.20190925090545-5cd742060b0e/go.mod h1:nejbQVfXh96n9dSF6cH3Jsk/QI1Z2oEL7sSI2ifXFNA=
 rsc.io/binaryregexp v0.2.0/go.mod h1:qTv7/COck+e2FymRvadv62gMdZztPaShugOCi3I+8D8=
+rsc.io/pdf v0.1.1/go.mod h1:n8OzWcQ6Sp37PL01nO98y4iUCRdTGarVfzxY20ICaU4=
 rsc.io/quote/v3 v3.1.0/go.mod h1:yEA65RcK8LyAZtP9Kv3t0HmxON59tX3rD+tICJqUlj0=
 rsc.io/sampler v1.3.0/go.mod h1:T1hPZKmBbMNahiBKFy5HrXp6adAjACjK9JXDnKaTXpA=
 sigs.k8s.io/apiserver-network-proxy/konnectivity-client v0.0.7/go.mod h1:PHgbrJT7lCHcxMU+mDHEm+nx46H4zuuHZkDP6icnhu0=
diff --git a/ui/src/app/pipelines/components/pipeline-details/pipeline-graph.ts b/ui/src/app/pipelines/components/pipeline-details/pipeline-graph.ts
index 35eda746f7c4..d8e599888eb1 100644
--- a/ui/src/app/pipelines/components/pipeline-details/pipeline-graph.ts
+++ b/ui/src/app/pipelines/components/pipeline-details/pipeline-graph.ts
@@ -1,8 +1,7 @@
 import {Pipeline} from '../../../../models/pipeline';
-import {Metrics, Step} from '../../../../models/step';
+import {Step} from '../../../../models/step';
 import {Graph} from '../../../shared/components/graph/types';
 import {Icon} from '../../../shared/components/icon';
-import {totalRate} from '../total-rate';
 
 type Type = '' | 'cat' | 'code' | 'container' | 'dedupe' | 'expand' | 'filter' | 'flatten' | 'git' | 'group' | 'map' | 'split';
 
@@ -34,19 +33,6 @@ const stepIcon = (type: Type): Icon => {
     }
 };
 
-const pendingSymbol = '';
-
-function formatRates(metrics: Metrics, replicas: number): string {
-    const rates = Object.entries(metrics || {})
-        // the rate will remain after scale-down, so we must filter out, as it'll be wrong
-        .filter(([replica]) => parseInt(replica, 10) < replicas);
-    return rates.length > 0 ? '' + totalRate(metrics, replicas) : '';
-}
-
-function formatPending(pending: number) {
-    return pending ? ' ' + pendingSymbol + pending.toLocaleString() + ' ' : '';
-}
-
 export const graph = (pipeline: Pipeline, steps: Step[]) => {
     const g = new Graph();
 
@@ -82,85 +68,81 @@ export const graph = (pipeline: Pipeline, steps: Step[]) => {
 
         const classNames = status.phase === 'Running' ? 'flow' : '';
         (spec.sources || []).forEach(x => {
-            const ss = (status.sourceStatuses || {})[x.name || ''] || {};
-            const label = formatPending(ss.pending) + formatRates(ss.metrics, step.status.replicas);
             if (x.cron) {
                 const cronId = 'cron/' + stepId + '/sources/' + x.cron.schedule;
                 g.nodes.set(cronId, {genre: 'cron', icon: 'clock', label: x.cron.schedule});
-                g.edges.set({v: cronId, w: stepId}, {classNames, label});
+                g.edges.set({v: cronId, w: stepId}, {classNames});
             } else if (x.db) {
                 const id = 'db/' + +stepId + '/sources/' + x.name;
                 g.nodes.set(id, {genre: 'db', icon: 'database', label: x.name});
-                g.edges.set({v: id, w: stepId}, {classNames, label});
+                g.edges.set({v: id, w: stepId}, {classNames});
             } else if (x.kafka) {
                 const kafkaId = x.kafka.name || x.kafka.url || 'default';
                 const topicId = 'kafka/' + kafkaId + '/' + x.kafka.topic;
                 g.nodes.set(topicId, {genre: 'kafka', icon: 'stream', label: x.kafka.topic});
-                g.edges.set({v: topicId, w: stepId}, {classNames, label});
+                g.edges.set({v: topicId, w: stepId}, {classNames});
             } else if (x.stan) {
                 const stanId = x.stan.name || x.stan.url || 'default';
                 const subjectId = 'stan/' + stanId + '/' + x.stan.subject;
                 g.nodes.set(subjectId, {genre: 'stan', icon: 'stream', label: x.stan.subject});
-                g.edges.set({v: subjectId, w: stepId}, {classNames, label});
+                g.edges.set({v: subjectId, w: stepId}, {classNames});
             } else if (x.http) {
                 const y = new URL('http://' + (x.http.serviceName || pipeline.metadata.name + '-' + step.spec.name) + '/sources/' + x.name);
                 const subjectId = 'http/' + y;
                 g.nodes.set(subjectId, {genre: 'http', icon: 'cloud', label: y.hostname});
-                g.edges.set({v: subjectId, w: stepId}, {classNames, label});
+                g.edges.set({v: subjectId, w: stepId}, {classNames});
             } else if (x.s3) {
                 const bucket = x.s3.bucket;
                 const id = 's3/' + bucket;
                 g.nodes.set(id, {genre: 's3', icon: 'hdd', label: bucket});
-                g.edges.set({v: id, w: stepId}, {classNames, label});
+                g.edges.set({v: id, w: stepId}, {classNames});
             } else if (x.volume) {
                 const id = 'volume/' + stepId + '/sources/' + x.name;
                 g.nodes.set(id, {genre: 'volume', icon: 'hdd', label: x.name});
-                g.edges.set({v: id, w: stepId}, {classNames, label});
+                g.edges.set({v: id, w: stepId}, {classNames});
             } else {
                 const id = 'unknown/' + stepId + '/sources/' + x.name;
                 g.nodes.set(id, {genre: 'unknown', icon: 'square', label: x.name});
-                g.edges.set({v: id, w: stepId}, {classNames, label});
+                g.edges.set({v: id, w: stepId}, {classNames});
             }
         });
         (spec.sinks || []).forEach(x => {
-            const ss = (status.sinkStatuses || {})[x.name || ''] || {};
-            const label = formatRates(ss.metrics, step.status.replicas);
             if (x.db) {
                 const id = 'db/' + stepId + '/sinks/' + x.name;
                 g.nodes.set(id, {genre: 'db', icon: 'database', label: x.name});
-                g.edges.set({v: stepId, w: id}, {classNames, label});
+                g.edges.set({v: stepId, w: id}, {classNames});
             } else if (x.kafka) {
                 const kafkaId = x.kafka.name || x.kafka.url || 'default';
                 const topicId = 'kafka/' + kafkaId + '/' + x.kafka.topic;
                 g.nodes.set(topicId, {genre: 'kafka', icon: 'stream', label: x.kafka.topic});
-                g.edges.set({v: stepId, w: topicId}, {classNames, label});
+                g.edges.set({v: stepId, w: topicId}, {classNames});
             } else if (x.log) {
                 const logId = 'log/' + stepId + '/sinks/' + x.name;
                 g.nodes.set(logId, {genre: 'log', icon: 'file-alt', label: 'log'});
-                g.edges.set({v: stepId, w: logId}, {classNames, label});
+                g.edges.set({v: stepId, w: logId}, {classNames});
             } else if (x.stan) {
                 const stanId = x.stan.name || x.stan.url || 'default';
                 const subjectId = 'stan/' + stanId + '/' + x.stan.subject;
                 g.nodes.set(subjectId, {genre: 'stan', icon: 'stream', label: x.stan.subject});
-                g.edges.set({v: stepId, w: subjectId}, {classNames, label});
+                g.edges.set({v: stepId, w: subjectId}, {classNames});
             } else if (x.http) {
                 const y = new URL(x.http.url);
                 const subjectId = 'http/' + y;
                 g.nodes.set(subjectId, {genre: 'http', icon: 'cloud', label: y.hostname});
-                g.edges.set({v: stepId, w: subjectId}, {classNames, label});
+                g.edges.set({v: stepId, w: subjectId}, {classNames});
             } else if (x.s3) {
                 const bucket = x.s3.bucket;
                 const id = 's3/' + bucket;
                 g.nodes.set(id, {genre: 's3', icon: 'hdd', label: bucket});
-                g.edges.set({v: stepId, w: id}, {classNames, label});
+                g.edges.set({v: stepId, w: id}, {classNames});
             } else if (x.volume) {
                 const id = 'volume/' + stepId + '/sinks/' + x.name;
                 g.nodes.set(id, {genre: 'volume', icon: 'hdd', label: x.name});
-                g.edges.set({v: stepId, w: id}, {classNames, label});
+                g.edges.set({v: stepId, w: id}, {classNames});
             } else {
                 const id = 'unknown/' + stepId + '/sinks/' + x.name;
                 g.nodes.set(id, {genre: 'unknown', icon: 'square', label: x.name});
-                g.edges.set({v: stepId, w: id}, {classNames, label});
+                g.edges.set({v: stepId, w: id}, {classNames});
             }
         });
     });
diff --git a/ui/src/app/pipelines/components/step-side-panel.tsx b/ui/src/app/pipelines/components/step-side-panel.tsx
index 9ba3d5c03af9..32d033f270a8 100644
--- a/ui/src/app/pipelines/components/step-side-panel.tsx
+++ b/ui/src/app/pipelines/components/step-side-panel.tsx
@@ -3,14 +3,9 @@ import * as React from 'react';
 import {Step, StepStatus} from '../../../models/step';
 import {ObjectEditor} from '../../shared/components/object-editor/object-editor';
 import {Phase} from '../../shared/components/phase';
-import {TickMeter} from '../../shared/components/tick-meter';
 import {Timestamp} from '../../shared/components/timestamp';
-import {parseResourceQuantity} from '../../shared/resource-quantity';
 import {EventsPanel} from '../../workflows/components/events-panel';
 import {PipelineLogsViewer} from './pipeline-logs-viewer';
-import {totalRate} from './total-rate';
-
-const prettyNumber = (x: number): number => (x < 1 ? x : Math.round(x));
 
 export const StepSidePanel = ({
     isShown,
@@ -74,10 +69,6 @@ const statusPanel = (step: Step) =>
             <div className='row'>
                 <div className='columns small-12'>{statusHeader(step.status)}</div>
             </div>
-            <div className='row' style={{marginTop: 10}}>
-                <div className='columns small-6'>{sourcesPanel(step.status)}</div>
-                <div className='columns small-6'>{sinksPanel(step.status)}</div>
-            </div>
         </>
     );
 
@@ -105,111 +96,3 @@ const statusHeader = (status: StepStatus) => (
         </div>
     </div>
 );
-
-const sourcesPanel = (status: StepStatus) => (
-    <>
-        <h5>Sources</h5>
-        {status.sourceStatuses ? (
-            Object.entries(status.sourceStatuses).map(([name, x]) => {
-                const total = Object.values(x.metrics || {})
-                    .filter(m => m.total)
-                    .reduce((a, b) => a + b.total, 0);
-                const rate = totalRate(x.metrics, status.replicas);
-                const errors = Object.values(x.metrics || {})
-                    .filter(m => m.errors)
-                    .reduce((a, b) => a + b.errors, 0);
-                const retries = Object.values(x.metrics || {})
-                    .filter(m => m.retries)
-                    .reduce((a, b) => a + b.retries, 0);
-                return (
-                    <div className='white-box' key={name}>
-                        <p>{name}</p>
-                        <div className='white-box__details'>
-                            <div className='row white-box__details-row'>
-                                <div className='columns small-4'>Pending</div>
-                                <div className='columns small-8'>
-                                    <TickMeter value={x.pending || 0} />
-                                </div>
-                            </div>
-                            <div className='row white-box__details-row'>
-                                <div className='columns small-4'>Retries</div>
-                                <div className='columns small-8'>
-                                    <TickMeter value={retries} />
-                                </div>
-                            </div>
-                            <div className='row white-box__details-row'>
-                                <div className='columns small-4'>Total</div>
-                                <div className='columns small-4'>
-                                    <TickMeter value={total} />
-                                </div>
-                                <div className='columns small-4' title='Rate'>
-                                    <TickMeter value={rate} /> <small>TPS</small>
-                                </div>
-                            </div>
-                            <div className='row white-box__details-row'>
-                                <div className='columns small-4'>Errors</div>
-                                <div className='columns small-4'>
-                                    <TickMeter value={errors} />
-                                </div>
-                                <div className='columns small-4'>
-                                    <TickMeter value={Math.floor((10000 * errors) / total) / 100} />%
-                                </div>
-                            </div>
-                        </div>
-                    </div>
-                );
-            })
-        ) : (
-            <div className='white-box'>None</div>
-        )}
-    </>
-);
-
-const sinksPanel = (status: StepStatus) => (
-    <>
-        <h5>Sinks</h5>
-        {status.sinkStatuses ? (
-            Object.entries(status.sinkStatuses).map(([name, x]) => {
-                const total = Object.values(x.metrics || {})
-                    .filter(m => m.total)
-                    .reduce((a, b) => a + b.total, 0);
-                const rate = Object.entries(x.metrics || {})
-                    // the rate will remain after scale-down, so we must filter out, as it'll be wrong
-                    .filter(([replica]) => parseInt(replica, 10) < status.replicas)
-                    .map(([, m]) => m)
-                    .map(m => parseResourceQuantity(m.rate))
-                    .reduce((a, b) => a + b, 0);
-                const errors = Object.values(x.metrics || {})
-                    .filter(m => m.errors)
-                    .reduce((a, b) => a + b.errors, 0);
-                return (
-                    <div className='white-box' key={name}>
-                        <p>{name}</p>
-                        <div className='white-box__details'>
-                            <div className='row white-box__details-row'>
-                                <div className='columns small-4'>Total</div>
-                                <div className='columns small-4'>
-                                    <TickMeter value={total} />
-                                </div>
-                                <div className='columns small-4' title='Rate'>
-                                    <TickMeter value={prettyNumber(rate)} /> <small>TPS</small>
-                                </div>
-                            </div>
-                            <div className='row white-box__details-row'>
-                                <div className='columns small-4'>Errors</div>
-                                <div className='columns small-4'>
-                                    <TickMeter value={errors} />
-                                </div>
-                                <div className='columns small-4'>
-                                    <TickMeter value={prettyNumber(Math.floor((10000 * errors) / total) / 100)} />%
-                                </div>
-                            </div>
-                        </div>
-                    </div>
-                );
-            })
-        ) : (
-            <div className='white-box'>None</div>
-        )}
-    </>
-);
diff --git a/ui/src/app/pipelines/components/total-rate.ts b/ui/src/app/pipelines/components/total-rate.ts
deleted file mode 100644
index 1aeb0267a869..000000000000
--- a/ui/src/app/pipelines/components/total-rate.ts
+++ /dev/null
@@ -1,17 +0,0 @@
-import {Metrics} from '../../../models/step';
-import {parseResourceQuantity} from '../../shared/resource-quantity';
-
-const prettyNumber = (x: number): number => (x < 1 ? x : Math.round(x));
-export const totalRate = (metrics: Metrics, replicas: number): number => {
-    const rates = Object.entries(metrics || {})
-        // the rate will remain after scale-down, so we must filter out, as it'll be wrong
-        .filter(([replica, m]) => parseInt(replica, 10) < replicas);
-    return rates.length > 0
-        ? prettyNumber(
-              rates
-                  .map(([, m]) => m)
-                  .map(m => parseResourceQuantity(m.rate))
-                  .reduce((a, b) => a + b, 0)
-          )
-        : null;
-};
diff --git a/ui/src/models/step.ts b/ui/src/models/step.ts
index d725dccbe71f..8d6a76cc8138 100644
--- a/ui/src/models/step.ts
+++ b/ui/src/models/step.ts
@@ -1,12 +1,5 @@
 import {ObjectMeta, Time, WatchEvent} from 'argo-ui/src/models/kubernetes';
 
-export interface Metrics {
-    total?: number;
-    errors?: number;
-    retries?: number;
-    rate?: string;
-}
-
 export interface Step {
     metadata: ObjectMeta;
     spec: {
@@ -65,21 +58,6 @@ export interface StepStatus {
     message?: string;
     replicas: number;
     lastScaledAt?: Time;
-    sinkStatuses?: SinkStatuses;
-    sourceStatuses?: SourceStatuses;
-}
-
-interface SourceStatuses {
-    [name: string]: {
-        pending?: number;
-        metrics?: {[name: string]: Metrics};
-    };
-}
-
-interface SinkStatuses {
-    [name: string]: {
-        metrics?: {[replica: string]: Metrics};
-    };
 }
 
 export type StepWatchEvent = WatchEvent<Step>;

From 710e82366dc3b0b17f5bf52004d2f72622de7781 Mon Sep 17 00:00:00 2001
From: TCgogogo <1073709473@qq.com>
Date: Wed, 22 Sep 2021 00:52:41 +0800
Subject: [PATCH 125/137] fix: fix a typo in example file
 dag-conditional-artifacts.yaml (#6775)

Signed-off-by: Siming Tian <siti@microsoft.com>

Co-authored-by: Siming Tian <siti@microsoft.com>
---
 examples/dag-conditional-artifacts.yaml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/examples/dag-conditional-artifacts.yaml b/examples/dag-conditional-artifacts.yaml
index ded5ef2b2183..09f0a1685292 100644
--- a/examples/dag-conditional-artifacts.yaml
+++ b/examples/dag-conditional-artifacts.yaml
@@ -62,7 +62,7 @@ spec:
         command: [ python ]
         source: |
           with open("result.txt", "w") as f:
-            f.write("it was heads")
+            f.write("it was tails")
       outputs:
         artifacts:
           - name: result

From 7770f3c2a39990c811a6cc439b32bcb7267a221b Mon Sep 17 00:00:00 2001
From: Alex Collins <alex_collins@intuit.com>
Date: Tue, 21 Sep 2021 10:29:09 -0700
Subject: [PATCH 126/137] docs: added labels to bug report

Signed-off-by: Alex Collins <alex_collins@intuit.com>
---
 .github/ISSUE_TEMPLATE/bug_report.md | 17 +++++++++--------
 1 file changed, 9 insertions(+), 8 deletions(-)

diff --git a/.github/ISSUE_TEMPLATE/bug_report.md b/.github/ISSUE_TEMPLATE/bug_report.md
index 010a840ebe9b..6d90fea7e0f4 100644
--- a/.github/ISSUE_TEMPLATE/bug_report.md
+++ b/.github/ISSUE_TEMPLATE/bug_report.md
@@ -1,9 +1,9 @@
 ---
 name: Reproducible bug report 
 about: Create a reproducible bug report. Not for support requests.
-labels: 'bug'
+labels: ['bug', 'needs-triage']
 ---
-## Summary 
+## Summary
 
 What happened/what you expected to happen?
 
@@ -11,21 +11,22 @@ Before we start, around 2/3 of issues can be fixed by one of the following:
 
 * Have you double-checked your configuration? Maybe 30% of issues are wrong configuration.
 * Have you tested to see if it is fixed in the latest version? Maybe 20% of issues are fixed by this.
-* Have you tried using the PNS executer instead of Docker? Maybe 50% of artifact related issues are fixed by this.
+* Have you tried using the PNS executor instead of Docker? Maybe 50% of artifact related issues are fixed by this.
 
 ## Diagnostics
 
- Yes! We need all of your diagnostics, please make sure you add it all, otherwise we'll go around in circles asking you for it:
+ Yes! We need all of your diagnostics, please make sure you add it all, otherwise we'll go around in circles asking
+you for it:
 
-What Kubernetes provider are you using? 
+What Kubernetes provider are you using?
 
-What version of Argo Workflows are you running? 
+What version of Argo Workflows are you running?
 
 What executor are you running? Docker/K8SAPI/Kubelet/PNS/Emissary
 
-Did this work in a previous version? I.e. is it a regression?
+Which version was it working in? 
 
-Are you pasting thousands of log lines? That's too much information. 
+Are you pasting thousands of log lines? That's too much information.
 
 ```bash
 # Either a workflow that reproduces the bug, or paste you whole workflow YAML, including status, something like:

From b8223e51b81da633533cd5af33fcdf4c214b4afd Mon Sep 17 00:00:00 2001
From: Alex Collins <alex_collins@intuit.com>
Date: Tue, 21 Sep 2021 10:32:23 -0700
Subject: [PATCH 127/137] docs: add `triage` label to bug report

Signed-off-by: Alex Collins <alex_collins@intuit.com>
---
 .github/ISSUE_TEMPLATE/bug_report.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/.github/ISSUE_TEMPLATE/bug_report.md b/.github/ISSUE_TEMPLATE/bug_report.md
index 6d90fea7e0f4..db759bfbe59f 100644
--- a/.github/ISSUE_TEMPLATE/bug_report.md
+++ b/.github/ISSUE_TEMPLATE/bug_report.md
@@ -1,7 +1,7 @@
 ---
 name: Reproducible bug report 
 about: Create a reproducible bug report. Not for support requests.
-labels: ['bug', 'needs-triage']
+labels: ['bug', 'triage']
 ---
 ## Summary
 

From 3d0f5f5ed70de8e75108f34f97df6feb9aa29e8e Mon Sep 17 00:00:00 2001
From: Alex Collins <alex_collins@intuit.com>
Date: Tue, 21 Sep 2021 10:44:22 -0700
Subject: [PATCH 128/137] docs: added regression report

Signed-off-by: Alex Collins <alex_collins@intuit.com>
---
 .github/ISSUE_TEMPLATE/regression.yml | 72 +++++++++++++++++++++++++++
 1 file changed, 72 insertions(+)
 create mode 100644 .github/ISSUE_TEMPLATE/regression.yml

diff --git a/.github/ISSUE_TEMPLATE/regression.yml b/.github/ISSUE_TEMPLATE/regression.yml
new file mode 100644
index 000000000000..e5927b7cec87
--- /dev/null
+++ b/.github/ISSUE_TEMPLATE/regression.yml
@@ -0,0 +1,72 @@
+name: Regression report
+description: File a regression report
+labels: [ "bug", "regression", "triage" ]
+body:
+  - type: textarea
+    id: what-happened
+    attributes:
+      label: What happened?
+      description: Also tell us, what did you expect to happen?
+      placeholder: Tell us what you see!
+    validations:
+      required: true
+  - type: textarea
+    id: version
+    attributes:
+      label: Version
+      description: What version are you running?
+    validations:
+      required: true
+  - type: textarea
+    id: working-version
+    attributes:
+      label: Version
+      description: What version was it working in?
+    validations:
+      required: true
+  - type: textarea
+    id: kubernetes-provider
+    attributes:
+      label: Provider
+      description: What Kubernetes provider are you using?
+    validations:
+      required: true
+  - type: dropdown
+    id: executor
+    attributes:
+      label: What executor are you using?
+      multiple: true
+      options:
+        - Docker (deprecated)
+        - K8SAPI
+        - Kubelet
+        - PNS
+        - Emissary
+    validations:
+      required: true
+  - type: textarea
+    id: logs
+    attributes:
+      label: Workflow
+      description: Either a workflow that reproduces the bug, or paste you whole workflow YAML, including status.
+      render: yaml
+      value: |
+        # Either a workflow that reproduces the bug, or paste you whole workflow YAML, including status, something like:
+        kubectl get wf -o yaml ${workflow}
+    validations:
+      required: true
+  - type: textarea
+    id: logs
+    attributes:
+      label: Relevant log output
+      description: Please copy and paste any relevant log output. This will be automatically formatted into code, so no need for backticks.
+      render: shell
+      value: |
+        # Logs from the workflow controller:
+        kubectl logs -n argo deploy/workflow-controller | grep ${workflow}
+
+        # The workflow's pods that are problematic:
+        kubectl get pod -o yaml -l workflows.argoproj.io/workflow=${workflow},workflow.argoproj.io/phase!=Succeeded
+
+        # Logs from in your workflow's wait container, something like:
+        kubectl logs -c wait -l workflows.argoproj.io/workflow=${workflow},workflow.argoproj.io/phase!=Succeeded

From 63aecdb0bb718e4cd5e1058e92d91531735888e6 Mon Sep 17 00:00:00 2001
From: Alex Collins <alex_collins@intuit.com>
Date: Tue, 21 Sep 2021 10:51:08 -0700
Subject: [PATCH 129/137] docs: updated issue templates

Signed-off-by: Alex Collins <alex_collins@intuit.com>
---
 .github/ISSUE_TEMPLATE/bug_report.md  | 28 +++++------
 .github/ISSUE_TEMPLATE/regression.md  | 41 +++++++++++++++
 .github/ISSUE_TEMPLATE/regression.yml | 72 ---------------------------
 3 files changed, 55 insertions(+), 86 deletions(-)
 create mode 100644 .github/ISSUE_TEMPLATE/regression.md
 delete mode 100644 .github/ISSUE_TEMPLATE/regression.yml

diff --git a/.github/ISSUE_TEMPLATE/bug_report.md b/.github/ISSUE_TEMPLATE/bug_report.md
index db759bfbe59f..16464d01850a 100644
--- a/.github/ISSUE_TEMPLATE/bug_report.md
+++ b/.github/ISSUE_TEMPLATE/bug_report.md
@@ -3,35 +3,35 @@ name: Reproducible bug report
 about: Create a reproducible bug report. Not for support requests.
 labels: ['bug', 'triage']
 ---
-## Summary
-
-What happened/what you expected to happen?
-
+<!--
 Before we start, around 2/3 of issues can be fixed by one of the following:
 
 * Have you double-checked your configuration? Maybe 30% of issues are wrong configuration.
 * Have you tested to see if it is fixed in the latest version? Maybe 20% of issues are fixed by this.
 * Have you tried using the PNS executor instead of Docker? Maybe 50% of artifact related issues are fixed by this.
 
-## Diagnostics
+If this is a regression, please open a regression report instead.
+-->
 
- Yes! We need all of your diagnostics, please make sure you add it all, otherwise we'll go around in circles asking
-you for it:
+## Summary
 
-What Kubernetes provider are you using?
+What happened/what you expected to happen?
 
 What version of Argo Workflows are you running?
 
-What executor are you running? Docker/K8SAPI/Kubelet/PNS/Emissary
-
-Which version was it working in? 
+## Diagnostics
 
-Are you pasting thousands of log lines? That's too much information.
+Either a workflow that reproduces the bug, or paste you whole workflow YAML, including status, something like:
 
-```bash
-# Either a workflow that reproduces the bug, or paste you whole workflow YAML, including status, something like:
+```yaml
 kubectl get wf -o yaml ${workflow}
+```
 
+What Kubernetes provider are you using?
+
+What executor are you running? Docker/K8SAPI/Kubelet/PNS/Emissary
+
+```bash
 # Logs from the workflow controller:
 kubectl logs -n argo deploy/workflow-controller | grep ${workflow}
 
diff --git a/.github/ISSUE_TEMPLATE/regression.md b/.github/ISSUE_TEMPLATE/regression.md
new file mode 100644
index 000000000000..aaf836191901
--- /dev/null
+++ b/.github/ISSUE_TEMPLATE/regression.md
@@ -0,0 +1,41 @@
+---
+name: Regression report
+about: Create a regression report. Not for support requests.
+labels: ['bug', 'regression', 'triage']
+---
+## Summary
+
+What happened/what you expected to happen?
+
+What version is it broken in?
+
+What version was it working in?
+
+## Diagnostics
+
+Either a workflow that reproduces the bug, or paste you whole workflow YAML, including status, something like:
+
+```yaml
+kubectl get wf -o yaml ${workflow}
+```
+
+What Kubernetes provider are you using?
+
+What executor are you running? Docker/K8SAPI/Kubelet/PNS/Emissary
+
+```bash
+# Logs from the workflow controller:
+kubectl logs -n argo deploy/workflow-controller | grep ${workflow}
+
+# The workflow's pods that are problematic:
+kubectl get pod -o yaml -l workflows.argoproj.io/workflow=${workflow},workflow.argoproj.io/phase!=Succeeded
+
+# Logs from in your workflow's wait container, something like:
+kubectl logs -c wait -l workflows.argoproj.io/workflow=${workflow},workflow.argoproj.io/phase!=Succeeded
+```
+
+---
+<!-- Issue Author: Don't delete this message to encourage other users to support your issue! -->
+**Message from the maintainers**:
+
+Impacted by this bug? Give it a . We prioritise the issues with the most .
diff --git a/.github/ISSUE_TEMPLATE/regression.yml b/.github/ISSUE_TEMPLATE/regression.yml
deleted file mode 100644
index e5927b7cec87..000000000000
--- a/.github/ISSUE_TEMPLATE/regression.yml
+++ /dev/null
@@ -1,72 +0,0 @@
-name: Regression report
-description: File a regression report
-labels: [ "bug", "regression", "triage" ]
-body:
-  - type: textarea
-    id: what-happened
-    attributes:
-      label: What happened?
-      description: Also tell us, what did you expect to happen?
-      placeholder: Tell us what you see!
-    validations:
-      required: true
-  - type: textarea
-    id: version
-    attributes:
-      label: Version
-      description: What version are you running?
-    validations:
-      required: true
-  - type: textarea
-    id: working-version
-    attributes:
-      label: Version
-      description: What version was it working in?
-    validations:
-      required: true
-  - type: textarea
-    id: kubernetes-provider
-    attributes:
-      label: Provider
-      description: What Kubernetes provider are you using?
-    validations:
-      required: true
-  - type: dropdown
-    id: executor
-    attributes:
-      label: What executor are you using?
-      multiple: true
-      options:
-        - Docker (deprecated)
-        - K8SAPI
-        - Kubelet
-        - PNS
-        - Emissary
-    validations:
-      required: true
-  - type: textarea
-    id: logs
-    attributes:
-      label: Workflow
-      description: Either a workflow that reproduces the bug, or paste you whole workflow YAML, including status.
-      render: yaml
-      value: |
-        # Either a workflow that reproduces the bug, or paste you whole workflow YAML, including status, something like:
-        kubectl get wf -o yaml ${workflow}
-    validations:
-      required: true
-  - type: textarea
-    id: logs
-    attributes:
-      label: Relevant log output
-      description: Please copy and paste any relevant log output. This will be automatically formatted into code, so no need for backticks.
-      render: shell
-      value: |
-        # Logs from the workflow controller:
-        kubectl logs -n argo deploy/workflow-controller | grep ${workflow}
-
-        # The workflow's pods that are problematic:
-        kubectl get pod -o yaml -l workflows.argoproj.io/workflow=${workflow},workflow.argoproj.io/phase!=Succeeded
-
-        # Logs from in your workflow's wait container, something like:
-        kubectl logs -c wait -l workflows.argoproj.io/workflow=${workflow},workflow.argoproj.io/phase!=Succeeded

From 2c81aaa7070d076fdc57a34422ed36327933f959 Mon Sep 17 00:00:00 2001
From: William Van Hevelingen <William.VanHevelingen@acquia.com>
Date: Tue, 21 Sep 2021 20:41:29 -0700
Subject: [PATCH 130/137] chore: Update k8s to v0.21.4 (#6558)

Signed-off-by: William Van Hevelingen <william.vanhevelingen@acquia.com>
---
 Dockerfile                                    |   2 +-
 Makefile                                      |   2 +-
 api/jsonschema/schema.json                    |  10 +-
 api/openapi-spec/swagger.json                 |  10 +-
 docs/fields.md                                |   6 +-
 go.mod                                        |  16 +-
 go.sum                                        |  37 +-
 .../argoproj.io_clusterworkflowtemplates.yaml | 372 +++++++-
 .../crds/full/argoproj.io_cronworkflows.yaml  | 372 +++++++-
 .../base/crds/full/argoproj.io_workflows.yaml | 885 +++++++++++++++++-
 .../full/argoproj.io_workflowtasksets.yaml    | 139 ++-
 .../full/argoproj.io_workflowtemplates.yaml   | 372 +++++++-
 .../workflow/v1alpha1/openapi_generated.go    |   6 +-
 .../operator_workflow_template_ref_test.go    |   2 +-
 14 files changed, 2150 insertions(+), 81 deletions(-)

diff --git a/Dockerfile b/Dockerfile
index 3d3a1e6b89ed..8df87ec42bb4 100644
--- a/Dockerfile
+++ b/Dockerfile
@@ -75,7 +75,7 @@ RUN JOBS=max yarn --cwd ui install --network-timeout 1000000
 COPY ui ui
 COPY api api
 
-RUN JOBS=max yarn --cwd ui build
+RUN NODE_OPTIONS="--max-old-space-size=2048" JOBS=max yarn --cwd ui build
 
 ####################################################################################################
 
diff --git a/Makefile b/Makefile
index ebf1d357398b..c5186e9cb8f0 100644
--- a/Makefile
+++ b/Makefile
@@ -512,7 +512,7 @@ pkg/apis/workflow/v1alpha1/openapi_generated.go: $(GOPATH)/bin/openapi-gen $(TYP
 pkg/apis/workflow/v1alpha1/zz_generated.deepcopy.go: $(TYPES)
 	[ -e ./vendor ] || go mod vendor
 	[ -e ./v3 ] || ln -s . v3
-	bash $(GOPATH)/pkg/mod/k8s.io/code-generator@v0.20.4/generate-groups.sh \
+	bash $(GOPATH)/pkg/mod/k8s.io/code-generator@v0.21.5/generate-groups.sh \
 	    "deepcopy,client,informer,lister" \
 	    github.com/argoproj/argo-workflows/v3/pkg/client github.com/argoproj/argo-workflows/v3/pkg/apis \
 	    workflow:v1alpha1 \
diff --git a/api/jsonschema/schema.json b/api/jsonschema/schema.json
index 504a11d66cee..96720f7e3045 100644
--- a/api/jsonschema/schema.json
+++ b/api/jsonschema/schema.json
@@ -4588,7 +4588,7 @@
         },
         "resources": {
           "$ref": "#/definitions/io.k8s.api.core.v1.ResourceRequirements",
-          "description": "Compute Resources required by this container. Cannot be updated. More info: https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/"
+          "description": "Compute Resources required by this container. Cannot be updated. More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/"
         },
         "securityContext": {
           "$ref": "#/definitions/io.k8s.api.core.v1.SecurityContext",
@@ -6275,7 +6275,7 @@
         },
         "resources": {
           "$ref": "#/definitions/io.k8s.api.core.v1.ResourceRequirements",
-          "description": "Compute Resources required by this container. Cannot be updated. More info: https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/"
+          "description": "Compute Resources required by this container. Cannot be updated. More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/"
         },
         "securityContext": {
           "$ref": "#/definitions/io.k8s.api.core.v1.SecurityContext",
@@ -6860,7 +6860,7 @@
         },
         "resources": {
           "$ref": "#/definitions/io.k8s.api.core.v1.ResourceRequirements",
-          "description": "Compute Resources required by this container. Cannot be updated. More info: https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/"
+          "description": "Compute Resources required by this container. Cannot be updated. More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/"
         },
         "securityContext": {
           "$ref": "#/definitions/io.k8s.api.core.v1.SecurityContext",
@@ -8593,10 +8593,6 @@
     "io.k8s.api.core.v1.EphemeralVolumeSource": {
       "description": "Represents an ephemeral volume that is handled by a normal storage driver.",
       "properties": {
-        "readOnly": {
-          "title": "Specifies a read-only configuration for the volume.\nDefaults to false (read/write).\n+optional",
-          "type": "boolean"
-        },
         "volumeClaimTemplate": {
           "$ref": "#/definitions/io.k8s.api.core.v1.PersistentVolumeClaimTemplate",
           "description": "Will be used to create a stand-alone PVC to provision the volume.\nThe pod in which this EphemeralVolumeSource is embedded will be the\nowner of the PVC, i.e. the PVC will be deleted together with the\npod.  The name of the PVC will be `\u003cpod name\u003e-\u003cvolume name\u003e` where\n`\u003cvolume name\u003e` is the name from the `PodSpec.Volumes` array\nentry. Pod validation will reject the pod if the concatenated name\nis not valid for a PVC (for example, too long).\n\nAn existing PVC with that name that is not owned by the pod\nwill *not* be used for the pod to avoid using an unrelated\nvolume by mistake. Starting the pod is then blocked until\nthe unrelated PVC is removed. If such a pre-created PVC is\nmeant to be used by the pod, the PVC has to updated with an\nowner reference to the pod once the pod exists. Normally\nthis should not be necessary, but it may be useful when\nmanually reconstructing a broken cluster.\n\nThis field is read-only and no changes will be made by Kubernetes\nto the PVC after it has been created.\n\nRequired, must not be nil."
diff --git a/api/openapi-spec/swagger.json b/api/openapi-spec/swagger.json
index 608c1b28e6b9..60291ca131a7 100644
--- a/api/openapi-spec/swagger.json
+++ b/api/openapi-spec/swagger.json
@@ -8751,7 +8751,7 @@
           "$ref": "#/definitions/io.k8s.api.core.v1.Probe"
         },
         "resources": {
-          "description": "Compute Resources required by this container. Cannot be updated. More info: https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/",
+          "description": "Compute Resources required by this container. Cannot be updated. More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/",
           "$ref": "#/definitions/io.k8s.api.core.v1.ResourceRequirements"
         },
         "securityContext": {
@@ -10437,7 +10437,7 @@
           "$ref": "#/definitions/io.k8s.api.core.v1.Probe"
         },
         "resources": {
-          "description": "Compute Resources required by this container. Cannot be updated. More info: https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/",
+          "description": "Compute Resources required by this container. Cannot be updated. More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/",
           "$ref": "#/definitions/io.k8s.api.core.v1.ResourceRequirements"
         },
         "securityContext": {
@@ -11021,7 +11021,7 @@
           "$ref": "#/definitions/io.k8s.api.core.v1.Probe"
         },
         "resources": {
-          "description": "Compute Resources required by this container. Cannot be updated. More info: https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/",
+          "description": "Compute Resources required by this container. Cannot be updated. More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/",
           "$ref": "#/definitions/io.k8s.api.core.v1.ResourceRequirements"
         },
         "securityContext": {
@@ -12744,10 +12744,6 @@
       "description": "Represents an ephemeral volume that is handled by a normal storage driver.",
       "type": "object",
       "properties": {
-        "readOnly": {
-          "type": "boolean",
-          "title": "Specifies a read-only configuration for the volume.\nDefaults to false (read/write).\n+optional"
-        },
         "volumeClaimTemplate": {
           "description": "Will be used to create a stand-alone PVC to provision the volume.\nThe pod in which this EphemeralVolumeSource is embedded will be the\nowner of the PVC, i.e. the PVC will be deleted together with the\npod.  The name of the PVC will be `\u003cpod name\u003e-\u003cvolume name\u003e` where\n`\u003cvolume name\u003e` is the name from the `PodSpec.Volumes` array\nentry. Pod validation will reject the pod if the concatenated name\nis not valid for a PVC (for example, too long).\n\nAn existing PVC with that name that is not owned by the pod\nwill *not* be used for the pod to avoid using an unrelated\nvolume by mistake. Starting the pod is then blocked until\nthe unrelated PVC is removed. If such a pre-created PVC is\nmeant to be used by the pod, the PVC has to updated with an\nowner reference to the pod once the pod exists. Normally\nthis should not be necessary, but it may be useful when\nmanually reconstructing a broken cluster.\n\nThis field is read-only and no changes will be made by Kubernetes\nto the PVC after it has been created.\n\nRequired, must not be nil.",
           "$ref": "#/definitions/io.k8s.api.core.v1.PersistentVolumeClaimTemplate"
diff --git a/docs/fields.md b/docs/fields.md
index b904c70b6772..e2c3b5d4e556 100644
--- a/docs/fields.md
+++ b/docs/fields.md
@@ -2863,7 +2863,7 @@ UserContainer is a container specified by a user.
 |`name`|`string`|Name of the container specified as a DNS_LABEL. Each container in a pod must have a unique name (DNS_LABEL). Cannot be updated.|
 |`ports`|`Array<`[`ContainerPort`](#containerport)`>`|List of ports to expose from the container. Exposing a port here gives the system additional information about the network connections a container uses, but is primarily informational. Not specifying a port here DOES NOT prevent that port from being exposed. Any port which is listening on the default "0.0.0.0" address inside a container will be accessible from the network. Cannot be updated.|
 |`readinessProbe`|[`Probe`](#probe)|Periodic probe of container service readiness. Container will be removed from service endpoints if the probe fails. Cannot be updated. More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes|
-|`resources`|[`ResourceRequirements`](#resourcerequirements)|Compute Resources required by this container. Cannot be updated. More info: https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/|
+|`resources`|[`ResourceRequirements`](#resourcerequirements)|Compute Resources required by this container. Cannot be updated. More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/|
 |`securityContext`|[`SecurityContext`](#securitycontext)|Security options the pod should run with. More info: https://kubernetes.io/docs/concepts/policy/security-context/ More info: https://kubernetes.io/docs/tasks/configure-pod-container/security-context/|
 |`startupProbe`|[`Probe`](#probe)|StartupProbe indicates that the Pod has successfully initialized. If specified, no other probes are executed until this completes successfully. If this probe fails, the Pod will be restarted, just as if the livenessProbe failed. This can be used to provide different probe parameters at the beginning of a Pod's lifecycle, when it might take a long time to load data or warm a cache, than during steady-state operation. This cannot be updated. More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes|
 |`stdin`|`boolean`|Whether this container should allocate a buffer for stdin in the container runtime. If this is not set, reads from stdin in the container will always result in EOF. Default is false.|
@@ -3197,7 +3197,7 @@ ScriptTemplate is a template subtype to enable scripting through code steps
 |`name`|`string`|Name of the container specified as a DNS_LABEL. Each container in a pod must have a unique name (DNS_LABEL). Cannot be updated.|
 |`ports`|`Array<`[`ContainerPort`](#containerport)`>`|List of ports to expose from the container. Exposing a port here gives the system additional information about the network connections a container uses, but is primarily informational. Not specifying a port here DOES NOT prevent that port from being exposed. Any port which is listening on the default "0.0.0.0" address inside a container will be accessible from the network. Cannot be updated.|
 |`readinessProbe`|[`Probe`](#probe)|Periodic probe of container service readiness. Container will be removed from service endpoints if the probe fails. Cannot be updated. More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes|
-|`resources`|[`ResourceRequirements`](#resourcerequirements)|Compute Resources required by this container. Cannot be updated. More info: https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/|
+|`resources`|[`ResourceRequirements`](#resourcerequirements)|Compute Resources required by this container. Cannot be updated. More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/|
 |`securityContext`|[`SecurityContext`](#securitycontext)|Security options the pod should run with. More info: https://kubernetes.io/docs/concepts/policy/security-context/ More info: https://kubernetes.io/docs/tasks/configure-pod-container/security-context/|
 |`source`|`string`|Source contains the source code of the script to execute|
 |`startupProbe`|[`Probe`](#probe)|StartupProbe indicates that the Pod has successfully initialized. If specified, no other probes are executed until this completes successfully. If this probe fails, the Pod will be restarted, just as if the livenessProbe failed. This can be used to provide different probe parameters at the beginning of a Pod's lifecycle, when it might take a long time to load data or warm a cache, than during steady-state operation. This cannot be updated. More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes|
@@ -3998,7 +3998,7 @@ _No description available_
 |`name`|`string`|Name of the container specified as a DNS_LABEL. Each container in a pod must have a unique name (DNS_LABEL). Cannot be updated.|
 |`ports`|`Array<`[`ContainerPort`](#containerport)`>`|List of ports to expose from the container. Exposing a port here gives the system additional information about the network connections a container uses, but is primarily informational. Not specifying a port here DOES NOT prevent that port from being exposed. Any port which is listening on the default "0.0.0.0" address inside a container will be accessible from the network. Cannot be updated.|
 |`readinessProbe`|[`Probe`](#probe)|Periodic probe of container service readiness. Container will be removed from service endpoints if the probe fails. Cannot be updated. More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes|
-|`resources`|[`ResourceRequirements`](#resourcerequirements)|Compute Resources required by this container. Cannot be updated. More info: https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/|
+|`resources`|[`ResourceRequirements`](#resourcerequirements)|Compute Resources required by this container. Cannot be updated. More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/|
 |`securityContext`|[`SecurityContext`](#securitycontext)|Security options the pod should run with. More info: https://kubernetes.io/docs/concepts/policy/security-context/ More info: https://kubernetes.io/docs/tasks/configure-pod-container/security-context/|
 |`startupProbe`|[`Probe`](#probe)|StartupProbe indicates that the Pod has successfully initialized. If specified, no other probes are executed until this completes successfully. If this probe fails, the Pod will be restarted, just as if the livenessProbe failed. This can be used to provide different probe parameters at the beginning of a Pod's lifecycle, when it might take a long time to load data or warm a cache, than during steady-state operation. This cannot be updated. More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes|
 |`stdin`|`boolean`|Whether this container should allocate a buffer for stdin in the container runtime. If this is not set, reads from stdin in the container will always result in EOF. Default is false.|
diff --git a/go.mod b/go.mod
index ad020fa3ced0..c70dccabdf5c 100644
--- a/go.mod
+++ b/go.mod
@@ -16,7 +16,6 @@ require (
 	github.com/blushft/go-diagrams v0.0.0-20201006005127-c78c821223d9
 	github.com/colinmarc/hdfs v1.1.4-0.20180805212432-9746310a4d31
 	github.com/coreos/go-oidc v2.2.1+incompatible
-	github.com/docker/spdystream v0.0.0-20181023171402-6480d4af844c // indirect
 	github.com/doublerebel/bellows v0.0.0-20160303004610-f177d92a03d3
 	github.com/emicklei/go-restful v2.15.0+incompatible // indirect
 	github.com/evanphx/json-patch v4.9.0+incompatible
@@ -59,7 +58,7 @@ require (
 	golang.org/x/net v0.0.0-20210614182718-04defd469f4e
 	golang.org/x/oauth2 v0.0.0-20210402161424-2e8d93401602
 	golang.org/x/sync v0.0.0-20210220032951-036812b2e83c
-	golang.org/x/time v0.0.0-20200630173020-3af7569d3a1e
+	golang.org/x/time v0.0.0-20210220033141-f8bda1e9f3ba
 	golang.org/x/tools v0.1.5
 	google.golang.org/api v0.44.0
 	google.golang.org/genproto v0.0.0-20210602131652-f16073e35f0c
@@ -70,13 +69,12 @@ require (
 	gopkg.in/mgo.v2 v2.0.0-20190816093944-a6b53ec6cb22 // indirect
 	gopkg.in/square/go-jose.v2 v2.5.1
 	gopkg.in/src-d/go-git.v4 v4.13.1
-	k8s.io/api v0.20.4
-	k8s.io/apimachinery v0.20.4
-	k8s.io/client-go v0.20.4
-	k8s.io/code-generator v0.20.4
-	k8s.io/gengo v0.0.0-20201214224949-b6c5ce23f027 // indirect
-	k8s.io/klog/v2 v2.5.0
-	k8s.io/kube-openapi v0.0.0-20201113171705-d219536bb9fd
+	k8s.io/api v0.21.5
+	k8s.io/apimachinery v0.21.5
+	k8s.io/client-go v0.21.5
+	k8s.io/code-generator v0.21.5
+	k8s.io/klog/v2 v2.8.0
+	k8s.io/kube-openapi v0.0.0-20210305001622-591a79e4bda7
 	k8s.io/utils v0.0.0-20201110183641-67b214c5f920
 	sigs.k8s.io/controller-tools v0.4.1
 	sigs.k8s.io/yaml v1.2.0
diff --git a/go.sum b/go.sum
index 70d97fe45e34..7270d0524ad0 100644
--- a/go.sum
+++ b/go.sum
@@ -60,6 +60,7 @@ github.com/Azure/go-autorest/autorest v0.9.3/go.mod h1:GsRuLYvwzLjjjRoWEIyMUaYq8
 github.com/Azure/go-autorest/autorest v0.9.6/go.mod h1:/FALq9T/kS7b5J5qsQ+RSTUdAmGFqi0vUdVNNx8q630=
 github.com/Azure/go-autorest/autorest v0.11.1/go.mod h1:JFgpikqFJ/MleTTxwepExTKnFUKKszPS8UavbQYUMuw=
 github.com/Azure/go-autorest/autorest v0.11.3/go.mod h1:JFgpikqFJ/MleTTxwepExTKnFUKKszPS8UavbQYUMuw=
+github.com/Azure/go-autorest/autorest v0.11.12/go.mod h1:eipySxLmqSyC5s5k1CLupqet0PSENBEDP93LQ9a8QYw=
 github.com/Azure/go-autorest/autorest v0.11.18 h1:90Y4srNYrwOtAgVo3ndrQkTYn6kf1Eg/AjTFJ8Is2aM=
 github.com/Azure/go-autorest/autorest v0.11.18/go.mod h1:dSiJPy22c3u0OtOKDNttNgqpNFY/GeWa7GH/Pz56QRA=
 github.com/Azure/go-autorest/autorest/adal v0.5.0/go.mod h1:8Z9fGy2MpX0PvDjB1pEgQTmVqjGhiHBW7RJJEciWzS0=
@@ -276,8 +277,6 @@ github.com/docker/docker v0.7.3-0.20190327010347-be7ac8be2ae0/go.mod h1:eEKB0N0r
 github.com/docker/go-units v0.3.3/go.mod h1:fgPhTUdO+D/Jk86RDLlptpiXQzgHJF7gydDDbaIK4Dk=
 github.com/docker/go-units v0.4.0/go.mod h1:fgPhTUdO+D/Jk86RDLlptpiXQzgHJF7gydDDbaIK4Dk=
 github.com/docker/spdystream v0.0.0-20160310174837-449fdfce4d96/go.mod h1:Qh8CwZgvJUkLughtfhJv5dyTYa91l1fOUCrgjqmcifM=
-github.com/docker/spdystream v0.0.0-20181023171402-6480d4af844c h1:ZfSZ3P3BedhKGUhzj7BQlPSU4OvT6tfOKe3DVHzOA7s=
-github.com/docker/spdystream v0.0.0-20181023171402-6480d4af844c/go.mod h1:Qh8CwZgvJUkLughtfhJv5dyTYa91l1fOUCrgjqmcifM=
 github.com/docopt/docopt-go v0.0.0-20180111231733-ee0de3bc6815/go.mod h1:WwZ+bS3ebgob9U8Nd0kOddGdZWjyMGR8Wziv+TBNwSE=
 github.com/doublerebel/bellows v0.0.0-20160303004610-f177d92a03d3 h1:7nllYTGLnq4CqBL27lV6oNfXzM2tJ2mrKF8E+aBXOV0=
 github.com/doublerebel/bellows v0.0.0-20160303004610-f177d92a03d3/go.mod h1:v/MTKot4he5oRHGirOYGN4/hEOONNnWtDBLAzllSGMw=
@@ -418,6 +417,7 @@ github.com/go-openapi/spec v0.17.0/go.mod h1:XkF/MOi14NmjsfZ8VtAKf8pIlbZzyoTvZsd
 github.com/go-openapi/spec v0.18.0/go.mod h1:XkF/MOi14NmjsfZ8VtAKf8pIlbZzyoTvZsdfssdxcBI=
 github.com/go-openapi/spec v0.19.2/go.mod h1:sCxk3jxKgioEJikev4fgkNmwS+3kuYdJtcsZsD5zxMY=
 github.com/go-openapi/spec v0.19.3/go.mod h1:FpwSN1ksY1eteniUU7X0N/BgJ7a4WvBFVA8Lj9mJglo=
+github.com/go-openapi/spec v0.19.5/go.mod h1:Hm2Jr4jv8G1ciIAo+frC/Ft+rR2kQDh8JHKHb3gWUSk=
 github.com/go-openapi/spec v0.19.6/go.mod h1:Hm2Jr4jv8G1ciIAo+frC/Ft+rR2kQDh8JHKHb3gWUSk=
 github.com/go-openapi/spec v0.19.8/go.mod h1:Hm2Jr4jv8G1ciIAo+frC/Ft+rR2kQDh8JHKHb3gWUSk=
 github.com/go-openapi/spec v0.20.2 h1:pFPUZsiIbZ20kLUcuCGeuQWG735fPMxW7wHF9BWlnQU=
@@ -839,6 +839,8 @@ github.com/mitchellh/reflectwalk v1.0.0/go.mod h1:mSTlrgnPZtwu0c4WaC2kGObEpuNDbx
 github.com/mitchellh/reflectwalk v1.0.1/go.mod h1:mSTlrgnPZtwu0c4WaC2kGObEpuNDbx0jmZXqmk4esnw=
 github.com/mitchellh/reflectwalk v1.0.2 h1:G2LzWKi524PWgd3mLHV8Y5k7s6XUvT0Gef6zxSIeXaQ=
 github.com/mitchellh/reflectwalk v1.0.2/go.mod h1:mSTlrgnPZtwu0c4WaC2kGObEpuNDbx0jmZXqmk4esnw=
+github.com/moby/spdystream v0.2.0 h1:cjW1zVyyoiM0T7b6UoySUFqzXMoqRckQtXwGPiBhOM8=
+github.com/moby/spdystream v0.2.0/go.mod h1:f7i0iNDQJ059oMTcWxx8MA/zKFIuD/lY+0GqbN2Wy8c=
 github.com/moby/term v0.0.0-20200312100748-672ec06f55cd/go.mod h1:DdlQx2hp0Ss5/fLikoLlEeIYiATotOjgB//nb973jeo=
 github.com/modern-go/concurrent v0.0.0-20180228061459-e0a39a4cb421/go.mod h1:6dJC0mAP4ikYIbvyc7fijjWJddQyLn8Ig3JB5CqoB9Q=
 github.com/modern-go/concurrent v0.0.0-20180306012644-bacd9c7ef1dd h1:TRLaZ9cD/w8PVh93nsPXa1VrQ6jlwL5oN8l14QlcNfg=
@@ -1323,6 +1325,7 @@ golang.org/x/net v0.0.0-20201031054903-ff519b6c9102/go.mod h1:sp8m0HH+o8qH0wwXwY
 golang.org/x/net v0.0.0-20201110031124-69a78807bb2b/go.mod h1:sp8m0HH+o8qH0wwXwYZr8TS3Oi6o0r6Gce1SSxlDquU=
 golang.org/x/net v0.0.0-20201209123823-ac852fbbde11/go.mod h1:m0MpNAwzfU5UDzcl9v0D8zg8gWTRqZa9RBIspLL5mdg=
 golang.org/x/net v0.0.0-20210119194325-5f4716e94777/go.mod h1:m0MpNAwzfU5UDzcl9v0D8zg8gWTRqZa9RBIspLL5mdg=
+golang.org/x/net v0.0.0-20210224082022-3d97a244fca7/go.mod h1:m0MpNAwzfU5UDzcl9v0D8zg8gWTRqZa9RBIspLL5mdg=
 golang.org/x/net v0.0.0-20210226101413-39120d07d75e/go.mod h1:m0MpNAwzfU5UDzcl9v0D8zg8gWTRqZa9RBIspLL5mdg=
 golang.org/x/net v0.0.0-20210226172049-e18ecbb05110/go.mod h1:m0MpNAwzfU5UDzcl9v0D8zg8gWTRqZa9RBIspLL5mdg=
 golang.org/x/net v0.0.0-20210316092652-d523dce5a7f4/go.mod h1:RBQZq4jEuRlivfhVLdyRGr576XBO4/greRjx4P4O3yc=
@@ -1439,12 +1442,14 @@ golang.org/x/sys v0.0.0-20210324051608-47abb6519492/go.mod h1:h1NjWce9XRLGQEsW7w
 golang.org/x/sys v0.0.0-20210330210617-4fbd30eecc44/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
 golang.org/x/sys v0.0.0-20210403161142-5e06dd20ab57/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
 golang.org/x/sys v0.0.0-20210423082822-04245dca01da/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
+golang.org/x/sys v0.0.0-20210426230700-d19ff857e887/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=
 golang.org/x/sys v0.0.0-20210510120138-977fb7262007/go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=
 golang.org/x/sys v0.0.0-20210615035016-665e8c7367d1 h1:SrN+KX8Art/Sf4HNj6Zcz06G7VEz+7w9tdXTPOZ7+l4=
 golang.org/x/sys v0.0.0-20210615035016-665e8c7367d1/go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=
 golang.org/x/term v0.0.0-20201117132131-f5c789dd3221/go.mod h1:Nr5EML6q2oocZ2LXRh80K7BxOlk5/8JxuGnuhpl+muw=
-golang.org/x/term v0.0.0-20201126162022-7de9c90e9dd1 h1:v+OssWQX+hTHEmOBgwxdZxK4zHq3yOs8F9J7mk0PY8E=
 golang.org/x/term v0.0.0-20201126162022-7de9c90e9dd1/go.mod h1:bj7SfCRtBDWHUb9snDiAeCFNEtKQo2Wmx5Cou7ajbmo=
+golang.org/x/term v0.0.0-20210220032956-6a3ed077a48d h1:SZxvLBoTP5yHO3Frd4z4vrF+DBX9vMVanchswa69toE=
+golang.org/x/term v0.0.0-20210220032956-6a3ed077a48d/go.mod h1:bj7SfCRtBDWHUb9snDiAeCFNEtKQo2Wmx5Cou7ajbmo=
 golang.org/x/text v0.0.0-20160726164857-2910a502d2bf/go.mod h1:NqM8EUOU14njkJ3fqMW+pc6Ldnwhi/IjpwHt7yyuwOQ=
 golang.org/x/text v0.0.0-20170915032832-14c0d48ead0c/go.mod h1:NqM8EUOU14njkJ3fqMW+pc6Ldnwhi/IjpwHt7yyuwOQ=
 golang.org/x/text v0.3.0/go.mod h1:NqM8EUOU14njkJ3fqMW+pc6Ldnwhi/IjpwHt7yyuwOQ=
@@ -1459,8 +1464,9 @@ golang.org/x/time v0.0.0-20180412165947-fbb02b2291d2/go.mod h1:tRJNPiyCQ0inRvYxb
 golang.org/x/time v0.0.0-20181108054448-85acf8d2951c/go.mod h1:tRJNPiyCQ0inRvYxbN9jk5I+vvW/OXSQhTDSoE431IQ=
 golang.org/x/time v0.0.0-20190308202827-9d24e82272b4/go.mod h1:tRJNPiyCQ0inRvYxbN9jk5I+vvW/OXSQhTDSoE431IQ=
 golang.org/x/time v0.0.0-20191024005414-555d28b269f0/go.mod h1:tRJNPiyCQ0inRvYxbN9jk5I+vvW/OXSQhTDSoE431IQ=
-golang.org/x/time v0.0.0-20200630173020-3af7569d3a1e h1:EHBhcS0mlXEAVwNyO2dLfjToGsyY4j24pTs2ScHnX7s=
 golang.org/x/time v0.0.0-20200630173020-3af7569d3a1e/go.mod h1:tRJNPiyCQ0inRvYxbN9jk5I+vvW/OXSQhTDSoE431IQ=
+golang.org/x/time v0.0.0-20210220033141-f8bda1e9f3ba h1:O8mE0/t419eoIwhTFpKVkHiTs/Igowgfkj25AcZrtiE=
+golang.org/x/time v0.0.0-20210220033141-f8bda1e9f3ba/go.mod h1:tRJNPiyCQ0inRvYxbN9jk5I+vvW/OXSQhTDSoE431IQ=
 golang.org/x/tools v0.0.0-20180221164845-07fd8470d635/go.mod h1:n7NCudcB/nEzxVGmLbDWY5pfWTLqBcC2KZ6jyYvM4mQ=
 golang.org/x/tools v0.0.0-20180525024113-a5b4c53f6e8b/go.mod h1:n7NCudcB/nEzxVGmLbDWY5pfWTLqBcC2KZ6jyYvM4mQ=
 golang.org/x/tools v0.0.0-20180828015842-6cd1fcedba52/go.mod h1:n7NCudcB/nEzxVGmLbDWY5pfWTLqBcC2KZ6jyYvM4mQ=
@@ -1754,8 +1760,9 @@ k8s.io/api v0.17.8/go.mod h1:N++Llhs8kCixMUoCaXXAyMMPbo8dDVnh+IQ36xZV2/0=
 k8s.io/api v0.18.2/go.mod h1:SJCWI7OLzhZSvbY7U8zwNl9UA4o1fizoug34OV/2r78=
 k8s.io/api v0.19.2/go.mod h1:IQpK0zFQ1xc5iNIQPqzgoOwuFugaYHK4iCknlAQP9nI=
 k8s.io/api v0.19.6/go.mod h1:Plxx44Nh4zVblkJrIgxVPgPre1mvng6tXf1Sj3bs0fU=
-k8s.io/api v0.20.4 h1:xZjKidCirayzX6tHONRQyTNDVIR55TYVqgATqo6ZULY=
 k8s.io/api v0.20.4/go.mod h1:++lNL1AJMkDymriNniQsWRkMDzRaX2Y/POTUi8yvqYQ=
+k8s.io/api v0.21.5 h1:9zp3SslPRB+rqxhGKqqTo6VsN3HX0Ype1nWV6UQQ+Sk=
+k8s.io/api v0.21.5/go.mod h1:Un8C5Hemo2r3MfPOjZvwQQ9KkBbiTBUCGrjlivo9uJ0=
 k8s.io/apiextensions-apiserver v0.18.2/go.mod h1:q3faSnRGmYimiocj6cHQ1I3WpLqmDgJFlKL37fC4ZvY=
 k8s.io/apiextensions-apiserver v0.19.2 h1:oG84UwiDsVDu7dlsGQs5GySmQHCzMhknfhFExJMz9tA=
 k8s.io/apiextensions-apiserver v0.19.2/go.mod h1:EYNjpqIAvNZe+svXVx9j4uBaVhTB4C94HkY3w058qcg=
@@ -1763,28 +1770,29 @@ k8s.io/apimachinery v0.17.8/go.mod h1:Lg8zZ5iC/O8UjCqW6DNhcQG2m4TdjF9kwG3891OWbb
 k8s.io/apimachinery v0.18.2/go.mod h1:9SnR/e11v5IbyPCGbvJViimtJ0SwHG4nfZFjU77ftcA=
 k8s.io/apimachinery v0.19.2/go.mod h1:DnPGDnARWFvYa3pMHgSxtbZb7gpzzAZ1pTfaUNDVlmA=
 k8s.io/apimachinery v0.19.6/go.mod h1:6sRbGRAVY5DOCuZwB5XkqguBqpqLU6q/kOaOdk29z6Q=
-k8s.io/apimachinery v0.20.4 h1:vhxQ0PPUUU2Ns1b9r4/UFp13UPs8cw2iOoTjnY9faa0=
 k8s.io/apimachinery v0.20.4/go.mod h1:WlLqWAHZGg07AeltaI0MV5uk1Omp8xaN0JGLY6gkRpU=
+k8s.io/apimachinery v0.21.5 h1:56bnsHcUNboSCbD779GGi4Lh5kHTDFUoDrnHbhLTiaw=
+k8s.io/apimachinery v0.21.5/go.mod h1:3PfBV+4PPXNs0aueD+7fHcGyhdkFFYqXeshQtsKCi+4=
 k8s.io/apiserver v0.18.2/go.mod h1:Xbh066NqrZO8cbsoenCwyDJ1OSi8Ag8I2lezeHxzwzw=
 k8s.io/apiserver v0.19.2/go.mod h1:FreAq0bJ2vtZFj9Ago/X0oNGC51GfubKK/ViOKfVAOA=
 k8s.io/client-go v0.17.8/go.mod h1:SJsDS64AAtt9VZyeaQMb4Ck5etCitZ/FwajWdzua5eY=
 k8s.io/client-go v0.18.2/go.mod h1:Xcm5wVGXX9HAA2JJ2sSBUn3tCJ+4SVlCbl2MNNv+CIU=
 k8s.io/client-go v0.19.2/go.mod h1:S5wPhCqyDNAlzM9CnEdgTGV4OqhsW3jGO1UM1epwfJA=
 k8s.io/client-go v0.19.6/go.mod h1:gEiS+efRlXYUEQ9Oz4lmNXlxAl5JZ8y2zbTDGhvXXnk=
-k8s.io/client-go v0.20.4 h1:85crgh1IotNkLpKYKZHVNI1JT86nr/iDCvq2iWKsql4=
 k8s.io/client-go v0.20.4/go.mod h1:LiMv25ND1gLUdBeYxBIwKpkSC5IsozMMmOOeSJboP+k=
+k8s.io/client-go v0.21.5 h1:zkVidiWVgciPKYqWpMFMjCUF+4rRXcfkKoyQS1Ue21k=
+k8s.io/client-go v0.21.5/go.mod h1:EUornVlr3rBrPKXUoMPNggJdEQmvFNMpYO3Kb6432kw=
 k8s.io/code-generator v0.18.2/go.mod h1:+UHX5rSbxmR8kzS+FAv7um6dtYrZokQvjHpDSYRVkTc=
 k8s.io/code-generator v0.19.2/go.mod h1:moqLn7w0t9cMs4+5CQyxnfA/HV8MF6aAVENF+WZZhgk=
 k8s.io/code-generator v0.19.6/go.mod h1:lwEq3YnLYb/7uVXLorOJfxg+cUu2oihFhHZ0n9NIla0=
-k8s.io/code-generator v0.20.4 h1:FhilVnvwMFVs65SxIQjXSOznGmzJIZEk3CCk/SULBfk=
-k8s.io/code-generator v0.20.4/go.mod h1:UsqdF+VX4PU2g46NC2JRs4gc+IfrctnwHb76RNbWHJg=
+k8s.io/code-generator v0.21.5 h1:7X6dJG4hzKFHChYpP02iF0XrXhenqQHc76QoKYzDZfI=
+k8s.io/code-generator v0.21.5/go.mod h1:0K1k6o2ef8JD/j8LF3ZuqWLGFMHvO5psNzLLmxf7ZVE=
 k8s.io/component-base v0.18.2/go.mod h1:kqLlMuhJNHQ9lz8Z7V5bxUUtjFZnrypArGl58gmDfUM=
 k8s.io/component-base v0.19.2/go.mod h1:g5LrsiTiabMLZ40AR6Hl45f088DevyGY+cCE2agEIVo=
 k8s.io/gengo v0.0.0-20190128074634-0689ccc1d7d6/go.mod h1:ezvh/TsK7cY6rbqRK0oQQ8IAqLxYwwyPxAX1Pzy0ii0=
 k8s.io/gengo v0.0.0-20200114144118-36b2048a9120/go.mod h1:ezvh/TsK7cY6rbqRK0oQQ8IAqLxYwwyPxAX1Pzy0ii0=
 k8s.io/gengo v0.0.0-20200413195148-3a45101e95ac/go.mod h1:ezvh/TsK7cY6rbqRK0oQQ8IAqLxYwwyPxAX1Pzy0ii0=
 k8s.io/gengo v0.0.0-20200428234225-8167cfdcfc14/go.mod h1:ezvh/TsK7cY6rbqRK0oQQ8IAqLxYwwyPxAX1Pzy0ii0=
-k8s.io/gengo v0.0.0-20201113003025-83324d819ded/go.mod h1:FiNAH4ZV3gBg2Kwh89tzAEV2be7d5xI0vBa/VySYy3E=
 k8s.io/gengo v0.0.0-20201214224949-b6c5ce23f027 h1:Uusb3oh8XcdzDF/ndlI4ToKTYVlkCSJP39SRY2mfRAw=
 k8s.io/gengo v0.0.0-20201214224949-b6c5ce23f027/go.mod h1:FiNAH4ZV3gBg2Kwh89tzAEV2be7d5xI0vBa/VySYy3E=
 k8s.io/klog v0.0.0-20181102134211-b9b56d5dfc92/go.mod h1:Gq+BEi5rUBO/HRz0bTSXDUcqjScdoY3a9IHpCEIOOfk=
@@ -1795,13 +1803,15 @@ k8s.io/klog v1.0.0/go.mod h1:4Bi6QPql/J/LkTDqv7R/cd3hPo4k2DG6Ptcz060Ez5I=
 k8s.io/klog/v2 v2.0.0/go.mod h1:PBfzABfn139FHAV07az/IF9Wp1bkk3vpT2XSJ76fSDE=
 k8s.io/klog/v2 v2.2.0/go.mod h1:Od+F08eJP+W3HUb4pSrPpgp9DGU4GzlpG/TmITuYh/Y=
 k8s.io/klog/v2 v2.4.0/go.mod h1:Od+F08eJP+W3HUb4pSrPpgp9DGU4GzlpG/TmITuYh/Y=
-k8s.io/klog/v2 v2.5.0 h1:8mOnjf1RmUPW6KRqQCfYSZq/K20Unmp3IhuZUhxl8KI=
 k8s.io/klog/v2 v2.5.0/go.mod h1:hy9LJ/NvuK+iVyP4Ehqva4HxZG/oXyIS3n3Jmire4Ec=
+k8s.io/klog/v2 v2.8.0 h1:Q3gmuM9hKEjefWFFYF0Mat+YyFJvsUyYuwyNNJ5C9Ts=
+k8s.io/klog/v2 v2.8.0/go.mod h1:hy9LJ/NvuK+iVyP4Ehqva4HxZG/oXyIS3n3Jmire4Ec=
 k8s.io/kube-openapi v0.0.0-20200121204235-bf4fb3bd569c/go.mod h1:GRQhZsXIAJ1xR0C9bd8UpWHZ5plfAS9fzPjJuQ6JL3E=
 k8s.io/kube-openapi v0.0.0-20200410145947-bcb3869e6f29/go.mod h1:F+5wygcW0wmRTnM3cOgIqGivxkwSWIWT5YdsDbeAOaU=
 k8s.io/kube-openapi v0.0.0-20200805222855-6aeccd4b50c6/go.mod h1:UuqjUnNftUyPE5H64/qeyjQoUZhGpeFDVdxjTeEVN2o=
-k8s.io/kube-openapi v0.0.0-20201113171705-d219536bb9fd h1:sOHNzJIkytDF6qadMNKhhDRpc6ODik8lVC6nOur7B2c=
 k8s.io/kube-openapi v0.0.0-20201113171705-d219536bb9fd/go.mod h1:WOJ3KddDSol4tAGcJo0Tvi+dK12EcqSLqcWsryKMpfM=
+k8s.io/kube-openapi v0.0.0-20210305001622-591a79e4bda7 h1:vEx13qjvaZ4yfObSSXW7BrMc/KQBBT/Jyee8XtLf4x0=
+k8s.io/kube-openapi v0.0.0-20210305001622-591a79e4bda7/go.mod h1:wXW5VT87nVfh/iLV8FpR2uDvrFyomxbtb1KivDbvPTE=
 k8s.io/utils v0.0.0-20191114184206-e782cd3c129f/go.mod h1:sZAwmy6armz5eXlNoLmJcl4F1QuKu7sr+mFQ0byX7Ew=
 k8s.io/utils v0.0.0-20200324210504-a9aa75ae1b89/go.mod h1:sZAwmy6armz5eXlNoLmJcl4F1QuKu7sr+mFQ0byX7Ew=
 k8s.io/utils v0.0.0-20200729134348-d5654de09c73/go.mod h1:jPW/WVKK9YHAvNhRxK0md/EJ228hCsBRufyofKtW8HA=
@@ -1824,8 +1834,9 @@ sigs.k8s.io/structured-merge-diff/v2 v2.0.1/go.mod h1:Wb7vfKAodbKgf6tn1Kl0VvGj7m
 sigs.k8s.io/structured-merge-diff/v3 v3.0.0-20200116222232-67a7b8c61874/go.mod h1:PlARxl6Hbt/+BC80dRLi1qAmnMqwqDg62YvvVkZjemw=
 sigs.k8s.io/structured-merge-diff/v3 v3.0.0/go.mod h1:PlARxl6Hbt/+BC80dRLi1qAmnMqwqDg62YvvVkZjemw=
 sigs.k8s.io/structured-merge-diff/v4 v4.0.1/go.mod h1:bJZC9H9iH24zzfZ/41RGcq60oK1F7G282QMXDPYydCw=
-sigs.k8s.io/structured-merge-diff/v4 v4.0.2 h1:YHQV7Dajm86OuqnIR6zAelnDWBRjo+YhYV9PmGrh1s8=
 sigs.k8s.io/structured-merge-diff/v4 v4.0.2/go.mod h1:bJZC9H9iH24zzfZ/41RGcq60oK1F7G282QMXDPYydCw=
+sigs.k8s.io/structured-merge-diff/v4 v4.1.2 h1:Hr/htKFmJEbtMgS/UD0N+gtgctAqz81t3nu+sPzynno=
+sigs.k8s.io/structured-merge-diff/v4 v4.1.2/go.mod h1:j/nl6xW8vLS49O8YvXW1ocPhZawJtm+Yrr7PPRQ0Vg4=
 sigs.k8s.io/yaml v1.1.0/go.mod h1:UJmg0vDUVViEyp3mgSv9WPwZCDxu4rQW1olrI1uml+o=
 sigs.k8s.io/yaml v1.2.0 h1:kr/MCeFWJWTwyaHoR9c8EjH9OumOmoF9YGiZd7lFm/Q=
 sigs.k8s.io/yaml v1.2.0/go.mod h1:yfXDCHCao9+ENCvLSE62v9VSji2MKu5jeNfTrofGhJc=
diff --git a/manifests/base/crds/full/argoproj.io_clusterworkflowtemplates.yaml b/manifests/base/crds/full/argoproj.io_clusterworkflowtemplates.yaml
index e6daa05ea55c..0a5f92969a4e 100644
--- a/manifests/base/crds/full/argoproj.io_clusterworkflowtemplates.yaml
+++ b/manifests/base/crds/full/argoproj.io_clusterworkflowtemplates.yaml
@@ -153,6 +153,29 @@ spec:
                                         type: string
                                       type: object
                                   type: object
+                                namespaceSelector:
+                                  properties:
+                                    matchExpressions:
+                                      items:
+                                        properties:
+                                          key:
+                                            type: string
+                                          operator:
+                                            type: string
+                                          values:
+                                            items:
+                                              type: string
+                                            type: array
+                                        required:
+                                        - key
+                                        - operator
+                                        type: object
+                                      type: array
+                                    matchLabels:
+                                      additionalProperties:
+                                        type: string
+                                      type: object
+                                  type: object
                                 namespaces:
                                   items:
                                     type: string
@@ -196,6 +219,29 @@ spec:
                                     type: string
                                   type: object
                               type: object
+                            namespaceSelector:
+                              properties:
+                                matchExpressions:
+                                  items:
+                                    properties:
+                                      key:
+                                        type: string
+                                      operator:
+                                        type: string
+                                      values:
+                                        items:
+                                          type: string
+                                        type: array
+                                    required:
+                                    - key
+                                    - operator
+                                    type: object
+                                  type: array
+                                matchLabels:
+                                  additionalProperties:
+                                    type: string
+                                  type: object
+                              type: object
                             namespaces:
                               items:
                                 type: string
@@ -237,6 +283,29 @@ spec:
                                         type: string
                                       type: object
                                   type: object
+                                namespaceSelector:
+                                  properties:
+                                    matchExpressions:
+                                      items:
+                                        properties:
+                                          key:
+                                            type: string
+                                          operator:
+                                            type: string
+                                          values:
+                                            items:
+                                              type: string
+                                            type: array
+                                        required:
+                                        - key
+                                        - operator
+                                        type: object
+                                      type: array
+                                    matchLabels:
+                                      additionalProperties:
+                                        type: string
+                                      type: object
+                                  type: object
                                 namespaces:
                                   items:
                                     type: string
@@ -280,6 +349,29 @@ spec:
                                     type: string
                                   type: object
                               type: object
+                            namespaceSelector:
+                              properties:
+                                matchExpressions:
+                                  items:
+                                    properties:
+                                      key:
+                                        type: string
+                                      operator:
+                                        type: string
+                                      values:
+                                        items:
+                                          type: string
+                                        type: array
+                                    required:
+                                    - key
+                                    - operator
+                                    type: object
+                                  type: array
+                                matchLabels:
+                                  additionalProperties:
+                                    type: string
+                                  type: object
+                              type: object
                             namespaces:
                               items:
                                 type: string
@@ -1140,6 +1232,29 @@ spec:
                                             type: string
                                           type: object
                                       type: object
+                                    namespaceSelector:
+                                      properties:
+                                        matchExpressions:
+                                          items:
+                                            properties:
+                                              key:
+                                                type: string
+                                              operator:
+                                                type: string
+                                              values:
+                                                items:
+                                                  type: string
+                                                type: array
+                                            required:
+                                            - key
+                                            - operator
+                                            type: object
+                                          type: array
+                                        matchLabels:
+                                          additionalProperties:
+                                            type: string
+                                          type: object
+                                      type: object
                                     namespaces:
                                       items:
                                         type: string
@@ -1183,6 +1298,29 @@ spec:
                                         type: string
                                       type: object
                                   type: object
+                                namespaceSelector:
+                                  properties:
+                                    matchExpressions:
+                                      items:
+                                        properties:
+                                          key:
+                                            type: string
+                                          operator:
+                                            type: string
+                                          values:
+                                            items:
+                                              type: string
+                                            type: array
+                                        required:
+                                        - key
+                                        - operator
+                                        type: object
+                                      type: array
+                                    matchLabels:
+                                      additionalProperties:
+                                        type: string
+                                      type: object
+                                  type: object
                                 namespaces:
                                   items:
                                     type: string
@@ -1224,6 +1362,29 @@ spec:
                                             type: string
                                           type: object
                                       type: object
+                                    namespaceSelector:
+                                      properties:
+                                        matchExpressions:
+                                          items:
+                                            properties:
+                                              key:
+                                                type: string
+                                              operator:
+                                                type: string
+                                              values:
+                                                items:
+                                                  type: string
+                                                type: array
+                                            required:
+                                            - key
+                                            - operator
+                                            type: object
+                                          type: array
+                                        matchLabels:
+                                          additionalProperties:
+                                            type: string
+                                          type: object
+                                      type: object
                                     namespaces:
                                       items:
                                         type: string
@@ -1267,6 +1428,29 @@ spec:
                                         type: string
                                       type: object
                                   type: object
+                                namespaceSelector:
+                                  properties:
+                                    matchExpressions:
+                                      items:
+                                        properties:
+                                          key:
+                                            type: string
+                                          operator:
+                                            type: string
+                                          values:
+                                            items:
+                                              type: string
+                                            type: array
+                                        required:
+                                        - key
+                                        - operator
+                                        type: object
+                                      type: array
+                                    matchLabels:
+                                      additionalProperties:
+                                        type: string
+                                      type: object
+                                  type: object
                                 namespaces:
                                   items:
                                     type: string
@@ -1837,6 +2021,9 @@ spec:
                             required:
                             - port
                             type: object
+                          terminationGracePeriodSeconds:
+                            format: int64
+                            type: integer
                           timeoutSeconds:
                             format: int32
                             type: integer
@@ -1928,6 +2115,9 @@ spec:
                             required:
                             - port
                             type: object
+                          terminationGracePeriodSeconds:
+                            format: int64
+                            type: integer
                           timeoutSeconds:
                             format: int32
                             type: integer
@@ -2071,6 +2261,9 @@ spec:
                             required:
                             - port
                             type: object
+                          terminationGracePeriodSeconds:
+                            format: int64
+                            type: integer
                           timeoutSeconds:
                             format: int32
                             type: integer
@@ -2388,6 +2581,9 @@ spec:
                                   required:
                                   - port
                                   type: object
+                                terminationGracePeriodSeconds:
+                                  format: int64
+                                  type: integer
                                 timeoutSeconds:
                                   format: int32
                                   type: integer
@@ -2479,6 +2675,9 @@ spec:
                                   required:
                                   - port
                                   type: object
+                                terminationGracePeriodSeconds:
+                                  format: int64
+                                  type: integer
                                 timeoutSeconds:
                                   format: int32
                                   type: integer
@@ -2622,6 +2821,9 @@ spec:
                                   required:
                                   - port
                                   type: object
+                                terminationGracePeriodSeconds:
+                                  format: int64
+                                  type: integer
                                 timeoutSeconds:
                                   format: int32
                                   type: integer
@@ -4218,6 +4420,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -4311,6 +4516,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -4454,6 +4662,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -5705,6 +5916,9 @@ spec:
                             required:
                             - port
                             type: object
+                          terminationGracePeriodSeconds:
+                            format: int64
+                            type: integer
                           timeoutSeconds:
                             format: int32
                             type: integer
@@ -5796,6 +6010,9 @@ spec:
                             required:
                             - port
                             type: object
+                          terminationGracePeriodSeconds:
+                            format: int64
+                            type: integer
                           timeoutSeconds:
                             format: int32
                             type: integer
@@ -5941,6 +6158,9 @@ spec:
                             required:
                             - port
                             type: object
+                          terminationGracePeriodSeconds:
+                            format: int64
+                            type: integer
                           timeoutSeconds:
                             format: int32
                             type: integer
@@ -6317,6 +6537,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -6410,6 +6633,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -6553,6 +6779,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -6839,8 +7068,6 @@ spec:
                           type: object
                         ephemeral:
                           properties:
-                            readOnly:
-                              type: boolean
                             volumeClaimTemplate:
                               properties:
                                 metadata:
@@ -7456,6 +7683,29 @@ spec:
                                               type: string
                                             type: object
                                         type: object
+                                      namespaceSelector:
+                                        properties:
+                                          matchExpressions:
+                                            items:
+                                              properties:
+                                                key:
+                                                  type: string
+                                                operator:
+                                                  type: string
+                                                values:
+                                                  items:
+                                                    type: string
+                                                  type: array
+                                              required:
+                                              - key
+                                              - operator
+                                              type: object
+                                            type: array
+                                          matchLabels:
+                                            additionalProperties:
+                                              type: string
+                                            type: object
+                                        type: object
                                       namespaces:
                                         items:
                                           type: string
@@ -7499,6 +7749,29 @@ spec:
                                           type: string
                                         type: object
                                     type: object
+                                  namespaceSelector:
+                                    properties:
+                                      matchExpressions:
+                                        items:
+                                          properties:
+                                            key:
+                                              type: string
+                                            operator:
+                                              type: string
+                                            values:
+                                              items:
+                                                type: string
+                                              type: array
+                                          required:
+                                          - key
+                                          - operator
+                                          type: object
+                                        type: array
+                                      matchLabels:
+                                        additionalProperties:
+                                          type: string
+                                        type: object
+                                    type: object
                                   namespaces:
                                     items:
                                       type: string
@@ -7540,6 +7813,29 @@ spec:
                                               type: string
                                             type: object
                                         type: object
+                                      namespaceSelector:
+                                        properties:
+                                          matchExpressions:
+                                            items:
+                                              properties:
+                                                key:
+                                                  type: string
+                                                operator:
+                                                  type: string
+                                                values:
+                                                  items:
+                                                    type: string
+                                                  type: array
+                                              required:
+                                              - key
+                                              - operator
+                                              type: object
+                                            type: array
+                                          matchLabels:
+                                            additionalProperties:
+                                              type: string
+                                            type: object
+                                        type: object
                                       namespaces:
                                         items:
                                           type: string
@@ -7583,6 +7879,29 @@ spec:
                                           type: string
                                         type: object
                                     type: object
+                                  namespaceSelector:
+                                    properties:
+                                      matchExpressions:
+                                        items:
+                                          properties:
+                                            key:
+                                              type: string
+                                            operator:
+                                              type: string
+                                            values:
+                                              items:
+                                                type: string
+                                              type: array
+                                          required:
+                                          - key
+                                          - operator
+                                          type: object
+                                        type: array
+                                      matchLabels:
+                                        additionalProperties:
+                                          type: string
+                                        type: object
+                                    type: object
                                   namespaces:
                                     items:
                                       type: string
@@ -8153,6 +8472,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -8244,6 +8566,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -8387,6 +8712,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -8704,6 +9032,9 @@ spec:
                                     required:
                                     - port
                                     type: object
+                                  terminationGracePeriodSeconds:
+                                    format: int64
+                                    type: integer
                                   timeoutSeconds:
                                     format: int32
                                     type: integer
@@ -8795,6 +9126,9 @@ spec:
                                     required:
                                     - port
                                     type: object
+                                  terminationGracePeriodSeconds:
+                                    format: int64
+                                    type: integer
                                   timeoutSeconds:
                                     format: int32
                                     type: integer
@@ -8938,6 +9272,9 @@ spec:
                                     required:
                                     - port
                                     type: object
+                                  terminationGracePeriodSeconds:
+                                    format: int64
+                                    type: integer
                                   timeoutSeconds:
                                     format: int32
                                     type: integer
@@ -10534,6 +10871,9 @@ spec:
                                 required:
                                 - port
                                 type: object
+                              terminationGracePeriodSeconds:
+                                format: int64
+                                type: integer
                               timeoutSeconds:
                                 format: int32
                                 type: integer
@@ -10627,6 +10967,9 @@ spec:
                                 required:
                                 - port
                                 type: object
+                              terminationGracePeriodSeconds:
+                                format: int64
+                                type: integer
                               timeoutSeconds:
                                 format: int32
                                 type: integer
@@ -10770,6 +11113,9 @@ spec:
                                 required:
                                 - port
                                 type: object
+                              terminationGracePeriodSeconds:
+                                format: int64
+                                type: integer
                               timeoutSeconds:
                                 format: int32
                                 type: integer
@@ -12021,6 +12367,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -12112,6 +12461,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -12257,6 +12609,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -12633,6 +12988,9 @@ spec:
                                 required:
                                 - port
                                 type: object
+                              terminationGracePeriodSeconds:
+                                format: int64
+                                type: integer
                               timeoutSeconds:
                                 format: int32
                                 type: integer
@@ -12726,6 +13084,9 @@ spec:
                                 required:
                                 - port
                                 type: object
+                              terminationGracePeriodSeconds:
+                                format: int64
+                                type: integer
                               timeoutSeconds:
                                 format: int32
                                 type: integer
@@ -12869,6 +13230,9 @@ spec:
                                 required:
                                 - port
                                 type: object
+                              terminationGracePeriodSeconds:
+                                format: int64
+                                type: integer
                               timeoutSeconds:
                                 format: int32
                                 type: integer
@@ -13155,8 +13519,6 @@ spec:
                             type: object
                           ephemeral:
                             properties:
-                              readOnly:
-                                type: boolean
                               volumeClaimTemplate:
                                 properties:
                                   metadata:
@@ -13977,8 +14339,6 @@ spec:
                       type: object
                     ephemeral:
                       properties:
-                        readOnly:
-                          type: boolean
                         volumeClaimTemplate:
                           properties:
                             metadata:
diff --git a/manifests/base/crds/full/argoproj.io_cronworkflows.yaml b/manifests/base/crds/full/argoproj.io_cronworkflows.yaml
index 5032c9e91dc2..a9052af4f8c6 100644
--- a/manifests/base/crds/full/argoproj.io_cronworkflows.yaml
+++ b/manifests/base/crds/full/argoproj.io_cronworkflows.yaml
@@ -174,6 +174,29 @@ spec:
                                             type: string
                                           type: object
                                       type: object
+                                    namespaceSelector:
+                                      properties:
+                                        matchExpressions:
+                                          items:
+                                            properties:
+                                              key:
+                                                type: string
+                                              operator:
+                                                type: string
+                                              values:
+                                                items:
+                                                  type: string
+                                                type: array
+                                            required:
+                                            - key
+                                            - operator
+                                            type: object
+                                          type: array
+                                        matchLabels:
+                                          additionalProperties:
+                                            type: string
+                                          type: object
+                                      type: object
                                     namespaces:
                                       items:
                                         type: string
@@ -217,6 +240,29 @@ spec:
                                         type: string
                                       type: object
                                   type: object
+                                namespaceSelector:
+                                  properties:
+                                    matchExpressions:
+                                      items:
+                                        properties:
+                                          key:
+                                            type: string
+                                          operator:
+                                            type: string
+                                          values:
+                                            items:
+                                              type: string
+                                            type: array
+                                        required:
+                                        - key
+                                        - operator
+                                        type: object
+                                      type: array
+                                    matchLabels:
+                                      additionalProperties:
+                                        type: string
+                                      type: object
+                                  type: object
                                 namespaces:
                                   items:
                                     type: string
@@ -258,6 +304,29 @@ spec:
                                             type: string
                                           type: object
                                       type: object
+                                    namespaceSelector:
+                                      properties:
+                                        matchExpressions:
+                                          items:
+                                            properties:
+                                              key:
+                                                type: string
+                                              operator:
+                                                type: string
+                                              values:
+                                                items:
+                                                  type: string
+                                                type: array
+                                            required:
+                                            - key
+                                            - operator
+                                            type: object
+                                          type: array
+                                        matchLabels:
+                                          additionalProperties:
+                                            type: string
+                                          type: object
+                                      type: object
                                     namespaces:
                                       items:
                                         type: string
@@ -301,6 +370,29 @@ spec:
                                         type: string
                                       type: object
                                   type: object
+                                namespaceSelector:
+                                  properties:
+                                    matchExpressions:
+                                      items:
+                                        properties:
+                                          key:
+                                            type: string
+                                          operator:
+                                            type: string
+                                          values:
+                                            items:
+                                              type: string
+                                            type: array
+                                        required:
+                                        - key
+                                        - operator
+                                        type: object
+                                      type: array
+                                    matchLabels:
+                                      additionalProperties:
+                                        type: string
+                                      type: object
+                                  type: object
                                 namespaces:
                                   items:
                                     type: string
@@ -1161,6 +1253,29 @@ spec:
                                                 type: string
                                               type: object
                                           type: object
+                                        namespaceSelector:
+                                          properties:
+                                            matchExpressions:
+                                              items:
+                                                properties:
+                                                  key:
+                                                    type: string
+                                                  operator:
+                                                    type: string
+                                                  values:
+                                                    items:
+                                                      type: string
+                                                    type: array
+                                                required:
+                                                - key
+                                                - operator
+                                                type: object
+                                              type: array
+                                            matchLabels:
+                                              additionalProperties:
+                                                type: string
+                                              type: object
+                                          type: object
                                         namespaces:
                                           items:
                                             type: string
@@ -1204,6 +1319,29 @@ spec:
                                             type: string
                                           type: object
                                       type: object
+                                    namespaceSelector:
+                                      properties:
+                                        matchExpressions:
+                                          items:
+                                            properties:
+                                              key:
+                                                type: string
+                                              operator:
+                                                type: string
+                                              values:
+                                                items:
+                                                  type: string
+                                                type: array
+                                            required:
+                                            - key
+                                            - operator
+                                            type: object
+                                          type: array
+                                        matchLabels:
+                                          additionalProperties:
+                                            type: string
+                                          type: object
+                                      type: object
                                     namespaces:
                                       items:
                                         type: string
@@ -1245,6 +1383,29 @@ spec:
                                                 type: string
                                               type: object
                                           type: object
+                                        namespaceSelector:
+                                          properties:
+                                            matchExpressions:
+                                              items:
+                                                properties:
+                                                  key:
+                                                    type: string
+                                                  operator:
+                                                    type: string
+                                                  values:
+                                                    items:
+                                                      type: string
+                                                    type: array
+                                                required:
+                                                - key
+                                                - operator
+                                                type: object
+                                              type: array
+                                            matchLabels:
+                                              additionalProperties:
+                                                type: string
+                                              type: object
+                                          type: object
                                         namespaces:
                                           items:
                                             type: string
@@ -1288,6 +1449,29 @@ spec:
                                             type: string
                                           type: object
                                       type: object
+                                    namespaceSelector:
+                                      properties:
+                                        matchExpressions:
+                                          items:
+                                            properties:
+                                              key:
+                                                type: string
+                                              operator:
+                                                type: string
+                                              values:
+                                                items:
+                                                  type: string
+                                                type: array
+                                            required:
+                                            - key
+                                            - operator
+                                            type: object
+                                          type: array
+                                        matchLabels:
+                                          additionalProperties:
+                                            type: string
+                                          type: object
+                                      type: object
                                     namespaces:
                                       items:
                                         type: string
@@ -1858,6 +2042,9 @@ spec:
                                 required:
                                 - port
                                 type: object
+                              terminationGracePeriodSeconds:
+                                format: int64
+                                type: integer
                               timeoutSeconds:
                                 format: int32
                                 type: integer
@@ -1949,6 +2136,9 @@ spec:
                                 required:
                                 - port
                                 type: object
+                              terminationGracePeriodSeconds:
+                                format: int64
+                                type: integer
                               timeoutSeconds:
                                 format: int32
                                 type: integer
@@ -2092,6 +2282,9 @@ spec:
                                 required:
                                 - port
                                 type: object
+                              terminationGracePeriodSeconds:
+                                format: int64
+                                type: integer
                               timeoutSeconds:
                                 format: int32
                                 type: integer
@@ -2409,6 +2602,9 @@ spec:
                                       required:
                                       - port
                                       type: object
+                                    terminationGracePeriodSeconds:
+                                      format: int64
+                                      type: integer
                                     timeoutSeconds:
                                       format: int32
                                       type: integer
@@ -2500,6 +2696,9 @@ spec:
                                       required:
                                       - port
                                       type: object
+                                    terminationGracePeriodSeconds:
+                                      format: int64
+                                      type: integer
                                     timeoutSeconds:
                                       format: int32
                                       type: integer
@@ -2643,6 +2842,9 @@ spec:
                                       required:
                                       - port
                                       type: object
+                                    terminationGracePeriodSeconds:
+                                      format: int64
+                                      type: integer
                                     timeoutSeconds:
                                       format: int32
                                       type: integer
@@ -4239,6 +4441,9 @@ spec:
                                   required:
                                   - port
                                   type: object
+                                terminationGracePeriodSeconds:
+                                  format: int64
+                                  type: integer
                                 timeoutSeconds:
                                   format: int32
                                   type: integer
@@ -4332,6 +4537,9 @@ spec:
                                   required:
                                   - port
                                   type: object
+                                terminationGracePeriodSeconds:
+                                  format: int64
+                                  type: integer
                                 timeoutSeconds:
                                   format: int32
                                   type: integer
@@ -4475,6 +4683,9 @@ spec:
                                   required:
                                   - port
                                   type: object
+                                terminationGracePeriodSeconds:
+                                  format: int64
+                                  type: integer
                                 timeoutSeconds:
                                   format: int32
                                   type: integer
@@ -5726,6 +5937,9 @@ spec:
                                 required:
                                 - port
                                 type: object
+                              terminationGracePeriodSeconds:
+                                format: int64
+                                type: integer
                               timeoutSeconds:
                                 format: int32
                                 type: integer
@@ -5817,6 +6031,9 @@ spec:
                                 required:
                                 - port
                                 type: object
+                              terminationGracePeriodSeconds:
+                                format: int64
+                                type: integer
                               timeoutSeconds:
                                 format: int32
                                 type: integer
@@ -5962,6 +6179,9 @@ spec:
                                 required:
                                 - port
                                 type: object
+                              terminationGracePeriodSeconds:
+                                format: int64
+                                type: integer
                               timeoutSeconds:
                                 format: int32
                                 type: integer
@@ -6338,6 +6558,9 @@ spec:
                                   required:
                                   - port
                                   type: object
+                                terminationGracePeriodSeconds:
+                                  format: int64
+                                  type: integer
                                 timeoutSeconds:
                                   format: int32
                                   type: integer
@@ -6431,6 +6654,9 @@ spec:
                                   required:
                                   - port
                                   type: object
+                                terminationGracePeriodSeconds:
+                                  format: int64
+                                  type: integer
                                 timeoutSeconds:
                                   format: int32
                                   type: integer
@@ -6574,6 +6800,9 @@ spec:
                                   required:
                                   - port
                                   type: object
+                                terminationGracePeriodSeconds:
+                                  format: int64
+                                  type: integer
                                 timeoutSeconds:
                                   format: int32
                                   type: integer
@@ -6860,8 +7089,6 @@ spec:
                               type: object
                             ephemeral:
                               properties:
-                                readOnly:
-                                  type: boolean
                                 volumeClaimTemplate:
                                   properties:
                                     metadata:
@@ -7477,6 +7704,29 @@ spec:
                                                   type: string
                                                 type: object
                                             type: object
+                                          namespaceSelector:
+                                            properties:
+                                              matchExpressions:
+                                                items:
+                                                  properties:
+                                                    key:
+                                                      type: string
+                                                    operator:
+                                                      type: string
+                                                    values:
+                                                      items:
+                                                        type: string
+                                                      type: array
+                                                  required:
+                                                  - key
+                                                  - operator
+                                                  type: object
+                                                type: array
+                                              matchLabels:
+                                                additionalProperties:
+                                                  type: string
+                                                type: object
+                                            type: object
                                           namespaces:
                                             items:
                                               type: string
@@ -7520,6 +7770,29 @@ spec:
                                               type: string
                                             type: object
                                         type: object
+                                      namespaceSelector:
+                                        properties:
+                                          matchExpressions:
+                                            items:
+                                              properties:
+                                                key:
+                                                  type: string
+                                                operator:
+                                                  type: string
+                                                values:
+                                                  items:
+                                                    type: string
+                                                  type: array
+                                              required:
+                                              - key
+                                              - operator
+                                              type: object
+                                            type: array
+                                          matchLabels:
+                                            additionalProperties:
+                                              type: string
+                                            type: object
+                                        type: object
                                       namespaces:
                                         items:
                                           type: string
@@ -7561,6 +7834,29 @@ spec:
                                                   type: string
                                                 type: object
                                             type: object
+                                          namespaceSelector:
+                                            properties:
+                                              matchExpressions:
+                                                items:
+                                                  properties:
+                                                    key:
+                                                      type: string
+                                                    operator:
+                                                      type: string
+                                                    values:
+                                                      items:
+                                                        type: string
+                                                      type: array
+                                                  required:
+                                                  - key
+                                                  - operator
+                                                  type: object
+                                                type: array
+                                              matchLabels:
+                                                additionalProperties:
+                                                  type: string
+                                                type: object
+                                            type: object
                                           namespaces:
                                             items:
                                               type: string
@@ -7604,6 +7900,29 @@ spec:
                                               type: string
                                             type: object
                                         type: object
+                                      namespaceSelector:
+                                        properties:
+                                          matchExpressions:
+                                            items:
+                                              properties:
+                                                key:
+                                                  type: string
+                                                operator:
+                                                  type: string
+                                                values:
+                                                  items:
+                                                    type: string
+                                                  type: array
+                                              required:
+                                              - key
+                                              - operator
+                                              type: object
+                                            type: array
+                                          matchLabels:
+                                            additionalProperties:
+                                              type: string
+                                            type: object
+                                        type: object
                                       namespaces:
                                         items:
                                           type: string
@@ -8174,6 +8493,9 @@ spec:
                                   required:
                                   - port
                                   type: object
+                                terminationGracePeriodSeconds:
+                                  format: int64
+                                  type: integer
                                 timeoutSeconds:
                                   format: int32
                                   type: integer
@@ -8265,6 +8587,9 @@ spec:
                                   required:
                                   - port
                                   type: object
+                                terminationGracePeriodSeconds:
+                                  format: int64
+                                  type: integer
                                 timeoutSeconds:
                                   format: int32
                                   type: integer
@@ -8408,6 +8733,9 @@ spec:
                                   required:
                                   - port
                                   type: object
+                                terminationGracePeriodSeconds:
+                                  format: int64
+                                  type: integer
                                 timeoutSeconds:
                                   format: int32
                                   type: integer
@@ -8725,6 +9053,9 @@ spec:
                                         required:
                                         - port
                                         type: object
+                                      terminationGracePeriodSeconds:
+                                        format: int64
+                                        type: integer
                                       timeoutSeconds:
                                         format: int32
                                         type: integer
@@ -8816,6 +9147,9 @@ spec:
                                         required:
                                         - port
                                         type: object
+                                      terminationGracePeriodSeconds:
+                                        format: int64
+                                        type: integer
                                       timeoutSeconds:
                                         format: int32
                                         type: integer
@@ -8959,6 +9293,9 @@ spec:
                                         required:
                                         - port
                                         type: object
+                                      terminationGracePeriodSeconds:
+                                        format: int64
+                                        type: integer
                                       timeoutSeconds:
                                         format: int32
                                         type: integer
@@ -10555,6 +10892,9 @@ spec:
                                     required:
                                     - port
                                     type: object
+                                  terminationGracePeriodSeconds:
+                                    format: int64
+                                    type: integer
                                   timeoutSeconds:
                                     format: int32
                                     type: integer
@@ -10648,6 +10988,9 @@ spec:
                                     required:
                                     - port
                                     type: object
+                                  terminationGracePeriodSeconds:
+                                    format: int64
+                                    type: integer
                                   timeoutSeconds:
                                     format: int32
                                     type: integer
@@ -10791,6 +11134,9 @@ spec:
                                     required:
                                     - port
                                     type: object
+                                  terminationGracePeriodSeconds:
+                                    format: int64
+                                    type: integer
                                   timeoutSeconds:
                                     format: int32
                                     type: integer
@@ -12042,6 +12388,9 @@ spec:
                                   required:
                                   - port
                                   type: object
+                                terminationGracePeriodSeconds:
+                                  format: int64
+                                  type: integer
                                 timeoutSeconds:
                                   format: int32
                                   type: integer
@@ -12133,6 +12482,9 @@ spec:
                                   required:
                                   - port
                                   type: object
+                                terminationGracePeriodSeconds:
+                                  format: int64
+                                  type: integer
                                 timeoutSeconds:
                                   format: int32
                                   type: integer
@@ -12278,6 +12630,9 @@ spec:
                                   required:
                                   - port
                                   type: object
+                                terminationGracePeriodSeconds:
+                                  format: int64
+                                  type: integer
                                 timeoutSeconds:
                                   format: int32
                                   type: integer
@@ -12654,6 +13009,9 @@ spec:
                                     required:
                                     - port
                                     type: object
+                                  terminationGracePeriodSeconds:
+                                    format: int64
+                                    type: integer
                                   timeoutSeconds:
                                     format: int32
                                     type: integer
@@ -12747,6 +13105,9 @@ spec:
                                     required:
                                     - port
                                     type: object
+                                  terminationGracePeriodSeconds:
+                                    format: int64
+                                    type: integer
                                   timeoutSeconds:
                                     format: int32
                                     type: integer
@@ -12890,6 +13251,9 @@ spec:
                                     required:
                                     - port
                                     type: object
+                                  terminationGracePeriodSeconds:
+                                    format: int64
+                                    type: integer
                                   timeoutSeconds:
                                     format: int32
                                     type: integer
@@ -13176,8 +13540,6 @@ spec:
                                 type: object
                               ephemeral:
                                 properties:
-                                  readOnly:
-                                    type: boolean
                                   volumeClaimTemplate:
                                     properties:
                                       metadata:
@@ -13998,8 +14360,6 @@ spec:
                           type: object
                         ephemeral:
                           properties:
-                            readOnly:
-                              type: boolean
                             volumeClaimTemplate:
                               properties:
                                 metadata:
diff --git a/manifests/base/crds/full/argoproj.io_workflows.yaml b/manifests/base/crds/full/argoproj.io_workflows.yaml
index 907a67d10eb4..1abbd1328f9c 100644
--- a/manifests/base/crds/full/argoproj.io_workflows.yaml
+++ b/manifests/base/crds/full/argoproj.io_workflows.yaml
@@ -162,6 +162,29 @@ spec:
                                         type: string
                                       type: object
                                   type: object
+                                namespaceSelector:
+                                  properties:
+                                    matchExpressions:
+                                      items:
+                                        properties:
+                                          key:
+                                            type: string
+                                          operator:
+                                            type: string
+                                          values:
+                                            items:
+                                              type: string
+                                            type: array
+                                        required:
+                                        - key
+                                        - operator
+                                        type: object
+                                      type: array
+                                    matchLabels:
+                                      additionalProperties:
+                                        type: string
+                                      type: object
+                                  type: object
                                 namespaces:
                                   items:
                                     type: string
@@ -205,6 +228,29 @@ spec:
                                     type: string
                                   type: object
                               type: object
+                            namespaceSelector:
+                              properties:
+                                matchExpressions:
+                                  items:
+                                    properties:
+                                      key:
+                                        type: string
+                                      operator:
+                                        type: string
+                                      values:
+                                        items:
+                                          type: string
+                                        type: array
+                                    required:
+                                    - key
+                                    - operator
+                                    type: object
+                                  type: array
+                                matchLabels:
+                                  additionalProperties:
+                                    type: string
+                                  type: object
+                              type: object
                             namespaces:
                               items:
                                 type: string
@@ -246,6 +292,29 @@ spec:
                                         type: string
                                       type: object
                                   type: object
+                                namespaceSelector:
+                                  properties:
+                                    matchExpressions:
+                                      items:
+                                        properties:
+                                          key:
+                                            type: string
+                                          operator:
+                                            type: string
+                                          values:
+                                            items:
+                                              type: string
+                                            type: array
+                                        required:
+                                        - key
+                                        - operator
+                                        type: object
+                                      type: array
+                                    matchLabels:
+                                      additionalProperties:
+                                        type: string
+                                      type: object
+                                  type: object
                                 namespaces:
                                   items:
                                     type: string
@@ -289,6 +358,29 @@ spec:
                                     type: string
                                   type: object
                               type: object
+                            namespaceSelector:
+                              properties:
+                                matchExpressions:
+                                  items:
+                                    properties:
+                                      key:
+                                        type: string
+                                      operator:
+                                        type: string
+                                      values:
+                                        items:
+                                          type: string
+                                        type: array
+                                    required:
+                                    - key
+                                    - operator
+                                    type: object
+                                  type: array
+                                matchLabels:
+                                  additionalProperties:
+                                    type: string
+                                  type: object
+                              type: object
                             namespaces:
                               items:
                                 type: string
@@ -1149,6 +1241,29 @@ spec:
                                             type: string
                                           type: object
                                       type: object
+                                    namespaceSelector:
+                                      properties:
+                                        matchExpressions:
+                                          items:
+                                            properties:
+                                              key:
+                                                type: string
+                                              operator:
+                                                type: string
+                                              values:
+                                                items:
+                                                  type: string
+                                                type: array
+                                            required:
+                                            - key
+                                            - operator
+                                            type: object
+                                          type: array
+                                        matchLabels:
+                                          additionalProperties:
+                                            type: string
+                                          type: object
+                                      type: object
                                     namespaces:
                                       items:
                                         type: string
@@ -1192,6 +1307,29 @@ spec:
                                         type: string
                                       type: object
                                   type: object
+                                namespaceSelector:
+                                  properties:
+                                    matchExpressions:
+                                      items:
+                                        properties:
+                                          key:
+                                            type: string
+                                          operator:
+                                            type: string
+                                          values:
+                                            items:
+                                              type: string
+                                            type: array
+                                        required:
+                                        - key
+                                        - operator
+                                        type: object
+                                      type: array
+                                    matchLabels:
+                                      additionalProperties:
+                                        type: string
+                                      type: object
+                                  type: object
                                 namespaces:
                                   items:
                                     type: string
@@ -1233,6 +1371,29 @@ spec:
                                             type: string
                                           type: object
                                       type: object
+                                    namespaceSelector:
+                                      properties:
+                                        matchExpressions:
+                                          items:
+                                            properties:
+                                              key:
+                                                type: string
+                                              operator:
+                                                type: string
+                                              values:
+                                                items:
+                                                  type: string
+                                                type: array
+                                            required:
+                                            - key
+                                            - operator
+                                            type: object
+                                          type: array
+                                        matchLabels:
+                                          additionalProperties:
+                                            type: string
+                                          type: object
+                                      type: object
                                     namespaces:
                                       items:
                                         type: string
@@ -1276,6 +1437,29 @@ spec:
                                         type: string
                                       type: object
                                   type: object
+                                namespaceSelector:
+                                  properties:
+                                    matchExpressions:
+                                      items:
+                                        properties:
+                                          key:
+                                            type: string
+                                          operator:
+                                            type: string
+                                          values:
+                                            items:
+                                              type: string
+                                            type: array
+                                        required:
+                                        - key
+                                        - operator
+                                        type: object
+                                      type: array
+                                    matchLabels:
+                                      additionalProperties:
+                                        type: string
+                                      type: object
+                                  type: object
                                 namespaces:
                                   items:
                                     type: string
@@ -1846,6 +2030,9 @@ spec:
                             required:
                             - port
                             type: object
+                          terminationGracePeriodSeconds:
+                            format: int64
+                            type: integer
                           timeoutSeconds:
                             format: int32
                             type: integer
@@ -1937,6 +2124,9 @@ spec:
                             required:
                             - port
                             type: object
+                          terminationGracePeriodSeconds:
+                            format: int64
+                            type: integer
                           timeoutSeconds:
                             format: int32
                             type: integer
@@ -2080,6 +2270,9 @@ spec:
                             required:
                             - port
                             type: object
+                          terminationGracePeriodSeconds:
+                            format: int64
+                            type: integer
                           timeoutSeconds:
                             format: int32
                             type: integer
@@ -2397,6 +2590,9 @@ spec:
                                   required:
                                   - port
                                   type: object
+                                terminationGracePeriodSeconds:
+                                  format: int64
+                                  type: integer
                                 timeoutSeconds:
                                   format: int32
                                   type: integer
@@ -2488,6 +2684,9 @@ spec:
                                   required:
                                   - port
                                   type: object
+                                terminationGracePeriodSeconds:
+                                  format: int64
+                                  type: integer
                                 timeoutSeconds:
                                   format: int32
                                   type: integer
@@ -2631,6 +2830,9 @@ spec:
                                   required:
                                   - port
                                   type: object
+                                terminationGracePeriodSeconds:
+                                  format: int64
+                                  type: integer
                                 timeoutSeconds:
                                   format: int32
                                   type: integer
@@ -4227,6 +4429,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -4320,6 +4525,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -4463,6 +4671,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -5714,6 +5925,9 @@ spec:
                             required:
                             - port
                             type: object
+                          terminationGracePeriodSeconds:
+                            format: int64
+                            type: integer
                           timeoutSeconds:
                             format: int32
                             type: integer
@@ -5805,6 +6019,9 @@ spec:
                             required:
                             - port
                             type: object
+                          terminationGracePeriodSeconds:
+                            format: int64
+                            type: integer
                           timeoutSeconds:
                             format: int32
                             type: integer
@@ -5950,6 +6167,9 @@ spec:
                             required:
                             - port
                             type: object
+                          terminationGracePeriodSeconds:
+                            format: int64
+                            type: integer
                           timeoutSeconds:
                             format: int32
                             type: integer
@@ -6326,6 +6546,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -6419,6 +6642,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -6562,6 +6788,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -6848,8 +7077,6 @@ spec:
                           type: object
                         ephemeral:
                           properties:
-                            readOnly:
-                              type: boolean
                             volumeClaimTemplate:
                               properties:
                                 metadata:
@@ -7465,6 +7692,29 @@ spec:
                                               type: string
                                             type: object
                                         type: object
+                                      namespaceSelector:
+                                        properties:
+                                          matchExpressions:
+                                            items:
+                                              properties:
+                                                key:
+                                                  type: string
+                                                operator:
+                                                  type: string
+                                                values:
+                                                  items:
+                                                    type: string
+                                                  type: array
+                                              required:
+                                              - key
+                                              - operator
+                                              type: object
+                                            type: array
+                                          matchLabels:
+                                            additionalProperties:
+                                              type: string
+                                            type: object
+                                        type: object
                                       namespaces:
                                         items:
                                           type: string
@@ -7508,6 +7758,29 @@ spec:
                                           type: string
                                         type: object
                                     type: object
+                                  namespaceSelector:
+                                    properties:
+                                      matchExpressions:
+                                        items:
+                                          properties:
+                                            key:
+                                              type: string
+                                            operator:
+                                              type: string
+                                            values:
+                                              items:
+                                                type: string
+                                              type: array
+                                          required:
+                                          - key
+                                          - operator
+                                          type: object
+                                        type: array
+                                      matchLabels:
+                                        additionalProperties:
+                                          type: string
+                                        type: object
+                                    type: object
                                   namespaces:
                                     items:
                                       type: string
@@ -7549,6 +7822,29 @@ spec:
                                               type: string
                                             type: object
                                         type: object
+                                      namespaceSelector:
+                                        properties:
+                                          matchExpressions:
+                                            items:
+                                              properties:
+                                                key:
+                                                  type: string
+                                                operator:
+                                                  type: string
+                                                values:
+                                                  items:
+                                                    type: string
+                                                  type: array
+                                              required:
+                                              - key
+                                              - operator
+                                              type: object
+                                            type: array
+                                          matchLabels:
+                                            additionalProperties:
+                                              type: string
+                                            type: object
+                                        type: object
                                       namespaces:
                                         items:
                                           type: string
@@ -7592,6 +7888,29 @@ spec:
                                           type: string
                                         type: object
                                     type: object
+                                  namespaceSelector:
+                                    properties:
+                                      matchExpressions:
+                                        items:
+                                          properties:
+                                            key:
+                                              type: string
+                                            operator:
+                                              type: string
+                                            values:
+                                              items:
+                                                type: string
+                                              type: array
+                                          required:
+                                          - key
+                                          - operator
+                                          type: object
+                                        type: array
+                                      matchLabels:
+                                        additionalProperties:
+                                          type: string
+                                        type: object
+                                    type: object
                                   namespaces:
                                     items:
                                       type: string
@@ -8162,6 +8481,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -8253,6 +8575,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -8396,6 +8721,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -8713,6 +9041,9 @@ spec:
                                     required:
                                     - port
                                     type: object
+                                  terminationGracePeriodSeconds:
+                                    format: int64
+                                    type: integer
                                   timeoutSeconds:
                                     format: int32
                                     type: integer
@@ -8804,6 +9135,9 @@ spec:
                                     required:
                                     - port
                                     type: object
+                                  terminationGracePeriodSeconds:
+                                    format: int64
+                                    type: integer
                                   timeoutSeconds:
                                     format: int32
                                     type: integer
@@ -8947,6 +9281,9 @@ spec:
                                     required:
                                     - port
                                     type: object
+                                  terminationGracePeriodSeconds:
+                                    format: int64
+                                    type: integer
                                   timeoutSeconds:
                                     format: int32
                                     type: integer
@@ -10543,6 +10880,9 @@ spec:
                                 required:
                                 - port
                                 type: object
+                              terminationGracePeriodSeconds:
+                                format: int64
+                                type: integer
                               timeoutSeconds:
                                 format: int32
                                 type: integer
@@ -10636,6 +10976,9 @@ spec:
                                 required:
                                 - port
                                 type: object
+                              terminationGracePeriodSeconds:
+                                format: int64
+                                type: integer
                               timeoutSeconds:
                                 format: int32
                                 type: integer
@@ -10779,6 +11122,9 @@ spec:
                                 required:
                                 - port
                                 type: object
+                              terminationGracePeriodSeconds:
+                                format: int64
+                                type: integer
                               timeoutSeconds:
                                 format: int32
                                 type: integer
@@ -12030,6 +12376,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -12121,6 +12470,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -12266,6 +12618,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -12642,6 +12997,9 @@ spec:
                                 required:
                                 - port
                                 type: object
+                              terminationGracePeriodSeconds:
+                                format: int64
+                                type: integer
                               timeoutSeconds:
                                 format: int32
                                 type: integer
@@ -12735,6 +13093,9 @@ spec:
                                 required:
                                 - port
                                 type: object
+                              terminationGracePeriodSeconds:
+                                format: int64
+                                type: integer
                               timeoutSeconds:
                                 format: int32
                                 type: integer
@@ -12878,6 +13239,9 @@ spec:
                                 required:
                                 - port
                                 type: object
+                              terminationGracePeriodSeconds:
+                                format: int64
+                                type: integer
                               timeoutSeconds:
                                 format: int32
                                 type: integer
@@ -13164,8 +13528,6 @@ spec:
                             type: object
                           ephemeral:
                             properties:
-                              readOnly:
-                                type: boolean
                               volumeClaimTemplate:
                                 properties:
                                   metadata:
@@ -13986,8 +14348,6 @@ spec:
                       type: object
                     ephemeral:
                       properties:
-                        readOnly:
-                          type: boolean
                         volumeClaimTemplate:
                           properties:
                             metadata:
@@ -16157,8 +16517,6 @@ spec:
                       type: object
                     ephemeral:
                       properties:
-                        readOnly:
-                          type: boolean
                         volumeClaimTemplate:
                           properties:
                             metadata:
@@ -16785,6 +17143,29 @@ spec:
                                               type: string
                                             type: object
                                         type: object
+                                      namespaceSelector:
+                                        properties:
+                                          matchExpressions:
+                                            items:
+                                              properties:
+                                                key:
+                                                  type: string
+                                                operator:
+                                                  type: string
+                                                values:
+                                                  items:
+                                                    type: string
+                                                  type: array
+                                              required:
+                                              - key
+                                              - operator
+                                              type: object
+                                            type: array
+                                          matchLabels:
+                                            additionalProperties:
+                                              type: string
+                                            type: object
+                                        type: object
                                       namespaces:
                                         items:
                                           type: string
@@ -16828,6 +17209,29 @@ spec:
                                           type: string
                                         type: object
                                     type: object
+                                  namespaceSelector:
+                                    properties:
+                                      matchExpressions:
+                                        items:
+                                          properties:
+                                            key:
+                                              type: string
+                                            operator:
+                                              type: string
+                                            values:
+                                              items:
+                                                type: string
+                                              type: array
+                                          required:
+                                          - key
+                                          - operator
+                                          type: object
+                                        type: array
+                                      matchLabels:
+                                        additionalProperties:
+                                          type: string
+                                        type: object
+                                    type: object
                                   namespaces:
                                     items:
                                       type: string
@@ -16869,6 +17273,29 @@ spec:
                                               type: string
                                             type: object
                                         type: object
+                                      namespaceSelector:
+                                        properties:
+                                          matchExpressions:
+                                            items:
+                                              properties:
+                                                key:
+                                                  type: string
+                                                operator:
+                                                  type: string
+                                                values:
+                                                  items:
+                                                    type: string
+                                                  type: array
+                                              required:
+                                              - key
+                                              - operator
+                                              type: object
+                                            type: array
+                                          matchLabels:
+                                            additionalProperties:
+                                              type: string
+                                            type: object
+                                        type: object
                                       namespaces:
                                         items:
                                           type: string
@@ -16912,6 +17339,29 @@ spec:
                                           type: string
                                         type: object
                                     type: object
+                                  namespaceSelector:
+                                    properties:
+                                      matchExpressions:
+                                        items:
+                                          properties:
+                                            key:
+                                              type: string
+                                            operator:
+                                              type: string
+                                            values:
+                                              items:
+                                                type: string
+                                              type: array
+                                          required:
+                                          - key
+                                          - operator
+                                          type: object
+                                        type: array
+                                      matchLabels:
+                                        additionalProperties:
+                                          type: string
+                                        type: object
+                                    type: object
                                   namespaces:
                                     items:
                                       type: string
@@ -17482,6 +17932,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -17573,6 +18026,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -17716,6 +18172,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -18033,6 +18492,9 @@ spec:
                                     required:
                                     - port
                                     type: object
+                                  terminationGracePeriodSeconds:
+                                    format: int64
+                                    type: integer
                                   timeoutSeconds:
                                     format: int32
                                     type: integer
@@ -18124,6 +18586,9 @@ spec:
                                     required:
                                     - port
                                     type: object
+                                  terminationGracePeriodSeconds:
+                                    format: int64
+                                    type: integer
                                   timeoutSeconds:
                                     format: int32
                                     type: integer
@@ -18267,6 +18732,9 @@ spec:
                                     required:
                                     - port
                                     type: object
+                                  terminationGracePeriodSeconds:
+                                    format: int64
+                                    type: integer
                                   timeoutSeconds:
                                     format: int32
                                     type: integer
@@ -19863,6 +20331,9 @@ spec:
                                 required:
                                 - port
                                 type: object
+                              terminationGracePeriodSeconds:
+                                format: int64
+                                type: integer
                               timeoutSeconds:
                                 format: int32
                                 type: integer
@@ -19956,6 +20427,9 @@ spec:
                                 required:
                                 - port
                                 type: object
+                              terminationGracePeriodSeconds:
+                                format: int64
+                                type: integer
                               timeoutSeconds:
                                 format: int32
                                 type: integer
@@ -20099,6 +20573,9 @@ spec:
                                 required:
                                 - port
                                 type: object
+                              terminationGracePeriodSeconds:
+                                format: int64
+                                type: integer
                               timeoutSeconds:
                                 format: int32
                                 type: integer
@@ -21350,6 +21827,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -21441,6 +21921,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -21586,6 +22069,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -21962,6 +22448,9 @@ spec:
                                 required:
                                 - port
                                 type: object
+                              terminationGracePeriodSeconds:
+                                format: int64
+                                type: integer
                               timeoutSeconds:
                                 format: int32
                                 type: integer
@@ -22055,6 +22544,9 @@ spec:
                                 required:
                                 - port
                                 type: object
+                              terminationGracePeriodSeconds:
+                                format: int64
+                                type: integer
                               timeoutSeconds:
                                 format: int32
                                 type: integer
@@ -22198,6 +22690,9 @@ spec:
                                 required:
                                 - port
                                 type: object
+                              terminationGracePeriodSeconds:
+                                format: int64
+                                type: integer
                               timeoutSeconds:
                                 format: int32
                                 type: integer
@@ -22484,8 +22979,6 @@ spec:
                             type: object
                           ephemeral:
                             properties:
-                              readOnly:
-                                type: boolean
                               volumeClaimTemplate:
                                 properties:
                                   metadata:
@@ -23099,6 +23592,29 @@ spec:
                                             type: string
                                           type: object
                                       type: object
+                                    namespaceSelector:
+                                      properties:
+                                        matchExpressions:
+                                          items:
+                                            properties:
+                                              key:
+                                                type: string
+                                              operator:
+                                                type: string
+                                              values:
+                                                items:
+                                                  type: string
+                                                type: array
+                                            required:
+                                            - key
+                                            - operator
+                                            type: object
+                                          type: array
+                                        matchLabels:
+                                          additionalProperties:
+                                            type: string
+                                          type: object
+                                      type: object
                                     namespaces:
                                       items:
                                         type: string
@@ -23142,6 +23658,29 @@ spec:
                                         type: string
                                       type: object
                                   type: object
+                                namespaceSelector:
+                                  properties:
+                                    matchExpressions:
+                                      items:
+                                        properties:
+                                          key:
+                                            type: string
+                                          operator:
+                                            type: string
+                                          values:
+                                            items:
+                                              type: string
+                                            type: array
+                                        required:
+                                        - key
+                                        - operator
+                                        type: object
+                                      type: array
+                                    matchLabels:
+                                      additionalProperties:
+                                        type: string
+                                      type: object
+                                  type: object
                                 namespaces:
                                   items:
                                     type: string
@@ -23183,6 +23722,29 @@ spec:
                                             type: string
                                           type: object
                                       type: object
+                                    namespaceSelector:
+                                      properties:
+                                        matchExpressions:
+                                          items:
+                                            properties:
+                                              key:
+                                                type: string
+                                              operator:
+                                                type: string
+                                              values:
+                                                items:
+                                                  type: string
+                                                type: array
+                                            required:
+                                            - key
+                                            - operator
+                                            type: object
+                                          type: array
+                                        matchLabels:
+                                          additionalProperties:
+                                            type: string
+                                          type: object
+                                      type: object
                                     namespaces:
                                       items:
                                         type: string
@@ -23226,6 +23788,29 @@ spec:
                                         type: string
                                       type: object
                                   type: object
+                                namespaceSelector:
+                                  properties:
+                                    matchExpressions:
+                                      items:
+                                        properties:
+                                          key:
+                                            type: string
+                                          operator:
+                                            type: string
+                                          values:
+                                            items:
+                                              type: string
+                                            type: array
+                                        required:
+                                        - key
+                                        - operator
+                                        type: object
+                                      type: array
+                                    matchLabels:
+                                      additionalProperties:
+                                        type: string
+                                      type: object
+                                  type: object
                                 namespaces:
                                   items:
                                     type: string
@@ -24086,6 +24671,29 @@ spec:
                                                 type: string
                                               type: object
                                           type: object
+                                        namespaceSelector:
+                                          properties:
+                                            matchExpressions:
+                                              items:
+                                                properties:
+                                                  key:
+                                                    type: string
+                                                  operator:
+                                                    type: string
+                                                  values:
+                                                    items:
+                                                      type: string
+                                                    type: array
+                                                required:
+                                                - key
+                                                - operator
+                                                type: object
+                                              type: array
+                                            matchLabels:
+                                              additionalProperties:
+                                                type: string
+                                              type: object
+                                          type: object
                                         namespaces:
                                           items:
                                             type: string
@@ -24129,6 +24737,29 @@ spec:
                                             type: string
                                           type: object
                                       type: object
+                                    namespaceSelector:
+                                      properties:
+                                        matchExpressions:
+                                          items:
+                                            properties:
+                                              key:
+                                                type: string
+                                              operator:
+                                                type: string
+                                              values:
+                                                items:
+                                                  type: string
+                                                type: array
+                                            required:
+                                            - key
+                                            - operator
+                                            type: object
+                                          type: array
+                                        matchLabels:
+                                          additionalProperties:
+                                            type: string
+                                          type: object
+                                      type: object
                                     namespaces:
                                       items:
                                         type: string
@@ -24170,6 +24801,29 @@ spec:
                                                 type: string
                                               type: object
                                           type: object
+                                        namespaceSelector:
+                                          properties:
+                                            matchExpressions:
+                                              items:
+                                                properties:
+                                                  key:
+                                                    type: string
+                                                  operator:
+                                                    type: string
+                                                  values:
+                                                    items:
+                                                      type: string
+                                                    type: array
+                                                required:
+                                                - key
+                                                - operator
+                                                type: object
+                                              type: array
+                                            matchLabels:
+                                              additionalProperties:
+                                                type: string
+                                              type: object
+                                          type: object
                                         namespaces:
                                           items:
                                             type: string
@@ -24213,6 +24867,29 @@ spec:
                                             type: string
                                           type: object
                                       type: object
+                                    namespaceSelector:
+                                      properties:
+                                        matchExpressions:
+                                          items:
+                                            properties:
+                                              key:
+                                                type: string
+                                              operator:
+                                                type: string
+                                              values:
+                                                items:
+                                                  type: string
+                                                type: array
+                                            required:
+                                            - key
+                                            - operator
+                                            type: object
+                                          type: array
+                                        matchLabels:
+                                          additionalProperties:
+                                            type: string
+                                          type: object
+                                      type: object
                                     namespaces:
                                       items:
                                         type: string
@@ -24783,6 +25460,9 @@ spec:
                                 required:
                                 - port
                                 type: object
+                              terminationGracePeriodSeconds:
+                                format: int64
+                                type: integer
                               timeoutSeconds:
                                 format: int32
                                 type: integer
@@ -24874,6 +25554,9 @@ spec:
                                 required:
                                 - port
                                 type: object
+                              terminationGracePeriodSeconds:
+                                format: int64
+                                type: integer
                               timeoutSeconds:
                                 format: int32
                                 type: integer
@@ -25017,6 +25700,9 @@ spec:
                                 required:
                                 - port
                                 type: object
+                              terminationGracePeriodSeconds:
+                                format: int64
+                                type: integer
                               timeoutSeconds:
                                 format: int32
                                 type: integer
@@ -25334,6 +26020,9 @@ spec:
                                       required:
                                       - port
                                       type: object
+                                    terminationGracePeriodSeconds:
+                                      format: int64
+                                      type: integer
                                     timeoutSeconds:
                                       format: int32
                                       type: integer
@@ -25425,6 +26114,9 @@ spec:
                                       required:
                                       - port
                                       type: object
+                                    terminationGracePeriodSeconds:
+                                      format: int64
+                                      type: integer
                                     timeoutSeconds:
                                       format: int32
                                       type: integer
@@ -25568,6 +26260,9 @@ spec:
                                       required:
                                       - port
                                       type: object
+                                    terminationGracePeriodSeconds:
+                                      format: int64
+                                      type: integer
                                     timeoutSeconds:
                                       format: int32
                                       type: integer
@@ -27164,6 +27859,9 @@ spec:
                                   required:
                                   - port
                                   type: object
+                                terminationGracePeriodSeconds:
+                                  format: int64
+                                  type: integer
                                 timeoutSeconds:
                                   format: int32
                                   type: integer
@@ -27257,6 +27955,9 @@ spec:
                                   required:
                                   - port
                                   type: object
+                                terminationGracePeriodSeconds:
+                                  format: int64
+                                  type: integer
                                 timeoutSeconds:
                                   format: int32
                                   type: integer
@@ -27400,6 +28101,9 @@ spec:
                                   required:
                                   - port
                                   type: object
+                                terminationGracePeriodSeconds:
+                                  format: int64
+                                  type: integer
                                 timeoutSeconds:
                                   format: int32
                                   type: integer
@@ -28651,6 +29355,9 @@ spec:
                                 required:
                                 - port
                                 type: object
+                              terminationGracePeriodSeconds:
+                                format: int64
+                                type: integer
                               timeoutSeconds:
                                 format: int32
                                 type: integer
@@ -28742,6 +29449,9 @@ spec:
                                 required:
                                 - port
                                 type: object
+                              terminationGracePeriodSeconds:
+                                format: int64
+                                type: integer
                               timeoutSeconds:
                                 format: int32
                                 type: integer
@@ -28887,6 +29597,9 @@ spec:
                                 required:
                                 - port
                                 type: object
+                              terminationGracePeriodSeconds:
+                                format: int64
+                                type: integer
                               timeoutSeconds:
                                 format: int32
                                 type: integer
@@ -29263,6 +29976,9 @@ spec:
                                   required:
                                   - port
                                   type: object
+                                terminationGracePeriodSeconds:
+                                  format: int64
+                                  type: integer
                                 timeoutSeconds:
                                   format: int32
                                   type: integer
@@ -29356,6 +30072,9 @@ spec:
                                   required:
                                   - port
                                   type: object
+                                terminationGracePeriodSeconds:
+                                  format: int64
+                                  type: integer
                                 timeoutSeconds:
                                   format: int32
                                   type: integer
@@ -29499,6 +30218,9 @@ spec:
                                   required:
                                   - port
                                   type: object
+                                terminationGracePeriodSeconds:
+                                  format: int64
+                                  type: integer
                                 timeoutSeconds:
                                   format: int32
                                   type: integer
@@ -29785,8 +30507,6 @@ spec:
                               type: object
                             ephemeral:
                               properties:
-                                readOnly:
-                                  type: boolean
                                 volumeClaimTemplate:
                                   properties:
                                     metadata:
@@ -30402,6 +31122,29 @@ spec:
                                                   type: string
                                                 type: object
                                             type: object
+                                          namespaceSelector:
+                                            properties:
+                                              matchExpressions:
+                                                items:
+                                                  properties:
+                                                    key:
+                                                      type: string
+                                                    operator:
+                                                      type: string
+                                                    values:
+                                                      items:
+                                                        type: string
+                                                      type: array
+                                                  required:
+                                                  - key
+                                                  - operator
+                                                  type: object
+                                                type: array
+                                              matchLabels:
+                                                additionalProperties:
+                                                  type: string
+                                                type: object
+                                            type: object
                                           namespaces:
                                             items:
                                               type: string
@@ -30445,6 +31188,29 @@ spec:
                                               type: string
                                             type: object
                                         type: object
+                                      namespaceSelector:
+                                        properties:
+                                          matchExpressions:
+                                            items:
+                                              properties:
+                                                key:
+                                                  type: string
+                                                operator:
+                                                  type: string
+                                                values:
+                                                  items:
+                                                    type: string
+                                                  type: array
+                                              required:
+                                              - key
+                                              - operator
+                                              type: object
+                                            type: array
+                                          matchLabels:
+                                            additionalProperties:
+                                              type: string
+                                            type: object
+                                        type: object
                                       namespaces:
                                         items:
                                           type: string
@@ -30486,6 +31252,29 @@ spec:
                                                   type: string
                                                 type: object
                                             type: object
+                                          namespaceSelector:
+                                            properties:
+                                              matchExpressions:
+                                                items:
+                                                  properties:
+                                                    key:
+                                                      type: string
+                                                    operator:
+                                                      type: string
+                                                    values:
+                                                      items:
+                                                        type: string
+                                                      type: array
+                                                  required:
+                                                  - key
+                                                  - operator
+                                                  type: object
+                                                type: array
+                                              matchLabels:
+                                                additionalProperties:
+                                                  type: string
+                                                type: object
+                                            type: object
                                           namespaces:
                                             items:
                                               type: string
@@ -30529,6 +31318,29 @@ spec:
                                               type: string
                                             type: object
                                         type: object
+                                      namespaceSelector:
+                                        properties:
+                                          matchExpressions:
+                                            items:
+                                              properties:
+                                                key:
+                                                  type: string
+                                                operator:
+                                                  type: string
+                                                values:
+                                                  items:
+                                                    type: string
+                                                  type: array
+                                              required:
+                                              - key
+                                              - operator
+                                              type: object
+                                            type: array
+                                          matchLabels:
+                                            additionalProperties:
+                                              type: string
+                                            type: object
+                                        type: object
                                       namespaces:
                                         items:
                                           type: string
@@ -31099,6 +31911,9 @@ spec:
                                   required:
                                   - port
                                   type: object
+                                terminationGracePeriodSeconds:
+                                  format: int64
+                                  type: integer
                                 timeoutSeconds:
                                   format: int32
                                   type: integer
@@ -31190,6 +32005,9 @@ spec:
                                   required:
                                   - port
                                   type: object
+                                terminationGracePeriodSeconds:
+                                  format: int64
+                                  type: integer
                                 timeoutSeconds:
                                   format: int32
                                   type: integer
@@ -31333,6 +32151,9 @@ spec:
                                   required:
                                   - port
                                   type: object
+                                terminationGracePeriodSeconds:
+                                  format: int64
+                                  type: integer
                                 timeoutSeconds:
                                   format: int32
                                   type: integer
@@ -31650,6 +32471,9 @@ spec:
                                         required:
                                         - port
                                         type: object
+                                      terminationGracePeriodSeconds:
+                                        format: int64
+                                        type: integer
                                       timeoutSeconds:
                                         format: int32
                                         type: integer
@@ -31741,6 +32565,9 @@ spec:
                                         required:
                                         - port
                                         type: object
+                                      terminationGracePeriodSeconds:
+                                        format: int64
+                                        type: integer
                                       timeoutSeconds:
                                         format: int32
                                         type: integer
@@ -31884,6 +32711,9 @@ spec:
                                         required:
                                         - port
                                         type: object
+                                      terminationGracePeriodSeconds:
+                                        format: int64
+                                        type: integer
                                       timeoutSeconds:
                                         format: int32
                                         type: integer
@@ -33480,6 +34310,9 @@ spec:
                                     required:
                                     - port
                                     type: object
+                                  terminationGracePeriodSeconds:
+                                    format: int64
+                                    type: integer
                                   timeoutSeconds:
                                     format: int32
                                     type: integer
@@ -33573,6 +34406,9 @@ spec:
                                     required:
                                     - port
                                     type: object
+                                  terminationGracePeriodSeconds:
+                                    format: int64
+                                    type: integer
                                   timeoutSeconds:
                                     format: int32
                                     type: integer
@@ -33716,6 +34552,9 @@ spec:
                                     required:
                                     - port
                                     type: object
+                                  terminationGracePeriodSeconds:
+                                    format: int64
+                                    type: integer
                                   timeoutSeconds:
                                     format: int32
                                     type: integer
@@ -34967,6 +35806,9 @@ spec:
                                   required:
                                   - port
                                   type: object
+                                terminationGracePeriodSeconds:
+                                  format: int64
+                                  type: integer
                                 timeoutSeconds:
                                   format: int32
                                   type: integer
@@ -35058,6 +35900,9 @@ spec:
                                   required:
                                   - port
                                   type: object
+                                terminationGracePeriodSeconds:
+                                  format: int64
+                                  type: integer
                                 timeoutSeconds:
                                   format: int32
                                   type: integer
@@ -35203,6 +36048,9 @@ spec:
                                   required:
                                   - port
                                   type: object
+                                terminationGracePeriodSeconds:
+                                  format: int64
+                                  type: integer
                                 timeoutSeconds:
                                   format: int32
                                   type: integer
@@ -35579,6 +36427,9 @@ spec:
                                     required:
                                     - port
                                     type: object
+                                  terminationGracePeriodSeconds:
+                                    format: int64
+                                    type: integer
                                   timeoutSeconds:
                                     format: int32
                                     type: integer
@@ -35672,6 +36523,9 @@ spec:
                                     required:
                                     - port
                                     type: object
+                                  terminationGracePeriodSeconds:
+                                    format: int64
+                                    type: integer
                                   timeoutSeconds:
                                     format: int32
                                     type: integer
@@ -35815,6 +36669,9 @@ spec:
                                     required:
                                     - port
                                     type: object
+                                  terminationGracePeriodSeconds:
+                                    format: int64
+                                    type: integer
                                   timeoutSeconds:
                                     format: int32
                                     type: integer
@@ -36101,8 +36958,6 @@ spec:
                                 type: object
                               ephemeral:
                                 properties:
-                                  readOnly:
-                                    type: boolean
                                   volumeClaimTemplate:
                                     properties:
                                       metadata:
@@ -36923,8 +37778,6 @@ spec:
                           type: object
                         ephemeral:
                           properties:
-                            readOnly:
-                              type: boolean
                             volumeClaimTemplate:
                               properties:
                                 metadata:
diff --git a/manifests/base/crds/full/argoproj.io_workflowtasksets.yaml b/manifests/base/crds/full/argoproj.io_workflowtasksets.yaml
index cbb26146736e..3fa874e44e84 100644
--- a/manifests/base/crds/full/argoproj.io_workflowtasksets.yaml
+++ b/manifests/base/crds/full/argoproj.io_workflowtasksets.yaml
@@ -157,6 +157,29 @@ spec:
                                               type: string
                                             type: object
                                         type: object
+                                      namespaceSelector:
+                                        properties:
+                                          matchExpressions:
+                                            items:
+                                              properties:
+                                                key:
+                                                  type: string
+                                                operator:
+                                                  type: string
+                                                values:
+                                                  items:
+                                                    type: string
+                                                  type: array
+                                              required:
+                                              - key
+                                              - operator
+                                              type: object
+                                            type: array
+                                          matchLabels:
+                                            additionalProperties:
+                                              type: string
+                                            type: object
+                                        type: object
                                       namespaces:
                                         items:
                                           type: string
@@ -200,6 +223,29 @@ spec:
                                           type: string
                                         type: object
                                     type: object
+                                  namespaceSelector:
+                                    properties:
+                                      matchExpressions:
+                                        items:
+                                          properties:
+                                            key:
+                                              type: string
+                                            operator:
+                                              type: string
+                                            values:
+                                              items:
+                                                type: string
+                                              type: array
+                                          required:
+                                          - key
+                                          - operator
+                                          type: object
+                                        type: array
+                                      matchLabels:
+                                        additionalProperties:
+                                          type: string
+                                        type: object
+                                    type: object
                                   namespaces:
                                     items:
                                       type: string
@@ -241,6 +287,29 @@ spec:
                                               type: string
                                             type: object
                                         type: object
+                                      namespaceSelector:
+                                        properties:
+                                          matchExpressions:
+                                            items:
+                                              properties:
+                                                key:
+                                                  type: string
+                                                operator:
+                                                  type: string
+                                                values:
+                                                  items:
+                                                    type: string
+                                                  type: array
+                                              required:
+                                              - key
+                                              - operator
+                                              type: object
+                                            type: array
+                                          matchLabels:
+                                            additionalProperties:
+                                              type: string
+                                            type: object
+                                        type: object
                                       namespaces:
                                         items:
                                           type: string
@@ -284,6 +353,29 @@ spec:
                                           type: string
                                         type: object
                                     type: object
+                                  namespaceSelector:
+                                    properties:
+                                      matchExpressions:
+                                        items:
+                                          properties:
+                                            key:
+                                              type: string
+                                            operator:
+                                              type: string
+                                            values:
+                                              items:
+                                                type: string
+                                              type: array
+                                          required:
+                                          - key
+                                          - operator
+                                          type: object
+                                        type: array
+                                      matchLabels:
+                                        additionalProperties:
+                                          type: string
+                                        type: object
+                                    type: object
                                   namespaces:
                                     items:
                                       type: string
@@ -854,6 +946,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -945,6 +1040,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -1088,6 +1186,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -1405,6 +1506,9 @@ spec:
                                     required:
                                     - port
                                     type: object
+                                  terminationGracePeriodSeconds:
+                                    format: int64
+                                    type: integer
                                   timeoutSeconds:
                                     format: int32
                                     type: integer
@@ -1496,6 +1600,9 @@ spec:
                                     required:
                                     - port
                                     type: object
+                                  terminationGracePeriodSeconds:
+                                    format: int64
+                                    type: integer
                                   timeoutSeconds:
                                     format: int32
                                     type: integer
@@ -1639,6 +1746,9 @@ spec:
                                     required:
                                     - port
                                     type: object
+                                  terminationGracePeriodSeconds:
+                                    format: int64
+                                    type: integer
                                   timeoutSeconds:
                                     format: int32
                                     type: integer
@@ -3235,6 +3345,9 @@ spec:
                                 required:
                                 - port
                                 type: object
+                              terminationGracePeriodSeconds:
+                                format: int64
+                                type: integer
                               timeoutSeconds:
                                 format: int32
                                 type: integer
@@ -3328,6 +3441,9 @@ spec:
                                 required:
                                 - port
                                 type: object
+                              terminationGracePeriodSeconds:
+                                format: int64
+                                type: integer
                               timeoutSeconds:
                                 format: int32
                                 type: integer
@@ -3471,6 +3587,9 @@ spec:
                                 required:
                                 - port
                                 type: object
+                              terminationGracePeriodSeconds:
+                                format: int64
+                                type: integer
                               timeoutSeconds:
                                 format: int32
                                 type: integer
@@ -4722,6 +4841,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -4813,6 +4935,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -4958,6 +5083,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -5334,6 +5462,9 @@ spec:
                                 required:
                                 - port
                                 type: object
+                              terminationGracePeriodSeconds:
+                                format: int64
+                                type: integer
                               timeoutSeconds:
                                 format: int32
                                 type: integer
@@ -5427,6 +5558,9 @@ spec:
                                 required:
                                 - port
                                 type: object
+                              terminationGracePeriodSeconds:
+                                format: int64
+                                type: integer
                               timeoutSeconds:
                                 format: int32
                                 type: integer
@@ -5570,6 +5704,9 @@ spec:
                                 required:
                                 - port
                                 type: object
+                              terminationGracePeriodSeconds:
+                                format: int64
+                                type: integer
                               timeoutSeconds:
                                 format: int32
                                 type: integer
@@ -5856,8 +5993,6 @@ spec:
                             type: object
                           ephemeral:
                             properties:
-                              readOnly:
-                                type: boolean
                               volumeClaimTemplate:
                                 properties:
                                   metadata:
diff --git a/manifests/base/crds/full/argoproj.io_workflowtemplates.yaml b/manifests/base/crds/full/argoproj.io_workflowtemplates.yaml
index e4003a31a0c0..68382bd380b3 100644
--- a/manifests/base/crds/full/argoproj.io_workflowtemplates.yaml
+++ b/manifests/base/crds/full/argoproj.io_workflowtemplates.yaml
@@ -152,6 +152,29 @@ spec:
                                         type: string
                                       type: object
                                   type: object
+                                namespaceSelector:
+                                  properties:
+                                    matchExpressions:
+                                      items:
+                                        properties:
+                                          key:
+                                            type: string
+                                          operator:
+                                            type: string
+                                          values:
+                                            items:
+                                              type: string
+                                            type: array
+                                        required:
+                                        - key
+                                        - operator
+                                        type: object
+                                      type: array
+                                    matchLabels:
+                                      additionalProperties:
+                                        type: string
+                                      type: object
+                                  type: object
                                 namespaces:
                                   items:
                                     type: string
@@ -195,6 +218,29 @@ spec:
                                     type: string
                                   type: object
                               type: object
+                            namespaceSelector:
+                              properties:
+                                matchExpressions:
+                                  items:
+                                    properties:
+                                      key:
+                                        type: string
+                                      operator:
+                                        type: string
+                                      values:
+                                        items:
+                                          type: string
+                                        type: array
+                                    required:
+                                    - key
+                                    - operator
+                                    type: object
+                                  type: array
+                                matchLabels:
+                                  additionalProperties:
+                                    type: string
+                                  type: object
+                              type: object
                             namespaces:
                               items:
                                 type: string
@@ -236,6 +282,29 @@ spec:
                                         type: string
                                       type: object
                                   type: object
+                                namespaceSelector:
+                                  properties:
+                                    matchExpressions:
+                                      items:
+                                        properties:
+                                          key:
+                                            type: string
+                                          operator:
+                                            type: string
+                                          values:
+                                            items:
+                                              type: string
+                                            type: array
+                                        required:
+                                        - key
+                                        - operator
+                                        type: object
+                                      type: array
+                                    matchLabels:
+                                      additionalProperties:
+                                        type: string
+                                      type: object
+                                  type: object
                                 namespaces:
                                   items:
                                     type: string
@@ -279,6 +348,29 @@ spec:
                                     type: string
                                   type: object
                               type: object
+                            namespaceSelector:
+                              properties:
+                                matchExpressions:
+                                  items:
+                                    properties:
+                                      key:
+                                        type: string
+                                      operator:
+                                        type: string
+                                      values:
+                                        items:
+                                          type: string
+                                        type: array
+                                    required:
+                                    - key
+                                    - operator
+                                    type: object
+                                  type: array
+                                matchLabels:
+                                  additionalProperties:
+                                    type: string
+                                  type: object
+                              type: object
                             namespaces:
                               items:
                                 type: string
@@ -1139,6 +1231,29 @@ spec:
                                             type: string
                                           type: object
                                       type: object
+                                    namespaceSelector:
+                                      properties:
+                                        matchExpressions:
+                                          items:
+                                            properties:
+                                              key:
+                                                type: string
+                                              operator:
+                                                type: string
+                                              values:
+                                                items:
+                                                  type: string
+                                                type: array
+                                            required:
+                                            - key
+                                            - operator
+                                            type: object
+                                          type: array
+                                        matchLabels:
+                                          additionalProperties:
+                                            type: string
+                                          type: object
+                                      type: object
                                     namespaces:
                                       items:
                                         type: string
@@ -1182,6 +1297,29 @@ spec:
                                         type: string
                                       type: object
                                   type: object
+                                namespaceSelector:
+                                  properties:
+                                    matchExpressions:
+                                      items:
+                                        properties:
+                                          key:
+                                            type: string
+                                          operator:
+                                            type: string
+                                          values:
+                                            items:
+                                              type: string
+                                            type: array
+                                        required:
+                                        - key
+                                        - operator
+                                        type: object
+                                      type: array
+                                    matchLabels:
+                                      additionalProperties:
+                                        type: string
+                                      type: object
+                                  type: object
                                 namespaces:
                                   items:
                                     type: string
@@ -1223,6 +1361,29 @@ spec:
                                             type: string
                                           type: object
                                       type: object
+                                    namespaceSelector:
+                                      properties:
+                                        matchExpressions:
+                                          items:
+                                            properties:
+                                              key:
+                                                type: string
+                                              operator:
+                                                type: string
+                                              values:
+                                                items:
+                                                  type: string
+                                                type: array
+                                            required:
+                                            - key
+                                            - operator
+                                            type: object
+                                          type: array
+                                        matchLabels:
+                                          additionalProperties:
+                                            type: string
+                                          type: object
+                                      type: object
                                     namespaces:
                                       items:
                                         type: string
@@ -1266,6 +1427,29 @@ spec:
                                         type: string
                                       type: object
                                   type: object
+                                namespaceSelector:
+                                  properties:
+                                    matchExpressions:
+                                      items:
+                                        properties:
+                                          key:
+                                            type: string
+                                          operator:
+                                            type: string
+                                          values:
+                                            items:
+                                              type: string
+                                            type: array
+                                        required:
+                                        - key
+                                        - operator
+                                        type: object
+                                      type: array
+                                    matchLabels:
+                                      additionalProperties:
+                                        type: string
+                                      type: object
+                                  type: object
                                 namespaces:
                                   items:
                                     type: string
@@ -1836,6 +2020,9 @@ spec:
                             required:
                             - port
                             type: object
+                          terminationGracePeriodSeconds:
+                            format: int64
+                            type: integer
                           timeoutSeconds:
                             format: int32
                             type: integer
@@ -1927,6 +2114,9 @@ spec:
                             required:
                             - port
                             type: object
+                          terminationGracePeriodSeconds:
+                            format: int64
+                            type: integer
                           timeoutSeconds:
                             format: int32
                             type: integer
@@ -2070,6 +2260,9 @@ spec:
                             required:
                             - port
                             type: object
+                          terminationGracePeriodSeconds:
+                            format: int64
+                            type: integer
                           timeoutSeconds:
                             format: int32
                             type: integer
@@ -2387,6 +2580,9 @@ spec:
                                   required:
                                   - port
                                   type: object
+                                terminationGracePeriodSeconds:
+                                  format: int64
+                                  type: integer
                                 timeoutSeconds:
                                   format: int32
                                   type: integer
@@ -2478,6 +2674,9 @@ spec:
                                   required:
                                   - port
                                   type: object
+                                terminationGracePeriodSeconds:
+                                  format: int64
+                                  type: integer
                                 timeoutSeconds:
                                   format: int32
                                   type: integer
@@ -2621,6 +2820,9 @@ spec:
                                   required:
                                   - port
                                   type: object
+                                terminationGracePeriodSeconds:
+                                  format: int64
+                                  type: integer
                                 timeoutSeconds:
                                   format: int32
                                   type: integer
@@ -4217,6 +4419,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -4310,6 +4515,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -4453,6 +4661,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -5704,6 +5915,9 @@ spec:
                             required:
                             - port
                             type: object
+                          terminationGracePeriodSeconds:
+                            format: int64
+                            type: integer
                           timeoutSeconds:
                             format: int32
                             type: integer
@@ -5795,6 +6009,9 @@ spec:
                             required:
                             - port
                             type: object
+                          terminationGracePeriodSeconds:
+                            format: int64
+                            type: integer
                           timeoutSeconds:
                             format: int32
                             type: integer
@@ -5940,6 +6157,9 @@ spec:
                             required:
                             - port
                             type: object
+                          terminationGracePeriodSeconds:
+                            format: int64
+                            type: integer
                           timeoutSeconds:
                             format: int32
                             type: integer
@@ -6316,6 +6536,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -6409,6 +6632,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -6552,6 +6778,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -6838,8 +7067,6 @@ spec:
                           type: object
                         ephemeral:
                           properties:
-                            readOnly:
-                              type: boolean
                             volumeClaimTemplate:
                               properties:
                                 metadata:
@@ -7455,6 +7682,29 @@ spec:
                                               type: string
                                             type: object
                                         type: object
+                                      namespaceSelector:
+                                        properties:
+                                          matchExpressions:
+                                            items:
+                                              properties:
+                                                key:
+                                                  type: string
+                                                operator:
+                                                  type: string
+                                                values:
+                                                  items:
+                                                    type: string
+                                                  type: array
+                                              required:
+                                              - key
+                                              - operator
+                                              type: object
+                                            type: array
+                                          matchLabels:
+                                            additionalProperties:
+                                              type: string
+                                            type: object
+                                        type: object
                                       namespaces:
                                         items:
                                           type: string
@@ -7498,6 +7748,29 @@ spec:
                                           type: string
                                         type: object
                                     type: object
+                                  namespaceSelector:
+                                    properties:
+                                      matchExpressions:
+                                        items:
+                                          properties:
+                                            key:
+                                              type: string
+                                            operator:
+                                              type: string
+                                            values:
+                                              items:
+                                                type: string
+                                              type: array
+                                          required:
+                                          - key
+                                          - operator
+                                          type: object
+                                        type: array
+                                      matchLabels:
+                                        additionalProperties:
+                                          type: string
+                                        type: object
+                                    type: object
                                   namespaces:
                                     items:
                                       type: string
@@ -7539,6 +7812,29 @@ spec:
                                               type: string
                                             type: object
                                         type: object
+                                      namespaceSelector:
+                                        properties:
+                                          matchExpressions:
+                                            items:
+                                              properties:
+                                                key:
+                                                  type: string
+                                                operator:
+                                                  type: string
+                                                values:
+                                                  items:
+                                                    type: string
+                                                  type: array
+                                              required:
+                                              - key
+                                              - operator
+                                              type: object
+                                            type: array
+                                          matchLabels:
+                                            additionalProperties:
+                                              type: string
+                                            type: object
+                                        type: object
                                       namespaces:
                                         items:
                                           type: string
@@ -7582,6 +7878,29 @@ spec:
                                           type: string
                                         type: object
                                     type: object
+                                  namespaceSelector:
+                                    properties:
+                                      matchExpressions:
+                                        items:
+                                          properties:
+                                            key:
+                                              type: string
+                                            operator:
+                                              type: string
+                                            values:
+                                              items:
+                                                type: string
+                                              type: array
+                                          required:
+                                          - key
+                                          - operator
+                                          type: object
+                                        type: array
+                                      matchLabels:
+                                        additionalProperties:
+                                          type: string
+                                        type: object
+                                    type: object
                                   namespaces:
                                     items:
                                       type: string
@@ -8152,6 +8471,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -8243,6 +8565,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -8386,6 +8711,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -8703,6 +9031,9 @@ spec:
                                     required:
                                     - port
                                     type: object
+                                  terminationGracePeriodSeconds:
+                                    format: int64
+                                    type: integer
                                   timeoutSeconds:
                                     format: int32
                                     type: integer
@@ -8794,6 +9125,9 @@ spec:
                                     required:
                                     - port
                                     type: object
+                                  terminationGracePeriodSeconds:
+                                    format: int64
+                                    type: integer
                                   timeoutSeconds:
                                     format: int32
                                     type: integer
@@ -8937,6 +9271,9 @@ spec:
                                     required:
                                     - port
                                     type: object
+                                  terminationGracePeriodSeconds:
+                                    format: int64
+                                    type: integer
                                   timeoutSeconds:
                                     format: int32
                                     type: integer
@@ -10533,6 +10870,9 @@ spec:
                                 required:
                                 - port
                                 type: object
+                              terminationGracePeriodSeconds:
+                                format: int64
+                                type: integer
                               timeoutSeconds:
                                 format: int32
                                 type: integer
@@ -10626,6 +10966,9 @@ spec:
                                 required:
                                 - port
                                 type: object
+                              terminationGracePeriodSeconds:
+                                format: int64
+                                type: integer
                               timeoutSeconds:
                                 format: int32
                                 type: integer
@@ -10769,6 +11112,9 @@ spec:
                                 required:
                                 - port
                                 type: object
+                              terminationGracePeriodSeconds:
+                                format: int64
+                                type: integer
                               timeoutSeconds:
                                 format: int32
                                 type: integer
@@ -12020,6 +12366,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -12111,6 +12460,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -12256,6 +12608,9 @@ spec:
                               required:
                               - port
                               type: object
+                            terminationGracePeriodSeconds:
+                              format: int64
+                              type: integer
                             timeoutSeconds:
                               format: int32
                               type: integer
@@ -12632,6 +12987,9 @@ spec:
                                 required:
                                 - port
                                 type: object
+                              terminationGracePeriodSeconds:
+                                format: int64
+                                type: integer
                               timeoutSeconds:
                                 format: int32
                                 type: integer
@@ -12725,6 +13083,9 @@ spec:
                                 required:
                                 - port
                                 type: object
+                              terminationGracePeriodSeconds:
+                                format: int64
+                                type: integer
                               timeoutSeconds:
                                 format: int32
                                 type: integer
@@ -12868,6 +13229,9 @@ spec:
                                 required:
                                 - port
                                 type: object
+                              terminationGracePeriodSeconds:
+                                format: int64
+                                type: integer
                               timeoutSeconds:
                                 format: int32
                                 type: integer
@@ -13154,8 +13518,6 @@ spec:
                             type: object
                           ephemeral:
                             properties:
-                              readOnly:
-                                type: boolean
                               volumeClaimTemplate:
                                 properties:
                                   metadata:
@@ -13976,8 +14338,6 @@ spec:
                       type: object
                     ephemeral:
                       properties:
-                        readOnly:
-                          type: boolean
                         volumeClaimTemplate:
                           properties:
                             metadata:
diff --git a/pkg/apis/workflow/v1alpha1/openapi_generated.go b/pkg/apis/workflow/v1alpha1/openapi_generated.go
index e5ed34c96d7b..44c103c91914 100644
--- a/pkg/apis/workflow/v1alpha1/openapi_generated.go
+++ b/pkg/apis/workflow/v1alpha1/openapi_generated.go
@@ -1106,7 +1106,7 @@ func schema_pkg_apis_workflow_v1alpha1_ContainerNode(ref common.ReferenceCallbac
 					},
 					"resources": {
 						SchemaProps: spec.SchemaProps{
-							Description: "Compute Resources required by this container. Cannot be updated. More info: https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/",
+							Description: "Compute Resources required by this container. Cannot be updated. More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/",
 							Default:     map[string]interface{}{},
 							Ref:         ref("k8s.io/api/core/v1.ResourceRequirements"),
 						},
@@ -4354,7 +4354,7 @@ func schema_pkg_apis_workflow_v1alpha1_ScriptTemplate(ref common.ReferenceCallba
 					},
 					"resources": {
 						SchemaProps: spec.SchemaProps{
-							Description: "Compute Resources required by this container. Cannot be updated. More info: https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/",
+							Description: "Compute Resources required by this container. Cannot be updated. More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/",
 							Default:     map[string]interface{}{},
 							Ref:         ref("k8s.io/api/core/v1.ResourceRequirements"),
 						},
@@ -5423,7 +5423,7 @@ func schema_pkg_apis_workflow_v1alpha1_UserContainer(ref common.ReferenceCallbac
 					},
 					"resources": {
 						SchemaProps: spec.SchemaProps{
-							Description: "Compute Resources required by this container. Cannot be updated. More info: https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/",
+							Description: "Compute Resources required by this container. Cannot be updated. More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/",
 							Default:     map[string]interface{}{},
 							Ref:         ref("k8s.io/api/core/v1.ResourceRequirements"),
 						},
diff --git a/workflow/controller/operator_workflow_template_ref_test.go b/workflow/controller/operator_workflow_template_ref_test.go
index c0f625ba1da9..96576881f847 100644
--- a/workflow/controller/operator_workflow_template_ref_test.go
+++ b/workflow/controller/operator_workflow_template_ref_test.go
@@ -496,7 +496,7 @@ const wfTmplWithVol = `
 apiVersion: argoproj.io/v1alpha1
 kind: WorkflowTemplate
 metadata:
-  name: workflow-template-whalesay-template
+  name: workflow-template-whalesay-template-with-volume
   namespace: default
 spec:
   volumeClaimTemplates:

From 954292d500b1a63c1c467f0d404b38e8b372f22e Mon Sep 17 00:00:00 2001
From: Tianchu Zhao <evantczhao@gmail.com>
Date: Wed, 22 Sep 2021 13:42:35 +1000
Subject: [PATCH 131/137] fix(controller): TestPodExists unit test, add delay
 to wait for informer getting pod info (#6783)

Signed-off-by: Tianchu Zhao <evantczhao@gmail.com>
---
 workflow/controller/workflowpod_test.go | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/workflow/controller/workflowpod_test.go b/workflow/controller/workflowpod_test.go
index 4cdcbc75bb4e..73a3bbea9932 100644
--- a/workflow/controller/workflowpod_test.go
+++ b/workflow/controller/workflowpod_test.go
@@ -1637,6 +1637,8 @@ func TestPodExists(t *testing.T) {
 	assert.NoError(t, err)
 	assert.Len(t, pods.Items, 1)
 
+	// Sleep 1 second to wait for informer getting pod info
+	time.Sleep(time.Second)
 	existingPod, doesExist, err := woc.podExists(pod.ObjectMeta.Name)
 	assert.NoError(t, err)
 	assert.NotNil(t, existingPod)

From 65565a1f32d01edfa147c9a195d4a30907f32263 Mon Sep 17 00:00:00 2001
From: "github-actions[bot]"
 <41898282+github-actions[bot]@users.noreply.github.com>
Date: Tue, 21 Sep 2021 20:43:10 -0700
Subject: [PATCH 132/137] docs: updated CHANGELOG.md (#6780)

Signed-off-by: GitHub <noreply@github.com>

Co-authored-by: alexec <alexec@users.noreply.github.com>
---
 CHANGELOG.md | 16 ++++++++++++++++
 1 file changed, 16 insertions(+)

diff --git a/CHANGELOG.md b/CHANGELOG.md
index 0dbd40104fbc..a13653702ced 100644
--- a/CHANGELOG.md
+++ b/CHANGELOG.md
@@ -1,5 +1,21 @@
 # Changelog
 
+## v3.2.0-rc4 (2021-09-21)
+
+ * [710e82366](https://github.com/argoproj/argo-workflows/commit/710e82366dc3b0b17f5bf52004d2f72622de7781) fix: fix a typo in example file dag-conditional-artifacts.yaml (#6775)
+ * [b82884600](https://github.com/argoproj/argo-workflows/commit/b8288460052125641ff1b4e1bcc4ee03ecfe319b) feat: upgrade Argo Dataflow to v0.0.104 (#6749)
+ * [1a76e6581](https://github.com/argoproj/argo-workflows/commit/1a76e6581dd079bdcfc76be545b3f7dd1ba48105) fix(controller): TestPodExists unit test (#6763)
+ * [6875479db](https://github.com/argoproj/argo-workflows/commit/6875479db8c466c443acbc15a3fe04d8d6a8b1d2) fix: Daemond status stuck with Running (#6742)
+ * [e5b131a33](https://github.com/argoproj/argo-workflows/commit/e5b131a333afac0ed3444b70e2fe846b86dc63e1) feat: Add template node to pod name. Fixes #1319 (#6712)
+
+### Contributors
+
+ * Alex Collins
+ * J.P. Zivalich
+ * Saravanan Balasubramanian
+ * TCgogogo
+ * Tianchu Zhao
+
 ## v3.2.0-rc3 (2021-09-14)
 
  * [69e438426](https://github.com/argoproj/argo-workflows/commit/69e438426e4d116e2c9a1716651af7ef14864f04) fix: correct minor typos in docs (#6722)

From 9dc33f6172a3bc1e0fc0e64d9ed56ed92981c349 Mon Sep 17 00:00:00 2001
From: smile-luobin <smile.luobin@gmail.com>
Date: Wed, 22 Sep 2021 11:47:37 +0800
Subject: [PATCH 133/137] fix: Fix bugs, unable to resolve tasks aggregated
 outputs in dag outputs. Fixes #6684 (#6692)

Signed-off-by: smile-luobin <smile.luobin@gmail.com>
---
 workflow/controller/dag.go             |  14 +-
 workflow/controller/dag_test.go        | 171 +++++++++++++++++++++++++
 workflow/validate/validate.go          |   3 +-
 workflow/validate/validate_dag_test.go |  90 +++++++++++++
 4 files changed, 276 insertions(+), 2 deletions(-)

diff --git a/workflow/controller/dag.go b/workflow/controller/dag.go
index 753e3bb89171..55cdb21b6b30 100644
--- a/workflow/controller/dag.go
+++ b/workflow/controller/dag.go
@@ -276,7 +276,19 @@ func (woc *wfOperationCtx) executeDAG(ctx context.Context, nodeName string, tmpl
 			// Can happen when dag.target was specified
 			continue
 		}
-		woc.buildLocalScope(scope, fmt.Sprintf("tasks.%s", task.Name), taskNode)
+
+		prefix := fmt.Sprintf("tasks.%s", task.Name)
+		if taskNode.Type == wfv1.NodeTypeTaskGroup {
+			childNodes := make([]wfv1.NodeStatus, len(taskNode.Children))
+			for i, childID := range taskNode.Children {
+				childNodes[i] = woc.wf.Status.Nodes[childID]
+			}
+			err := woc.processAggregateNodeOutputs(scope, prefix, childNodes)
+			if err != nil {
+				return nil, errors.InternalWrapError(err)
+			}
+		}
+		woc.buildLocalScope(scope, prefix, taskNode)
 		woc.addOutputsToGlobalScope(taskNode.Outputs)
 	}
 	outputs, err := getTemplateOutputsFromScope(tmpl, scope)
diff --git a/workflow/controller/dag_test.go b/workflow/controller/dag_test.go
index 6eca425bd5fa..10f24d861edb 100644
--- a/workflow/controller/dag_test.go
+++ b/workflow/controller/dag_test.go
@@ -3150,3 +3150,174 @@ func TestLeafContinueOn(t *testing.T) {
 	woc.operate(ctx)
 	assert.Equal(t, wfv1.WorkflowSucceeded, woc.wf.Status.Phase)
 }
+
+var dagOutputsReferTaskAggregatedOuputs = `
+apiVersion: argoproj.io/v1alpha1
+kind: Workflow
+metadata:
+  name: parameter-aggregation-dag-h8b82
+spec:
+
+  entrypoint: parameter-aggregation
+  templates:
+  -
+    dag:
+      tasks:
+      - arguments:
+          parameters:
+          - name: num
+            value: '{{item}}'
+        name: odd-or-even
+        template: odd-or-even
+        withItems:
+        - 1
+        - 2
+    inputs: {}
+    metadata: {}
+    name: parameter-aggregation
+    outputs:
+      parameters:
+      - name: dag-nums
+        valueFrom:
+          parameter: '{{tasks.odd-or-even.outputs.parameters.num}}'
+      - name: dag-evenness
+        valueFrom:
+          parameter: '{{tasks.odd-or-even.outputs.parameters.evenness}}'
+  -
+    container:
+      args:
+      - |
+        sleep 1 &&
+        echo {{inputs.parameters.num}} > /tmp/num &&
+        if [ $(({{inputs.parameters.num}}%2)) -eq 0 ]; then
+          echo "even" > /tmp/even;
+        else
+          echo "odd" > /tmp/even;
+        fi
+      command:
+      - sh
+      - -c
+      image: alpine:latest
+      name: ""
+      resources: {}
+    inputs:
+      parameters:
+      - name: num
+    metadata: {}
+    name: odd-or-even
+    outputs:
+      parameters:
+      - name: num
+        valueFrom:
+          path: /tmp/num
+      - name: evenness
+        valueFrom:
+          path: /tmp/even
+status:
+  nodes:
+    parameter-aggregation-dag-h8b82:
+      children:
+      - parameter-aggregation-dag-h8b82-3379492521
+      displayName: parameter-aggregation-dag-h8b82
+      finishedAt: "2020-12-09T15:37:07Z"
+      id: parameter-aggregation-dag-h8b82
+      name: parameter-aggregation-dag-h8b82
+      outboundNodes:
+      - parameter-aggregation-dag-h8b82-3175470584
+      - parameter-aggregation-dag-h8b82-2243926302
+      phase: Running
+      startedAt: "2020-12-09T15:36:46Z"
+      templateName: parameter-aggregation
+      templateScope: local/parameter-aggregation-dag-h8b82
+      type: DAG
+    parameter-aggregation-dag-h8b82-1440345089:
+      boundaryID: parameter-aggregation-dag-h8b82
+      displayName: odd-or-even(1:2)
+      finishedAt: "2020-12-09T15:36:54Z"
+      hostNodeName: minikube
+      id: parameter-aggregation-dag-h8b82-1440345089
+      inputs:
+        parameters:
+        - name: num
+          value: "2"
+      name: parameter-aggregation-dag-h8b82.odd-or-even(1:2)
+      outputs:
+        exitCode: "0"
+        parameters:
+        - name: num
+          value: "2"
+          valueFrom:
+            path: /tmp/num
+        - name: evenness
+          value: even
+          valueFrom:
+            path: /tmp/even
+      phase: Succeeded
+      startedAt: "2020-12-09T15:36:46Z"
+      templateName: odd-or-even
+      templateScope: local/parameter-aggregation-dag-h8b82
+      type: Pod
+    parameter-aggregation-dag-h8b82-3379492521:
+      boundaryID: parameter-aggregation-dag-h8b82
+      children:
+      - parameter-aggregation-dag-h8b82-3572919299
+      - parameter-aggregation-dag-h8b82-1440345089
+      displayName: odd-or-even
+      finishedAt: "2020-12-09T15:36:55Z"
+      id: parameter-aggregation-dag-h8b82-3379492521
+      name: parameter-aggregation-dag-h8b82.odd-or-even
+      phase: Succeeded
+      startedAt: "2020-12-09T15:36:46Z"
+      templateName: odd-or-even
+      templateScope: local/parameter-aggregation-dag-h8b82
+      type: TaskGroup
+    parameter-aggregation-dag-h8b82-3572919299:
+      boundaryID: parameter-aggregation-dag-h8b82
+      displayName: odd-or-even(0:1)
+      finishedAt: "2020-12-09T15:36:53Z"
+      hostNodeName: minikube
+      id: parameter-aggregation-dag-h8b82-3572919299
+      inputs:
+        parameters:
+        - name: num
+          value: "1"
+      name: parameter-aggregation-dag-h8b82.odd-or-even(0:1)
+      outputs:
+        exitCode: "0"
+        parameters:
+        - name: num
+          value: "1"
+          valueFrom:
+            path: /tmp/num
+        - name: evenness
+          value: odd
+          valueFrom:
+            path: /tmp/even
+      phase: Succeeded
+      startedAt: "2020-12-09T15:36:46Z"
+      templateName: odd-or-even
+      templateScope: local/parameter-aggregation-dag-h8b82
+      type: Pod
+  phase: Succeeded
+  startedAt: "2020-12-09T15:36:46Z"
+`
+
+func TestDAGReferTaskAggregatedOutputs(t *testing.T) {
+	wf := wfv1.MustUnmarshalWorkflow(dagOutputsReferTaskAggregatedOuputs)
+	cancel, controller := newController(wf)
+	defer cancel()
+
+	ctx := context.Background()
+	woc := newWorkflowOperationCtx(wf, controller)
+	woc.operate(ctx)
+
+	dagNode := woc.wf.Status.Nodes.FindByDisplayName("parameter-aggregation-dag-h8b82")
+	if assert.NotNil(t, dagNode) {
+		if assert.NotNil(t, dagNode.Outputs) {
+			if assert.Len(t, dagNode.Outputs.Parameters, 2) {
+				assert.Equal(t, `["1","2"]`, dagNode.Outputs.Parameters[0].Value.String())
+				assert.Equal(t, `["odd","even"]`, dagNode.Outputs.Parameters[1].Value.String())
+			}
+		}
+	}
+}
diff --git a/workflow/validate/validate.go b/workflow/validate/validate.go
index 6f3839b84847..ec08ee760b29 100644
--- a/workflow/validate/validate.go
+++ b/workflow/validate/validate.go
@@ -1199,7 +1199,8 @@ func (ctx *templateValidationCtx) validateDAG(scope map[string]interface{}, tmpl
 		resolvedTemplates[task.Name] = resolvedTmpl
 
 		prefix := fmt.Sprintf("tasks.%s", task.Name)
-		ctx.addOutputsToScope(resolvedTmpl, prefix, scope, false, false)
+		aggregate := len(task.WithItems) > 0 || task.WithParam != ""
+		ctx.addOutputsToScope(resolvedTmpl, prefix, scope, aggregate, false)
 
 		err = common.ValidateTaskResults(&task)
 		if err != nil {
diff --git a/workflow/validate/validate_dag_test.go b/workflow/validate/validate_dag_test.go
index 4bf68ffaea45..a640713896d4 100644
--- a/workflow/validate/validate_dag_test.go
+++ b/workflow/validate/validate_dag_test.go
@@ -943,3 +943,93 @@ func TestDAGWithDigitNameNoDepends(t *testing.T) {
 	_, err := validate(dagWithDigitNoDepends)
 	assert.NoError(t, err)
 }
+
+var dagOutputsResolveTaskAggregatedOutputs = `
+apiVersion: argoproj.io/v1alpha1
+kind: Workflow
+metadata:
+  generateName: loops-
+spec:
+  serviceAccountName: argo
+  entrypoint: dag
+  templates:
+  - name: dag
+    dag:
+      tasks:
+      - name: fanout
+        template: fanout
+        arguments:
+          parameters:
+          - name: input
+            value: "[1, 2]"
+      - name: dag-process
+        template: sub-dag
+        depends: fanout
+        arguments:
+          parameters:
+          - name: item
+            value: '{{item}}'
+          - name: input
+            value: '{{tasks.fanout.outputs.parameters.output}}'
+        withParam: "{{tasks.fanout.outputs.parameters.output}}"
+
+  - name: sub-dag
+    inputs:
+      parameters:
+      - name: input
+      - name: item
+    outputs:
+      parameters:
+      - name: output
+        valueFrom:
+          parameter: "{{tasks.process.outputs.parameters}}"
+    dag:
+      tasks:
+      - name: fanout
+        template: fanout
+        arguments:
+          parameters:
+          - name: input
+            value: '{{inputs.parameters.input}}'
+      - name: process
+        template: process
+        depends: fanout
+        arguments:
+          parameters:
+          - name: item
+            value: '{{item}}'
+        withParam: "{{tasks.fanout.outputs.parameters.output}}"
+
+  - name: fanout
+    inputs:
+      parameters:
+      - name: input
+    container:
+      image: docker/whalesay:latest
+      command: [sh, -c]
+      args: ["echo {{inputs.parameters.input}} | tee /tmp/output"]
+    outputs:
+      parameters:
+      - name: output
+        valueFrom:
+          path: /tmp/output
+
+  - name: process
+    inputs:
+      parameters:
+      - name: item
+    container:
+      image: docker/whalesay:latest
+      command: [sh, -c]
+      args: ["echo {{inputs.parameters.item}} | tee /tmp/output"]
+    outputs:
+      parameters:
+      - name: output
+        valueFrom:
+          path: /tmp/output
+`
+
+func TestDAGOutputsResolveTaskAggregatedOutputs(t *testing.T) {
+	_, err := validate(dagOutputsResolveTaskAggregatedOutputs)
+	assert.NoError(t, err)
+}

From d747fc5ea985ad39324282e8410ca6397e05832f Mon Sep 17 00:00:00 2001
From: tooptoop4 <33283496+tooptoop4@users.noreply.github.com>
Date: Wed, 22 Sep 2021 14:34:46 +1000
Subject: [PATCH 134/137] fix(ui): workflow event binding typo (#6782)

---
 .../workflow-event-bindings/workflow-event-bindings.tsx         | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/ui/src/app/workflow-event-bindings/components/workflow-event-bindings/workflow-event-bindings.tsx b/ui/src/app/workflow-event-bindings/components/workflow-event-bindings/workflow-event-bindings.tsx
index cd6635a392fe..539a98549687 100644
--- a/ui/src/app/workflow-event-bindings/components/workflow-event-bindings/workflow-event-bindings.tsx
+++ b/ui/src/app/workflow-event-bindings/components/workflow-event-bindings/workflow-event-bindings.tsx
@@ -102,7 +102,7 @@ export const WorkflowEventBindings = ({match, location, history}: RouteComponent
                 <ZeroState>
                     <p>{introductionText}</p>
                     <p>
-                        Once you've created a a workflow event binding, you can test it from the CLI using <code>curl</code>, for example:
+                        Once you've created a workflow event binding, you can test it from the CLI using <code>curl</code>, for example:
                     </p>
                     <p>
                         <code>

From 067576ed72750158efd034078ab8102b72438798 Mon Sep 17 00:00:00 2001
From: Tianchu Zhao <evantczhao@gmail.com>
Date: Thu, 23 Sep 2021 01:05:58 +1000
Subject: [PATCH 135/137] fix(controller): fix template
 archivelocation-archivelog behaviour (#6754)

Signed-off-by: Tianchu Zhao <evantczhao@gmail.com>
---
 workflow/controller/workflowpod.go      |  9 ++++++
 workflow/controller/workflowpod_test.go | 43 +++++++++++++++++++++++++
 2 files changed, 52 insertions(+)

diff --git a/workflow/controller/workflowpod.go b/workflow/controller/workflowpod.go
index 94cc559de3bf..3276fa250ff0 100644
--- a/workflow/controller/workflowpod.go
+++ b/workflow/controller/workflowpod.go
@@ -1015,7 +1015,16 @@ func (woc *wfOperationCtx) addArchiveLocation(tmpl *wfv1.Template) {
 	if !needLocation {
 		return
 	}
+	archiveLog := tmpl.ArchiveLocation.IsArchiveLogs()
 	tmpl.ArchiveLocation = woc.artifactRepository.ToArtifactLocation()
+	// overwrites archivelogs on/off with priorities:
+	// controller: on,  template: off -> result: on
+	// controller: on,  template: on  -> result: on
+	// controller: off, template: off -> result: off
+	// controller: off, template: on  -> result: on
+	if archiveLog {
+		tmpl.ArchiveLocation.ArchiveLogs = &archiveLog
+	}
 }
 
 // setupServiceAccount sets up service account and token.
diff --git a/workflow/controller/workflowpod_test.go b/workflow/controller/workflowpod_test.go
index 73a3bbea9932..a1e437a2eeba 100644
--- a/workflow/controller/workflowpod_test.go
+++ b/workflow/controller/workflowpod_test.go
@@ -550,6 +550,49 @@ func TestConditionalArchiveLocation(t *testing.T) {
 	assert.Nil(t, tmpl.ArchiveLocation)
 }
 
+// TestConditionalAddArchiveLocationTemplateArchiveLogs verifies we do  add archive location if it is needed for logs
+func TestConditionalAddArchiveLocationTemplateArchiveLogs(t *testing.T) {
+	tests := []struct {
+		controllerArchiveLog bool
+		templateArchiveLog   bool
+		finalArchiveLog      bool
+	}{
+		{true, true, true},
+		{true, false, true},
+		{false, true, true},
+		{false, false, false},
+	}
+	for _, tt := range tests {
+		t.Run(fmt.Sprintf("controllerArchiveLog: %t, templateArchiveLog: %t, finalArchiveLog: %t", tt.controllerArchiveLog, tt.templateArchiveLog, tt.finalArchiveLog), func(t *testing.T) {
+			wf := wfv1.MustUnmarshalWorkflow(helloWorldWf)
+			wf.Spec.Templates[0].ArchiveLocation = &wfv1.ArtifactLocation{
+				ArchiveLogs: pointer.BoolPtr(tt.templateArchiveLog),
+			}
+			cancel, controller := newController(wf)
+			defer cancel()
+			woc := newWorkflowOperationCtx(wf, controller)
+			setArtifactRepository(woc.controller, &wfv1.ArtifactRepository{
+				ArchiveLogs: pointer.BoolPtr(tt.controllerArchiveLog),
+				S3: &wfv1.S3ArtifactRepository{
+					S3Bucket: wfv1.S3Bucket{
+						Bucket: "foo",
+					},
+					KeyFormat: "path/in/bucket",
+				},
+			})
+			woc.operate(context.Background())
+			pods, err := listPods(woc)
+			assert.NoError(t, err)
+			assert.Len(t, pods.Items, 1)
+			pod := pods.Items[0]
+			tmpl, err := getPodTemplate(&pod)
+			assert.NoError(t, err)
+			assert.NotNil(t, tmpl.ArchiveLocation)
+			assert.Equal(t, tt.finalArchiveLog, tmpl.ArchiveLocation.IsArchiveLogs())
+		})
+	}
+}
+
 func Test_createWorkflowPod_rateLimited(t *testing.T) {
 	for limit, limited := range map[config.ResourceRateLimit]bool{
 		{Limit: 0, Burst: 0}: true,

From 50a1c7a08da100b5e1c4aec8cfa586114cdee1b5 Mon Sep 17 00:00:00 2001
From: Julian Fleischer <scravy@users.noreply.github.com>
Date: Wed, 22 Sep 2021 17:06:51 +0200
Subject: [PATCH 136/137] docs: Add "incrmntal" to list of users (#6784)

Signed-off-by: Julian Fleischer <tirednesscankill@warhog.net>
---
 USERS.md | 1 +
 1 file changed, 1 insertion(+)

diff --git a/USERS.md b/USERS.md
index 791f4ec94c5b..dabf8ec0f5e6 100644
--- a/USERS.md
+++ b/USERS.md
@@ -74,6 +74,7 @@ Currently, the following organizations are **officially** using Argo Workflows:
 1. [HOVER](https://hover.to)
 1. [HSBC](https://hsbc.com)
 1. [IBM](https://ibm.com)
+1. [incrmntal](https://incrmntal.com/)
 1. [InsideBoard](https://www.insideboard.com)
 1. [Interline Technologies](https://www.interline.io/blog/scaling-openstreetmap-data-workflows/)
 1. [Intralinks](https://www.intralinks.com/)

From c8bbdd7560da711e821c3a51e6a314ac075fffbf Mon Sep 17 00:00:00 2001
From: Alex Collins <alex_collins@intuit.com>
Date: Wed, 22 Sep 2021 09:19:05 -0700
Subject: [PATCH 137/137] build: fix UI param

Signed-off-by: Alex Collins <alex_collins@intuit.com>
---
 Makefile | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/Makefile b/Makefile
index c5186e9cb8f0..eae9ad61c3be 100644
--- a/Makefile
+++ b/Makefile
@@ -88,7 +88,7 @@ endif
 ARGOEXEC_PKGS    := $(shell echo cmd/argoexec            && go list -f '{{ join .Deps "\n" }}' ./cmd/argoexec/            | grep 'argoproj/argo-workflows/v3/' | cut -c 39-)
 CLI_PKGS         := $(shell echo cmd/argo                && go list -f '{{ join .Deps "\n" }}' ./cmd/argo/                | grep 'argoproj/argo-workflows/v3/' | cut -c 39-)
 CONTROLLER_PKGS  := $(shell echo cmd/workflow-controller && go list -f '{{ join .Deps "\n" }}' ./cmd/workflow-controller/ | grep 'argoproj/argo-workflows/v3/' | cut -c 39-)
-E2E_EXECUTOR ?= pns
+E2E_EXECUTOR ?= emissary
 TYPES := $(shell find pkg/apis/workflow/v1alpha1 -type f -name '*.go' -not -name openapi_generated.go -not -name '*generated*' -not -name '*test.go')
 CRDS := $(shell find manifests/base/crds -type f -name 'argoproj.io_*.yaml')
 SWAGGER_FILES := pkg/apiclient/_.primary.swagger.json \
@@ -450,7 +450,7 @@ endif
 	grep '127.0.0.1[[:blank:]]*mysql' /etc/hosts
 	./hack/port-forward.sh
 ifeq ($(RUN_MODE),local)
-	env DEFAULT_REQUEUE_TIME=$(DEFAULT_REQUEUE_TIME) SECURE=$(SECURE) ALWAYS_OFFLOAD_NODE_STATUS=$(ALWAYS_OFFLOAD_NODE_STATUS) LOG_LEVEL=$(LOG_LEVEL) UPPERIO_DB_DEBUG=$(UPPERIO_DB_DEBUG) IMAGE_NAMESPACE=$(IMAGE_NAMESPACE) VERSION=$(VERSION) AUTH_MODE=$(AUTH_MODE) NAMESPACED=$(NAMESPACED) NAMESPACE=$(KUBE_NAMESPACE) MANAGED_NAMESPACE=$(MANAGED_NAMESPACE) UI=$() $(GOPATH)/bin/goreman -set-ports=false -logtime=false start $(shell if [ -z $GREP_LOGS ]; then echo; else echo "| grep \"$(GREP_LOGS)\""; fi)
+	env DEFAULT_REQUEUE_TIME=$(DEFAULT_REQUEUE_TIME) SECURE=$(SECURE) ALWAYS_OFFLOAD_NODE_STATUS=$(ALWAYS_OFFLOAD_NODE_STATUS) LOG_LEVEL=$(LOG_LEVEL) UPPERIO_DB_DEBUG=$(UPPERIO_DB_DEBUG) IMAGE_NAMESPACE=$(IMAGE_NAMESPACE) VERSION=$(VERSION) AUTH_MODE=$(AUTH_MODE) NAMESPACED=$(NAMESPACED) NAMESPACE=$(KUBE_NAMESPACE) MANAGED_NAMESPACE=$(MANAGED_NAMESPACE) UI=$(UI) $(GOPATH)/bin/goreman -set-ports=false -logtime=false start $(shell if [ -z $GREP_LOGS ]; then echo; else echo "| grep \"$(GREP_LOGS)\""; fi)
 endif
 
 $(GOPATH)/bin/stern:
