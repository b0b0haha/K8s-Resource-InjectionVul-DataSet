From a7b80508bbd25d9cfc0c3fe7d531b583bd64ce1d Mon Sep 17 00:00:00 2001
From: Ivan Towlson <itowlson@microsoft.com>
Date: Mon, 15 Feb 2021 10:54:28 +1300
Subject: [PATCH] Webpack in CI doesn't like null-coalescing dot operator

---
 src/components/config/config.ts | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

diff --git a/src/components/config/config.ts b/src/components/config/config.ts
index b98b386d7..4f2c69843 100644
--- a/src/components/config/config.ts
+++ b/src/components/config/config.ts
@@ -105,11 +105,11 @@ export function getToolPath(_host: Host, shell: Shell, tool: string): string | u
 
     const baseBackCompatKey = toolPathBackCompatBaseKey(tool);
     const osBackCompatKey = osOverrideKey(os, baseBackCompatKey);
-    const backCompatSettings = config.inspect<Dictionary<any>>(EXTENSION_CONFIG_KEY);
-    const wsFolderValues = backCompatSettings?.workspaceFolderValue || {};
-    const wsValues = backCompatSettings?.workspaceValue || {};
-    const userValues = backCompatSettings?.globalValue || {};
-    const defaultValues = backCompatSettings?.defaultValue || {};
+    const backCompatSettings = config.inspect<Dictionary<any>>(EXTENSION_CONFIG_KEY) || Dictionary.of<any>();
+    const wsFolderValues = backCompatSettings.workspaceFolderValue || {};
+    const wsValues = backCompatSettings.workspaceValue || {};
+    const userValues = backCompatSettings.globalValue || {};
+    const defaultValues = backCompatSettings.defaultValue || {};
 
     const localBackCompatSetting =
         wsFolderValues[osBackCompatKey] ||
