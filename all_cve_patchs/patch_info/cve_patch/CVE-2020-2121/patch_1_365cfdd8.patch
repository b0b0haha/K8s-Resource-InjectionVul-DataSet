From 365cfdd8b7b724ff871fba6239146f25024e96ae Mon Sep 17 00:00:00 2001
From: craigdbarber <craigbarber@google.com>
Date: Thu, 6 Feb 2020 13:08:48 -0800
Subject: [PATCH] Updated use of yaml parser to use safeconstructor

---
 .../java/com/google/jenkins/plugins/k8sengine/Manifests.java   | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/src/main/java/com/google/jenkins/plugins/k8sengine/Manifests.java b/src/main/java/com/google/jenkins/plugins/k8sengine/Manifests.java
index 43911a57..d6fabaa7 100644
--- a/src/main/java/com/google/jenkins/plugins/k8sengine/Manifests.java
+++ b/src/main/java/com/google/jenkins/plugins/k8sengine/Manifests.java
@@ -28,6 +28,7 @@
 import java.util.Set;
 import java.util.stream.Collectors;
 import org.yaml.snakeyaml.Yaml;
+import org.yaml.snakeyaml.constructor.SafeConstructor;
 
 /**
  * Utility library for loading Kubernetes manifests files from a {@link FilePath} into a list of
@@ -36,7 +37,7 @@
 public class Manifests {
   private static final String DEFAULT_ENCODING = "UTF-8";
 
-  static Yaml yaml = new Yaml();
+  static Yaml yaml = new Yaml(new SafeConstructor());
   private List<ManifestObject> objects = new ArrayList<ManifestObject>();
 
   /** ManifestObject wrapper that encapsulates an object spec loaded from a supplied manifest. */
