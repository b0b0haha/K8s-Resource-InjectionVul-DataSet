From 605e34578d31e20e83f5c5b950baacd222e49bdd Mon Sep 17 00:00:00 2001
From: Manuel Alejandro de Brito Fontes <aledbf@gmail.com>
Date: Mon, 27 Jan 2020 00:02:17 -0300
Subject: [PATCH] Avoid overlap of rate limit zones

---
 internal/ingress/annotations/ratelimit/main.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/internal/ingress/annotations/ratelimit/main.go b/internal/ingress/annotations/ratelimit/main.go
index 77d25ab6ec..3990f0f263 100644
--- a/internal/ingress/annotations/ratelimit/main.go
+++ b/internal/ingress/annotations/ratelimit/main.go
@@ -175,7 +175,7 @@ func (a ratelimit) Parse(ing *networking.Ingress) (interface{}, error) {
 		}, nil
 	}
 
-	zoneName := fmt.Sprintf("%v_%v", ing.GetNamespace(), ing.GetName())
+	zoneName := fmt.Sprintf("%v_%v_%v", ing.GetNamespace(), ing.GetName(), ing.UID)
 
 	return &Config{
 		Connections: Zone{
